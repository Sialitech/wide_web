{"version":3,"mappings":"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AAO,UAExB,CACE9W,GAAYmP,aACZqH,WAAYC,gBACZC,UAAY,EACZtP,OAAY,cACZyP,MAAY,CAACC,MAAO,UAEtB,CACE9W,GAAYmP,qBACZqH,WAAYC,gBACZC,UAAY,EACZC,YAAY,EACZynF,WAAgBqD,cAChBxkC,kBAAkB,EAClBikC,QAAgB,EAChBC,eAAgB,WAChB/5F,OAAY,WACZyP,MAAY,CAACC,MAAO,UAEtB,CACE9W,GAAYmP,YACZoH,OAAY,CAACpH,YAAqC,oBAAqB,uBACvEqH,WAAYC,gBACZwmD,kBAAkB,EAClBtmD,YAAkB,EAClBD,UAAkB,EAClBtP,OAAY,cACZyP,MAAY,CAACC,MAAO,WAIXjT,EAAmC,CAC9C,KACA,OACA,YACA,UACA,OACA,SACA,iBACA,iBACA,gBACA,UACA,UACA,cACA,cACA,YACA,UACA,cACA,sBACA,eACA,SACA,SACA,2BACA,8BACA,6BACA,0BACA,gCACA,8BACA,2BACA,gCACA,wCACA,qCACA,0BACA,+BACA,6BACA,0BACA,6BACA,4BACA,4BACA,yBACA,+BACA,0BACA,+BACA,kCACA,uCACA,YACA,cACA,uBACA,gBACA,oBACA,aACA,gBACA,qBACA,qBACA,qBACA,sBACA,cACA,YACA,iBACA,cACA,OACA,kBACA,YACA,WAGWugF,EAAsB,CAAC,cAAe,UAAW,UAAW,cAAe,UAAW,iBAAkB,OAAQ,uKCnMtH,MAAMvsD,EAAgB,CAC3B6pE,OAAQ,SACRC,KAAM,QAwDK35D,EAAkE,CAC7Ei+C,0BAA2B,KAC3BC,uBAAwB,KACxB0b,wBAAyB,KACzBC,gBAAiB,KACjBC,wBAAwB,EACxB3b,eAAgB,KAChBC,mBAAoB,KACpB2b,kBAAkB,EAClBz6D,cAAe,GACf06D,cAAe,KACfpjE,gBAAgB,EAChBu1B,aAAc,GACdl6B,WAAY,GACZgoE,UAAW,KACXC,cAAc,GAGV,WAAwC5/F,EAAQ0lC,EAAoCzlC,GACxF,OAAQA,EAAO5F,WACRytB,KACH,sCACK9nB,GAAK,CACRglC,cAAeU,EAAmCV,cAClD2+C,0BAA2Bj+C,EAAmCi+C,0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","names":["e","j","he","environment","ConfigurationService","NA","ALLEGRO_TUTORIAL_BUCKET","UPDATE_SERVER_PATH","BASE_REGEX","URI_REGEX","S3_WITH_BUCKET","GS_WITH_BUCKET","S3_WITH_BUCKET_AND_HOST","GS_WITH_BUCKET_AND_HOST","AZURE_WITH_BUCKET_AND_HOST","NON_AWS_S3","HTTP","FILE","FILE_WITH_FILE_NAME","TASK_TYPES","TRAINING","ANNOTATION","MANUAL_ANNOTATION","TESTING","recentTasksPrefix","RECENT_TASKS_ACTIONS","GET_RECENT_TASKS","SET_RECENT_TASKS","VIEW_PREFIX","MESSAGES_SEVERITY","SUCCESS","ERROR","INFO","WARN","USERS_PREFIX","NAVIGATION_PREFIX","NAVIGATION_ACTIONS","NAVIGATE_TO","NAVIGATION_END","SET_ROUTER_SEGMENT","UPDATATE_CURRENT_URL_WITHOUT_NAVIGATING","NAVIGATION_SKIPPED","url","window","location","origin","test","replace","port","apiBaseUrl","guessAPIServerURL","apiBaseUrlNoVersion","fileBaseUrl","HTTP_PREFIX","API_BASE_URL","API_BASE_URL_NO_VERSION","FILE_BASE_URL","constructor","this","AUTO_REFRESH_INTERVAL","SmApiRequestsService","http","createRequest","request","meta","method","endpoint","params","getParams","body","payload","withCredentials","post","options","pipe","map","res","data","posti","actionParams","HttpParams","Object","keys","forEach","key","append","i0","factory","ApiAuthService","apiRequest","basePath","configuration","HttpHeaders","Configuration","canConsumeForm","consumes","consume","authCreateCredentials","observe","reportProgress","Error","headers","defaultHeaders","async_enable","set","asyncHeader","httpHeaderAcceptSelected","selectHeaderAccept","undefined","httpContentTypeSelected","selectHeaderContentType","authCreateUser","authEditUser","authFixedUsersMode","authGetCredentials","authGetTokenForUser","authLogin","authLogout","authRevokeCredentials","authValidateToken","BASE_PATH","ApiEventsService","eventsAdd","eventsAddBatch","requests","eventsDebugImages","eventsDeleteForTask","eventsDownloadTaskLog","eventsGetDebugImageSample","eventsGetMultiTaskPlots","eventsGetScalarMetricData","eventsGetScalarMetricsAndVariants","eventsGetTaskEvents","eventsGetTaskLatestScalarValues","eventsGetTaskLog","eventsGetTaskMetrics","eventsGetTaskPlots","eventsGetVectorMetricsAndVariants","eventsMultiTaskScalarMetricsIterHistogram","eventsNextDebugImageSample","eventsScalarMetricsIterHistogram","eventsVectorMetricsIterHistogram","eventsScalarMetricsIterRaw","ApiLoginService","loginLogout","loginSupportedModes","ApiModelsService","modelsAddOrUpdateMetadata","modelsArchiveMany","modelsCreate","modelsDelete","modelsDeleteMany","modelsDeleteMetadata","modelsEdit","modelsGetAll","modelsGetAllEx","modelsGetById","modelsGetByIdEx","modelsGetByTaskId","modelsGetFrameworks","modelsMakePrivate","modelsMakePublic","modelsMove","modelsPublishMany","modelsSetReady","modelsUnarchiveMany","modelsUpdate","modelsUpdateForTask","ApiProjectsService","projectsCreate","projectsDelete","projectsGetAll","projectsGetAllEx","projectsGetById","projectsGetHyperParameters","projectsGetHyperparamValues","projectsGetModelTags","projectsGetTaskParents","projectsGetTaskTags","projectsGetUniqueMetricVariants","projectsMakePrivate","projectsMakePublic","projectsMerge","projectsMove","projectsUpdate","projectsValidateDelete","ApiQueuesService","queuesAddOrUpdateMetadata","queuesAddTask","queuesCreate","queuesDelete","queuesDeleteMetadata","queuesGetAll","queuesGetAllEx","queuesGetById","queuesGetDefault","queuesGetNextTask","queuesGetQueueMetrics","queuesMoveTaskBackward","queuesMoveTaskForward","queuesMoveTaskToBack","queuesMoveTaskToFront","queuesRemoveTask","queuesUpdate","ApiTasksService","tasksAddOrUpdateArtifacts","tasksAddOrUpdateModel","tasksArchive","tasksArchiveMany","tasksClone","tasksClose","tasksCompleted","tasksCreate","tasksDelete","tasksDeleteArtifacts","tasksDeleteConfiguration","tasksDeleteHyperParams","tasksDeleteMany","tasksDeleteModels","tasksDequeue","tasksDequeueMany","tasksEdit","tasksEditConfiguration","tasksEditHyperParams","tasksEnqueue","tasksEnqueueMany","tasksFailed","tasksGetAll","tasksGetAllEx","tasksGetById","tasksGetByIdEx","tasksGetConfigurationNames","tasksGetConfigurations","tasksGetHyperParams","tasksGetTypes","tasksMakePrivate","tasksMakePublic","tasksMove","tasksPing","tasksPublish","tasksPublishMany","tasksReset","tasksResetMany","tasksSetRequirements","tasksStarted","tasksStop","tasksStopMany","tasksStopped","tasksUnarchiveMany","tasksUpdate","tasksUpdateBatch","tasksValidate","ApiUsersService","usersCreate","usersDelete","usersGetAll","usersGetAllEx","usersGetById","usersGetCurrentUser","usersGetPreferences","usersSetPreferences","usersUpdate","ApiWorkersService","workersGetActivityReport","workersGetAll","workersGetMetricKeys","workersGetStats","workersRegister","workersStatusReport","workersUnregister","configurationParameters","apiKeys","username","password","accessToken","contentTypes","length","type","find","x","isJsonMime","accepts","mime","jsonMime","RegExp","toLowerCase","ScalarKeyEnum","Iter","Timestamp","IsoTime","ProjectsGetAllExRequest","Active","Archived","TaskStatusEnum","Created","Queued","InProgress","Stopped","Published","Publishing","Closed","Failed","Completed","Unknown","TaskTypeEnum","Training","Testing","Inference","DataProcessing","Application","Monitor","Controller","Optimizer","Service","Qc","Custom","BlModelsService","addHiddenTag","modelTags","includes","concat","removeHiddenTag","filter","tag","BlTasksService","getDefaultQueue","queues","queue","get","previouslyUsedQueue","id","isDefaultQueue","setPreviouslyUsedQueue","system_tags","DEFAULT_QUEUE_TAG","canEnqueue","task","TASKS_STATUS","status","canDequeue","taskTags","updateAnnotatorIndexTag","annotatorIndex","indexOf","findIndex","startsWith","TAGS","push","updateAnnotatedNumberTag","getTaskAnnotorValue","getAnnotatorIndexTag","foundTag","getAnnotatedNumberTag","annotatorTag","parseInt","split","InjectionToken","setCurrentUser","createAction","props","selectHasDataFeature","createSelector","users","usersReducer","createReducer","initUsers","usersReducerFunctions","on","state","action","currentUser","user","activeWorkspace","T","_a","company","userWorkspaces","_b","selectFeatures","selectTermsOfUse","accept_required","selectInvitesPending","ExperimentMenuExtendedComponent","ExperimentMenuComponent","contextMenu","t","selectors","ctx","GET_ALL_QUERY_ANY_FIELDS","getExperimentInfoOnlyFields","hasDataFeature","EXPERIMENT_INFO_ONLY_FIELDS_BASE","ItemFooterModel","entitiesType","super","MenuItems","ICONS","getItemState","disable","m","description","menuItemText","transform","E","available","disableDescription","selectionIsOnlyExamples","enqueue","preventCurrentItem","selectionAllIsArchive","selectionDisabledAbort","selected","dequeue","selectionDisabledAbortAllChildren","SelectHyperParamsForCustomColComponent","EventEmitter","tableCols","metricsCols","toggleParamToDisplay","param","value","selectedHyperParamToShow","emit","addCol","$event","ctx_r4","oxw","ctx_r6","ctx_r7","ctx_r8","ctx_r9","ctx_r11","ctx_r12","ctx_r14","ctx_r15","ExperimentCustomColsMenuComponent","CustomColumnMode","hyperParams","_hyperParams","hasHyperParams","values","some","section","ExperimentHeaderComponent","_tableCols","col","header","onIsArchivedChanged","isArchivedChanged","onRefreshListClicked","refreshListClicked","setCustomColumnMode","mode","selectMetricActive","ExperimentsComponent","BaseEntityPage","store","syncSelector","route","router","dialog","EntityTypeEnum","experimentsActions","addTag","selectSplitSize$","select","selectSplitSize","tableSortFields$","selectTableSortFields","tap","field","sortFields","backdropActive$","selectBackdropActive","noMoreExperiments$","selectNoMoreExperiments","tableFilters$","selectTableFilters","isArchived$","selectIsArchivedMode","showAllSelectedIsActive$","selectShowAllSelectedIsActive","selectedTableExperiment$","selectSelectedTableExperiment","selectedExperimentsDisableAvailable$","selectedExperimentsDisableAvailable","selectedProject$","selectSelectedProject","selectedExperiment$","selectSelectedExperiment","selectedExperiments$","selectSelectedExperiments","selectedExperiments","readOnlySelection","exp","isReadOnly","hiddenTableCols$","selectExperimentsHiddenTableCols","searchQuery$","selectSearchQuery","autoRefreshState$","selectAutoRefresh","isAppVisible$","selectAppVisible","isExperimentInEditMode$","selectIsExperimentInEditMode","isSharedAndNotOwner$","selectIsSharedAndNotOwner","users$","selectExperimentsUsers","parent$","selectExperimentsParents","activeParentsFilter$","selectActiveParentsFilter","types$","selectExperimentsTypes","tags$","selectExperimentsTags","tagsFilterByProject$","selectTagsFilterByProject","projectTags$","selectProjectTags","companyTags$","selectCompanyTags","systemTags$","selectProjectSystemTags","currentUser$","selectCurrentUser","metricTableCols$","selectExperimentsMetricsColsForProject","tableColsOrder$","selectExperimentsTableColsOrder","columns$","selectExperimentsTableCols","metricVariants$","selectMetricVariants","metricLoading$","selectMetricsLoading","hyperParamsOptions$","selectHyperParamsOptions","hyperParams$","selectHyperParamsVariants","groupHyperParams","experiments$","selectExperimentsList","withLatestFrom","experiments","showArchived","filterArchivedExperiments","refreshing","syncAppSearch","parent","snapshot","projectId","ngOnInit","prevQueryParams","createFooterItems","selected$","data$","autoRefreshSub","interval","autoRefreshState","isExperimentInEditMode","isAppVisible","subscribe","refreshList","selectedProjectSubscription","project","dispatchAndLock","filteredTableCols$","combineLatest","metricCols","metric","EXPERIMENTS_TABLE_COL_FIELDS","deep","selectedProject","B","table","resize","tableCols$","distinctUntilChanged","a","b","isEqual","cols","hidden","selectedProjectSubs","selectRouterParams","queryParams","preventUrlUpdate","columns","metrics","allIds","decodeColumns","dispatch","visibleColumns","metricCol","createMetricColumn","createParamColumn","columnsReordered","order","orders","decodeOrder","filters","decodeFilter","setDeep","archive","selectExperimentFromUrl","config","footerState$","createFooterState","footerItems","ShowItemsFooterSelected","CompareFooterItem","DividerFooterItem","ArchiveFooterItem","DeleteFooterItem","EnqueueFooterItem","DequeueFooterItem","ResetFooterItem","AbortFooterItem","AbortAllChildrenFooterItem","PublishFooterItem","SelectedTagsFooterItem","MoveToFooterItem","HasReadOnlyFooterItem","onFooterHandler","emitValue","item","showAllSelected","compareExperiments","contextMenuExtended","restoreArchive","resetPopup","publishPopup","enqueuePopup","dequeuePopup","deleteExperimentPopup","stopPopup","stopAllChildrenPopup","moveToProjectPopup","ngOnDestroy","unsubscribe","experimentFromUrlSub","stopSyncSearch","searchSubs","ResetSearch","InitSearch","skip","query","experimentId","experiment","selectedExperiment","getNextExperiments","experimentsSelectionChanged","experimentSelectionChanged","sortedChanged","event","filterChanged","andFilter","filterMatchMode","navigate","ids","join","isArchived","archiveDialog","open","ConfirmDialogComponent","title","yes","no","iconClass","afterClosed","confirmed","switchArchiveMode","resetProjectSelection","active","closeExperimentPanel","selectedTableColsChanged","columnId","getMetricsToDisplay","selectedMetricToShow","valueType","variantCol","metricHash","variant","metric_hash","variantHash","variant_hash","getter","headerType","ColHeaderTypeEnum","sortable","filterable","isParam","style","width","removeColFromList","colId","sortIndex","columnResized","isAutorefresh","hideLoader","autoRefresh","queryParamsHandling","setTimeout","infoDisabled","setAutoRefresh","clearSelection","fromUrl","refreshTagsList","refreshTypesList","getParamId","clearTableFiltersHandler","tableFilters","setTableFilters","_r1","EXPERIMENT_COMMENT","ExperimentGeneralInfoComponent","FormControl","TIME_FORMAT_STRING","experimentComment","experimentCommentText","experimentCommentOriginal","rebuildCommentControl","ngAfterViewInit","selectCurrentActiveSectionEditSub","selectCurrentActiveSectionEdit","currentActiveSectionEdit","experimentDescriptionSection","editModeChanged","comment","commentControl","commentValueChanged","commentChanged","trim","editExperimentComment","onCancelComment","edit","ActivateEdit","DeactivateEdit","_r0","ctx_r3","ctx_r5","ExperimentInfoEditDescriptionComponent","ctx_r21","ExperimentInfoHeaderComponent","activatedRoute","tagMenu","tagMenuContent","_experiment","viewId","isDev","isDevelopment","systemTags","getSystemTags","shared","selectedDisableAvailable","selectionDisabledPublishExperiments","selectionDisabledReset","selectionDisabledDelete","selectionDisabledMoveTo","selectionDisabledEnqueue","selectionDisabledDequeue","selectionDisabledQueue","selectionDisabledViewWorker","selectionDisabledArchive","onNameChanged","name","experimentNameChanged","openTagMenu","position","clientX","y","clientY","openMenu","focus","removeTag","tagsMenuClosed","clear","editExperimentName","showID","getStatusLabel","EXPERIMENTS_STATUS_LABELS","onDescriptionHandler","relativeTo","_r4","_r3","gt","MAs","ExperimentInfoComponent","faDatabase","faCodeBranch","faFileExcel","faThList","faUpload","editable$","selectIsExperimentEditable","infoData$","selectExperimentInfoData","queryParams$","selectRouterQueryParams","tableSelectedExperiment$","selectedExperimentSubscription","isExample","routerConfigSubscription","selectRouterConfig","routerConfig","paramsSubscription","resultsTab","firstChild","routeConfig","path","debounceTime","commonInfoActions","toMaximize","updateExperimentName","ExperimentDetailsUpdated","changes","addMessage","deselectExperiment","navigateAfterExperimentSelectionChanged","onActivate","scrollContainer","scrollTop","maximize","pathname","resultsPath","_c","navigateByUrl","parts","splice","ExperimentExecutionSourceCodeComponent","HELP_TEXTS","sourceTypesEnum","label","formChangesSubscription","sourceCodeForm","form","valueChanges","formValue","editable","formDataChanged","resetOtherScriptParameters","sourceType","controls","setValue","branch","version_num","_r22","_r21","_r28","_r40","_r52","_r64","se","_r75","ExperimentInfoExecutionComponent","element","minimized","getOr","executionInfo$","selectExperimentExecutionInfoData","showExtraDataSpinner$","selectShowExtraDataSpinner","isInDev$","selectIsSelectedExperimentInDev","saving$","selectIsExperimentSaving","selectedExperimentSubscrition","formDataSubscription","formData","saveSourceData","source","sourceCode","script","repository","entry_point","working_dir","convertScriptType","saveContainerData","container","saveOutputData","output_dest","outputDestination","nativeElement","cancelFormChange","activateEditChanged","sectionName","elementRef","bounding","getBoundingClientRect","containerRect","bottom","innerHeight","top","scroll","offsetTop","behavior","discardDiff","take","diff","editContainerSetupShellScript","smEditableSection","openEditJsonDialog","textData","setup_shell_script","bool","isUndefined","cancelClickedEvent","editInstallPackages","EditJsonComponent","requirements","pip","readOnly","typeJson","requirementsSection","editDiff","diffSection","clearInstalledPackages","clearConfirmDialog","clearSetupShellScript","charAt","toUpperCase","slice","editableSectionComponent","editJsonComponent","scriptType","showSection","selection","currentLink","ActiveSectionEnum","ExperimentArtifactsNavbarComponent","artifacts","dataAuditArtifacts","artifact","DATA_AUDIT_TABLE","otherArtifacts","trackByFn","index","ngOnChanges","noItemsMode","outputModels","inputModels","ye","_d","ExperimentInfoArtifactsComponent","modelInfo$","selectExperimentModelInfoData","ExperimentInfo$","routerConfig$","selectedRouterConfigSubs","rc","activeSection","selectedId$","experimentKey$","artifactSubscription","selectedId","modelInfo","experimentKey","experimentInfo","onOutputModel","_t","outputModel","onInputModel","pn","Kt","selectedArtifact","selectedInputModel","input","model","selectedOutputModel","output","resetSelection","navigateToTarget","target","previousTarget","_e","_f","SELECT_MODEL_PREFIX","ADD_MANY_MODELS","GET_NEXT_MODELS","SET_MODELS","SET_NO_MORE_MODELS","RESET_STATE","ALL_PROJECTS_MODE_CHANGED","GLOBAL_FILTER_CHANGED","TABLE_SORT_CHANGED","TABLE_FILTER_CHANGED","tableSortChanged","setTableSort","setCurrentScrollId","selectModelInitState","models","selectedModels","noMoreModels","selectedModelSource","modelToken","viewMode","MODELS_VIEW_MODES","allProjectsMode","tableSortFields","MODELS_TABLE_COL_FIELDS","TABLE_SORT_ORDER","scrollId","globalFilter","actions","ex","matchMode","createFeatureSelector","selectModelsList","selectCurrentScrollId","selectGlobalFilter","selectIsAllProjectsMode","selectViewMode","selectSelectedModels","selectNoMoreModels","SelectModelComponent","dialogRef","MODELS_TABLE_COLS","models$","selectedModels$","viewMode$","searchValue$","noMoreModels$","isAllProjects$","selectModelsUsers","modelsActions","getTags","closeDialog","close","getNextModels","sort","isShift","onSearchValueChanged","modelSelectionChanged","onIsAllProjectsChanged","isAllProjects","BaseClickableArtifactComponent","adminService","artifactFilePathClicked","signUrl","signedUrl","getSignedUrl","disableCache","timestamp","selectSignedUrl","signed","ExperimentModelsFormViewComponent","_model","isLocalFile","uri","chooseModel","maxWidth","selectedModel","modelSelected","removeModel","ExperimentNetworkDesignFormComponent","ExperimentInfoModelComponent","Subject","userKnowledge$","selectExperimentUserKnowledge","routerModelId$","takeUntil","unsubscribe$","modelId","distinctUntilKeyChanged","outputMode","_g","experimentName","gi","lo","_h","_j","design","getModelDesign","Xi","_k","inputDesign","modelProjectId","es","qi","_l","_m","next","onModelSelected","modelFoundIndex","newModels","cancelModelChange","CancelExperimentEdit","experimentModelForm","ExperimentArtifactItemViewComponent","_artifact","isLinkable","type_data","content_type","linkClicked","document","createElement","href","click","preventDefault","ExperimentInfoArtifactItemComponent","artifactKey$","artifactId","artifactKey","ExperimentHyperParamsNavbarComponent","changeDetection","_legacy","properties","encodeURI","detectChanges","routerParams","selectedHyperParam","hyperParamId","selectedObject","decodeURIComponent","configObject","ExperimentInfoHyperParametersComponent","hyperParamsInfo$","selectExperimentHyperParamsInfoData","configuration$","selectExperimentConfiguration","routerParams$","getExperimentConfigurationNames","getExperimentConfigurationObj","hyperParamsConfigSubscription","selectExperimentHyperParamsSelectedSectionFromRoute","selectExperimentSelectedConfigObjectFromRoute","hyperparams","selectedConfig","min","replaceUrl","SetExperimentFormErrors","ExperimentInfoTaskModelComponent","configInfo$","selectExperimentConfigObj","selectedConfigObj$","errors$","selectExperimentInfoErrors","selectedConfigObjSubscription","confObjName","onFormValuesChanged","onFormErrorsChanged","SetExperimentErrors","errors","saveModelData","saveExperimentConfigObj","editPrototext","prototext","clearPrototext","ExperimentExecutionParametersComponent","formNames","parameter","_formData","cloneDeep","row","uuidV4","formContainersSub","formContainers","list","formContainer","first","clickedRow","scrollToIndex","addRow","viewPort","scrollHeight","removeRow","rowActivated","jumpToResult","counterIndex","matchIndex","searchIndexList","executionParametersTable","firstChange","currentValue","previousValue","resetSearch","searchedText","searchResultsCounter","searchedIndexList","searchCounterChanged","scrollToResultCounterChanged","CdkVirtualScrollViewport","_r2","ExperimentInfoHyperParametersFormContainerComponent","cdr","selectedSectionHyperParams$","selectExperimentHyperParamsSelectedSectionParams","selectedSection$","selectedSectionSubscription","selectedSection","propSection","cancelHyperParametersChange","updateExperimentAtPath","executionParamsForm","sectionSaved","saveHyperParamsSection","deleteHyperParamsSection","searchTable","count","searchResultsCount","scrollIndexCounterChanged","scrollIndexCounter","ExperimentInfoGeneralComponent","experimentInfoData$","BaseExperimentOutputComponent","Subscription","subs","add","ResetExperimentMetrics","infoActions","isVisible","refresh","returnToInfo","minimizeView","part","toggleSettingsBar","toggleSettings","ExperimentOutputComponent","ExperimentOutputScalarsComponent","activeRoute","GroupByCharts","searchTerm$","selectExperimentMetricsSearchTerm","splitSize$","scalars$","selectExperimentInfoHistograms","experimentSettings$","selectSelectedExperimentSettings","settings","selectedScalar","smoothWeight$","selectSelectedSettingsSmoothWeight","xAxisType$","selectSelectedSettingsxAxisType","groupBy$","selectSelectedSettingsGroupBy","selectIsExperimentPendingRunning","selectIsExperimentInProgress","selectedExperimentId$","axis","ExperimentScalarRequested","groupBy","prepareGraphsAndUpdate","scalars","selectShowSettings","show","showSettingsBar","listOfHidden","of","selectSelectedSettingsHiddenScalar","refreshDisabled","selectedGraph","scrollToElement","graphs","resetMetrics","SetExperimentMetricsSearchTerm","searchTerm","splittedScalars","splitScalars","scalarList","prepareScalarList","convertScalars","metricsScalar","reduce","acc","curr","metricSelected","SetExperimentSettings","hiddenListChanged","hiddenList","hiddenMetricsScalar","searchTermChanged","changeSmoothness","smoothWeight","changeXAxisType","xAxisType","changeGroupBy","entries","variantGraph","graph","ExperimentOutputPlotsComponent","plots$","selectExperimentInfoPlots","selectedPlot","selectSelectedSettingsHiddenPlot","plotsSubscription","metricsPlots","groupedPlots","groupIterations","plotsList","preparePlotsList","convertPlots","plots","settingsSubscription","routerParamsSubscription","sortedList","sortMetricsList","hiddenMetricsPlot","experimentPlotsRequested","ExperimentLogInfoComponent","convert","Convert","hasAnsi","logInView","shouldFocusLog","hasFilter","regex","getRegexFromString","orgLogs","calcLines","log","prevLocation","prevLine","lines","prevLineOffset","fetchPrev","fetching","scrolling","logContainer","elm","offsetHeight","initial","canRefresh","scrollSubscription","elementScrolled","indexSubscription","scrolledIndexChange","itemsInView","Math","ceil","getViewportSize","beginningOfLog","fetchMore","direction","from","i","observer","IntersectionObserver","isIntersecting","threshold","flags","match","pattern","msg","logItem","converted","toHtml","entry","separator","trackByTimestampFn","line","reset","getLast","ExperimentOutputLogComponent","log$","selectExperimentLog","logBeginning$","selectExperimentBeginningOfLog","filter$","selectLogFilter","logRefs","refs","logRef","creator","worker","disabled","hasLog","started","ResetOutput","getExperimentLog","selectRefreshing","ResetLogFilter","filterLog","SetLogFilter","getLogs","downloadLog","downloadFullLog","routes","component","children","redirectTo","pathMatch","canDeactivate","LeavingBeforeSaveAlertGuard","DebugImagesComponent","search","ExperimentRouterModule","SMSharedModule","RouterModule","actions$","apiModels","ofType","activeLoader","switchMap","oldOrders","addMultipleSortColumns","fetchModels$","mergeMap","MODELS_PAGE_SIZE","scroll_id","deactivateLoader","catchError","error","requestFailed","setServerError","exSelectors","getGetAllQuery","searchQuery","orderFields","userFilter","tagsFilter","systemTagsFilter","MODEL_TAGS","_any_","escapeRegex","fields","size","order_by","encodeOrder","tags","only_fields","ready","framework","scrollId1","gb","getReadyFilter","SelectModelEffects","__decorate","Effect","ko","SelectModelModule","imports","CommonModule","ModelSharedModule","EffectsModule","StoreModule","selectModelReducer","ExperimentOutputEffects","apiTasks","authApi","taskBl","eventsApi","ExperimentsMenuEffects","experimentSyncedKeys","ExperimentsModule","AdminService","SmSyncStateSelectorService","HttpClientModule","AngularFileUploaderModule","FontAwesomeModule","SMMaterialModule","FormsModule","LayoutModule","ReactiveFormsModule","ExperimentsCommonModule","ExperimentSharedModule","ExperimentGraphsModule","DebugImagesModule","ExperimentCompareSharedModule","CommonLayoutModule","MatSidenavModule","MatListModule","AngularSplitModule","EXPERIMENTS_STORE_KEY","experimentsReducers","commonExperimentsInitialState","experimentsViewReducer","commonExperimentsViewReducer","initialCommonExperimentInfoState","experimentLog","infoData","execution","showExtraDataSpinner","activeSectionEdit","saving","infoDataFreeze","userKnowledge","experimentSections","initialState","initialCommonExperimentOutputState","view","info","SET_EXPERIMENT","SET_EXPERIMENT_FORM_ERRORS","EXPERIMENT_DATA_UPDATED","hyperParamsSectionUpdated","EXPERIMENT_SAVE","saveExperimentSection","ACTIVATE_EDIT","DEACTIVATE_EDIT","EXPERIMENT_CANCEL_EDIT","EXPERIMENT_DETAILS_UPDATED","setExperimentSaving","newInfoData","SET_EXPERIMENT_ERRORS","q","Ce","re","Ee","Z","P","commonExperimentOutputReducer","experimentsView","metricVariants","metricsLoading","experimentOutput","isSharedAndNotOwner","selectSelectedModel","selectExperimentInfoDataFreeze","selectExperimentFormValidity","ExperimentConverterService","MODEL_INPUT","MODEL_SOURCE","MODEL_OUTPUT","MODEL_NETWORK_DESIGN","DIGITS_AFTER_DECIMAL","SELECTED","ID","TYPE","NAME","USER","STARTED","COMPLETED","STATUS","LAST_UPDATE","LAST_ITERATION","COMMENT","ACTIVE_DURATION","PROJECT","METRIC","HYPER_PARAM","PARENT","EXPERIMENTS_TAGS","EXPERIMENTS_TAGS_TOOLTIP","entity","sysTags","commonExperimentConverterService","convertExperiment","experimentInfoBeforeChange","convertedExperiment","convertCommonExperiment","executionInfoNoOutputDest","destination","executionInfoNoOutputDestBeforeChange","convertExecution","commonConvertExecution","ExperimentReverterService","commonExperimentReverterService","revertExperiment","commonRevertExperiment","ModelMenuComponent","BaseContextMenuComponent","eRef","st","modelSignedUri","S3BucketCredentials","selectS3BucketCredentials","me","isArchive","De","subscription","archiveClicked","selectedFiltered","restoreSelectedModels","selectedEntities","skipUndo","archivedSelectedModels","selectionDisabledPublishModels","htmlTextShorte","publishModel","publishModelClicked","currentProjects","Array","Set","Ne","p","ChangeProjectDialogComponent","defaultProject","reference","ze","moveToProjectClicked","changeProjectRequested","deleteModelPopup","CommonDeleteDialogComponent","numSelected","entityType","useCurrentEntity","showButton","disableClose","setSelectedModels","Ke","fetchModelsRequested","CancelModelEdit","ModelMenuExtendedComponent","FeatureModelsModule","ProjectCardMenuExtendedComponent","ProjectCardMenuComponent","readyForDeletion","unarchived","statsSubset","ctx_r13","ProjectsListComponent","pageSize","ctx_r1","ProjectsHeaderComponent","sortByField","sortByTitle","stats","status_count","queued","in_progress","published","total_runtime","closed","projectsOrderBy$","selectProjectsOrderBy","projectsSortOrder$","selectProjectsSortOrder","noMoreProjects$","selectNoMoreProjects","selectedProjectId$","projectReadyForDeletion$","selectProjectReadyForDeletion","readyForDeletionFilter","projectsList$","selectProjectsData","projectsList","selectedProjectId","pe","regExp","Ze","ge","sub_projects","pageProjectsList","ALL_EXPERIMENTS_CARD","calculateAllExperimentsProjectStats","GetAllProjectsPageProjects","selectedProjectIdSub","ResetProjectsSearchQuery","selectedProjectSub","showOnlyUserWorkSub$","selectShowOnlyUserWork","projectReadyForDeletionSub","isDeletableProject","showDeleteDialog","showConfirmDialog","getDeletePopupEntitiesList","getDeleteProjectPopupStatsBreakdown","ResetReadyToDelete","projectStats","resetDeleteState","ResetProjects","projectCardClicked","W","setSelectedProjectId","example","setProjectsSearchQuery","orderByChanged","sortByFieldName","SetProjectsOrderBy","projectNameChanged","updatedProject","ProjectUpdated","deleteProject","CheckProjectForDeletion","loadMore","openProjectDialog","projectDialog","ProjectDialogComponent","projectHasBeenUpdated","coreProjectsActions","CommonProjectsPageComponent","ProjectRouterModule","projectSyncedKeys","ProjectsModule","CommonProjectsModule","projectsReducer","projectsInitState","commonProjectsInitState","projectReadyForDeletion","PROJECTS_ACTIONS","commonProjectsReducer","selectShowHidden","projects","ProjectsSharedModule","ProfileNameComponent","getAllCredentials","nameChange","updatedUserName","updateCurrentUser","ce","S3AccessComponent","formBuilder","s3bucketCredentials","formChangeSubscription","buildS3Form","S3Form","saveCredentials","getRawValue","disableTutorialBucket","BUCKET_CREDENTIALS","addBucket","Key","Secret","Region","Bucket","Endpoint","bucketCredentials","group","endsWith","removeBucket","removeAt","S3Credentials","array","bucket","s3bucketCredentialsChanged","tutorialBucketIndex","cre","toString","ProfileKeyStorageComponent","onS3BucketCredentialsChanged","resetS3Services","updateS3Credential","s3BucketCredentials","WebappConfigurationComponent","UserDataComponent","AdminCredentialTableBaseDirective","confirmPopUp","credential","access_key","credentialRevoked","inputs","AdminCredentialTableComponent","UserCredentialsComponent","credentials$","selectCredentials","newCredentialSub","selectNewCredential","creatingCredentials","createCredential","workspace","openCredentialsPopup","onCredentialRevoked","accessKey","workspaceId","WorkspaceConfigurationComponent","AdminFooterActionsComponent","AdminFooterComponent","selectServerVersions","version","getApiVersion","SettingsComponent","SettingsRoutingModule","SettingsModule","SharedModule","MatExpansionModule","selectBreadcrumbsStringsBase","selectSelectedTableModel","selectRootProjects","prepareNames","prepareLinkData","subProjects","subProjectsNames","r","v","currentName","foundProject","proj","subProjectsLinks","subProject","K","substring","lastIndexOf","subCrumbs","overview","formatStaticCrumb","accountAdministration","general","scalar","debugImages","CircleTypeEnum","CheckPermissionDirective","templateRef","viewContainer","userDataSubscription","setUpView","permission","blocked","elseTemplateRef","allowed","role","f","createEmbeddedView","LoginService","BaseLoginService","httpClient","loginApi","configService","userPreferences","signup","signupInfo","EMPTY","getInviteInfo","inviteId","ssoLogin","ssoFlow","resolve","isFileserverUrl","convertToReverseProxy","COMMON_SEARCH_PREFIX","COMMON_SEARCH_ACTIONS","SET_IS_SEARCHING","RESET_SEARCH","INIT_SEARCH","SET_SEARCH_QUERY","SET_SEARCH_PLACEHOLDER","SET_SEARCH_ACTIVE","setSearchQuery","CommonSearchModule","commonSearchReducer","commonSearchInitState","isSearching","placeholder","selectCommonSearch","selectIsSearching","selectPlaceholder","selectActiveSearch","ALERT","CREATED","MINUS","CHART","QUEUED","ENQUEUE","DEQUEUE","IN_PROGRESS","STOPPED","STOPPED_ALL","RESUME","CLOSED","FAILED","FALSE","PUBLISHED","PUBLISHING","TRUE","DATASET","TASK","MODEL","SHOW","ARCHIVE","RESTORE","COMPARE","HIDE","ABORTED","UNKNOWN","IMPORT","ANNOTATION_MANUAL","ADMIN","DATASET_IMPORT","WARNING","OUTPUT","EXECUTION","LIST","REMOVE","MOVE_TO","PLUGIN","ADD","TREE","TABLE","FOCUS","LOG","METRICS","TOKEN","EDIT","EDITABLE","RESET","CLONE","EXTEND","DOWNLOAD","WORKER","TAG","SHARE","ARROW_DOWN","ARROW_UP","PALLET","blue25","blue50","blue100","blue200","blue250","blue280","blue300","blue400","blue450","blue480","blue500","blue550","blue570","blue600","blue650","blue700","blue800","blue900","blue950","AUTH_PREFIX","addCredential","resetCredential","removeCredential","saveS3Credentials","cancelS3Credentials","resetDontShowAgainForBucketEndpoint","showS3PopUp","getTutorialBucketCredentials","showLocalFilePopUp","updateAllCredentials","setSignedUrl","err","omit","setCompareAutoRefresh","serverError","contextSubCode","customMessage","aggregateSimilar","setNotificationDialog","resetLoader","setBackdrop","visibilityChanged","severity","userActions","suppressNextMessages","removeMessage","setServerUpdatesAvailable","setScaleFactor","firstLogin","neverShowPopupAgain","plotlyReady","aceReady","openAppsAwarenessDialog","PROJECTS_PREFIX","SET_PROJECTS","RESET_PROJECTS","SET_LAST_UPDATE","UPDATE_PROJECT","getAllSystemProjects","updateProject","setAllProjects","resetProjects","setLastUpdate","updateProjectCompleted","setSelectedProject","resetSelectedProject","setArchive","getCompanyTags","setTagsFilterByProject","setTags","setCompanyTags","openTagColorsMenu","setTagColors","openMoreInfoPopup","setMetricVariant","fetchGraphData","setGraphData","setURLParams","fetchCurrentUser","setCurrentUserName","termsOfUseAccepted","logout","logoutSuccess","setPreferences","setActiveWorkspace","setSelectedWorkspaceTab","setFilterByUser","setUserWorkspacesFromUser","setApiVersion","initAuth","showLocalFilePopup","localFilesPopupURLs","revokeSucceed","credentials","newCredential","dontShowAgainForBucketEndpoint","signedUrls","selectAuth","auth","selectRevokeSucceed","selectS3BucketCredentialsBucketCredentials","D","selectDontShowAgainForBucketEndpoint","getSignedUrlOrOrigin$","R","timeoutWith","commonAuthReducer","dontAskAgainForBucketName","credIndex","creds","F","fromEntries","inBucket","cred","extra","expires","initRootProjects","projectTags","companyTags","tagsColors","tagsFilterByProject","graphVariant","graphData","lastUpdate","rootProjects","selectSelectedProjectId","$","selectIsDeepMode","selectTagsColors","selectLastUpdate","selectTagColors","selectSelectedProjectsMetricVariant","selectSelectedMetricVariant","projectsVariant","selectSelectedMetricVariantForCurrProject","selectGraphData","projectsActions","newProjects","updating","stateProject","te","colors","payLoad","initRouter","skipNextNavigation","selectRouter","selectRouterUrl","selectedWorkspaceTab","workspaces","showOnlyUserWork","serverVersions","selectActiveWorkspace","initViewState","loading","notification","loggedOut","backdropActive","compareAutoRefresh","applicationVisible","scaleFactor","firstLoginAt","u","localStorage","getItem","preferencesReady","views","selectLoading","selectNotification","selectLoggedOut","selectCompareAutoRefresh","selectScaleFactor","selectFirstLogin","selectPlotlyReady","selectNeverShowPopups","viewReducers","isLoggedOut","layoutActions","visible","scale","Date","getTime","popups","popupId","viewReducer","selectSync","selector","o","searchSetTerm","SEARCH_ACTIONS","searchStart","searchProjects","searchExperiments","searchModels","SEARCH_PREFIX","SEARCH_PAGE_SIZE","SET_TERM","SEARCH_START","SEARCH_PROJECTS","SEARCH_EXPERIMENTS","SEARCH_MODELS","SEARCH_COMPLETE","SEARCH_ERROR","SEARCH_CLEAR","SET_EXPERIMENTS","ACTIVATE","DEACTIVATE","EXPERIMENT_SEARCH_ONLY_FIELDS","WelcomeMessageComponent","code","subNote","beforeClosed","doNotShowAgain","step","z","gettingStartedContext","getStaticEnvironment","docsLink","steps","ORPHANED_QUEUE_STEPS","GETTING_STARTED_STEPS","install","configure","host","protocol","hostname","workspacesSub","community","communityServer","secretKey","secret_key","nextSteps","createCredentials","Q","N","doNotShowThisAgain","MAT_DIALOG_DATA","ctx_r10","ctx_r17","DebugImageSnippetComponent","ThemeEnum","frame","source$","IsVideoPipe","IsAudioPipe","isHtmlPage","isTextFileURL","isFailed","ee","_frame","openInNewTab","loadedMedia","isLoading","video","videoHeight","poster","copyToClipboardSuccess","success","console","DEBUG_IMAGES_PREFIX","resetDebugImages","setDebugImages","getDebugImagesMetrics","refreshDebugImagesMetrics","fetchExperiments","setExperimentsNames","setMetrics","setSelectedMetric","refreshMetric","getNextBatch","getPreviousBatch","setTimeIsNow","setBeginningOfTime","getDebugImageSample","getNextDebugImageSample","setCurrentDebugImage","setDebugImageViewerScrollId","setDebugImageIterations","setDisplayerEndOfTime","setDisplayerBeginningOfTime","resetDisplayer","ALL_IMAGES","removeAllImagesFromPayload","DebugImagesEffects","createEffect","debugActions","selectDebugImages","iters","navigate_earlier","actionsToShoot","setRefreshing","iterations","timeIsNow","beginningOfTime","refreshExperiments","tasks","event_type","selectImageViewerScrollId","iteration","min_iteration","max_iteration","navigateEarlier","endOfTime","settingsList","optionalMetrics","imageDisplayerScrollId","imageDisplayerBeginningOfTime","imageDisplayerEndOfTime","noMore","selectedMetric","minMaxIterations","currentImageViewerDebugImage","selectTaskNames","selectNoMore","selectOptionalMetrics","selectTimeIsNow","selectBeginningOfTime","selectMinMaxIterations","selectCurrentImageViewerDebugImage","selectDisplayerEndOfTime","selectDisplayerBeginningOfTime","debugSamplesReducer","DebugImagesViewComponent","iter","_iterations","iterationEvents","events","imageUrlError","urlError","elRef","tasks$","optionalMetrics$","noMoreData$","timeIsNow$","beginningOfTime$","debugImagesSubscription","val","variantAndMetric","selectedMetrics","markForCheck","mergeIterations","multipleExperiments","multiple","currentExperiment","beginningOfTimeSubscription","timeIsNowSubscription","experimentIds","taskNamesSubscription","He","isTaskRunning","experimentNames","modifiedExperimentsNames","substr","refreshingSubscription","optionalMetricsSubscription","optionalMetricsDic","experimentMetrics","optionalMetric","Le","imageClicked","frames","iterationSnippets","sources","img","ImageDisplayerComponent","imageSources","snippetsMetaData","panelClass","height","maxHeight","trackExperiment","experimentID","selectMetric","change","nextBatch","taskMetric","previousBatch","backToNow","thereAreNoMetrics","thereAreNoDebugImages","shouldShowNoImagesForExperiment","UiComponentsModule","ScrollingModule","MatSliderModule","EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_","GET_SELECTED_EXPERIMENTS_FOR_COMPARE","REFETCH_EXPERIMENT_REQUESTED","setHideIdenticalFields","setExperimentsUpdateTime","refreshIfNeeded","toggleShowScalarOptions","setSearchExperimentsForCompareResults","setShowSearchExperimentsForCompare","resetSelectCompareHeader","getSelectedExperimentsForCompareAddDialog","compareAddDialogTableSortChanged","compareAddTableFilterChanged","compareAddTableFilterInit","compareAddTableClearAllFilters","compareAddDialogSetTableSort","refetchExperimentRequested","setNavigationPreferences","EXPERIMENTS_COMPARE_METRICS_CHARTS_","SET_SELECTED_EXPERIMENTS","SET_EXPERIMENT_METRICS_SEARCH_TERM","SET_EXPERIMENT_HISTOGRAM","SET_EXPERIMENT_PLOTS","GET_MULTI_SCALAR_CHARTS","GET_MULTI_PLOT_CHARTS","UPDATE_EXPERIMENT_SETTINGS","RESET_EXPERIMENT_METRICS","axisType","setAxisCache","resetState","setExperiments","experimentListUpdated","EXPERIMENTS_COMPARE_METRICS_VALUES_","GET_COMPARED_EXPERIMENTS_METRICS_VALUES","SET_COMPARED_EXPERIMENTS","SET_METRIC_VALUES_SORT_BY","keyOrValue","keyOrder","getExperimentsHyperParams","EXPERIMENTS_COMPARE_SCALARS_GRAPH","setMetricsList","setTasks","setvalueType","setHyperParamsList","setShowIdenticalHyperParams","allowAddExperiment$","selectRouterParams$","compareLimitations","SelectExperimentsForCompareComponent","changedDetectRef","BehaviorSubject","_resizedCols","resizedCols$","experimentsResults$","selectSelectedExperimentsForCompareAdd","unionBy","selectExperimentsForCompareSearchTerm","projects$","selectCompareAddTableSortFields","resizedCols","we","searchableFilter","term","closeSearch","syncSelectedExperiments","selectedExperimentsIds","tasksIds","originalSelectedExperiments","resetExperiments","resetGlobalFilter","reachedCompareLimit","clearTableFilters","applyChanges","resizeCol","widthPx","ExperimentCompareHeaderComponent","selectHideIdenticalFields$","selectHideIdenticalFields","selectRefreshing$","autorRefreshSub","routerSubscription","currentPage","queryParamsSubscription","queryParamsViewMode","c","showMenuSub","isAutoRefresh","changeView","queryParam","page","navigationPreferences","openAddExperimentSearch","selectionChanged","hideIdenticalFieldsToggled","checked","menuClosed","ExperimentsCompareComponent","navigationPreferences$","selectNavigationPreferences","updateUrl","treeBuilderService","buildTreeFromJson","obj","transformer","metaTransformer","transformerExtraParams","metaData","buildTreeFromJsonRec","classStyle","level","accumulator","_path","node","RENAME_MAP","network_design","uncommitted_changes","installed_packages","augmentation","filtering","labels_enumeration","mapping","COMPARE_DETAILS_ONLY_FIELDS_BASE","allExperiments","allIsOne","every","isArray","objValue","srcValue","isArrayOrderNotImportant","mutedArray","amount","compare","baseCompare","base","compared","added","removed","Diff","setLengthsAndChanges","baseLength","comparedLength","max","_values","newValue","pop","compareValues","_changes","ue","mutedValues","compareValuesFromBaseToRest","compareValuesBetweenTheRest","isNotLastIndex","diffArrays","removeDuplicated","removeUndefinedFromBackwardUtilValue","_","counter","newPath","installedPackages","networkDesign","currKey","L","g","a_hash_","padStart","confParams","originConfParams","paramName","has","alternativeConvertedExperiment","isObject","newKey","convertExperimentsArrays","hashedObj","currentIndex","convertedItemHash","originItem","flat","parentKey","orderedObj","abSort","localeCompare","sortObject","firstKey","jsons","json","mergeWith","customMergeStrategyForArrays","ExperimentCompareBase","buildExperimentTree","baseExperiment","mergedExperiment","buildSectionTree","extraParams","originExperiment","comparedExperiment","fullPath","fullPathJoined","originData","comparedData","existOnOrigin","existOnCompared","isEquals","isEmptyObject","isEmpty","isPrimitive","tooltip","allPaths","setPathDif","allPathsDiffs","compareTabPage","hypeParamObject","originalExperiments","isValueEqualToOrigin","selectedPath","hasDataFeature$","taskIds$","taskIds","getExperimentIdsParams","onInit","hideIdenticalFieldsSub","hide","hideIdenticalFields","experimentsDataControl","dataSource","treeControl","expandedPaths","expansionModel","experimentsDataSources","expandedDataNodes","dataNodes","hasChildren","searchText","hasData","detailsActions","paramsActions","experimentsSubscription","calculateTree","calculatingTree","experimentTrees","buildCompareTree","tree","clearRemovedExperiment","treeFlattener","MatTreeFlattener","nodeTransformer","getNodeLevel","getIsNodeExpandable","getNodeChildren","expandedsPaths","getExpandedPath","sectionTree","root","rootOnlyDiffs","filterTreeDiffs","FlatTreeControl","MatTreeFlatDataSource","connect","viewChange","Observable","nodes","all","onlyDiffs","setExpandedPaths","exapndAndScrollToPath","destroyed","onlyDiffsPaths","syncScrollSubscription","findAllOccurrences","foundIndex","foundPaths","findPrev","findNext","expandedDatanodes","toggleNode","n","n1","n2","toggle","expIds","expId","sub","virtualScrollRef","kk","originalScrolledElement","clearTimeout","timeoutIndex","k","scrollTo","left","scrollLeft","goToNextDiff","selectedPathIndex","openPaths","pathPartial","pathPart","nodeGotExpanded","previousOpenPaths","nodesToOpen","currentPath","isExpanded","flatNodes","scrollToInPixels","findRealIndex","vs","text","foundPathsPerExp","foundPathsPerExpTemp","keyWithoutHash","JSON","stringify","found","dataTransformer","metaDataTransformer","undefinedOriginFirstRun","syncUrl","newParams","extractTags","U","experimentTags","selectedPathClicked","keyClicked","checkIfIdenticalRow","copyIdToClipboard","resetComponentState","viewQuery","CompareCardBodyDirective","CompareCardExtraHeaderDirective","CompareCardHeaderDirective","DrawerComponent","renderer","ref","toggleDrawer","removeStyle","closedLabel","removeClass","setStyle","drawerContainer","clientHeight","addClass","toggled","CardComponent2","CompareCardListComponent","experimentRemoved","experimentListChanged","setAsBase","detailsContainer","reorderExperiments","prevIndex","newExperiments","moveItemInArray","drop","previousIndex","changeHovered","hovered","TemplateRef","PortalComponent","cfr","appRef","injector","DomPortalOutlet","getElementById","outletId","attach","portal","detach","DOCUMENT","CdkPortal","ExperimentCompareGeneralDataComponent","copyToClipboard","copyIdClicked","buildUrl","ExperimentCompareDetailsComponent","selectExperimentsDetails","afterResize","nativeWidth","treeCardBody","G","experimentData","compareArrayOfStrings","addValuesToNetworkDesign","modelNetworkDesignData","inputModelNetworkDesignValues","hasOwnProperty","inputModelKeys","outputModelKeys","General","treeCardBodies","getAllKeysEmptyObject","cur","toggleEllipsis","showEllipsis","SyncScrollService","setScroll","scrollSubject","getScroll","asObservable","updateOriginalTarget","originalTarget","clearInterval","timer","SyncScrollDirective","el","syncScrollService","scrollData","setProperty","onScroll","TableDiffComponent","sortByClicked","sortBy","sortByChanged","toggleSortOrder","sortConfig","keyValueArray","GetKeyValueArrayPipePipe","metricNode","allKeysEmptyObject","keyOrderSortConfig","valueKey","args","keyValueObj","variantObj","pure","VALUE_MODES","min_values","max_values","ExperimentCompareMetricValuesComponent","comparedObject","comparedTasks$","selectCompareMetricsValuesExperiments","sortOrder$","selectCompareMetricsValuesSortConfig","valuesMode","convertExperimentsToNodes","last_metrics","metricsValuesActions","comparedTasksSubscription","experimentsLastMetrics","comparedTasks","AllKeysObject","originObject","metaTransformerFunction","originPath","originPartial","comparedPartial","realIsNodeOpen","paths","collapsedToggled","metricSortChanged","nodeData","orderedKeys","sortByKeyOrValue","keyValue","urlParams","ExperimentCompareScalarChartsComponent","showSettingsBar$","selectShowScalarsOptions","selectCompareSelectedSettingsSmoothWeight","selectCompareSelectedSettingsxAxisType","selectCompareSelectedSettingsGroupBy","metrics$","selectCompareTasksScalarCharts","xAxisSub","GetMultiScalarCharts","cached","groupBySub","metricsSubscription","metricsWrapped","SetSelectedExperiments","merged","mergeMultiMetricsGroupedVariant","mergeMultiMetrics","graphList","buildNestedListWithoutChildren","ExperimentComparePlotsComponent","selectCompareTasksPlotCharts","prepareMultiPlots","prepareList","newGraphs","convertMultiPlots","GetMultiPlotCharts","ParallelCoordinatesGraphComponent","PlotlyGraphBase","colorHash","redrawChart","drawChart","metricValueType","_metricValueType","prepareGraph","_metric","parameters","_parameters","experimentsCopy","experimentsNames","duplicateName","filteredExperiments","_experiments","initColorSubscription","forceRedraw","colorSub","getColorsObservable","colorObj","toggleHideExperiment","getStringColor","colorArr","initColor","getExperimentNameForColor","getColorsArray","experimentsColors","trace","dimensions","allValuesIncludingNull","allValues","textVal","ticktext","naturalCompare","uniq","tickvals","constraintrange","Oe","fe","parallelGraph","currDimention","d","en","range","color","colorscale","naVal","getNAValue","Pt","parseFloat","dimensionsOrder","sortCol","valuesMax","valuesMin","Plotly","react","margin","l","offsetWidth","displaylogo","displayModeBar","modeBarButtonsToRemove","postRenderingGraphManipulation","graphWidth","selectAll","each","attr","wrap","tick","parentNode","lastChild","removeChild","appendChild","short","myArray","collator","Intl","Collator","numeric","sensitivity","aFloat","bFloat","Number","isNaN","highlightExperiment","highlighted","removeHighlightExperiment","_filter","opt","filterValue","ExperimentCompareHyperParamsGraphComponent","selectScalarsGraphMetrics","selectScalarsGraphHyperParams","selectedHyperParams$","selectSelectedSettigsHyperParams","selectedMetric$","selectSelectedSettigsMetric","selectShowIdenticalHyperParams$","selectScalarsGraphShowIdenticalHyperParams","selectScalarsGraphTasks","metricValueType$","selectMetricValueType","selectedItemsListMapper","clickOut","initView","listOpen","selectMetricSubscription","metricSubscription","metricsOptions","variants","hyperParamsSubscription","selectedParams","allParams","filterActive","showIdentical","showIdenticalParamsActive","sectionKey","acc2","paramKey","selectedHyperParams","selectedParam","experimentsIds","searchMetricRef","_filterGroup","metricName","updateServer","selectedParamsChanged","newSelectedParamsList","showIdenticalParamsToggled","updateMetricsList","clearMetricSearchAndSelected","clearMetricSearch","openList","trackMetricByFn","trackVariantByFn","valueTypeChange","RouterHelperGuard","canActivate","defaultViewMode","selectExperimentsParams","isParamsConverted","experimentList","originHyperParams","result","ExperimentCompareParamsComponent","ExperimentsCompareRoutingModule","ExperimentDetailsReverterService","experimentReverter","revertExperiments","last_iteration","last_update","completed","revertExecution","revertArtifacts","revertconfiguration","sortObjectByKey","orderedLabels","revertModels","revertArtifact","revertAuditLog","content_size","hash","display_data","restArtifact","jt","preview","crc32","data_hash","pair","revertModel","revertModelInput","revertNetworkDesign","revertExecutionSource","image","arguments","binary","script_path","commit_id","tag_name","COMPARE_PARAMS_ONLY_FIELDS","ExperimentsCompareDetailsEffects","tasksApi","experimentDetailsReverter","selectExperimentIdsDetails","oldExperimentIds","newExperimentIds","fetchExperimentDetails$","oldExperiments","EXPERIMENTS_COMPARE_DEBUG_IMAGES_","ExperimentsCompareDebugImagesEffects","chartActions","selectCompareHistogramCacheAxisType","prevAxisType","no_scroll","ExperimentsCompareChartsEffects","tasksApiService","ExperimentsCompareMetricsValuesEffects","experimentsApi","selectExperimentsUpdateTime","experimentsUpdateTime","updatedExperimentsUpdateTime","experimentsWhereUpdated","shouldUpdate","EmptyAction","selectExperimentsMetricsCols","colIds","MINIMUM_ONLY_FIELDS","flatten","SelectCompareHeaderEffects","TableDiffModule","CardModule","DrawerModule","metricsList","getMetricOptions","paramsHasDiffs","getParametersHasDiffs","variantName","numberOfTasks","paramsValues","paramsObj","paramObj","paramsValuesHasDiff","ExperimentsCompareScalarsGraphEffects","ExperimentParamsReverterService","experimentParamsReverter","selectExperimentIdsParams","fetchExperimentParams$","ExperimentsCompareParamsEffects","compareSyncedKeys","ExperimentsCompareModule","DragDropModule","CommonExperimentSharedModule","experimentsCompareReducers","MatRadioModule","_experimentsCompareDetailsReducer","metricsMultiScalarsCharts","metricsHistogramCharts","cachedAxisType","metricsPlotsCharts","metricSortBy","bla","searchResultsExperiments","showSearch","hideIdenticalRows","showScalarOptions","projectColumnsSortOrder","projectColumnFilters","_compareHeader","_scalarsGraphReducer","showIdenticalHyperParams","_experimentsCompareParamsReducer","details","metricsValues","charts","newSettings","setting","compareHeader","scalarsGraph","experimentsCompare","experimentsDetails","experimentsParams","selectCompareHeader","selectIsCompare","Me","Ut","selectCompareAddTableFilters","compareMetricsValues","compareCharts","currentExperiments","selectScalarsGraph","$e","metricAcc","groupAcc","groupName","graphAcc","graphName","ts","EXPERIMENTS_OUTPUT_PREFIX","GET_EXPERIMENT_LOG","SET_EXPERIMENT_LOG","RESET_OUTPUT","EXPERIMENT_PLOTS_REQUESTED","EXPERIMENT_SCALAR_REQUESTED","CHANGE_PROJECT_REQUESTED","SET_LOG_FILTER","RESET_LOG_FILTER","getGraphDisplayFullDetailsScalars","setXtypeGraphDisplayFullDetailsScalars","setGraphDisplayFullDetailsScalars","setGraphDisplayFullDetailsScalarsIsOpen","mergeGraphDisplayFullDetailsScalars","setExperimentLog","filterString","EXPERIMENTS_INFO_PREFIX","GET_EXPERIMENT_INFO","AUTO_REFRESH_EXPERIMENT_INFO","EXPERIMENT_UPDATED_SUCCESSFULLY","SET_EXPERIMENT_INFO_DATA","RESET_EXPERIMENT_INFO","UPDATE_EXPERIMENT_INFO_DATA","EXPERIMENT_SAVE_SECTION","getExperiment","getExperimentUncommittedChanges","setExperimentUncommittedChanges","CLONE_EXPERIMENT_CLICKED","publishClicked","stopClicked","dequeueClicked","getAllTasksChildren","setAllTasksChildren","shareSelectedExperiments","navigateToQueue","resetClicked","enqueueClicked","archiveSelectedExperiments","restoreSelectedExperiments","EXPERIMENTS_PREFIX","getExperiments","getExperimentsWithPageSize","setExperimentInPlace","setNoMoreExperiments","addExperiments","removeExperiments","updateExperiment","updateManyExperiment","setSelectedExperiments","setSelectedExperiment","selectAllExperiments","toggleColHidden","setHiddenColumns","setUsers","setParents","setActiveParentsFilter","getUsers","getParents","getFilteredUsers","tableFilterChanged","setProjectsTypes","getProjectTypes","showOnlySelected","globalFilterChanged","getCustomMetrics","getCustomHyperParams","setCustomMetrics","setCustomHyperParams","setExtraColumns","addColumn","removeCol","setColumnWidth","setColsOrderForProject","clearHyperParamsCols","resetSortOrder","afterSetArchive","setSplitSize","hyperParamSelectedInfoExperiments","hyperParamSelectedExperiments","setSelectedExperimentsDisableAvailable","CommonExperimentsInfoEffects","reverter","converter","selectSelectedExperimentFromRouter","selectedConfiguration","configurations","kt","names","ut","configObj","configurationObj","tableSelected","currentSelected","previousSelectedId","St","previousSelectedLastUpdate","listed","last_change","ct","be","updateTime","We","total","convertStopToComplete","revertReadOnly","valid","infoFreeze","shareReplay","replace_hyperparams","CommonExperimentOutputEffects","outputActions","Ct","batch_size","LOG_BATCH_SIZE","from_timestamp","selectFullScreenChart","selectFullScreenChartXtype","fullScreenData","chartType","count_total","selectFullScreenChartIsOpen","isOpen","returned","expand","returnedTillNow","plotsLength","allPlots","download","CommonExperimentsMenuEffects","projectApi","menuActions","selectedEntity","validate_tasks","updateExperimentsSuccess","updateExperimentFailed","new_task_project","cloneData","new_task_comment","new_task_name","new_project_name","newProjectName","viewActions","tt","new_project","selectedExp","project_name","project_id","setExperimentIfSelected","selectedExperimentInfo","experimentsFromState","experimentFromState","It","isSelectedExpInCheckedExps","allFailed","failed","undoAction","getNotificationAction","failedIds","fail","successExperiments","MoreMenuItems","operationName","changeList","succeeded","Rt","AutoRefreshExperimentInfo","actionType","Nt","ExperimentTableCardComponent","experimentDuration","created","createdDate","completedDate","ExperimentOutputLogModule","MatProgressSpinnerModule","SharedPipesModule","NoUnderscorePipe","TitleCasePipe","CommonDeleteDialogModule","CommonExperimentsViewEffects","ExperimentTypeIconLabelComponent","GetVariantWithoutRoundPipe","GetParamMetricValuePipe","roundedMetricValue","getHyperParam","xe","getVariant","ve","noRound","getVariantRound","getRoundedNumber","HyperParamMetricColumnComponent","expandColToggle","stopPropagation","expandClicked","parentElement","clientWidth","ExperimentsTableComponent","BaseTableView","changeDetector","noUnderscorePipe","titleCasePipe","FILTERED_EXPERIMENTS_STATUS_OPTIONS","INITIAL_EXPERIMENT_TABLE_COLS","entitiesKey","selectedEntitiesKey","tableCol","roundedMetricValues","contextExperiment","filtersOptions","ie","sortOptionalUsersList","hyperParamsOptions","parents","parentsAndActiveFilter","activeParentsFilter","Fe","sortOptionalParentsList","_selectedExperiments","updateSelectionState","_selectedExperiment","contextMenuActive","focusSelected","tagsAndActiveFilter","uniqueFilterValueAndExcluded","filtersValues","sortOptionalTagsList","types","typesAndActiveFilter","filtersMatch","filtersSubValues","sortOptionalProjectsList","createFiltersFromStore","assign","onRowSelectionChanged","sortByArr","selectedTags","excludedKey","tagsWithNull","scrollTableToTop","onLoadMoreClicked","loadMoreExperiments","onSortChanged","rowSelectedChanged","addList","getSelectionRange","emitSelection","searchValueChanged","searchValues","_selected","onContextMenu","rowData","prevSelected","navigateToParent","columnsWidthChanged","colIndex","delta","updateColumnsWidth","columnFilterOpened","tagsMenuOpened","columnFilterClosed","filtered","minMaxIterations$","endOfTime$","currentDebugImage$","currentDebugImage","onKeyDown","previous","calculateNewScale","canGoNext","canGoBack","scaleUp","scaleStep","changeScale","imageHeight","floor","debugImage","naturalHeight","imageWidth","naturalWidth","resetScale","resetDrag","changeCords","xCord","offsetX","yCord","offsetY","imageLoaded","closeImageDisplayer","fitToScreen","imageContainer","autoFitScale","imageTranslateY","imageTranslateX","dragImage","dragging","movementX","movementY","resetCords","disableNativeDrag","setDragging","wheelZoom","deltaY","downloadImage","src","URL","searchParams","last","changeIteration","currentDebugImageSubscription","isPlayer","begOfTimeSub","beg","endOfTimeSub","end","showImage","ctx_r2","SelectMetricForCustomColComponent","changeDetectorRef","metricTree","metricVar","toggleAllMetricsToDisplay","toggleMetricToDisplay","multiSelect","searchQ","ProjectsGetTaskParentsRequest","_tableFilters","removeEmptyValues","returnTableFilters","currentFilterName","hasValue","projectsApi","usersApi","exActions","auditTime","fetchExperiments$","EXPERIMENTS_PAGE_SIZE","hiddenCols","currentScrollId","GetExperimentInfo","addTasksAction","shouldFilterFilters","filteredTableFilters","Ot","Xe","filterType","active_in_projects","userFiltersValue","resIds","shouldGetFilteredUsersNames","tasks_state","ke","filteredParentIds","missingParentsIds","parentId","parentsTasks","isDeep","include_subprojects","page_size","decodeHyperParam","setProjectArchive","archived","globalSearch","showHidden","colsOrder","encodeColumns","filterColumns","selectionDisabledTags","experimentProject","activeChild","activeChildUrl","getRouteFullUrl","baseUrl","refreshScroll","selectedIds","isCompare","typeFilter","statusFilter","Ie","tagsFilterAnd","Ve","parentFilter","Et","et","colsFilters","metricColsFilters","refresh_scroll","Pe","addExcludeFilters","search_hidden","showAllSelectedIsActive","static","bodyStyleClass","headerStyleClass","disableDrag","disablePointerEvents","excludeFilter","columnExplain","ColHeaderFilterTypeEnum","Metric","None","fullScreenDetailedChart","fullScreenXtype","fetchingFullScreenData","isFullScreenOpen","totalLogLines","logFilter","showSettings","reverse","currLog","atStart","hiddenTableCols","active_duration","hiddenProjectTableCols","tempFilters","tableOrders","projectColumnsWidth","noMoreExperiment","selectedExperimentSource","experimentToken","splitSize","allRunningChildrenForAbortChildrenDialog","setExperimentsAndUpdateSelectedExperiments","M","modelsInitialState","currExp","newExp","C","remainingColsWidth","selectExperimentsTableColsWidth","xt","ht","selectRawExperimentsTableCols","colWidth","compareSortFields","compareFilters","selectAllRunningTasksChildrenForAbort","selectFullScreenChartIsFetching","isFetching","CommonExperimentConverterService","SelectQueueModule","EXECUTION_SOURCE_CODE","EXECUTION_HYPER_PARAMETERS","EXECUTION_OUTPUT","EXPERIMENT_GRAPH_ID_PREFIX","SINGLE_GRAPH_ID_PREFIX","round","pow","AbortAllChildrenDialogComponent","shouldBeAbortedTasks","isConfirmed","isMulti","readOnlyProjects$","currentProjectInstance","projectsSub","projectList","moveToForm","projectName","filteredProjects","startWith","asyncScheduler","filterText","projectsNames","isNewName","displayFn","setIsAutoCompleteOpen","isAutoCompleteOpen","CloneDialogComponent","defaultProjectId","extend","CLONE_NAME_PREFIX","defaultName","defaultComment","J","cloneForm","clearOnFirstFocus","untouched","_r5","blTaskService","selectionHasExamples","isCommunity","getProjectId","commonMenuActions","oe","showConfirmArchiveExperiments","toggleFullScreen","showFullScreen","SelectQueueComponent","neverShowAgainPopups","enqueueExperiment","workers","orphanedQueueDialog","getBody","queueName","GetQueuesForEnqueue","confirmDialogRef","dequeueExperiment","selectQueuesList","qs","componentInstance","enqueueDequeueDisabled","devWarning","resetExperiment","stopExperiment","publishPopupBody","publishExperiment","shareExperimentPopup","ShareDialogComponent","link","alreadyShared","Se","viewWorkerClicked","manageQueueClicked","clonePopup","cloneExperiment","activateFromMenuButton","SetExperiment","showNeverShowAgain","neverShowAgain","setMenuOpenStatus","shouldBeAbortedTasksSub","ExperimentStatusIconLabelComponent","SELECT_QUEUE_PREFIX","GET_QUEUES_FOR_ENQUEUE","GET_TASK_FOR_ENQUEUE","SET_TASK_FOR_ENQUEUE","SET_QUEUES_FOR_ENQUEUE","selectTaskForEnqueue","GetTaskForEnqueue","queuesSub","queues$","selectedQueue","SetTaskForEnqueue","apiQueues","SetQueuesForEnqueue","SelectQueueEffects","selectQueueReducer","selectQueueInitState","docker_cmd","CommonExperimentReverterService","activeWorkSpace$","activeWorkSpaceSubscription","activeWorkSpace","readonly","revertHyperParams","logLevel","revertRequirements","revertExecutionParameters","revertScriptType","modelEx","taskName","s","crumb","supportsExamples","crumbName","preparedName","LayoutReducer","selectBreadcrumbsStrings","ProjectContextNavbarComponent","PROJECT_ROUTES","tabClicked","feature","onBackToProjectClicked","backToProjectClicked","initLogin","terms","crmForm","login","selectInviteId","loginReducers","setTOU","setUserLoginState","MODELS_PREFIX","GET_MODEL_INFO","REFRESH_MODEL_INFO","SET_MODEL","ACTIVATE_MODEL_EDIT","MODEL_CANCEL_EDIT","SET_IS_MODEL_SAVING","MODEL_DETAILS_UPDATED","EDIT_MODEL","updateModelDetails","refreshModels","getNextModelsWithPageSize","setModels","setModelsInPlace","setNoMoreModels","setHiddenCols","setFrameworks","getFrameworks","addModels","removeModels","updateModel","setSelectedModel","selectAllModels","showSelectedOnly","setSelectedModelsDisableAvailable","h","MODELS_STORE_KEY","MODELS_PREFIX_INFO","MODELS_PREFIX_MENU","MODELS_PREFIX_VIEW","ModelCustomColsMenuComponent","ModelHeaderComponent","archivedChanged","onAddModelClicked","addModelClicked","ModelsComponent","modelsSelectors","selectedModel$","selectedModelsDisableAvailable$","activeSectionEdit$","selectModelsTags","frameworks$","selectModelsFrameworks","selectModelTableColumns","Dt","it","filterArchivedModels","showInfo$","selectedModelSubs","de","originalTableColumns","selectedModelsSub","selectModelFromUrl","modelFromUrlSub","modelsSelectionChanged","compareModels","closeModelPanel","X","ModelInfoHeaderComponent","getSysTags","selectedModelsDisableAvailable","modelNameChanged","ActivateModelEdit","ModelInfoComponent","selectedTableModel$","selectedModelSubscription","updateModelName","getReadyStatus","deselectModel","navigateAfterModelSelectionChanged","ModelGeneralInfoComponent","datePipe","kpis","downloadable","canShowModel","onShowModel","showModel","cancelEdit","downloadModelClicked","ModelInfoGeneralComponent","signUrlIfNeeded","createModelLink","ModelViewNetworkComponent","designKey","fieldValueChanged","unsavedValue","activateEdit","inEditMode","activateEditClicked","saveClicked","saveFormData","cancelClicked","prototextSection","ModelInfoNetworkComponent","selectIsModelSaving","changedModel","SetIsModelSaving","EditModel","ModelInfoLabelsViewComponent","class","revertParameters","labels","convertParameters","labelA","labelB","ModelInfoLabelsComponent","ModelRouterModule","ModelsViewEffects","modelBl","frameworks","resActions","RefreshModelInfo","GetModelInfo","modelsList","addModelsAction","Je","ot","wt","mt","At","frameworkFilter","Ft","je","MODELS_ONLY_FIELDS","Re","Qe","setModelsUrlParams","modelProject","isSelectedModelInCheckedModels","checkedModels","ModelsInfoEffects","MODELS_INFO_ONLY_FIELDS","ModelsMenuEffects","matDialog","updateModelsSuccess","publishModelFailedText","errorMessage","selectedInfoModel","selectedModelInfo","modelsFromState","modelFromState","mod","update","successModels","modelIds","SmFormBuilderService","create","updateOn","arr","FormArray","FormGroup","getFormErrors","control","recursive","formGroup","addControl","modelSyncedKeys","ModelsModule","DatePipe","reducers","modelsViewReducer","newSelectedModel","modelsView","selectModelsTableColsOrder","selectModelsTableColsWidth","selectModelsHiddenTableCols","selectActiveSectionEdit","selectIsModelInEditMode","newState","currModel","newModel","ModelsTableComponent","MODELS_FRAMEWORK_LABELS","MODELS_READY_LABELS","MODELS_READY_OPTIONS","_models","contextModel","enableMultiSelect","only","enable","_enableMultiSelect","_selectedModels","ratio","_selectedModel","ne","sortOptionsList","frameworksAndActiveFilter","clickHandler","button","menuOpen","loadMoreModels","getColName","openContextMenu","observers","TableComponent","FRAMEWORK","READY","Caffe","TensorFlow","PyTorch","Keras","true","false","HIDDEN","SelectModelHeaderComponent","onAllProjectsChanged","isAllProjectsChanged","onSearchFocusOut","updatedData","getAllFilter","orderBy","subHeader","RESET_SEARCH_QUERY","SET_PROJECT_READY_FOR_DELETION","SET_ORDER_BY","SET_PROJECT_BY_ID","PROJECT_UPDATED","GET_PROJECTS","PROJECTS_SUCCESS","CHECK_PROJECT_FOR_DELETION","RESET_READY_TO_DELETE","SELECT_PROJECT","SELECT_ALL_PROJECTS","DELETE_PROJECT_SUCCESS","CREATE_PROJECT","CREATE_PROJECT_SUCCESS","CREATE_PROJECT_SUCCESS_OPTIMISTIC","SELECT_PROJECT_INDEX","GET_PROJECTS_NON_FILTERED_LIST","SET_PROJECTS_NON_FILTERED_LIST","UPDATE_ONE_PROJECT","SET_NO_MORE_PROJECTS","SET_NEXT_PAGE","ADD_TO_PROJECTS_LIST","ProjectsEffects","modelsApi","projectsValidateDeleteResponse","SetProjectReadyForDeletion","non_archived_tasks","non_archived_models","CommonProjectsEffects","parentProject","effectedRootProjects","UpdateProjectPartial","selectProjectsSearchQuery","selectProjectsScrollId","sortOrder","routerProjectId","forkJoin","stats_for_state","include_stats","shallow_search","active_users","stats_with_children","check_own_contents","projectsRes","currentProjectRes","newScrollId","isNotEmptyExampleProject","isRoot","AddToProjectsList","SetNoMoreProjects","own_models","own_tasks","ProjectDialogModule","projectsNonFilteredList","noMoreProjects","getCorrectSortingOrder","currentSortOrder","currentOrderField","nextOrderField","selectedProjectIndex","projectListInst","selectProjectForDelete","ENDPOINT_PATTERN","parse","matches","prefix","isPathStyle","region","FOUR_DAYS","HTTP_REGEX","replaceAll","baseString","toReplace","replaceWith","ignore","getBucketAndKeyFromSrc","srcArr","I","amazon","AmazonS3URI","urlBucket","urlEndpoint","BaseAdminService","confService","onRevokeSucceed","previouslySignedUrls","getEnvironment","conf","deleteS3FilesSubject","skipLocalFile","skipFileServer","addTenant","addS3TimeStamp","useFilesProxy","MAX_VALUE","checkLocalServerRunning","redirectToLocalServer","isGoogleCloudUrl","signGoogleCloudUrl","isAzureUrl","azureBucket","signAzureUrl","bucketKeyEndpoint","azure","s3","findOrInitBucketS3","command","GetObjectCommand","fromPromise","client","__awaiter","s3Presigner","S3RequestPresigner","middlewareName","presigned","middlewareStack","addRelativeTo","context","HttpRequest","response","$metadata","httpStatusCode","presign","signingRegion","signing_region","signingService","signing_service","relation","toMiddleware","override","send","remove","formatUrl","expiresIn","unhoistableHeaders","unsignableHeaders","findS3CredentialsInStore","s3Service","s3Services","createS3Service","accessKeyId","secretAccessKey","forcePathStyle","tls","S3Client","localServerWorking","fetch","sas","sasQueryString","deleteS3Files","files","skipSubjectReturn","DeleteObjectsCommand","Delete","Quiet","Objects","file","then","Errors","parsed","contains","trigger","closeMenu","menuOpened","tagMenuOpened","tagMenuClosed","MatMenuTrigger","COLOR_SCHEME","LineChartComponent","zone","right","_yLabel","initDone","lineChart","yAxisLabel","initLineChart","dataByTopic","topic","dates","chartData","xAxisCustomFormat","getXAxisFormatter","isAnimated","updateChart","updateLegend","legendChart","legend","legendContainer","legendRef","lineTooltip","lineChartContainer","chartRef","bind","initLegend","rect","legendWidth","colorSchema","numberFormat","isHorizontal","runOutsideAngular","topicName","datum","call","containerWidth","tooltipThreshold","lineMargin","lineCurve","grid","lineGradient","xAxisLabel","xTicks","yAxisLabelPadding","xAxisFormat","axisTimeCombinations","CUSTOM","lineTooltipContainer","valueLabel","dateFormat","dateCustomFormat","tooltipOffset","tooltipVerticalOffset","yTickFormatter","valueFormatter","firstDate","date","dateTimeSpan","onResize","ViewContainerRef","ClearFiltersButtonComponent","isTableFiltered","CustomColumnsListComponent","ExperimentSettingsComponent","RefreshButtonComponent","ScrollTextareaComponent","lastSearchIndex","pos","SectionHeaderComponent","ShowOnlyUserWorkComponent","showOnlyUserWork$","userFilterChanged","userFiltered","userFilterMenuOpened","isUserMenuOpened","isExampleProject","splitInitialSize","showInfoSub","minimizedView","getVisibleAreaSizes","setSplitSizeAction","dragSub","dragProgress$","throttleTime","progress","sizes","destroy$","complete","splitSizeChange","disableInfoPanel","clickOnSplit","tagSelected","_selectionAllHasExample","selectionAllHasExample","_selectionHasExample","selectionHasExample","_selectionExamplesCount","selectionExamplesCount","DELETE_PREFIX","deleteEntities","setNumberOfSourcesToDelete","addFailedDeletedFile","addFailedDeletedFiles","deleteFileServerSources","deleteS3Sources","setFailedDeletedEntities","filesNumber$","selectNumberOfSourcesToDelete","failedFiles$","selectFilesFailedToDelete","failedEntities$","selectEntitiesFailedToDelete","isOpenEntities","entityName","bodyMessage","getMessageByEntity","filesNumber","firstTime","noFilesToDelete","totalFilesNumber","progressPercent","showFinishMessage","failedFiles","isInteger","delete","inProgress","openToggle","openToggleEntities","entitiesBreakDown","DeleteDialogEffectsBase","getEntitySelector","entities","deleteEntityApi","urlsToDelete","parseErrors","getUrlsPerProvider","urlsPerSource","pauseAutorefresh","numberOfFiles","failedEntities","fs","filePaths","misc","Be","error_data","signResponse","fromFetch","filePath","filesPerBucket","fileSrc","return_file_urls","force","deletedExperiment","urls","artifact_urls","event_urls","model_urls","delete_contents","commutativeUrls","getSourceType","gc","failedEntity","message","DeleteDialogEffects","commonDeleteDialogReducer","MatProgressBarModule","deleteEntityInitState","numberOfSourcesToDelete","failedDelete","failedEntitiesDelete","selectDeleteEntityDialog","ctx_r18","ctx_r29","EntityFooterComponent","trackByIndex","icon","className","GenericFooterItem","MenuItemTextPipe","selectionTags","countAvailableAndIsDisable","selectedElements","_selectedTags","notificationActions","totalNum","verb","abort","restore","publish","parentAction","ExperimentGraphsComponent","layout","plotlyReady$","prepareRedraw","graphInView","visibleEntries","graphsPerRow","allGraphs","allMetricGroups","calculateGraphsLayout","_hiddenList","smooth","_smoothWeight","_xAxisType","graphGroups","noGraphs","graphsData","sortGraphsData","images","allMetrics","rootMargin","observeGraphs","takeRecords","graphElements","querySelectorAll","shouldRefresh","maintainVisibleEntries","intersectionRatio","graphComponent","graphComp","identifier","alreadyDrawn","drawGraph","visEntry","isWidthBigEnough","breakPoint","minWidth","isGroupGraphs","singleGraph","metricGroup","sizeChanged","activeResizeElement","edges","rectangle","graphsNumberLimit","resizeStarted","resizeTextElement","querySelector","onResizing","SingleGraphComponent","ResizableModule","GraphDisplayerComponent","chart$","isFetchingData$","chart","isFullDetailsMode","darkTheme","modalContainer","xtypeSub","xType","chartSub","closeGraphDisplayer","xAxisTypeChanged","changeWeight","GraphSettingsBarComponent","groupByChanged","scaleSub","scaleExists","_reColorTrace","newColor","marker","colorString","isSmooth","isSmoothed","colorHSL","rgbToHsl","lighterColor","hslToRgb","_getTraceColor","addIdToDuplicateExperiments","taskId","namesHash","extractColorKey","html","div","innerHTML","getAttribute","DARK_THEME_GRAPH_LINES_COLOR","DARK_THEME_GRAPH_TICK_COLOR","originalChart","_chart","smoothnessTimeout","showLoaderOnDraw","singleGraphContainer","graphEl","drawPlotly","skipReact","previousOffsetWidth","relayout","subscribeColorButtons","chartElm","classList","formatChartLines","addParametersIfDarkTheme","font","family","plot_bgcolor","modebar","activecolor","bgcolor","hideTitle","addIterationString","isDarkTheme","xaxis","gridcolor","zerolinecolor","tickfont","yaxis","uirevision","traceorder","xanchor","yanchor","moveLegendToTitle","borderwidth","bordercolor","orientation","valign","legendConfiguration","showlegend","prototype","pad","autoexpand","align","fill","cells","xref","scatterLayoutConfig","spikecolor","showspikes","spikemode","spikesnap","spikethickness","spikedash","rangeslider","fixedrange","yaxisType","hovermode","modBarButtonsToAdd","getLogButtonTitle","getLogIcon","gd","ev","svg","tagName","attributes","getHideButtonTitle","getToggleLegendIcon","pathElement","getIcon","downloadGraphAsJson","isMaximized","maximizeButton","getMaximizeIcon","maximizeGraph","modeBarButtonsToAdd","smoothLines","timeUnit","chooseTimeUnit","escape","zeroTime","time","colorKey","generateColorKey","wrappedText","noTextWrap","wordWrap","legendStringLength","legendgroup","hoverinfo","resmoothDataset","setAxisText","newLine","smoothed","NaN","hovertext","isFinite","changed","oldColor","newColorArr","redraw","graphTitle","endOfTitlePosition","getClientRects","traces","textEl","createElementNS","textContent","layers","parentEl","attachColorChooser","getAxisText","exportName","dataStr","encodeURIComponent","downloadAnchorNode","setAttribute","ascent","descent","onOrOff","str","validateResize","object","graphsNumber","ExperimentInfoHeaderStatusIconLabelComponent","ExperimentInfoHeaderStatusProgressBarComponent","GeneralLeavingBeforeSaveAlertGuard","isDirty","inEditMode$","inEditModes","currentRoute","currentState","nextState","unGuard","MatDividerModule","MatSelectModule","MatDialogModule","MatTooltipModule","MatMenuModule","MatFormFieldModule","MatInputModule","MatCheckboxModule","MatSlideToggleModule","MatAutocompleteModule","MatChipsModule","AdvancedFilterPipe","BreadcrumbsEllipsisPipe","DurationPipe","units","calcSeconds","days","hours","minutes","seconds","FilterInternalPipe","FilterPipe","FilterLast","items","itemsCopy","FilterOutPipe","HideHashTitlePipe","HideHashPipe","HighlightSearchTextPipe","originalTerm","IdToObjectsArrayPipe","InitialsPipe","audioExtensions","videoExtensions","numberOfItems","itemName","isMultiple","MsToHoursPipe","MsToSecPipe","NAPipe","NumberToKPipe","number","showFloat","power","toFixed","ProjectLocationPipe","lastSeparator","ReplaceViaMapPipe","replaceMap","SafePipe","sanitizer","bypassSecurityTrustHtml","bypassSecurityTrustStyle","bypassSecurityTrustScript","bypassSecurityTrustResourceUrl","safeAngularUrlParameterPipe","CamelToTitlePipe","words","capitalize","word","FilenameFromPath","FloorPipe","decimalDigits","magicNum","JoinPipe","defaultSeparator","KeyvalPipe","UniqueByPipe","uniqBy","KeyValuePipe","ToExponentialPipe","toExponential","TimeTillNowPipe","now","startDate","HasExampleItemPipe","SelectOptionValueToLabelPipe","option","LabelValuePipe","FilterByIdPipe","mapTo","ToPropertyArrayPipe","property","UuidPipe","uuid","IsEmptyPipe","pipes","SortPipe","HighlightSearchPipe","TimeAgoPipe","ToPercentagePipe","SimpleFilterPipe","ShortProjectNamePipe","StringIncludedInArrayPipe","formChanged","collapsibleTitleTemplate","nameValueMap","variables","matchAll","variableArr","TemplateInjectorPipe","groupedApplicationForm","conditional","groupIndex","conditions","vt","ent","fieldVal","op","con","TestConditionalPipe","formValueChanged","invalid","GroupHasErrorsPipe","required","FormgroupHasRequiredFieldPipe","shortName","indexOfA","indexOfB","SortHumanizePipe","stingsArr","ngZone","removeTimer","abs","timeToUpdate","getSecondsUntilUpdate","run","months","years","hr","convertUTCDateToLocalDate","newDate","getTimezoneOffset","offset","getHours","setHours","SMPortalModule","PortalModule","CREATE_PROJECT_DIALOG_PREFIX","CREATE_PROJECT_ACTIONS","CREATE_NEW_PROJECT","SET_CREATION_STATUS","NAVIGATE_TO_NEW_PROJECT","creationStatus","moveProject","CreateNewProjectFormComponent","default_output_destination","_projects","projectCreated","baseProjectId","clearLocation","locationSelected","_r8","_r9","ProjectMoveToFormComponent","dismissDialog","matDialogRef","move","createProjectSelectors","createNewProjectActions","creationStatusSubscription","CREATION_STATUS","createProject","projectForm","convertFormToProject","new_location","projectsApiService","shortProjectName","projectLocation","ProjectDialogEffects","projectDialogReducer","createProjectInitState","selectCreateProjectDialog","selectProjects","selectCreationStatus","DOT_PLACEHOLDER","ColorHashService","selectColorPreferences","preferenceColors","batchUpdateColorCache","getColorCache","_colorCache","setColorCache","colorCache","getValue","red","green","blue","hexRgb","stc","setColorForString","newColorCache","filteredCache","cleanKey","updateColorCache","savePreference","cleanString","addUpdateColorPreferences","hex","rgb","RGB2HEX","getRgbString","opacity","getMonochromaticHarmony","isDarkBg","hexToRgb","originalHsl","hsl","contrast","getHslContrast","rgbArray","hslArray","hue2rgb","hsl1","hsl2","rgb1","rgb2","l1","getLuminanace","l2","base16","normalizeColorToString","openParenthisis","closingParenthisis","rgba","bigint","rgbaToValues","invertRgb","initConfigurationService","setEnv","retryWhen","throwError","env","globalEnvironment","globalEnvironmentObservable","ErrorService","template","strings","getErrorMsg","codes","result_code","result_subcode","resultMsg","result_msg","warn","LoginModeEnum","simple","ssoOnly","signupMode","clone","_guestUser","_sso","_authenticated","initCredentials","fromEnv","userKey","userSecret","companyID","getLoginMode","openServerError","getHeaders","btoa","_loginMode","getLoginSupportedModes","server_errors","shouldOpenServerError","openEs7MessageDialog","authenticated","basic","enabled","sso_providers","guest","additionalState","stateUrl","callback_url_prefix","auth0","provider","auth0Url","displayName","display_name","sso","passwordLogin","userId","headerPrefix","createUser","email","uuidV1","given_name","family_name","autoLogin","callback","serverErrors","missed_es_upgrade","es_connection_error","imgElement","Image","branding","logo","reload","serverDownMessage","centerText","clearLoginCache","afterLogin","loadPreferences","loginFlow","skipInvite","currentURL","redirectToLogin","redirectUrl","guestUser","targetUrl","history","replaceState","TagColorService","getColor","tagColor","calcColor","sum","chr","charCodeAt","predefined","setColor","background","foreground","TableModule","ClipboardModule","MatButtonToggleModule","MatSnackBarModule","NgxFilesizeModule","ChipsModule","ChooseColorModule","LoadingButtonComponent","ToggleArchiveComponent","CodeComponent","nunjucks","web","useCache","async","copied","render","CODE_TEMPLATES_PATH","codeTemplateFileName","codeResult","rerenderCode","textCopied","hack","PR","prettyPrint","item_r3","GroupedCheckedFilterListComponent","itemsList","selectedItemsList","selectedItemsListPrefix","compareByFieldFunc","_selectedItemsList","itemsObjectList","getItemsObjectList","selectionLimitReached","limitSelection","_itemsList","selectedItems","onClearSelection","toggleExpand","expanded","LabeledRowComponent","SelectableFilterListComponent","filteredList","filterList","_searchTerm","_list","onSearchTermChanged","toggleHide","newHiddenList","checkedList","hiddenChanged","toggleHideAll","SelectableGroupedFilterListComponent","hideChildrenForHiddenParent","subFiltered","subKey","apply","child","pathString","AreAllChildrenHidden","itemKey","toggleHideGroup","keyItemKey","longKey","SelectableListComponent","showList","SimpleTableComponent2","FormsTrackBy","trackById","rowsData","isRowToggleable","rowIndex","rowsConfig","collapsible","toggleRow","entryDropped","TableCardComponent","rowNumber","odd","_get","getValueFromRow","_tableSortFields","tableSortFieldsObject","sortField","tables","comps","afterTableInit","selectionState","allItemsAreSelected","headerCheckboxClicked","selectionUnion","isRowSelected","setContextMenuStatus","menuStatus","shiftKey","index1","index2","tableAllFiltersChanged","ctx_r35","TableCardFilterTemplateComponent","_value","onFilterChanged","newValues","addOrRemoveFromArray","itemValue","filterMatch","emitFilterChangedCheckBox","onSubFilterChanged","subValue","subFilterChanged","isFiltered","isOptionFiltered","setSearchTerm","searchTerms","clearSearch","toggleCombination","getColumnByOption","emptyDuration","TableDurationSortBase","updateValue","greaterThan","lessThan","isFirstTimeUpdate","_updateValue","dataInputOutputHelper","decodeFromServerData","parseServerDataFunction","shouldValidate","setCheckBox","checkBoxName","validateAfterChanges","timeStampChanged","valueName","checkIfSameValues","isValidAfterChanges","hasTimeError","onHasError","updateState","resetValues","encodeToServerData","prepareDataToServerFunction","positions","useOldValues","getValueOrDefault","MY_DATE_FORMATS","dateInput","display","monthYearLabel","dateA11yLabel","monthYearA11yLabel","TableFilterDurationDateTimeComponent","hasGreaterThanValue","_greaterThan","isFakeNowCheckbox","_lessThan","myDate","isNil","toISOString","lessThanValue","greaterThanValue","lessThanDate","greaterThanDate","mutedDateToNoHourMinutesSeconds","greaterThanTime","getTimeInSecondsFromDate","onDateHandler","MINIMUM_TIME_DISPLAY","onTimeHandler","privateParameters","combineDateAndTimeAndEmitValue","timeInSeconds","timeObject","parameterName","onResetToDateInput","onResetHandler","privateParam","onAutoFillCurrentTimeHandler","currentTime","timeInSecondsFromDate","onFakeNowCheckbox","provide","MAT_DATE_LOCALE","useValue","MAT_DATE_FORMATS","_date","setSeconds","setMinutes","getSeconds","getMinutes","TableFilterDurationErrorComponent","TableFilterDurationNumericComponent","greaterThan$","iterationsForm","lessThan$","merge","getDurationValue","TableFilterDurationComponent","ctx_r30","ctx_r31","TableFilterSortTemplateComponent","enableSort","enableFilter","enableSearch","supportAndFilter","supportExcludeFilter","formControl","switchSortOrder","sortOrderChanged","sortedClass","isSorted","emitFilterChanged","lazy","onLazyLoad","createLazyLoadMetadata","filteredValue","localMatch","globalMatch","filterMeta","filterField","dataFieldValue","resolveFieldData","filterConstraints","excludeGlobalFilter","paginator","totalRecords","updateDataToRender","onFilter","sortColumn","preventSortPropagation","sortFunction","data1","data2","value1","value2","ResizableColumnDirective","ResizableColumn","resizer","fromEvent","calcWidth","dt","onColumnResizeBegin","onColumnResize","pageX","onColumnResizeEnd","column","cellIndex","rows","getElementsByTagName","dummyContainer","cloneItemIntoDummy","eCell","eDummyContainer","eCellClone","cloneNode","eCloneParent","ctx_r50","loadMoreDebouncer","loadMoreSubscription","loadMoreClicked","tableData","rowsNumber","_tableData","columnsOrder","_columnsOrder","orderColumns","_columns","minView","delay","updateFilter","_filters","firstChanged","resizeTimer","updateLoadButton","resizableColumns","totalWidth","scrollableBody","getElementsByClassName","resizeColumnElement","resizeTableCells","tableViewChild","keyDownHandler","keyboardControl","incrementIndex","scrollIntoView","block","inline","gotTable","onscroll","waiting","tableComp","loadButtons","loadButton","ngAfterContentInit","templates","getType","bodyTemplate","headerTemplate","sortTemplate","cardTemplate","sortFilterTemplate","checkboxTemplate","cardHeaderTemplate","footerTemplate","menu","sortChanged","onRowSelected","rowSelectionChanged","originalEvent","onRowDeselected","scrollToVirtualIndex","onFirstChanged","openContext","onRowRightClick","contextMenuSelection","trackByFunction","locateInTable","selectedTask","getBodyData","getCurrentIndex","noMoreData","nextSelected","onColReorder","columnsList","colReordered","checkedItems","buttonLeft","custumFilterFunc","sortSingle","custumSortSingle","colResize","newWidth","sortItemClick","getOrder","PrimeTemplate","Table","ASC","DESC","VerticalLabeledRowComponent","CHOOSE_COLOR_PREFIX","showColorPicker","ChooseColorDirective","colorTopOffset","defaultColor","_defaultColor","defaultColorString","onMouseDown","onClick","colorButtonClass","colorButtonRef","openColorPicker","pageY","colorPickerHeight","documentElement","colorPickerWidth","innerWidth","theme","cacheKey","stringToColor","alpha","colorPickerWithAlpha","buttonElement","withAlpha","directive","ElementRef","listener","removeEventListener","addEventListener","colorSyncedKeys","ColorPickerModule","colorPreferenceReducer","colorsPreference","colorPreferences","selectColorPickerProps","pickerProps","reducer","ClickStopPropagationDirective","EllipsisMiddleDirective","txt","innerText","scrollWidth","cropTextToFit","timeoutSubscription","HesitateDirective","cancel","hesitateStatus","handleTimerThreshold","runGuarded","hesitateEvents","listeners","listen","handleMouseenter","handleMousedown","handleMouseleave","KeydownStopPropagationDirective","OverflowsDirective","_host","isEllipsisWithTimeDelay","onDestroySubscription$","isEllipsis","hasOverflow","lastResult","onOverflows","ImmutableFormField","formDataUpdated","checkValidity","errorsChanged","fieldName","hasErrors","getCurrentError","showErrors","errorMessages","activeErrors","validators","validatorFn","CheckboxControlComponent","inputClassName","isReadonly","special","isString","CircleCounterComponent","CircleStatusComponent","CopyClipboardComponent","DividerComponent","setCssVar","valueInPx","SnippetErrorComponent","content","_copyContent","baseFile","TagComponent","TooltipDirective","MatTooltip","HELP","VALIDATION","tooltipClass","tooltipType","customClass","MAT_TOOLTIP_DEFAULT_OPTIONS","ButtonToggleComponent","valueChangesSubs","valueChanged","ColorPickerWrapperComponent","colorHashService","propsSub","selectColor","DurationInputBase","TemplateFormSectionBase","ms","valueFromInherit","ngModelValue","_val","returnFactor","onEditing","msToHMSMS","H","convertedMs","toThreeDigits","toTwoDigits","currentTimeInMs","hasTimes","onChangePartial","onChange","onDurationChanged","checkChars","isNumbers","focusOutInput","_r6","maxLengthMapper","maxLength","DurationInputListComponent","DurationInput","trackBy","durationValue","setValues","setNextInputFocus","elReference","setPreviousInputFocus","NG_VALUE_ACCESSOR","useExisting","forwardRef","multi","InlineEditComponent","inlineCanceled","inlineValue","originalText","inlineActiveStateChanged","inlineSaved","inlineInput","textChanged","inlineActivated","templateWidth","cancelClick","shouldSave","stopProp","SearchComponent","searchBarInput","value$","empty","debounce","minimumChars","jump","searchCounterIndex","updateActive","expandOnHover","focusInput","focused","AlertDialogComponent","alertMessage","alertSubMessage","moreInfo","okMessage","resultMessage","_moreInfo","moreInfoEntities","_resultMessage","isAnnotationTask","iconData","codeSnippet","DialogTemplateComponent","onXPressed","closeOnX","xClicked","jsonPipe","validateJson","placeHolder","_readOnly","ctrlKey","initAceEditor","aceEditor","ace","aceEditorElement","setOptions","showLineNumbers","showGutter","fontSize","highlightActiveLine","highlightSelectedWord","showPrintMargin","setScrollMargin","setPadding","session","setMode","setTheme","getSession","JsonPipe","useClass","decls","OperationErrorDialogComponent","failedList","getName","OverlayComponent","sharedSubtitle","privateSubtitle","createLink","share","SpinnerComponent","loading$","spinnerSubscribe","loaders","showSpinner","navEndSubscription","NavigationStart","UpdateNotifierComponent","availableUpdates","areAvailableUpdates","newer_available","newVersionUrl","newVersionName","_availableUpdates","dismissedVersion","notifierActive","dismiss","versionDismissed","CardComponent","setShowSecondTab","showSecondTab","setSecondTabHover","isHovered","secondTabIsHovered","setHighlightFirstTab","highlight","highlightFirstTab","CheckboxState","CheckboxThreeStateListComponent","exclude","currentFilter","_checkedList","indeterminateState","excludeList","_excludeList","checkIndeterminateStateAndEmit","getExcludedValues","Boolean","_exclude","CompareFooterComponent","EditableSectionComponent","_saving","openDialogs","disableSave","saveSection","editMode","listenScrollEvent","unsubscribeToEventListener","S","scrollSub","getEdges","initHeight","initBottom","factor","scroll$","passive","currentBottom","isDownDirection","isTopEdge","isBottomEdge","scrolledMoreThanHeight","ExperimentCardComponent","experimentClicked","experimentCardClicked","MenuItemComponent","itemClickedEvent","itemClicked","buttonClickedEvent","selectable","removeItem","removeItemClicked","MenuComponent","movePosition","_position","isMenuOpen","showOverlay","openOnInit","searchValue","ModelCardComponent","modelClicked","modelCardClicked","numberOfLabels","NavbarItemComponent","PlusCardComponent","plusCardClicked","plusCardClick","ProjectCardComponent","_project","computeTime","convertSecToDaysHrsMinsSec","secs","dayInSec","projectClicked","projectNameActive","projectNameEditActiveChanged","subProjectClicked","prepareProjectNameForChange","TagListComponent","colorService","tagsList","caption","colorObservable","disableRemove","trackFn","TagsMenuComponent","openTagColors","nameInput","projectTagsFilterToggle","UserTagComponent","onRemoveClicked","InvalidPrefixValidatorDirective","validate","invalidPrefix","NG_VALIDATORS","onTouch","writeValue","registerOnChange","fn","registerOnTouched","setDisabledState","isDisabled","UniqueNameValidatorDirective","existingNames","forbiddenPrefix","valuePrefix","forbidden","uniqueName","UniquePathValidatorDirective","existingPaths","uniquePath","GroupedSelectableListComponent","isFlatList","toggleExpandedAll","buildingNestedList","isHideAllMode","groupCheck","onGroupCheck","selectedItem","panelH","onItemSelect","_toggle","ContextMenuModule","MatDatepickerModule","MatNativeDateModule","lengthChanged","previousLength","fallbackValue","CRC_TABLE","ext","uriArray","selectedItemsIds","arrItem","getCssTheme","nodeType","String","initialValue","finalXORValue","crc","RangeError","limit","getScaleFactor","isMac","navigator","platform","isWin","screenHeight","dimensionRatio","check","userAgent","vendor","opera","chrome","safari","screen","currentSortField","newField","getValueTypeName","encodeFilters","A","arr1","arr2","returnArray","mainCols","headerParts","colParts","ANNOTATOR_INDEX_TAG_PREFIX","ANNOTATED_NUMBER_TAG_PREFIX","ARTIFACTS_TYPES","AUDIT_LOG","Model","_mergeVariants","modelDesc","modelDes","desKeys","plot_str","graphGroup","plot","existingGraph","plotParsed","basePlotParsed","toMerge","graphsMap","multiPlots","isMultipleVarients","graphsPerVariant","mixedPlot","duplicateNamesObject","shortExpId","multiplotsAddChartToGroup","allowedTypes","fullName","isMultipleTasks","barmode","newLineStr","done","_testWhite","white","timesConst","timeStringPlural","lastIndex","UserPreferences","userService","removeFromLocalStorage","preferences","pref","checkIfFirstTimeLoginAndSaveData","cleanPreferencesInPreferences","prefsString","prefs","replaceDots","saveToServer","getPreferences","isReady","firstLoginTime","setItem","partialPreferences","loadUserAndPreferences","loginService","Promise","providerName","production","productName","demo","versionConf","loginNotice","loginBanner","whiteLabelLogo","whiteLabelLink","whiteLabelLoginTitle","whiteLabelLoginSubtitle","whiteLabelSlogan","communityContext","GTM_ID","hideUpdateNotice","showSurvey","legal","TOULink","plotlyURL","slackLink","logoSmall","ApiServerService","serverConfig","serverEndpoints","serverGetStats","serverInfo","serverReportStatsOption","ApiOrganizationService","organizationGetTags","organizationGetUserCompanies","BusinessLogicModule","ServerUpdatesService","serverService","resetUpdateState","checkServerForUpdate","serverPath","nextUpdateCheckTime","infoRes","uid","server_uuid","versions","updateRes","timeGap","checkForUpdates","initialized","setInterval","setDismissedVersion","dismissSurvey","commonInitState","selectAvailableUpdates","selectUserSettingsNotificationPath","UiUpdateDialogComponent","UiUpdatesService","checkForUiUpdate","checkForUpdate","onlineVersionFile","updateDialog","setUsageStats","updateUsageStats","currVersion","allowedVersion","_statsReducer","selectSendStats","userStatsFeatureKey","selectAllowed","selectCurrentVersion","selectAllowedVersion","selectPromptUser","currentVer","allowedVer","UsageStatsService","prompt","TipOfTheDayModalComponent","tips","hideDontShow","visitedIndex","tipIndex","saveIndexInLocalstorage","prev","TipsService","global","initTipsService","showAllTips","nextTimeToShowTips","tipsConfig","features","tipsFiltered","onboarding","tip","neverShowAgainSub","tos","urlConfig","allTips","isTimeHavePassed","showTipsModal","modalRef","neveShowAgain","ServerNotificationDialogContainerComponent","notificationSubscription","NotifierQueueService","actionStream","actionQueue","isActionInProgress","tryToRunNextAction","continue","shift","NotifierConfigToken","NotifierService","notifierQueueService","queueService","getConfig","notificationOptions","subject","notificationId","hideNewest","hideOldest","hideAll","notify","fade","to","slide","getShift","horizontal","distance","horizontalPosition","vertical","NotifierAnimationService","animationPresets","getAnimationData","keyframes","duration","easing","animations","preset","speed","NotifierTimerService","remaining","start","finishPromiseResolver","pause","timerId","finish","stop","NotifierNotificationComponent","notifierService","notifierTimerService","notifierAnimationService","timerService","animationService","elementShift","setup","elementHeight","elementWidth","getHeight","getWidth","animationData","animatedProperties","animate","onfinish","startAutoHideTimer","stopAutoHideTimer","actionsClicked","shiftToMakePlace","newElementShift","gap","onActionClick","userAction","onClickDismiss","onNotificationMouseover","behaviour","onMouseover","pauseAutoHideTimer","onNotificationMouseout","continueAutoHideTimer","onNotificationClick","getAutoHide","autoHide","default","shouldAutoHide","NotifierContainerComponent","notifications","queueServiceSubscription","handleAction","identifyNotification","onNotificationDismiss","onNotificationReady","notificationComponent","currentNotification","continueHandleShowAction","handleShowAction","handleHideAction","handleHideOldestAction","handleHideNewestAction","handleHideAllAction","tempPromiseResolver","addNotificationToList","NotifierNotification","numberOfNotifications","implicitStackingLimit","stacking","removeNotificationFromList","stepPromises","oldNotifications","overlap","shiftNotifications","findNotificationById","notificationIndex","findNotificationIndexById","removeAllNotificationsFromList","toMakePlace","notificationPromises","SideNavComponent","faCoffee","faBug","faHatWizard","faFlushed","faBalanceScaleLeft","SearchDeactivate","_r26","BreadcrumbsComponent","cd","isDeep$","confSub","isDeepSub","breadcrumbsSubscription","breadcrumbsStrings","previousProjectNames","refreshBreadcrumbs","workspaceNeutral","breadcrumbs","getRouteName","getRouteId","isProject","rootCrumb","openShareModal","currentUrl","checkIfBreadcrumbsInitiated","subProjectsMenuOpened","subProjectsMenuIsOpen","CommonSearchComponent","isSearching$","searchPlaceholder$","NavigationEnd","setSearchActive","queryString","openSearch","closeTimer","searchElem","SetIsSearching","searchActive","toggleRegExp","minChars","HeaderUserMenuActionsComponent","HeaderComponent","tipsService","userNotificationPath","invitesPending$","getRotueData","userFocus","isDashboard","openTip","openWelcome","openAppsAwareness","appsYouTubeIntroLink","AppComponent","titleService","serverUpdatesService","uiUpdatesService","userStats","loggedOut$","updatesAvailable$","selectedCurrentUser$","selectedProjectFromUrl$","gtmService","GoogleTagManagerService","onVisibilityChange","beforeunloadHandler","hideUpdate","pushTag","pageName","routerActions","updateTitle","selectedCurrentUserSubscription","loginTime","urlSubscription","isLoginContext","isWorkersContext","activeFeature","setScale","loadPlotly","nameChanged","changeRoute","backToProjects","crumbs","dynamicCrumb","setTitle","showNotification","onerror","crossOrigin","head","loadChildren","DashboardModule","LoginModule","metVar","parseUrl","ProjectRedirectGuardGuard","ProjectInfoModule","WorkersAndQueuesModule","NotFoundModule","S3AccessDialogComponent","isAzure","secret","saveNewCredentials","formIsSubmitted","S3NGForm","closeSave","closeCancel","S3AccessResolverComponent","s3Credentials","credentialsError","AdminDialogTemplateComponent","contetElement","textContent$","_newCredential","exampleText","CreateCredentialDialogComponent","CommonAuthEffects","credentialsApi","authActions","additional_credentials","signAfterPopup","dontShowAgain","openPopup","emptyCredentials","finalize","customOptions","showDismissButton","NotifierOptionsToken","NotifierConfig","NotifierModule","withConfig","ngModule","providers","deps","useFactory","notifierCustomConfigFactory","notifierDefaultConfigFactory","taskService","modelService","parseError","getAllEntity","alertDialogRef","lastTS","subcode","closeAll","bufferTime","messages","message403","errorData","access","un","Wt","ft","regexMatch","LayoutEffects","So","gn","TagColorMenuComponent","setForeground","setBackground","currTag","ALL_PROJECTS_OBJECT","orgApi","resultsActions","lastUpdateSoFar","include_system","RouterEffects","SetRouterSegments","getRouterUrl","getRouterParams","getRouterConfig","CommonUserEffects","errorService","get_supported_features","redirect_url","server","build","api","api_version","updated","firstRun","syncedKeys","actionsPrefix","timeout","savedState","ap","pick","fetchingExampleExperiment","setLoginError","loginReducer","authReducer","CookiesService","platformId","documentIsAccessible","isPlatformBrowser","getCookieRegExp","cookie","exec","getAll","cookies","currentCookie","domain","secure","sameSite","cookieString","toUTCString","deleteAll","cookieName","escapedName","PLATFORM_ID","UserEffects","cookiesService","authService","current_version","enabled_version","initTasks","routerReducer","recentTasks","viewState","commonViewReducer","ROOT_PROJECTS_PREFIX","localStorageReducer","userPrefMetaFactory","createUserPrefReducer","SMCoreModule","USER_PROVIDED_META_REDUCERS","DEFAULT_CURRENCY_CODE","runtimeChecks","strictStateImmutability","strictActionImmutability","strictStateSerializability","strictActionSerializability","CommonProjectsEffect","StoreDevtoolsModule","maxAge","WebappInterceptor","intercept","setHeaders","handle","errorHandler","terms_of_use","redirect","CustomReuseStrategy","calcKey","pathFromRoot","shouldDetach","reuse","handlers","shouldAttach","retrieve","shouldReuseRoute","future","compareObjects","baseProperty","AppModule","bootstrap","MAT_FORM_FIELD_DEFAULT_OPTIONS","floatLabel","APP_INITIALIZER","HTTP_INTERCEPTORS","RouteReuseStrategy","BrowserAnimationsModule","BrowserModule","preloadingStrategy","PreloadAllModules","scrollPositionRestoration","onSameUrlNavigation","relativeLinkResolution","enableProdMode","serviceWorker","getRegistrations","registrations","registration","unregister","savedData","savedJson","O","__NgCli_bootstrap_1","bootstrapModule"],"sources":["webpack:///$_lazy_route_resources|lazy|groupOptions:%20%7B%7D|namespace%20object","webpack:///src/app/app.constants.ts","webpack:///src/app/business-logic/api-services/api-requests.service.ts","webpack:///src/app/business-logic/api-services/auth.service.ts","webpack:///src/app/business-logic/api-services/events.service.ts","webpack:///src/app/business-logic/api-services/login.service.ts","webpack:///src/app/business-logic/api-services/models.service.ts","webpack:///src/app/business-logic/api-services/projects.service.ts","webpack:///src/app/business-logic/api-services/queues.service.ts","webpack:///src/app/business-logic/api-services/tasks.service.ts","webpack:///src/app/business-logic/api-services/users.service.ts","webpack:///src/app/business-logic/api-services/workers.service.ts","webpack:///src/app/business-logic/configuration.ts","webpack:///src/app/business-logic/model/events/scalarKeyEnum.ts","webpack:///src/app/business-logic/model/projects/projectsGetAllExRequest.ts","webpack:///src/app/business-logic/model/tasks/taskStatusEnum.ts","webpack:///src/app/business-logic/model/tasks/taskTypeEnum.ts","webpack:///src/app/business-logic/services/models.service.ts","webpack:///src/app/business-logic/services/tasks.service.ts","webpack:///src/app/business-logic/variables.ts","webpack:///src/app/core/actions/users.action.ts","webpack:///src/app/core/reducers/users.reducer.ts","webpack:///src/app/webapp-common/experiments/shared/components/experiment-menu/experiment-menu.component.html","webpack:///src/app/features/experiments/containers/experiment-menu-extended/experiment-menu-extended.component.ts","webpack:///src/app/features/experiments/experiments.consts.ts","webpack:///src/app/webapp-common/shared/entity-page/footer-items/reset-footer-item.ts","webpack:///src/app/webapp-common/shared/entity-page/footer-items/enqueue-footer-item.ts","webpack:///src/app/webapp-common/shared/entity-page/footer-items/abort-footer-item.ts","webpack:///src/app/webapp-common/shared/entity-page/footer-items/dequeue-footer-item.ts","webpack:///src/app/webapp-common/shared/entity-page/footer-items/abort-all-footer-item.ts","webpack:///src/app/webapp-common/experiments/dumb/select-hyper-params-for-custom-col/select-hyper-params-for-custom-col.component.ts","webpack:///src/app/webapp-common/experiments/dumb/select-hyper-params-for-custom-col/select-hyper-params-for-custom-col.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiment-custom-cols-menu/experiment-custom-cols-menu.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiment-custom-cols-menu/experiment-custom-cols-menu.component.ts","webpack:///src/app/webapp-common/experiments/dumb/experiment-header/experiment-header.component.ts","webpack:///src/app/webapp-common/experiments/dumb/experiment-header/experiment-header.component.html","webpack:///src/app/webapp-common/experiments/experiments.component.ts","webpack:///src/app/webapp-common/experiments/experiments.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiment-general-info/experiment-general-info.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiment-general-info/experiment-general-info.component.ts","webpack:///src/app/webapp-common/experiments/dumb/experiment-info-edit-description/experiment-info-edit-description.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiment-info-edit-description/experiment-info-edit-description.component.ts","webpack:///src/app/webapp-common/experiments/dumb/experiment-info-header/experiment-info-header.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiment-info-header/experiment-info-header.component.ts","webpack:///src/app/features/experiments/containers/experiment-info/experiment-info.component.ts","webpack:///src/app/features/experiments/containers/experiment-info/experiment-info.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiment-execution-source-code/experiment-execution-source-code.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiment-execution-source-code/experiment-execution-source-code.component.ts","webpack:///src/app/webapp-common/experiments/containers/experiment-info-execution/experiment-info-execution.component.html","webpack:///src/app/webapp-common/experiments/containers/experiment-info-execution/experiment-info-execution.component.ts","webpack:///src/app/webapp-common/experiments/dumb/experiment-artifacts-navbar/experiment-artifacts-navbar.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiment-artifacts-navbar/experiment-artifacts-navbar.component.ts","webpack:///src/app/webapp-common/experiments/containers/experiment-info-aritfacts/experiment-info-artifacts.component.html","webpack:///src/app/webapp-common/experiments/containers/experiment-info-aritfacts/experiment-info-artifacts.component.ts","webpack:///src/app/webapp-common/select-model/select-model.actions.ts","webpack:///src/app/webapp-common/select-model/select-model.reducer.ts","webpack:///src/app/webapp-common/select-model/select-model.component.ts","webpack:///src/app/webapp-common/select-model/select-model.component.html","webpack:///src/app/webapp-common/experiments/dumb/base-clickable-artifact.component.ts","webpack:///src/app/webapp-common/experiments/dumb/experiment-models-form-view/experiment-models-form-view.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiment-models-form-view/experiment-models-form-view.component.ts","webpack:///src/app/webapp-common/experiments/dumb/experiment-network-design-form/experiment-network-design-form.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiment-network-design-form/experiment-network-design-form.component.ts","webpack:///src/app/webapp-common/experiments/containers/experiment-info-model/experiment-info-model.component.html","webpack:///src/app/webapp-common/experiments/containers/experiment-info-model/experiment-info-model.component.ts","webpack:///src/app/webapp-common/experiments/dumb/experiment-artifact-item-view/experiment-artifact-item-view.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiment-artifact-item-view/experiment-artifact-item-view.component.ts","webpack:///src/app/webapp-common/experiments/containers/experiment-info-artifact-item/experiment-info-artifact-item.component.html","webpack:///src/app/webapp-common/experiments/containers/experiment-info-artifact-item/experiment-info-artifact-item.component.ts","webpack:///src/app/webapp-common/experiments/dumb/experiment-hyper-params-navbar/experiment-hyper-params-navbar.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiment-hyper-params-navbar/experiment-hyper-params-navbar.component.ts","webpack:///src/app/webapp-common/experiments/containers/experiment-info-hyper-parameters/experiment-info-hyper-parameters.component.ts","webpack:///src/app/webapp-common/experiments/containers/experiment-info-hyper-parameters/experiment-info-hyper-parameters.component.html","webpack:///src/app/webapp-common/experiments/containers/experiment-info-task-model/experiment-info-task-model.component.html","webpack:///src/app/webapp-common/experiments/containers/experiment-info-task-model/experiment-info-task-model.component.ts","webpack:///src/app/webapp-common/experiments/dumb/experiment-execution-parameters/experiment-execution-parameters.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiment-execution-parameters/experiment-execution-parameters.component.ts","webpack:///src/app/webapp-common/experiments/containers/experiment-info-hyper-parameters-form-container/experiment-info-hyper-parameters-form-container.component.html","webpack:///src/app/webapp-common/experiments/containers/experiment-info-hyper-parameters-form-container/experiment-info-hyper-parameters-form-container.component.ts","webpack:///src/app/webapp-common/experiments/containers/experiment-info-general/experiment-info-general.component.ts","webpack:///src/app/webapp-common/experiments/containers/experiment-info-general/experiment-info-general.component.html","webpack:///src/app/webapp-common/experiments/containers/experiment-ouptut/base-experiment-output.component.ts","webpack:///src/app/features/experiments/containers/experiment-ouptut/experiment-output.component.html","webpack:///src/app/features/experiments/containers/experiment-ouptut/experiment-output.component.ts","webpack:///src/app/webapp-common/experiments/containers/experiment-output-scalars/experiment-output-scalars.component.html","webpack:///src/app/webapp-common/experiments/containers/experiment-output-scalars/experiment-output-scalars.component.ts","webpack:///src/app/webapp-common/experiments/containers/experiment-output-plots/experiment-output-plots.component.html","webpack:///src/app/webapp-common/experiments/containers/experiment-output-plots/experiment-output-plots.component.ts","webpack:///src/app/webapp-common/experiments/dumb/experiment-log-info/experiment-log-info.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiment-log-info/experiment-log-info.component.ts","webpack:///src/app/webapp-common/experiments/containers/experiment-output-log/experiment-output-log.component.html","webpack:///src/app/webapp-common/experiments/containers/experiment-output-log/experiment-output-log.component.ts","webpack:///src/app/features/experiments/experiments-routing.module.ts","webpack:///src/app/webapp-common/experiments/experiment-routes.ts","webpack:///src/app/webapp-common/select-model/select-model.effects.ts","webpack:///src/app/webapp-common/select-model/select-model.module.ts","webpack:///src/app/features/experiments/effects/experiment-output.effects.ts","webpack:///src/app/features/experiments/effects/experiments-menu.effects.ts","webpack:///src/app/features/experiments/experiments.module.ts","webpack:///src/app/features/experiments/reducers/experiments-view.reducer.ts","webpack:///src/app/webapp-common/experiments/reducers/common-experiment-info.reducer.ts","webpack:///src/app/features/experiments/reducers/experiment-info.reducer.ts","webpack:///src/app/features/experiments/reducers/experiment-output.reducer.ts","webpack:///src/app/features/experiments/reducers/index.ts","webpack:///src/app/features/experiments/shared/experiment-execution.model.ts","webpack:///src/app/features/experiments/shared/experiment-shared.module.ts","webpack:///src/app/features/experiments/shared/experiments.const.ts","webpack:///src/app/features/experiments/shared/experiments.utils.ts","webpack:///src/app/features/experiments/shared/services/experiment-converter.service.ts","webpack:///src/app/features/experiments/shared/services/experiment-reverter.service.ts","webpack:///src/app/webapp-common/models/containers/model-menu/model-menu.component.html","webpack:///src/app/webapp-common/models/containers/model-menu/model-menu.component.ts","webpack:///src/app/features/models/containers/model-menu-extended/model-menu-extended.component.ts","webpack:///src/app/features/models/feature-models.module.ts","webpack:///src/app/features/projects/containers/project-card-menu-extended/project-card-menu-extended.component.ts","webpack:///src/app/webapp-common/shared/ui-components/panel/project-card-menu/project-card-menu.component.html","webpack:///src/app/features/projects/projects-page.utils.ts","webpack:///src/app/webapp-common/projects/dumb/projects-list/projects-list.component.html","webpack:///src/app/webapp-common/projects/dumb/projects-list/projects-list.component.ts","webpack:///src/app/webapp-common/projects/dumb/projects-header/projects-header.component.html","webpack:///src/app/webapp-common/projects/dumb/projects-header/projects-header.component.ts","webpack:///src/app/features/projects/projects-routing.module.ts","webpack:///src/app/webapp-common/projects/containers/projects-page/common-projects-page.component.ts","webpack:///src/app/webapp-common/projects/containers/projects-page/common-projects-page.component.html","webpack:///src/app/features/projects/projects.module.ts","webpack:///src/app/features/projects/projects.reducer.ts","webpack:///src/app/features/projects/shared/projects-shared.module.ts","webpack:///src/app/webapp-common/settings/admin/profile-name/profile-name.component.html","webpack:///src/app/webapp-common/settings/admin/profile-name/profile-name.component.ts","webpack:///src/app/webapp-common/settings/admin/s3-access/s3-access.component.html","webpack:///src/app/webapp-common/settings/admin/s3-access/s3-access.component.ts","webpack:///src/app/webapp-common/settings/admin/profile-key-storage/profile-key-storage.component.ts","webpack:///src/app/webapp-common/settings/admin/profile-key-storage/profile-key-storage.component.html","webpack:///src/app/webapp-common/settings/webapp-configuration/webapp-configuration.component.ts","webpack:///src/app/webapp-common/settings/webapp-configuration/webapp-configuration.component.html","webpack:///src/app/features/settings/containers/admin/user-data/user-data.component.ts","webpack:///src/app/webapp-common/settings/admin/admin-credential-table.base.ts","webpack:///src/app/webapp-common/settings/admin/admin-credential-table/admin-credential-table.component.html","webpack:///src/app/webapp-common/settings/admin/admin-credential-table/admin-credential-table.component.ts","webpack:///src/app/features/settings/containers/admin/user-credentials/user-credentials.component.html","webpack:///src/app/features/settings/containers/admin/user-credentials/user-credentials.component.ts","webpack:///src/app/webapp-common/settings/workspace-configuration/workspace-configuration.component.ts","webpack:///src/app/webapp-common/settings/workspace-configuration/workspace-configuration.component.html","webpack:///src/app/features/settings/containers/admin/admin-footer-actions/admin-footer-actions.component.ts","webpack:///src/app/webapp-common/settings/admin/admin-footer/admin-footer.component.html","webpack:///src/app/webapp-common/settings/admin/admin-footer/admin-footer.component.ts","webpack:///src/app/features/settings/settings-routing.module.ts","webpack:///src/app/features/settings/settings.component.ts","webpack:///src/app/features/settings/settings.component.html","webpack:///src/app/features/settings/settings.module.ts","webpack:///src/app/layout/breadcrumbs/breadcrumbs.utils.ts","webpack:///src/app/layout/layout.module.ts","webpack:///src/app/shared/constants/non-common-consts.ts","webpack:///src/app/shared/directives/check-permission.directive.ts","webpack:///src/app/shared/services/login.service.ts","webpack:///src/app/shared/shared.module.ts","webpack:///src/app/shared/utils/url.ts","webpack:///src/app/webapp-common/common-search/common-search.actions.ts","webpack:///src/app/webapp-common/common-search/common-search.module.ts","webpack:///src/app/webapp-common/common-search/common-search.reducer.ts","webpack:///src/app/webapp-common/constants.ts","webpack:///src/app/webapp-common/core/actions/common-auth.actions.ts","webpack:///src/app/webapp-common/core/actions/http.actions.ts","webpack:///src/app/webapp-common/core/actions/layout.actions.ts","webpack:///src/app/webapp-common/core/actions/projects.actions.ts","webpack:///src/app/webapp-common/core/actions/router.actions.ts","webpack:///src/app/webapp-common/core/actions/users.actions.ts","webpack:///src/app/webapp-common/core/reducers/common-auth-reducer.ts","webpack:///src/app/webapp-common/core/reducers/projects.reducer.ts","webpack:///src/app/webapp-common/core/reducers/router-reducer.ts","webpack:///src/app/webapp-common/core/reducers/users-reducer.ts","webpack:///src/app/webapp-common/core/reducers/view.reducer.ts","webpack:///src/app/webapp-common/core/services/sync-state-selector.service.ts","webpack:///src/app/webapp-common/dashboard-search/dashboard-search.actions.ts","webpack:///src/app/webapp-common/dashboard-search/dashboard-search.consts.ts","webpack:///src/app/webapp-common/dashboard/dumb/welcome-message/welcome-message.component.html","webpack:///src/app/webapp-common/dashboard/dumb/welcome-message/welcome-message.component.ts","webpack:///src/app/webapp-common/debug-images/debug-image-snippet/debug-image-snippet.component.html","webpack:///src/app/webapp-common/debug-images/debug-image-snippet/debug-image-snippet.component.ts","webpack:///src/app/webapp-common/debug-images/debug-images-actions.ts","webpack:///src/app/webapp-common/debug-images/debug-images-effects.ts","webpack:///src/app/webapp-common/debug-images/debug-images-reducer.ts","webpack:///src/app/webapp-common/debug-images/debug-images-view/debug-images-view.component.html","webpack:///src/app/webapp-common/debug-images/debug-images-view/debug-images-view.component.ts","webpack:///src/app/webapp-common/debug-images/debug-images.component.html","webpack:///src/app/webapp-common/debug-images/debug-images.component.ts","webpack:///src/app/webapp-common/debug-images/debug-images.module.ts","webpack:///src/app/webapp-common/experiments-compare/actions/compare-header.actions.ts","webpack:///src/app/webapp-common/experiments-compare/actions/experiments-compare-charts.actions.ts","webpack:///src/app/webapp-common/experiments-compare/actions/experiments-compare-details.actions.ts","webpack:///src/app/webapp-common/experiments-compare/actions/experiments-compare-metrics-values.actions.ts","webpack:///src/app/webapp-common/experiments-compare/actions/experiments-compare-params.actions.ts","webpack:///src/app/webapp-common/experiments-compare/actions/experiments-compare-scalars-graph.actions.ts","webpack:///src/app/webapp-common/experiments-compare/containers/select-experiments-for-compare/select-experiments-for-compare.component.ts","webpack:///src/app/webapp-common/experiments-compare/containers/select-experiments-for-compare/select-experiments-for-compare.component.html","webpack:///src/app/webapp-common/experiments-compare/dumbs/experiment-compare-header/experiment-compare-header.component.html","webpack:///src/app/webapp-common/experiments-compare/dumbs/experiment-compare-header/experiment-compare-header.component.ts","webpack:///src/app/webapp-common/experiments-compare/experiments-compare.component.ts","webpack:///src/app/webapp-common/experiments-compare/experiments-compare.component.html","webpack:///src/app/webapp-common/experiments-compare/services/tree-builder.service.ts","webpack:///src/app/webapp-common/experiments-compare/experiments-compare.constants.ts","webpack:///src/app/webapp-common/experiments-compare/jsonToDiffConvertor.ts","webpack:///src/app/features/experiments-compare/experiment-compare-utils.ts","webpack:///src/app/webapp-common/experiments-compare/containers/experiment-compare-base.ts","webpack:///src/app/features/experiments-compare/experiments-compare-details.base.ts","webpack:///src/app/webapp-common/experiments-compare/dumbs/compare-card-body.directive.ts","webpack:///src/app/webapp-common/experiments-compare/dumbs/compare-card-extra-header.directive.ts","webpack:///src/app/webapp-common/experiments-compare/dumbs/compare-card-header.directive.ts","webpack:///src/app/webapp-common/shared/ui-components/panel/drawer/drawer.component.html","webpack:///src/app/webapp-common/shared/ui-components/panel/drawer/drawer.component.ts","webpack:///src/app/webapp-common/shared/ui-components/panel/card2/card-component2.component.html","webpack:///src/app/webapp-common/shared/ui-components/panel/card2/card-component2.component.ts","webpack:///src/app/webapp-common/experiments-compare/dumbs/compare-card-list/compare-card-list.component.html","webpack:///src/app/webapp-common/experiments-compare/dumbs/compare-card-list/compare-card-list.component.ts","webpack:///src/app/webapp-common/shared/portal/portal.component.html","webpack:///src/app/webapp-common/shared/portal/portal.component.ts","webpack:///src/app/webapp-common/experiments-compare/dumbs/experiment-compare-general-data/experiment-compare-general-data.component.ts","webpack:///src/app/webapp-common/experiments-compare/dumbs/experiment-compare-general-data/experiment-compare-general-data.component.html","webpack:///src/app/webapp-common/experiments-compare/containers/experiment-compare-details/experiment-compare-details.component.html","webpack:///src/app/webapp-common/experiments-compare/containers/experiment-compare-details/experiment-compare-details.component.ts","webpack:///src/app/webapp-common/shared/services/sync-scroll.service.ts","webpack:///src/app/webapp-common/shared/ui-components/directives/sync-scroll.directive.ts","webpack:///src/app/webapp-common/shared/ui-components/data/table-diff/table-diff.component.html","webpack:///src/app/webapp-common/shared/ui-components/data/table-diff/table-diff.component.ts","webpack:///src/app/webapp-common/experiments-compare/get-key-value-array-pipe.pipe.ts","webpack:///src/app/webapp-common/experiments-compare/containers/experiment-compare-metric-values/experiment-compare-metric-values.component.html","webpack:///src/app/webapp-common/experiments-compare/containers/experiment-compare-metric-values/experiment-compare-metric-values.component.ts","webpack:///src/app/webapp-common/experiments-compare/containers/experiment-compare-metric-charts/experiment-compare-scalar-charts.component.ts","webpack:///src/app/webapp-common/experiments-compare/containers/experiment-compare-metric-charts/experiment-compare-scalar-charts.component.html","webpack:///src/app/webapp-common/experiments-compare/containers/experiment-compare-plots/experiment-compare-plots.component.ts","webpack:///src/app/webapp-common/experiments-compare/containers/experiment-compare-plots/experiment-compare-plots.component.html","webpack:///src/app/webapp-common/experiments-compare/dumbs/parallel-coordinates-graph/parallel-coordinates-graph.component.html","webpack:///src/app/webapp-common/experiments-compare/dumbs/parallel-coordinates-graph/parallel-coordinates-graph.component.ts","webpack:///src/app/webapp-common/experiments-compare/containers/experiment-compare-hyper-params-graph/experiment-compare-hyper-params-graph.component.html","webpack:///src/app/webapp-common/experiments-compare/containers/experiment-compare-hyper-params-graph/experiment-compare-hyper-params-graph.component.ts","webpack:///src/app/webapp-common/experiments-compare/experiment-compare-router-helper.guard.ts","webpack:///src/app/webapp-common/experiments-compare/containers/experiment-compare-params/experiment-compare-params.component.html","webpack:///src/app/webapp-common/experiments-compare/experiments-compare-routing.module.ts","webpack:///src/app/webapp-common/experiments-compare/containers/experiment-compare-params/experiment-compare-params.component.ts","webpack:///src/app/webapp-common/experiments-compare/services/experiment-details-reverter.service.ts","webpack:///src/app/features/experiments-compare/experiment-details-reverter-service.base.ts","webpack:///src/app/features/experiments-compare/experiments-compare-consts.ts","webpack:///src/app/webapp-common/experiments-compare/effects/experiments-compare-details.effects.ts","webpack:///src/app/webapp-common/experiments-compare/effects/experiments-compare-debug-images.effects.ts","webpack:///src/app/webapp-common/experiments-compare/actions/experiments-compare-debug-images.actions.ts","webpack:///src/app/webapp-common/experiments-compare/effects/experiments-compare-charts.effects.ts","webpack:///src/app/webapp-common/experiments-compare/effects/experiments-compare-metrics-values.effects.ts","webpack:///src/app/webapp-common/experiments-compare/effects/select-experiment-for-compare-effects.service.ts","webpack:///src/app/webapp-common/shared/ui-components/data/table-diff/table-diff.module.ts","webpack:///src/app/webapp-common/shared/ui-components/panel/card2/card.module.ts","webpack:///src/app/webapp-common/shared/ui-components/panel/drawer/drawer.module.ts","webpack:///src/app/webapp-common/experiments-compare/effects/experiments-compare-scalars-graph.effects.ts","webpack:///src/app/webapp-common/experiments-compare/services/experiment-params-reverter.service.ts","webpack:///src/app/webapp-common/experiments-compare/effects/experiments-compare-params.effects.ts","webpack:///src/app/webapp-common/experiments-compare/experiments-compare.module.ts","webpack:///src/app/webapp-common/experiments-compare/reducers/experiments-compare-details.reducer.ts","webpack:///src/app/webapp-common/experiments-compare/reducers/experiments-compare-charts.reducer.ts","webpack:///src/app/webapp-common/experiments-compare/reducers/experiments-compare-metrics-values.reducer.ts","webpack:///src/app/webapp-common/experiments-compare/reducers/experiments-compare-debug-images.reducer.ts","webpack:///src/app/webapp-common/experiments-compare/reducers/compare-header.reducer.ts","webpack:///src/app/webapp-common/experiments-compare/reducers/experiments-compare-scalars-graph.reducer.ts","webpack:///src/app/webapp-common/experiments-compare/reducers/experiments-compare-params.reducer.ts","webpack:///src/app/webapp-common/experiments-compare/reducers/index.ts","webpack:///src/app/webapp-common/experiments-compare/shared/experiment-compare-shared.module.ts","webpack:///src/app/webapp-common/experiments/actions/common-experiment-output.actions.ts","webpack:///src/app/webapp-common/experiments/actions/common-experiments-info.actions.ts","webpack:///src/app/webapp-common/experiments/actions/common-experiments-menu.actions.ts","webpack:///src/app/webapp-common/experiments/actions/common-experiments-view.actions.ts","webpack:///src/app/webapp-common/experiments/effects/common-experiments-info.effects.ts","webpack:///src/app/business-logic/model/tasks/replaceHyperparamsEnum.ts","webpack:///src/app/webapp-common/experiments/effects/common-experiment-output.effects.ts","webpack:///src/app/webapp-common/experiments/effects/common-experiments-menu.effects.ts","webpack:///src/app/webapp-common/experiments/dumb/experiment-table-card/experiment-table-card.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiment-table-card/experiment-table-card.component.ts","webpack:///src/app/webapp-common/experiments/shared/experiment-output-log/experiment-output-log.module.ts","webpack:///src/app/webapp-common/experiments/common-experiments.module.ts","webpack:///src/app/webapp-common/experiments/dumb/experiment-type-icon-label/experiment-type-icon-label.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiment-type-icon-label/experiment-type-icon-label.component.ts","webpack:///src/app/webapp-common/experiments/dumb/experiments-table/hyper-param-metric-column/get-variant-without-round.pipe.ts","webpack:///src/app/webapp-common/experiments/dumb/experiments-table/hyper-param-metric-column/get-param-metric-value.pipe.ts","webpack:///src/app/webapp-common/experiments/dumb/experiments-table/hyper-param-metric-column/hyper-param-metric-column.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiments-table/hyper-param-metric-column/hyper-param-metric-column.component.ts","webpack:///src/app/webapp-common/experiments/dumb/experiments-table/experiments-table.component.html","webpack:///src/app/webapp-common/experiments/dumb/experiments-table/experiments-table.component.ts","webpack:///src/app/webapp-common/experiments/dumb/image-displayer/image-displayer.component.html","webpack:///src/app/webapp-common/experiments/dumb/image-displayer/image-displayer.component.ts","webpack:///src/app/webapp-common/experiments/dumb/select-metric-for-custom-col/select-metric-for-custom-col.component.html","webpack:///src/app/webapp-common/experiments/dumb/select-metric-for-custom-col/select-metric-for-custom-col.component.ts","webpack:///src/app/business-logic/model/projects/projectsGetTaskParentsRequest.ts","webpack:///src/app/webapp-common/experiments/effects/common-experiments-view.effects.ts","webpack:///src/app/webapp-common/experiments/experiment.consts.ts","webpack:///src/app/webapp-common/experiments/reducers/common-experiment-output.reducer.ts","webpack:///src/app/webapp-common/experiments/reducers/common-experiments-view.reducer.ts","webpack:///src/app/webapp-common/experiments/reducers/index.ts","webpack:///src/app/webapp-common/experiments/shared/common-experiment-shared.module.ts","webpack:///src/app/webapp-common/experiments/shared/common-experiments.const.ts","webpack:///src/app/webapp-common/experiments/shared/common-experiments.utils.ts","webpack:///src/app/webapp-common/experiments/shared/components/abort-all-children-dialog/abort-all-children-dialog.component.html","webpack:///src/app/webapp-common/experiments/shared/components/abort-all-children-dialog/abort-all-children-dialog.component.ts","webpack:///src/app/webapp-common/experiments/shared/components/change-project-dialog/change-project-dialog.component.html","webpack:///src/app/webapp-common/experiments/shared/components/change-project-dialog/change-project-dialog.component.ts","webpack:///src/app/webapp-common/experiments/shared/components/clone-dialog/clone-dialog.component.html","webpack:///src/app/webapp-common/experiments/shared/components/clone-dialog/clone-dialog.component.ts","webpack:///src/app/webapp-common/experiments/shared/components/experiment-menu/experiment-menu.component.ts","webpack:///src/app/webapp-common/experiments/shared/components/experiment-status-icon-label/experiment-status-icon-label.component.html","webpack:///src/app/webapp-common/experiments/shared/components/experiment-status-icon-label/experiment-status-icon-label.component.ts","webpack:///src/app/webapp-common/experiments/shared/components/select-queue/select-queue.actions.ts","webpack:///src/app/webapp-common/experiments/shared/components/select-queue/select-queue.component.html","webpack:///src/app/webapp-common/experiments/shared/components/select-queue/select-queue.component.ts","webpack:///src/app/webapp-common/experiments/shared/components/select-queue/select-queue.effects.ts","webpack:///src/app/webapp-common/experiments/shared/components/select-queue/select-queue.module.ts","webpack:///src/app/webapp-common/experiments/shared/components/select-queue/select-queue.reducer.ts","webpack:///src/app/webapp-common/experiments/shared/services/common-experiment-converter.service.ts","webpack:///src/app/webapp-common/experiments/shared/services/common-experiment-reverter.service.ts","webpack:///src/app/webapp-common/layout/breadcrumbs/breadcrumbs-common.utils.ts","webpack:///src/app/webapp-common/layout/layout.module.ts","webpack:///src/app/webapp-common/layout/layout.reducer.ts","webpack:///src/app/webapp-common/layout/project-context-navbar/project-context-navbar.component.html","webpack:///src/app/webapp-common/layout/project-context-navbar/project-context-navbar.component.ts","webpack:///src/app/webapp-common/login/login-reducer.ts","webpack:///src/app/webapp-common/login/login.actions.ts","webpack:///src/app/webapp-common/models/actions/models-info.actions.ts","webpack:///src/app/webapp-common/models/actions/models-menu.actions.ts","webpack:///src/app/webapp-common/models/actions/models-view.actions.ts","webpack:///src/app/webapp-common/models/model.utils.ts","webpack:///src/app/webapp-common/models/models.consts.ts","webpack:///src/app/webapp-common/models/dumbs/model-custom-cols-menu/model-custom-cols-menu.component.ts","webpack:///src/app/webapp-common/models/dumbs/model-custom-cols-menu/model-custom-cols-menu.component.html","webpack:///src/app/features/models/dumb/model-header/model-header.component.html","webpack:///src/app/features/models/dumb/model-header/model-header.component.ts","webpack:///src/app/webapp-common/models/models.component.ts","webpack:///src/app/webapp-common/models/models.component.html","webpack:///src/app/webapp-common/models/dumbs/model-info-header/model-info-header.component.html","webpack:///src/app/webapp-common/models/dumbs/model-info-header/model-info-header.component.ts","webpack:///src/app/webapp-common/models/containers/model-info/model-info.component.ts","webpack:///src/app/webapp-common/models/containers/model-info/model-info.component.html","webpack:///src/app/webapp-common/models/dumbs/model-general-info/model-general-info.component.html","webpack:///src/app/webapp-common/models/dumbs/model-general-info/model-general-info.component.ts","webpack:///src/app/webapp-common/models/containers/model-info-general/model-info-general.component.ts","webpack:///src/app/webapp-common/models/containers/model-info-general/model-info-general.component.html","webpack:///src/app/webapp-common/models/dumbs/model-view-network/model-view-network.component.html","webpack:///src/app/webapp-common/models/dumbs/model-view-network/model-view-network.component.ts","webpack:///src/app/webapp-common/models/containers/model-info-network/model-info-network.component.ts","webpack:///src/app/webapp-common/models/containers/model-info-network/model-info-network.component.html","webpack:///src/app/webapp-common/models/dumbs/model-info-labels-view/model-info-labels-view.component.html","webpack:///src/app/webapp-common/models/dumbs/model-info-labels-view/model-info-labels-view.component.ts","webpack:///src/app/webapp-common/models/containers/model-info-labels/model-info-labels.component.ts","webpack:///src/app/webapp-common/models/containers/model-info-labels/model-info-labels.component.html","webpack:///src/app/webapp-common/models/models-routing.module.ts","webpack:///src/app/webapp-common/models/effects/models-view.effects.ts","webpack:///src/app/webapp-common/models/effects/models-info.effects.ts","webpack:///src/app/webapp-common/models/effects/models-menu.effects.ts","webpack:///src/app/webapp-common/core/services/sm-form-builder.service.ts","webpack:///src/app/webapp-common/models/models.module.ts","webpack:///src/app/webapp-common/models/reducers/model-info.reducer.ts","webpack:///src/app/webapp-common/models/reducers/index.ts","webpack:///src/app/webapp-common/models/reducers/models-view.reducer.ts","webpack:///src/app/webapp-common/models/shared/model-shared.module.ts","webpack:///src/app/webapp-common/models/shared/models-table/models-table.component.html","webpack:///src/app/webapp-common/models/shared/models-table/models-table.component.ts","webpack:///src/app/webapp-common/models/shared/models.const.ts","webpack:///src/app/webapp-common/models/shared/select-model-header/select-model-header.component.html","webpack:///src/app/webapp-common/models/shared/select-model-header/select-model-header.component.ts","webpack:///src/app/webapp-common/projects/common-projects.actions.ts","webpack:///src/app/webapp-common/projects/common-projects.consts.ts","webpack:///src/app/features/projects/projects.effect.ts","webpack:///src/app/webapp-common/projects/common-projects.effects.ts","webpack:///src/app/webapp-common/projects/common-projects.module.ts","webpack:///src/app/webapp-common/projects/common-projects.reducer.ts","webpack:///src/app/webapp-common/shared/utils/amazon-s3-uri.ts","webpack:///src/app/webapp-common/settings/admin/base-admin.service.ts","webpack:///src/app/webapp-common/shared/components/base-context-menu/base-context-menu.component.ts","webpack:///src/app/webapp-common/shared/components/charts/line-chart/line-chart.component.ts","webpack:///src/app/webapp-common/shared/components/charts/line-chart/line-chart.component.html","webpack:///src/app/webapp-common/shared/components/clear-filters-button/clear-filters-button.component.ts","webpack:///src/app/webapp-common/shared/components/clear-filters-button/clear-filters-button.component.html","webpack:///src/app/webapp-common/shared/components/custom-columns-list/custom-columns-list.component.html","webpack:///src/app/webapp-common/shared/components/custom-columns-list/custom-columns-list.component.ts","webpack:///src/app/webapp-common/shared/components/experiment-settings/experiment-settings.html","webpack:///src/app/webapp-common/shared/components/experiment-settings/experiment-settings.ts","webpack:///src/app/webapp-common/shared/components/refresh-button/refresh-button.component.html","webpack:///src/app/webapp-common/shared/components/refresh-button/refresh-button.component.ts","webpack:///src/app/webapp-common/shared/components/scroll-textarea/scroll-textarea.component.html","webpack:///src/app/webapp-common/shared/components/scroll-textarea/scroll-textarea.component.ts","webpack:///src/app/webapp-common/shared/components/section-header/section-header.component.html","webpack:///src/app/webapp-common/shared/components/section-header/section-header.component.ts","webpack:///src/app/webapp-common/shared/components/show-only-user-work/show-only-user-work.component.ts","webpack:///src/app/webapp-common/shared/components/show-only-user-work/show-only-user-work.component.html","webpack:///src/app/webapp-common/shared/entity-page/base-entity-page.ts","webpack:///src/app/webapp-common/shared/entity-page/entity-delete/common-delete-dialog.actions.ts","webpack:///src/app/webapp-common/shared/entity-page/entity-delete/common-delete-dialog.component.html","webpack:///src/app/webapp-common/shared/entity-page/entity-delete/common-delete-dialog.component.ts","webpack:///src/app/webapp-common/shared/entity-page/entity-delete/base-delete-dialog.effects.ts","webpack:///src/app/features/delete-entity/delete-dialog.effects.ts","webpack:///src/app/webapp-common/shared/entity-page/entity-delete/common-delete-dialog.module.ts","webpack:///src/app/webapp-common/shared/entity-page/entity-delete/common-delete-dialog.reducer.ts","webpack:///src/app/webapp-common/shared/entity-page/entity-footer/entity-footer.component.html","webpack:///src/app/webapp-common/shared/entity-page/entity-footer/entity-footer.component.ts","webpack:///src/app/webapp-common/shared/entity-page/footer-items/archive-footer-item.ts","webpack:///src/app/webapp-common/shared/entity-page/footer-items/compare-footer-item.ts","webpack:///src/app/webapp-common/shared/entity-page/footer-items/delete-footer-item.ts","webpack:///src/app/webapp-common/shared/entity-page/footer-items/generic-footer-item.ts","webpack:///src/app/webapp-common/shared/entity-page/footer-items/divider-footer-item.ts","webpack:///src/app/webapp-common/shared/entity-page/footer-items/footer-items.models.ts","webpack:///src/app/webapp-common/shared/entity-page/footer-items/has-read-only-footer-item.ts","webpack:///src/app/webapp-common/shared/entity-page/footer-items/move-to-footer-item.ts","webpack:///src/app/webapp-common/shared/entity-page/footer-items/publish-footer-item.ts","webpack:///src/app/webapp-common/shared/entity-page/footer-items/selected-tags-footer-item.ts","webpack:///src/app/webapp-common/shared/entity-page/footer-items/show-items-footer-selected.ts","webpack:///src/app/webapp-common/shared/entity-page/items.utils.ts","webpack:///src/app/webapp-common/shared/experiment-graphs/experiment-graphs.component.html","webpack:///src/app/webapp-common/shared/experiment-graphs/experiment-graphs.component.ts","webpack:///src/app/webapp-common/shared/experiment-graphs/experiment-graphs.module.ts","webpack:///src/app/webapp-common/shared/experiment-graphs/graph-displayer/graph-displayer.component.html","webpack:///src/app/webapp-common/shared/experiment-graphs/graph-displayer/graph-displayer.component.ts","webpack:///src/app/webapp-common/shared/experiment-graphs/graph-settings-bar/graph-settings-bar.component.html","webpack:///src/app/webapp-common/shared/experiment-graphs/graph-settings-bar/graph-settings-bar.component.ts","webpack:///src/app/webapp-common/shared/experiment-graphs/single-graph/plotly-graph-base.ts","webpack:///src/app/webapp-common/shared/experiment-graphs/single-graph/single-graph.component.html","webpack:///src/app/webapp-common/shared/experiment-graphs/single-graph/single-graph.component.ts","webpack:///src/app/webapp-common/shared/experiment-info-header-status-icon-label/experiment-info-header-status-icon-label.component.html","webpack:///src/app/webapp-common/shared/experiment-info-header-status-icon-label/experiment-info-header-status-icon-label.component.ts","webpack:///src/app/webapp-common/shared/experiment-info-header-status-progress-bar/experiment-info-header-status-progress-bar.component.ts","webpack:///src/app/webapp-common/shared/experiment-info-header-status-progress-bar/experiment-info-header-status-progress-bar.component.html","webpack:///src/app/webapp-common/shared/guards/general-leaving-before-save-alert.guard.ts","webpack:///src/app/webapp-common/shared/guards/leaving-before-save-alert.guard.ts","webpack:///src/app/shared/guards/guard-base.ts","webpack:///src/app/webapp-common/shared/material/material.module.ts","webpack:///src/app/webapp-common/shared/pipes/advanced-filter.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/breadcrumbs-ellipsis.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/duration.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/filter-internal.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/filter.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/filterLast.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/filterOut.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/hide-hash-title.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/hide-hash.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/highlight-search-text.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/idToObjectsArray.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/initials.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/is-audio.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/is-video.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/menu-item-text.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/ms-to-hours.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/ms-to-sec.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/na.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/no-underscore.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/number-to-k.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/project-location.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/replaceViaMap.ts","webpack:///src/app/webapp-common/shared/pipes/safe.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/safeAngularUrlParameter.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/camel-to-title.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/filename-from-path.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/floor.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/join.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/keyval.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/unique-by.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/key-value.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/to-exponential.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/time-till-now.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/has-example-item.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/selectOptionValueToLabel.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/label-value.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/filterById.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/toPropertyArray.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/uuid.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/is-empty.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/shared-pipes.module.ts","webpack:///src/app/webapp-common/shared/pipes/highlight-search.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/template-injector.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/test-conditional.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/group-has-errors.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/formgroup-has-required-field.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/short-project-name.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/show-selected-first.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/simple-filter.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/sort.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/string-included-in-array.pipe.ts","webpack:///src/app/webapp-common/shared/pipes/timeAgo.ts","webpack:///src/app/webapp-common/shared/pipes/to-precentage.pipe.ts","webpack:///src/app/webapp-common/shared/portal/portal.module.ts","webpack:///src/app/webapp-common/shared/project-dialog/project-dialog.actions.ts","webpack:///src/app/webapp-common/shared/project-dialog/create-new-project-form/create-new-project-form.component.html","webpack:///src/app/webapp-common/shared/project-dialog/create-new-project-form/create-new-project-form.component.ts","webpack:///src/app/webapp-common/shared/project-dialog/project-move-to-form/project-move-to-form.component.html","webpack:///src/app/webapp-common/shared/project-dialog/project-move-to-form/project-move-to-form.component.ts","webpack:///src/app/webapp-common/shared/project-dialog/project-dialog.component.html","webpack:///src/app/webapp-common/shared/project-dialog/project-dialog.component.ts","webpack:///src/app/webapp-common/shared/project-dialog/project-dialog.effects.ts","webpack:///src/app/webapp-common/shared/project-dialog/project-dialog.module.ts","webpack:///src/app/webapp-common/shared/project-dialog/project-dialog.reducer.ts","webpack:///src/app/webapp-common/shared/services/color-hash/color-hash.service.ts","webpack:///src/app/webapp-common/shared/services/color-hash/color-hash.utils.ts","webpack:///src/app/webapp-common/shared/services/configuration.service.ts","webpack:///src/app/webapp-common/shared/services/error.service.ts","webpack:///src/app/webapp-common/shared/services/login.service.ts","webpack:///src/app/webapp-common/shared/services/tag-color.service.ts","webpack:///src/app/webapp-common/shared/shared.module.ts","webpack:///src/app/webapp-common/shared/ui-components/buttons/chips/chips.module.ts","webpack:///src/app/webapp-common/shared/ui-components/buttons/loading-button/loading-button.component.ts","webpack:///src/app/webapp-common/shared/ui-components/buttons/loading-button/loading-button.component.html","webpack:///src/app/webapp-common/shared/ui-components/buttons/toggle-archive/toggle-archive.component.ts","webpack:///src/app/webapp-common/shared/ui-components/buttons/toggle-archive/toggle-archive.component.html","webpack:///src/app/webapp-common/shared/ui-components/data/code/code.component.html","webpack:///src/app/webapp-common/shared/ui-components/data/code/code.component.ts","webpack:///src/app/webapp-common/shared/ui-components/data/grouped-checked-filter-list/grouped-checked-filter-list.component.html","webpack:///src/app/webapp-common/shared/ui-components/data/grouped-checked-filter-list/grouped-checked-filter-list.component.ts","webpack:///src/app/webapp-common/shared/ui-components/data/labeled-row/labeled-row.component.html","webpack:///src/app/webapp-common/shared/ui-components/data/labeled-row/labeled-row.component.ts","webpack:///src/app/webapp-common/shared/ui-components/data/selectable-filter-list/selectable-filter-list.component.ts","webpack:///src/app/webapp-common/shared/ui-components/data/selectable-filter-list/selectable-filter-list.component.html","webpack:///src/app/webapp-common/shared/ui-components/data/selectable-grouped-filter-list/selectable-grouped-filter-list.component.ts","webpack:///src/app/webapp-common/shared/ui-components/data/selectable-grouped-filter-list/selectable-grouped-filter-list.component.html","webpack:///src/app/webapp-common/shared/ui-components/data/selectable-list/selectable-list.component.html","webpack:///src/app/webapp-common/shared/ui-components/data/selectable-list/selectable-list.component.ts","webpack:///src/app/webapp-common/shared/ui-components/data/simple-table/simple-table.component.html","webpack:///src/app/webapp-common/shared/ui-components/data/simple-table/simple-table.component.ts","webpack:///src/app/webapp-common/shared/ui-components/data/table-card/table-card.component.html","webpack:///src/app/webapp-common/shared/ui-components/data/table-card/table-card.component.ts","webpack:///src/app/webapp-common/shared/ui-components/data/table/base-table-view.ts","webpack:///src/app/webapp-common/shared/ui-components/data/table/table-card-filter-template/table-card-filter-template.component.html","webpack:///src/app/webapp-common/shared/ui-components/data/table/table-card-filter-template/table-card-filter-template.component.ts","webpack:///src/app/webapp-common/shared/ui-components/data/table/table-duration-sort-template/table-duration-sort.base.ts","webpack:///src/app/webapp-common/shared/ui-components/data/table/table-duration-sort-template/table-filter-duration-date-time/table-filter-duration-date-time.component.html","webpack:///src/app/webapp-common/shared/ui-components/data/table/table-duration-sort-template/table-filter-duration-date-time/table-filter-duration-date-time.component.ts","webpack:///src/app/webapp-common/shared/ui-components/data/table/table-duration-sort-template/table-filter-duration-error/table-filter-duration-error.component.ts","webpack:///src/app/webapp-common/shared/ui-components/data/table/table-duration-sort-template/table-filter-duration-error/table-filter-duration-error.component.html","webpack:///src/app/webapp-common/shared/ui-components/data/table/table-duration-sort-template/table-filter-duration-numeric/table-filter-duration-numeric.component.html","webpack:///src/app/webapp-common/shared/ui-components/data/table/table-duration-sort-template/table-filter-duration-numeric/table-filter-duration-numeric.component.ts","webpack:///src/app/webapp-common/shared/ui-components/data/table/table-duration-sort-template/table-filter-duration/table-filter-duration.component.html","webpack:///src/app/webapp-common/shared/ui-components/data/table/table-duration-sort-template/table-filter-duration/table-filter-duration.component.ts","webpack:///src/app/webapp-common/shared/ui-components/data/table/table-filter-sort-template/table-filter-sort-template.component.html","webpack:///src/app/webapp-common/shared/ui-components/data/table/table-filter-sort-template/table-filter-sort-template.component.ts","webpack:///src/app/webapp-common/shared/ui-components/data/table/overrideFilterFunc.ts","webpack:///src/app/webapp-common/shared/ui-components/data/table/resizable-column.directive.ts","webpack:///src/app/webapp-common/shared/ui-components/data/table/table.component.html","webpack:///src/app/webapp-common/shared/ui-components/data/table/table.component.ts","webpack:///src/app/webapp-common/shared/ui-components/data/table/table.consts.ts","webpack:///src/app/webapp-common/shared/ui-components/data/veritical-labeled-row/vertical-labeled-row.component.ts","webpack:///src/app/webapp-common/shared/ui-components/data/veritical-labeled-row/vertical-labeled-row.component.html","webpack:///src/app/webapp-common/shared/ui-components/directives/choose-color/choose-color.actions.ts","webpack:///src/app/webapp-common/shared/ui-components/directives/choose-color/choose-color.directive.ts","webpack:///src/app/webapp-common/shared/ui-components/directives/choose-color/choose-color.module.ts","webpack:///src/app/webapp-common/shared/ui-components/directives/choose-color/choose-color.reducer.ts","webpack:///src/app/webapp-common/shared/ui-components/directives/click-stop-propagation.directive.ts","webpack:///src/app/webapp-common/shared/ui-components/directives/ellipsis-middle.directive.ts","webpack:///src/app/webapp-common/shared/ui-components/directives/hesitate.directive.ts","webpack:///src/app/webapp-common/shared/ui-components/directives/keydown-stop-propagation.directive.ts","webpack:///src/app/webapp-common/shared/ui-components/directives/overflows.directive.ts","webpack:///src/app/webapp-common/shared/ui-components/forms/immutableFormField.ts","webpack:///src/app/webapp-common/shared/ui-components/forms/checkbox-control/checkbox-control.component.html","webpack:///src/app/webapp-common/shared/ui-components/forms/checkbox-control/checkbox-control.component.ts","webpack:///src/app/webapp-common/shared/ui-components/indicators/circle-counter/circle-counter.component.ts","webpack:///src/app/webapp-common/shared/ui-components/indicators/circle-counter/circle-counter.component.html","webpack:///src/app/webapp-common/shared/ui-components/indicators/circle-status/circle-status.component.html","webpack:///src/app/webapp-common/shared/ui-components/indicators/circle-status/circle-status.component.ts","webpack:///src/app/webapp-common/shared/ui-components/indicators/copy-clipboard/copy-clipboard.component.ts","webpack:///src/app/webapp-common/shared/ui-components/indicators/copy-clipboard/copy-clipboard.component.html","webpack:///src/app/webapp-common/shared/ui-components/indicators/divider/divider.component.ts","webpack:///src/app/webapp-common/shared/ui-components/indicators/snippet-error/snippet-error.component.ts","webpack:///src/app/webapp-common/shared/ui-components/indicators/snippet-error/snippet-error.component.html","webpack:///src/app/webapp-common/shared/ui-components/indicators/tag/tag.component.ts","webpack:///src/app/webapp-common/shared/ui-components/indicators/tag/tag.component.html","webpack:///src/app/webapp-common/shared/ui-components/indicators/tooltip/tooltip.directive.ts","webpack:///src/app/webapp-common/shared/ui-components/inputs/button-toggle/button-toggle.component.html","webpack:///src/app/webapp-common/shared/ui-components/inputs/button-toggle/button-toggle.component.ts","webpack:///src/app/webapp-common/shared/ui-components/inputs/color-picker/color-picker-wrapper.component.html","webpack:///src/app/webapp-common/shared/ui-components/inputs/color-picker/color-picker-wrapper.component.ts","webpack:///src/app/webapp-common/shared/ui-components/inputs/duration-input/duration-input.base.ts","webpack:///src/app/webapp-common/shared/ui-components/inputs/duraion-input-list/duration-input-list.component.html","webpack:///src/app/webapp-common/shared/ui-components/inputs/duraion-input-list/duration-input-list.component.ts","webpack:///src/app/webapp-common/shared/ui-components/inputs/inline-edit/inline-edit.component.html","webpack:///src/app/webapp-common/shared/ui-components/inputs/inline-edit/inline-edit.component.ts","webpack:///src/app/webapp-common/shared/ui-components/inputs/search/search.component.html","webpack:///src/app/webapp-common/shared/ui-components/inputs/search/search.component.ts","webpack:///src/app/webapp-common/shared/ui-components/overlay/alert-dialog/alert-dialog.component.html","webpack:///src/app/webapp-common/shared/ui-components/overlay/alert-dialog/alert-dialog.component.ts","webpack:///src/app/webapp-common/shared/ui-components/overlay/confirm-dialog/confirm-dialog.component.html","webpack:///src/app/webapp-common/shared/ui-components/overlay/confirm-dialog/confirm-dialog.component.ts","webpack:///src/app/webapp-common/shared/ui-components/overlay/dialog-template/dialog-template.component.html","webpack:///src/app/webapp-common/shared/ui-components/overlay/dialog-template/dialog-template.component.ts","webpack:///src/app/webapp-common/shared/utils/validation-utils.ts","webpack:///src/app/webapp-common/shared/ui-components/overlay/edit-json/edit-json.component.html","webpack:///src/app/webapp-common/shared/ui-components/overlay/edit-json/edit-json.component.ts","webpack:///src/app/webapp-common/shared/ui-components/overlay/operation-error-dialog/operation-error-dialog.component.html","webpack:///src/app/webapp-common/shared/ui-components/overlay/operation-error-dialog/operation-error-dialog.component.ts","webpack:///src/app/webapp-common/shared/ui-components/overlay/overlay/overlay.component.ts","webpack:///src/app/webapp-common/shared/ui-components/overlay/overlay/overlay.component.html","webpack:///src/app/webapp-common/shared/ui-components/overlay/share-dialog/share-dialog.component.html","webpack:///src/app/webapp-common/shared/ui-components/overlay/share-dialog/share-dialog.component.ts","webpack:///src/app/webapp-common/shared/ui-components/overlay/spinner/spinner.component.ts","webpack:///src/app/webapp-common/shared/ui-components/overlay/update-notifier/update-notifier.component.html","webpack:///src/app/webapp-common/shared/ui-components/overlay/update-notifier/update-notifier.component.ts","webpack:///src/app/webapp-common/shared/ui-components/panel/card/card.component.html","webpack:///src/app/webapp-common/shared/ui-components/panel/card/card.component.ts","webpack:///src/app/webapp-common/shared/ui-components/panel/checkbox-three-state-list/checkbox-three-state-list.component.html","webpack:///src/app/webapp-common/shared/ui-components/panel/checkbox-three-state-list/checkbox-three-state-list.component.ts","webpack:///src/app/webapp-common/shared/ui-components/panel/compare-footer/compare-footer.component.ts","webpack:///src/app/webapp-common/shared/ui-components/panel/compare-footer/compare-footer.component.html","webpack:///src/app/webapp-common/shared/ui-components/panel/editable-section/editable-section.component.html","webpack:///src/app/webapp-common/shared/ui-components/panel/editable-section/editable-section.component.ts","webpack:///src/app/webapp-common/shared/ui-components/panel/experiment-card/experiment-card.component.ts","webpack:///src/app/webapp-common/shared/ui-components/panel/experiment-card/experiment-card.component.html","webpack:///src/app/webapp-common/shared/ui-components/panel/menu-item/menu-item.component.html","webpack:///src/app/webapp-common/shared/ui-components/panel/menu-item/menu-item.component.ts","webpack:///src/app/webapp-common/shared/ui-components/panel/menu/menu.component.html","webpack:///src/app/webapp-common/shared/ui-components/panel/menu/menu.component.ts","webpack:///src/app/webapp-common/shared/ui-components/panel/model-card/model-card.component.ts","webpack:///src/app/webapp-common/shared/ui-components/panel/model-card/model-card.component.html","webpack:///src/app/webapp-common/shared/ui-components/panel/navbar-item/navbar-item.component.html","webpack:///src/app/webapp-common/shared/ui-components/panel/navbar-item/navbar-item.component.ts","webpack:///src/app/webapp-common/shared/ui-components/panel/plus-card/plus-card.component.ts","webpack:///src/app/webapp-common/shared/ui-components/panel/plus-card/plus-card.component.html","webpack:///src/app/webapp-common/shared/ui-components/panel/project-card-menu/project-card-menu.component.ts","webpack:///src/app/webapp-common/shared/ui-components/panel/project-card/project-card.component.html","webpack:///src/app/webapp-common/shared/ui-components/panel/project-card/project-card.component.ts","webpack:///src/app/webapp-common/shared/ui-components/tags/tag-list/tag-list.component.html","webpack:///src/app/webapp-common/shared/ui-components/tags/tag-list/tag-list.component.ts","webpack:///src/app/webapp-common/shared/ui-components/tags/tags-menu/tags-menu.component.html","webpack:///src/app/webapp-common/shared/ui-components/tags/tags-menu/tags-menu.component.ts","webpack:///src/app/webapp-common/shared/ui-components/tags/user-tag/user-tag.component.html","webpack:///src/app/webapp-common/shared/ui-components/tags/user-tag/user-tag.component.ts","webpack:///src/app/webapp-common/shared/ui-components/template-forms-ui/invalid-prefix-validator.directive.ts","webpack:///src/app/webapp-common/shared/ui-components/template-forms-ui/templateFormSectionBase.ts","webpack:///src/app/webapp-common/shared/ui-components/template-forms-ui/unique-name-validator.directive.ts","webpack:///src/app/webapp-common/shared/ui-components/template-forms-ui/unique-path-validator.directive.ts","webpack:///src/app/webapp-common/shared/ui-components/data/grouped-selectable-list/grouped-selectable-list.component.html","webpack:///src/app/webapp-common/shared/ui-components/data/grouped-selectable-list/grouped-selectable-list.component.ts","webpack:///src/app/webapp-common/shared/ui-components/ui-components.module.ts","webpack:///src/app/webapp-common/shared/utils/forms-track-by.ts","webpack:///src/app/webapp-common/shared/utils/helpers.util.ts","webpack:///src/app/webapp-common/shared/utils/shared-utils.ts","webpack:///src/app/webapp-common/shared/utils/mobile.ts","webpack:///src/app/webapp-common/shared/utils/tableParamEncode.ts","webpack:///src/app/webapp-common/tasks/tasks.constants.ts","webpack:///src/app/webapp-common/tasks/tasks.utils.ts","webpack:///src/app/webapp-common/user-preferences.ts","webpack:///src/environments/base.ts","webpack:///src/environments/environment.prod.ts","webpack:///src/app/business-logic/api-services/server.service.ts","webpack:///src/app/business-logic/api-services/organization.service.ts","webpack:///src/app/business-logic/business-logic.module.ts","webpack:///src/app/webapp-common/shared/services/server-updates.service.ts","webpack:///src/app/core/actions/layout.actions.ts","webpack:///src/app/core/reducers/view.reducer.ts","webpack:///src/app/webapp-common/layout/ui-update-dialog/ui-update-dialog.component.ts","webpack:///src/app/webapp-common/layout/ui-update-dialog/ui-update-dialog.component.html","webpack:///src/app/webapp-common/shared/services/ui-updates.service.ts","webpack:///src/app/core/actions/usage-stats.actions.ts","webpack:///src/app/core/reducers/usage-stats.reducer.ts","webpack:///src/app/core/services/usage-stats.service.ts","webpack:///src/app/webapp-common/layout/tip-of-the-day-modal/tip-of-the-day-modal.component.html","webpack:///src/app/webapp-common/layout/tip-of-the-day-modal/tip-of-the-day-modal.component.ts","webpack:///src/app/webapp-common/shared/services/tips.service.ts","webpack:///src/app/webapp-common/layout/server-notification-dialog-container/server-notification-dialog-container.component.ts","webpack:///src/app/webapp-common/angular-notifier/src/models/notifier-notification.model.ts","webpack:///src/app/webapp-common/angular-notifier/src/services/notifier-queue.service.ts","webpack:///src/app/webapp-common/angular-notifier/src/services/notifier.service.ts","webpack:///src/app/webapp-common/angular-notifier/src/animation-presets/fade.animation-preset.ts","webpack:///src/app/webapp-common/angular-notifier/src/animation-presets/slide.animation-preset.ts","webpack:///src/app/webapp-common/angular-notifier/src/services/notifier-animation.service.ts","webpack:///src/app/webapp-common/angular-notifier/src/services/notifier-timer.service.ts","webpack:///src/app/webapp-common/angular-notifier/src/components/notifier-notification.component.html","webpack:///src/app/webapp-common/angular-notifier/src/components/notifier-notification.component.ts","webpack:///src/app/webapp-common/angular-notifier/src/components/notifier-container.component.html","webpack:///src/app/webapp-common/angular-notifier/src/components/notifier-container.component.ts","webpack:///src/app/layout/side-nav/side-nav.component.html","webpack:///src/app/layout/side-nav/side-nav.component.ts","webpack:///src/app/webapp-common/layout/breadcrumbs/breadcrumbs.component.html","webpack:///src/app/webapp-common/layout/breadcrumbs/breadcrumbs.component.ts","webpack:///src/app/webapp-common/common-search/containers/common-search/common-search.component.html","webpack:///src/app/webapp-common/common-search/containers/common-search/common-search.component.ts","webpack:///src/app/layout/header/header-user-menu-actions/header-user-menu-actions.component.ts","webpack:///src/app/webapp-common/layout/header/header.component.html","webpack:///src/app/webapp-common/layout/header/header.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.routes.ts","webpack:///src/app/webapp-common/shared/guards/project-redirect.guard.ts","webpack:///src/app/webapp-common/layout/s3-access-dialog/s3-access-dialog.component.html","webpack:///src/app/webapp-common/layout/s3-access-dialog/s3-access-dialog.component.ts","webpack:///src/app/webapp-common/layout/s3-access-resolver/s3-access-resolver.component.ts","webpack:///src/app/webapp-common/layout/s3-access-resolver/s3-access-resolver.component.html","webpack:///src/app/webapp-common/settings/admin/admin-dialog-template/admin-dialog-template.component.html","webpack:///src/app/webapp-common/settings/admin/admin-dialog-template/admin-dialog-template.component.ts","webpack:///src/app/features/settings/containers/admin/create-credential-dialog/create-credential-dialog.component.ts","webpack:///src/app/features/settings/containers/admin/create-credential-dialog/create-credential-dialog.component.html","webpack:///src/app/webapp-common/core/effects/common-auth.effects.ts","webpack:///src/app/webapp-common/angular-notifier/src/models/notifier-config.model.ts","webpack:///src/app/webapp-common/angular-notifier/src/notifier.module.ts","webpack:///src/app/webapp-common/core/effects/layout.effects.ts","webpack:///src/app/webapp-common/shared/ui-components/tags/tag-color-menu/tag-color-menu.component.html","webpack:///src/app/webapp-common/shared/ui-components/tags/tag-color-menu/tag-color-menu.component.ts","webpack:///src/app/webapp-common/core/effects/projects.effects.ts","webpack:///src/app/webapp-common/core/effects/router.effects.ts","webpack:///src/app/webapp-common/core/effects/users.effects.ts","webpack:///src/app/webapp-common/core/meta-reducers/user-pref-reducer.ts","webpack:///src/app/webapp-common/core/reducers/messages-reducer.ts","webpack:///src/app/core/effects/projects.effects.ts","webpack:///src/app/features/login/login.actions.ts","webpack:///src/app/features/login/login.reducer.ts","webpack:///src/app/features/settings/containers/admin/auth.reducers.ts","webpack:///src/app/shared/cookies.service.ts","webpack:///src/app/core/effects/users.effects.ts","webpack:///src/app/core/reducers/recent-tasks-reducer.ts","webpack:///src/app/core/core.module.ts","webpack:///src/app/core/reducers/sources-reducer.ts","webpack:///src/app/webapp-common/core/interceptors/webapp-interceptor.ts","webpack:///src/app/webapp-common/core/router-reuse-strategy.ts","webpack:///src/app/app.module.ts","webpack:///src/main.ts"],"sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 98255;\nmodule.exports = webpackEmptyAsyncContext;","import {Action} from '@ngrx/store';\nimport {ConfigurationService} from './webapp-common/shared/services/configuration.service';\nconst environment = ConfigurationService.globalEnvironment;\n\nexport const NA                      = 'N/A';\nexport const ALLEGRO_TUTORIAL_BUCKET = 'allegro-tutorials';\nexport const UPDATE_SERVER_PATH      = 'https://updates.clear.ml/updates';\n\nexport const BASE_REGEX = {\n  DOMAIN           : '([A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?\\\\.)+([A-Za-z]{2,6}\\\\.?|[A-Za-z0-9-]{1,}[A-Za-z0-9]\\\\.?)',\n  PATH             : '(\\\\/?|[\\\\/?]\\\\S+)',\n  IPV4             : '\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}',\n  IPV6             : '\\\\[?[A-F0-9]*:[A-F0-9:]+\\\\]?',\n  FILE_PROTOCOL    : '[fF][iI][lL][eE]:\\\\/\\\\/',\n  S3_PROTOCOL      : '[sS]3:\\\\/\\\\/',\n  GS_PROTOCOL      : '[gG][sS]:\\\\/\\\\/',\n  AZURE_PROTOCOL   : 'azure:\\\\/\\\\/',\n  SCHEME           : '^[hH][tT][tT][pP][sS]?:\\\\/\\\\/',\n  FILE_SUFFIX      : '\\\\/\\\\S*[^\\\\/ ]+$',\n  FOLDER           : '\\\\/\\\\S*[^\\\\/ ]',\n  S3_BUCKET_NAME   : '(\\\\w[A-Za-z0-9\\\\-]+\\\\w\\\\.)*\\\\w[A-Za-z0-9\\\\-]+\\\\w',\n  GS_BUCKET_NAME   : '(\\\\w[A-Za-z0-9\\\\-_]+\\\\w\\\\.)*\\\\w[A-Za-z0-9\\\\-_]+\\\\w',\n  AZURE_BUCKET_NAME: '(\\\\w[A-Za-z0-9\\\\-_]+\\\\w\\\\.)*\\\\w[A-Za-z0-9\\\\-_]+\\\\w'\n};\n\nexport const URI_REGEX = {\n  S3_WITH_BUCKET            : BASE_REGEX.S3_PROTOCOL + BASE_REGEX.S3_BUCKET_NAME + BASE_REGEX.PATH,\n  GS_WITH_BUCKET            : BASE_REGEX.GS_PROTOCOL + BASE_REGEX.GS_BUCKET_NAME + BASE_REGEX.PATH,\n  S3_WITH_BUCKET_AND_HOST   : BASE_REGEX.S3_PROTOCOL + BASE_REGEX.S3_BUCKET_NAME + BASE_REGEX.DOMAIN + BASE_REGEX.PATH,\n  GS_WITH_BUCKET_AND_HOST   : BASE_REGEX.GS_PROTOCOL + BASE_REGEX.GS_BUCKET_NAME + BASE_REGEX.DOMAIN + BASE_REGEX.PATH,\n  AZURE_WITH_BUCKET_AND_HOST: BASE_REGEX.AZURE_PROTOCOL + BASE_REGEX.AZURE_BUCKET_NAME + BASE_REGEX.DOMAIN + BASE_REGEX.PATH,\n  NON_AWS_S3                : BASE_REGEX.S3_PROTOCOL + '(' + BASE_REGEX.DOMAIN + '|' +\n    '(localhost|LOCALHOST)' +\n    BASE_REGEX.IPV4 + '|' +\n    BASE_REGEX.IPV6 + ')' +\n    '(:\\\\d+)?\\\\/' + // optional port.\n    BASE_REGEX.S3_BUCKET_NAME +\n    BASE_REGEX.PATH,\n  HTTP                      : BASE_REGEX.SCHEME + '(' + BASE_REGEX.DOMAIN + '|' +\n    '(localhost|LOCALHOST)|' +\n    BASE_REGEX.IPV4 + '|' +\n    BASE_REGEX.IPV6 + ')' +\n    '(:\\\\d+)?',\n  FILE                      : BASE_REGEX.FILE_PROTOCOL + BASE_REGEX.FOLDER,\n  FILE_WITH_FILE_NAME       : BASE_REGEX.FILE_PROTOCOL + '(' + BASE_REGEX.FOLDER + ')?' + BASE_REGEX.FILE_SUFFIX\n};\n\n\nexport const TASK_TYPES = {\n  TRAINING         : 'training',\n  ANNOTATION       : 'annotation',\n  MANUAL_ANNOTATION: 'annotation_manual',\n  TESTING          : 'testing',\n};\n\nconst recentTasksPrefix = 'RECENT_TASKS';\n\nexport const RECENT_TASKS_ACTIONS = {\n  GET_RECENT_TASKS: recentTasksPrefix + 'GET_RECENT_TASKS',\n  SET_RECENT_TASKS: recentTasksPrefix + 'SET_RECENT_TASKS'\n};\n\nexport const VIEW_PREFIX  = 'VIEW_';\n\nexport type MediaContentTypeEnum = 'image/bmp' | 'image/jpeg' | 'image/png' | 'video/mp4' | 'image/jpeg';\n\nexport const MEDIA_VIDEO_EXTENSIONS = ['flv', 'avi', 'mp4', 'mov', 'mpg', 'wmv', '3gp', 'mkv'];\n\nexport type MessageSeverityEnum = 'success' | 'error' | 'info' | 'warn';\n\nexport const MESSAGES_SEVERITY = {\n  SUCCESS: 'success' as MessageSeverityEnum,\n  ERROR  : 'error' as MessageSeverityEnum,\n  INFO   : 'info' as MessageSeverityEnum,\n  WARN   : 'warn' as MessageSeverityEnum\n};\n\nexport const USERS_PREFIX  = 'USERS_';\nexport const USERS_ACTIONS = {\n  FETCH_CURRENT_USER: USERS_PREFIX + 'FETCH_USER',\n  SET_CURRENT_USER  : USERS_PREFIX + 'SET_CURRENT_USER',\n  LOGOUT_SUCCESS    : USERS_PREFIX + 'LOGOUT_SUCCESS',\n  LOGOUT            : USERS_PREFIX + 'LOGOUT',\n  SET_PREF          : USERS_PREFIX + 'SET_PREF'\n};\n\nexport const NAVIGATION_PREFIX  = 'NAVIGATION_';\nexport const NAVIGATION_ACTIONS = {\n  NAVIGATE_TO                            : NAVIGATION_PREFIX + 'NAVIGATE_TO',\n  NAVIGATION_END                         : NAVIGATION_PREFIX + 'NAVIGATION_END',\n  SET_ROUTER_SEGMENT                     : NAVIGATION_PREFIX + 'SET_ROUTER_SEGMENT',\n  UPDATATE_CURRENT_URL_WITHOUT_NAVIGATING: NAVIGATION_PREFIX + 'UPDATATE_CURRENT_URL_WITHOUT_NAVIGATING',\n  NAVIGATION_SKIPPED                     : NAVIGATION_PREFIX + 'NAVIGATION_SKIPPED',\n};\n\n\nexport function guessAPIServerURL() {\n  const url = window.location.origin;\n  if (/https?:\\/\\/(demo|)app\\./.test(url)) {\n    return url.replace(/(https?):\\/\\/(demo|)app/, '$1://$2api');\n  } else if (window.location.port === '30080') {\n    return url.replace(/:\\d+/, '') + ':30008';\n  }\n  return url.replace(/:\\d+/, '') + ':8008';\n}\n\nexport const ENVIRONMENT = {API_VERSION: '/v999.0'};\nconst url                = window.location.origin;\nlet apiBaseUrl: string;\nif (environment.apiBaseUrl) {\n  apiBaseUrl = environment.apiBaseUrl;\n} else {\n  apiBaseUrl = guessAPIServerURL();\n}\nconst apiBaseUrlNoVersion = apiBaseUrl;\n\nlet fileBaseUrl;\nif (environment.fileBaseUrl) {\n  fileBaseUrl = environment.fileBaseUrl;\n} else if (/https?:\\/\\/(demo|)app\\./.test(url)) {\n  fileBaseUrl = url.replace(/(https?):\\/\\/(demo|)app/, '$1://$2files');\n} else if (window.location.port === '30080') {\n  fileBaseUrl = url.replace(/:\\d+/, '') + ':30081';\n} else if (window.location.port === '8080') {\n  fileBaseUrl = url.replace(/:\\d+/, '') + ':8081';\n}\n\napiBaseUrl += ENVIRONMENT.API_VERSION;\n\nexport const HTTP_PREFIX         = 'HTTP_';\n\nexport const HTTP = {\n  API_BASE_URL           : apiBaseUrl,  // <-- DIRECT CALL DOESN'T WORK\n  API_BASE_URL_NO_VERSION: apiBaseUrlNoVersion,\n  FILE_BASE_URL: fileBaseUrl,\n};\n\nexport class EmptyAction implements Action {\n  readonly type = 'EMPTY_ACTION';\n}\n\nexport const AUTO_REFRESH_INTERVAL = 10 * 1000;\n","import {Injectable} from '@angular/core';\nimport {HTTP} from '../../app.constants';\nimport {Observable} from 'rxjs';\nimport {IApiRequest, SmHttpResponse} from '../model/api-request';\nimport {HttpClient, HttpParams} from '@angular/common/http';\nimport {HttpHeaders} from '@angular/common/http';\nimport {map} from 'rxjs/operators';\n\n@Injectable()\nexport class SmApiRequestsService {\n\n  constructor(private http: HttpClient) {\n  }\n\n  createRequest(request: IApiRequest): Observable<any> {\n\n    return this.http.request(\n      request.meta.method,\n      request.meta.endpoint[0] === '/' ? request.meta.endpoint : `${HTTP.API_BASE_URL}/${request.meta.endpoint}`,\n      {\n        params         : this.getParams(request.params),\n        body           : request.payload,\n        withCredentials: true\n      });\n  }\n\n  post<T>(url: string, body: any | null, options?: {\n    headers?: HttpHeaders | {\n      [header: string]: string | string[];\n    };\n    observe?: 'body';\n    params?: HttpParams | {\n      [param: string]: string | string[];\n    };\n    reportProgress?: boolean;\n    responseType?: 'json';\n    withCredentials?: boolean;\n  }): Observable<T> {\n    options.withCredentials = true;\n    return this.http.post<SmHttpResponse>(url, body, options).pipe(map(res => res.data));\n  }\n\n  posti(url: string, body: any | null, options?: {\n    headers?: HttpHeaders | {\n      [header: string]: string | string[];\n    };\n    observe?: 'body';\n    params?: HttpParams | {\n      [param: string]: string | string[];\n    };\n    reportProgress?: boolean;\n    responseType?: 'json';\n    withCredentials?: boolean;\n  }): Observable<SmHttpResponse> {\n    options.withCredentials = true;\n    return this.http.post<SmHttpResponse>(url, body, options);\n  }\n\n  private getParams(actionParams) {\n    let params: HttpParams = new HttpParams();\n\n    if (actionParams) {\n      Object.keys(actionParams)\n        .forEach(key => params = params.append(key, actionParams[key]));\n    }\n\n    return params;\n  }\n\n}\n","/**\n * auth\n * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\n *\n * OpenAPI spec version: 2.14\n *\n *\n * NOTE: This class is auto generated by the swagger code generator program.\n * https://github.com/swagger-api/swagger-codegen.git\n * Do not edit the class manually.\n */\n\n/* eslint-disable @typescript-eslint/no-unused-vars, @typescript-eslint/member-ordering */\n\nimport {HTTP} from '../../app.constants';\nimport {SmApiRequestsService} from \"./api-requests.service\";\n\nimport { Inject, Injectable, Optional }                      from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams,\n         HttpResponse, HttpEvent }                           from '@angular/common/http';\nimport { CustomHttpUrlEncodingCodec }                        from '../encoder';\n\nimport { Observable }                                        from 'rxjs';\n\nimport { AuthCreateCredentialsResponse } from '../model/auth/authCreateCredentialsResponse';\nimport { AuthCreateUserRequest } from '../model/auth/authCreateUserRequest';\nimport { AuthCreateUserResponse } from '../model/auth/authCreateUserResponse';\nimport { AuthEditUserRequest } from '../model/auth/authEditUserRequest';\nimport { AuthEditUserResponse } from '../model/auth/authEditUserResponse';\nimport { AuthFixedUsersModeResponse } from '../model/auth/authFixedUsersModeResponse';\nimport { AuthGetCredentialsResponse } from '../model/auth/authGetCredentialsResponse';\nimport { AuthGetTokenForUserRequest } from '../model/auth/authGetTokenForUserRequest';\nimport { AuthGetTokenForUserResponse } from '../model/auth/authGetTokenForUserResponse';\nimport { AuthLoginRequest } from '../model/auth/authLoginRequest';\nimport { AuthLoginResponse } from '../model/auth/authLoginResponse';\nimport { AuthRevokeCredentialsRequest } from '../model/auth/authRevokeCredentialsRequest';\nimport { AuthRevokeCredentialsResponse } from '../model/auth/authRevokeCredentialsResponse';\nimport { AuthValidateTokenRequest } from '../model/auth/authValidateTokenRequest';\nimport { AuthValidateTokenResponse } from '../model/auth/authValidateTokenResponse';\n\nimport { BASE_PATH, COLLECTION_FORMATS }                     from '../variables';\nimport { Configuration }                                     from '../configuration';\n\n\n@Injectable()\nexport class ApiAuthService {\n\n    protected basePath = HTTP.API_BASE_URL;\n    public defaultHeaders = new HttpHeaders();\n    public configuration = new Configuration();\n\n    constructor(protected apiRequest: SmApiRequestsService, @Optional()@Inject(BASE_PATH) basePath: string, @Optional() configuration: Configuration) {\n        if (basePath) {\n            this.basePath = basePath;\n        }\n        if (configuration) {\n            this.configuration = configuration;\n            this.basePath = basePath || configuration.basePath || this.basePath;\n        }\n    }\n\n    /**\n     * @param consumes string[] mime-types\n     * @return true: consumes contains 'multipart/form-data', false: otherwise\n     */\n    private canConsumeForm(consumes: string[]): boolean {\n        const form = 'multipart/form-data';\n        for (const consume of consumes) {\n            if (form === consume) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n\n    /**\n     * \n     * Internal. Creates a new set of credentials for the authenticated user. New   key/secret is returned. Note: Secret will never be returned in any other API   call. If a secret is lost or compromised, the key should be revoked and a new   set of credentials can be created.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public authCreateCredentials(request: object, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling authCreateCredentials.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<AuthCreateCredentialsResponse>(`${this.basePath}/auth.create_credentials`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Creates a new user auth entry. Intended for internal use.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public authCreateUser(request: AuthCreateUserRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling authCreateUser.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<AuthCreateUserResponse>(`${this.basePath}/auth.create_user`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Edit a users\\&#39; auth data properties\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public authEditUser(request: AuthEditUserRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling authEditUser.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<AuthEditUserResponse>(`${this.basePath}/auth.edit_user`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Return fixed users mode status\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public authFixedUsersMode(request: object, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling authFixedUsersMode.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<AuthFixedUsersModeResponse>(`${this.basePath}/auth.fixed_users_mode`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Returns all existing credential keys for the authenticated user.   Note: Only credential keys are returned.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public authGetCredentials(request: object, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling authGetCredentials.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<AuthGetCredentialsResponse>(`${this.basePath}/auth.get_credentials`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Get a token for the specified user. Intended for internal use.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public authGetTokenForUser(request: AuthGetTokenForUserRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling authGetTokenForUser.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<AuthGetTokenForUserResponse>(`${this.basePath}/auth.get_token_for_user`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Get a token based on supplied credentials (key/secret). Intended for   use by users with key/secret credentials that wish to obtain a token for use   with other services.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public authLogin(request: AuthLoginRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling authLogin.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<AuthLoginResponse>(`${this.basePath}/auth.login`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Removes the authentication cookie from the current session\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public authLogout(request: object, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling authLogout.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<object>(`${this.basePath}/auth.logout`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Revokes (and deletes) a set (key, secret) of credentials for the   authenticated user.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public authRevokeCredentials(request: AuthRevokeCredentialsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling authRevokeCredentials.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<AuthRevokeCredentialsResponse>(`${this.basePath}/auth.revoke_credentials`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Validate a token and return user identity if valid. Intended for   internal use.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public authValidateToken(request: AuthValidateTokenRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling authValidateToken.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<AuthValidateTokenResponse>(`${this.basePath}/auth.validate_token`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n}\n","/**\n * events\n * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\n *\n * OpenAPI spec version: 2.14\n *\n *\n * NOTE: This class is auto generated by the swagger code generator program.\n * https://github.com/swagger-api/swagger-codegen.git\n * Do not edit the class manually.\n */\n\n/* eslint-disable @typescript-eslint/no-unused-vars, @typescript-eslint/member-ordering */\n\nimport {HTTP} from '../../app.constants';\nimport {SmApiRequestsService} from \"./api-requests.service\";\n\nimport { Inject, Injectable, Optional }                      from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams,\n         HttpResponse, HttpEvent }                           from '@angular/common/http';\nimport { CustomHttpUrlEncodingCodec }                        from '../encoder';\n\nimport { Observable }                                        from 'rxjs';\n\nimport { DebugImageSampleReposnse } from '../model/events/debugImageSampleReposnse';\nimport { EventsAddBatchResponse } from '../model/events/eventsAddBatchResponse';\nimport { EventsDebugImagesRequest } from '../model/events/eventsDebugImagesRequest';\nimport { EventsDebugImagesResponse } from '../model/events/eventsDebugImagesResponse';\nimport { EventsDeleteForTaskRequest } from '../model/events/eventsDeleteForTaskRequest';\nimport { EventsDeleteForTaskResponse } from '../model/events/eventsDeleteForTaskResponse';\nimport { EventsDownloadTaskLogRequest } from '../model/events/eventsDownloadTaskLogRequest';\nimport { EventsGetDebugImageSampleRequest } from '../model/events/eventsGetDebugImageSampleRequest';\nimport { EventsGetMultiTaskPlotsRequest } from '../model/events/eventsGetMultiTaskPlotsRequest';\nimport { EventsGetMultiTaskPlotsResponse } from '../model/events/eventsGetMultiTaskPlotsResponse';\nimport { EventsGetScalarMetricDataRequest } from '../model/events/eventsGetScalarMetricDataRequest';\nimport { EventsGetScalarMetricDataResponse } from '../model/events/eventsGetScalarMetricDataResponse';\nimport { EventsGetScalarMetricsAndVariantsRequest } from '../model/events/eventsGetScalarMetricsAndVariantsRequest';\nimport { EventsGetScalarMetricsAndVariantsResponse } from '../model/events/eventsGetScalarMetricsAndVariantsResponse';\nimport { EventsGetTaskEventsRequest } from '../model/events/eventsGetTaskEventsRequest';\nimport { EventsGetTaskEventsResponse } from '../model/events/eventsGetTaskEventsResponse';\nimport { EventsGetTaskLatestScalarValuesRequest } from '../model/events/eventsGetTaskLatestScalarValuesRequest';\nimport { EventsGetTaskLatestScalarValuesResponse } from '../model/events/eventsGetTaskLatestScalarValuesResponse';\nimport { EventsGetTaskLogRequest } from '../model/events/eventsGetTaskLogRequest';\nimport { EventsGetTaskLogResponse } from '../model/events/eventsGetTaskLogResponse';\nimport { EventsGetTaskMetricsRequest } from '../model/events/eventsGetTaskMetricsRequest';\nimport { EventsGetTaskMetricsResponse } from '../model/events/eventsGetTaskMetricsResponse';\nimport { EventsGetTaskPlotsRequest } from '../model/events/eventsGetTaskPlotsRequest';\nimport { EventsGetTaskPlotsResponse } from '../model/events/eventsGetTaskPlotsResponse';\nimport { EventsGetVectorMetricsAndVariantsRequest } from '../model/events/eventsGetVectorMetricsAndVariantsRequest';\nimport { EventsGetVectorMetricsAndVariantsResponse } from '../model/events/eventsGetVectorMetricsAndVariantsResponse';\nimport { EventsMultiTaskScalarMetricsIterHistogramRequest } from '../model/events/eventsMultiTaskScalarMetricsIterHistogramRequest';\nimport { EventsNextDebugImageSampleRequest } from '../model/events/eventsNextDebugImageSampleRequest';\nimport { EventsScalarMetricsIterHistogramRequest } from '../model/events/eventsScalarMetricsIterHistogramRequest';\nimport { EventsScalarMetricsIterHistogramResponse } from '../model/events/eventsScalarMetricsIterHistogramResponse';\nimport { EventsVectorMetricsIterHistogramRequest } from '../model/events/eventsVectorMetricsIterHistogramRequest';\nimport { EventsVectorMetricsIterHistogramResponse } from '../model/events/eventsVectorMetricsIterHistogramResponse';\n\nimport { BASE_PATH, COLLECTION_FORMATS }                     from '../variables';\nimport { Configuration }                                     from '../configuration';\nimport {EventsScalarMetricsIterRawRequest} from \"~/business-logic/model/events/eventsScalarMetricsIterRawRequest\";\nimport {EventsScalarMetricsIterRawResponse} from \"~/business-logic/model/events/eventsScalarMetricsIterRawResponse\";\n\n\n@Injectable()\nexport class ApiEventsService {\n\n    protected basePath = HTTP.API_BASE_URL;\n    public defaultHeaders = new HttpHeaders();\n    public configuration = new Configuration();\n\n    constructor(protected apiRequest: SmApiRequestsService, @Optional()@Inject(BASE_PATH) basePath: string, @Optional() configuration: Configuration) {\n        if (basePath) {\n            this.basePath = basePath;\n        }\n        if (configuration) {\n            this.configuration = configuration;\n            this.basePath = basePath || configuration.basePath || this.basePath;\n        }\n    }\n\n    /**\n     * @param consumes string[] mime-types\n     * @return true: consumes contains 'multipart/form-data', false: otherwise\n     */\n    private canConsumeForm(consumes: string[]): boolean {\n        const form = 'multipart/form-data';\n        for (const consume of consumes) {\n            if (form === consume) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n\n    /**\n     *\n     * Adds a single event\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsAdd(request: object, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling eventsAdd.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<object>(`${this.basePath}/events.add`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     *\n     * Adds a batch of events in a single call (json-lines format, stream-friendly)\n     * @param requests Json encoded newline-terminated lines, each representing an event in the batch and uses the same parameters used for events.add\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsAddBatch(requests: Array<object>, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (requests === null || requests === undefined) {\n            throw new Error('Required parameter requests was null or undefined when calling eventsAddBatch.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<EventsAddBatchResponse>(`${this.basePath}/events.add_batch`,\n            requests,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     *\n     * Get the debug image events for the requested amount of iterations per each task\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsDebugImages(request: EventsDebugImagesRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling eventsDebugImages.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<EventsDebugImagesResponse>(`${this.basePath}/events.debug_images`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     *\n     * Delete all task event. *This cannot be undone!*\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsDeleteForTask(request: EventsDeleteForTaskRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling eventsDeleteForTask.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<EventsDeleteForTaskResponse>(`${this.basePath}/events.delete_for_task`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     *\n     * Get an attachment containing the task\\&#39;s log\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsDownloadTaskLog(request: EventsDownloadTaskLogRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling eventsDownloadTaskLog.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<string>(`${this.basePath}/events.download_task_log`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     *\n     * Return the debug image per metric and variant for the provided iteration\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsGetDebugImageSample(request: EventsGetDebugImageSampleRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling eventsGetDebugImageSample.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<DebugImageSampleReposnse>(`${this.basePath}/events.get_debug_image_sample`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     *\n     * Get \\&#39;plot\\&#39; events for the given tasks\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsGetMultiTaskPlots(request: EventsGetMultiTaskPlotsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling eventsGetMultiTaskPlots.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<EventsGetMultiTaskPlotsResponse>(`${this.basePath}/events.get_multi_task_plots`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     *\n     * get scalar metric data for task\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsGetScalarMetricData(request: EventsGetScalarMetricDataRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling eventsGetScalarMetricData.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<EventsGetScalarMetricDataResponse>(`${this.basePath}/events.get_scalar_metric_data`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     *\n     * get task scalar metrics and variants\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsGetScalarMetricsAndVariants(request: EventsGetScalarMetricsAndVariantsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling eventsGetScalarMetricsAndVariants.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<EventsGetScalarMetricsAndVariantsResponse>(`${this.basePath}/events.get_scalar_metrics_and_variants`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     *\n     * Scroll through task events, sorted by timestamp\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsGetTaskEvents(request: EventsGetTaskEventsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling eventsGetTaskEvents.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<EventsGetTaskEventsResponse>(`${this.basePath}/events.get_task_events`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     *\n     * Get the tasks\\&#39;s latest scalar values\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsGetTaskLatestScalarValues(request: EventsGetTaskLatestScalarValuesRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling eventsGetTaskLatestScalarValues.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<EventsGetTaskLatestScalarValuesResponse>(`${this.basePath}/events.get_task_latest_scalar_values`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     *\n     * Get \\&#39;log\\&#39; events for this task\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsGetTaskLog(request: EventsGetTaskLogRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling eventsGetTaskLog.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<EventsGetTaskLogResponse>(`${this.basePath}/events.get_task_log`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     *\n     * For each task, get a list of metrics for which the requested event type was   reported\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsGetTaskMetrics(request: EventsGetTaskMetricsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling eventsGetTaskMetrics.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<EventsGetTaskMetricsResponse>(`${this.basePath}/events.get_task_metrics`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     *\n     * Get all \\&#39;plot\\&#39; events for this task\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsGetTaskPlots(request: EventsGetTaskPlotsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling eventsGetTaskPlots.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<EventsGetTaskPlotsResponse>(`${this.basePath}/events.get_task_plots`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     *\n     *\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsGetVectorMetricsAndVariants(request: EventsGetVectorMetricsAndVariantsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling eventsGetVectorMetricsAndVariants.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<EventsGetVectorMetricsAndVariantsResponse>(`${this.basePath}/events.get_vector_metrics_and_variants`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     *\n     * Used to compare scalar stats histogram of multiple tasks\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsMultiTaskScalarMetricsIterHistogram(request: EventsMultiTaskScalarMetricsIterHistogramRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling eventsMultiTaskScalarMetricsIterHistogram.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<object>(`${this.basePath}/events.multi_task_scalar_metrics_iter_histogram`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     *\n     * Get the image for the next variant for the same iteration or for the next   iteration\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsNextDebugImageSample(request: EventsNextDebugImageSampleRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling eventsNextDebugImageSample.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<DebugImageSampleReposnse>(`${this.basePath}/events.next_debug_image_sample`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     *\n     * Get histogram data of all the vector metrics and variants in the task\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsScalarMetricsIterHistogram(request: EventsScalarMetricsIterHistogramRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling eventsScalarMetricsIterHistogram.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<EventsScalarMetricsIterHistogramResponse>(`${this.basePath}/events.scalar_metrics_iter_histogram`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     *\n     * Get histogram data of all the scalar metrics and variants in the task\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public eventsVectorMetricsIterHistogram(request: EventsVectorMetricsIterHistogramRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling eventsVectorMetricsIterHistogram.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<EventsVectorMetricsIterHistogramResponse>(`${this.basePath}/events.vector_metrics_iter_histogram`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n  /**\n   *\n   * Get raw data for a specific metric variants in the task\n   * @param request request body\n   * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n   * @param reportProgress flag to report request and response progress.\n   */\n  public eventsScalarMetricsIterRaw(request: EventsScalarMetricsIterRawRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n    if (request === null || request === undefined) {\n      throw new Error('Required parameter request was null or undefined when calling eventsScalarMetricsIterRaw.');\n    }\n\n    let headers = this.defaultHeaders;\n    if (options && options.async_enable) {\n      headers = headers.set(this.configuration.asyncHeader, '1');\n    }\n\n    // to determine the Accept header\n    const httpHeaderAccepts: string[] = [\n      'application/json'\n    ];\n    const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n    if (httpHeaderAcceptSelected != undefined) {\n      headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n    }\n\n    // to determine the Content-Type header\n    const consumes: string[] = [\n    ];\n    const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n    if (httpContentTypeSelected != undefined) {\n      headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n    }\n\n    return this.apiRequest.post<EventsScalarMetricsIterRawResponse>(`${this.basePath}/events.scalar_metrics_iter_raw`,\n      request,\n      {\n        withCredentials: this.configuration.withCredentials,\n        headers: headers,\n        observe: observe,\n        reportProgress: reportProgress\n      }\n    );\n  }\n\n}\n","/**\n * login\n * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\n *\n * OpenAPI spec version: 2.14\n *\n *\n * NOTE: This class is auto generated by the swagger code generator program.\n * https://github.com/swagger-api/swagger-codegen.git\n * Do not edit the class manually.\n */\n\n/* eslint-disable @typescript-eslint/no-unused-vars, @typescript-eslint/member-ordering */\n\nimport {HTTP} from '../../app.constants';\nimport {SmApiRequestsService} from \"./api-requests.service\";\n\nimport { Inject, Injectable, Optional }                      from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams,\n         HttpResponse, HttpEvent }                           from '@angular/common/http';\nimport { CustomHttpUrlEncodingCodec }                        from '../encoder';\n\nimport { Observable }                                        from 'rxjs';\n\nimport { LoginSupportedModesRequest } from '../model/login/loginSupportedModesRequest';\nimport { LoginSupportedModesResponse } from '../model/login/loginSupportedModesResponse';\n\nimport { BASE_PATH, COLLECTION_FORMATS }                     from '../variables';\nimport { Configuration }                                     from '../configuration';\n\n\n@Injectable()\nexport class ApiLoginService {\n\n    protected basePath = HTTP.API_BASE_URL;\n    public defaultHeaders = new HttpHeaders();\n    public configuration = new Configuration();\n\n    constructor(protected apiRequest: SmApiRequestsService, @Optional()@Inject(BASE_PATH) basePath: string, @Optional() configuration: Configuration) {\n        if (basePath) {\n            this.basePath = basePath;\n        }\n        if (configuration) {\n            this.configuration = configuration;\n            this.basePath = basePath || configuration.basePath || this.basePath;\n        }\n    }\n\n    /**\n     * @param consumes string[] mime-types\n     * @return true: consumes contains 'multipart/form-data', false: otherwise\n     */\n    private canConsumeForm(consumes: string[]): boolean {\n        const form = 'multipart/form-data';\n        for (const consume of consumes) {\n            if (form === consume) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n\n    /**\n     * \n     * Logout (including SSO, if used))\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public loginLogout(request: object, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling loginLogout.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<object>(`${this.basePath}/login.logout`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Return supported login modes.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public loginSupportedModes(request: LoginSupportedModesRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling loginSupportedModes.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<LoginSupportedModesResponse>(`${this.basePath}/login.supported_modes`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n}\n","/**\n * models\n * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\n *\n * OpenAPI spec version: 2.14\n *\n *\n * NOTE: This class is auto generated by the swagger code generator program.\n * https://github.com/swagger-api/swagger-codegen.git\n * Do not edit the class manually.\n */\n\n/* eslint-disable @typescript-eslint/no-unused-vars, @typescript-eslint/member-ordering */\n\nimport {HTTP} from '../../app.constants';\nimport {SmApiRequestsService} from \"./api-requests.service\";\n\nimport { Inject, Injectable, Optional }                      from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams,\n         HttpResponse, HttpEvent }                           from '@angular/common/http';\nimport { CustomHttpUrlEncodingCodec }                        from '../encoder';\n\nimport { Observable }                                        from 'rxjs';\n\nimport { ModelsAddOrUpdateMetadataRequest } from '../model/models/modelsAddOrUpdateMetadataRequest';\nimport { ModelsAddOrUpdateMetadataResponse } from '../model/models/modelsAddOrUpdateMetadataResponse';\nimport { ModelsArchiveManyRequest } from '../model/models/modelsArchiveManyRequest';\nimport { ModelsArchiveManyResponse } from '../model/models/modelsArchiveManyResponse';\nimport { ModelsCreateRequest } from '../model/models/modelsCreateRequest';\nimport { ModelsCreateResponse } from '../model/models/modelsCreateResponse';\nimport { ModelsDeleteManyRequest } from '../model/models/modelsDeleteManyRequest';\nimport { ModelsDeleteManyResponse } from '../model/models/modelsDeleteManyResponse';\nimport { ModelsDeleteMetadataRequest } from '../model/models/modelsDeleteMetadataRequest';\nimport { ModelsDeleteMetadataResponse } from '../model/models/modelsDeleteMetadataResponse';\nimport { ModelsDeleteRequest } from '../model/models/modelsDeleteRequest';\nimport { ModelsDeleteResponse } from '../model/models/modelsDeleteResponse';\nimport { ModelsEditRequest } from '../model/models/modelsEditRequest';\nimport { ModelsEditResponse } from '../model/models/modelsEditResponse';\nimport { ModelsGetAllExRequest } from '../model/models/modelsGetAllExRequest';\nimport { ModelsGetAllExResponse } from '../model/models/modelsGetAllExResponse';\nimport { ModelsGetAllRequest } from '../model/models/modelsGetAllRequest';\nimport { ModelsGetAllResponse } from '../model/models/modelsGetAllResponse';\nimport { ModelsGetByIdExRequest } from '../model/models/modelsGetByIdExRequest';\nimport { ModelsGetByIdExResponse } from '../model/models/modelsGetByIdExResponse';\nimport { ModelsGetByIdRequest } from '../model/models/modelsGetByIdRequest';\nimport { ModelsGetByIdResponse } from '../model/models/modelsGetByIdResponse';\nimport { ModelsGetByTaskIdRequest } from '../model/models/modelsGetByTaskIdRequest';\nimport { ModelsGetByTaskIdResponse } from '../model/models/modelsGetByTaskIdResponse';\nimport { ModelsGetFrameworksRequest } from '../model/models/modelsGetFrameworksRequest';\nimport { ModelsGetFrameworksResponse } from '../model/models/modelsGetFrameworksResponse';\nimport { ModelsMakePrivateRequest } from '../model/models/modelsMakePrivateRequest';\nimport { ModelsMakePrivateResponse } from '../model/models/modelsMakePrivateResponse';\nimport { ModelsMakePublicRequest } from '../model/models/modelsMakePublicRequest';\nimport { ModelsMakePublicResponse } from '../model/models/modelsMakePublicResponse';\nimport { ModelsMoveRequest } from '../model/models/modelsMoveRequest';\nimport { ModelsPublishManyRequest } from '../model/models/modelsPublishManyRequest';\nimport { ModelsPublishManyResponse } from '../model/models/modelsPublishManyResponse';\nimport { ModelsSetReadyRequest } from '../model/models/modelsSetReadyRequest';\nimport { ModelsSetReadyResponse } from '../model/models/modelsSetReadyResponse';\nimport { ModelsUnarchiveManyRequest } from '../model/models/modelsUnarchiveManyRequest';\nimport { ModelsUnarchiveManyResponse } from '../model/models/modelsUnarchiveManyResponse';\nimport { ModelsUpdateForTaskRequest } from '../model/models/modelsUpdateForTaskRequest';\nimport { ModelsUpdateForTaskResponse } from '../model/models/modelsUpdateForTaskResponse';\nimport { ModelsUpdateRequest } from '../model/models/modelsUpdateRequest';\nimport { ModelsUpdateResponse } from '../model/models/modelsUpdateResponse';\n\nimport { BASE_PATH, COLLECTION_FORMATS }                     from '../variables';\nimport { Configuration }                                     from '../configuration';\n\n\n@Injectable()\nexport class ApiModelsService {\n\n    protected basePath = HTTP.API_BASE_URL;\n    public defaultHeaders = new HttpHeaders();\n    public configuration = new Configuration();\n\n    constructor(protected apiRequest: SmApiRequestsService, @Optional()@Inject(BASE_PATH) basePath: string, @Optional() configuration: Configuration) {\n        if (basePath) {\n            this.basePath = basePath;\n        }\n        if (configuration) {\n            this.configuration = configuration;\n            this.basePath = basePath || configuration.basePath || this.basePath;\n        }\n    }\n\n    /**\n     * @param consumes string[] mime-types\n     * @return true: consumes contains 'multipart/form-data', false: otherwise\n     */\n    private canConsumeForm(consumes: string[]): boolean {\n        const form = 'multipart/form-data';\n        for (const consume of consumes) {\n            if (form === consume) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n\n    /**\n     * \n     * Add or update model metadata\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsAddOrUpdateMetadata(request: ModelsAddOrUpdateMetadataRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsAddOrUpdateMetadata.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsAddOrUpdateMetadataResponse>(`${this.basePath}/models.add_or_update_metadata`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Archive models\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsArchiveMany(request: ModelsArchiveManyRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsArchiveMany.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsArchiveManyResponse>(`${this.basePath}/models.archive_many`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Create a new model not associated with a task\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsCreate(request: ModelsCreateRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsCreate.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsCreateResponse>(`${this.basePath}/models.create`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Delete a model.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsDelete(request: ModelsDeleteRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsDelete.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsDeleteResponse>(`${this.basePath}/models.delete`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Delete models\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsDeleteMany(request: ModelsDeleteManyRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsDeleteMany.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsDeleteManyResponse>(`${this.basePath}/models.delete_many`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Delete metadata from model\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsDeleteMetadata(request: ModelsDeleteMetadataRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsDeleteMetadata.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsDeleteMetadataResponse>(`${this.basePath}/models.delete_metadata`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Edit an existing model\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsEdit(request: ModelsEditRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsEdit.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsEditResponse>(`${this.basePath}/models.edit`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get all models\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsGetAll(request: ModelsGetAllRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsGetAll.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsGetAllResponse>(`${this.basePath}/models.get_all`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get all models\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsGetAllEx(request: ModelsGetAllExRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsGetAllEx.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsGetAllExResponse>(`${this.basePath}/models.get_all_ex`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Gets model information\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsGetById(request: ModelsGetByIdRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsGetById.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsGetByIdResponse>(`${this.basePath}/models.get_by_id`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get all models\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsGetByIdEx(request: ModelsGetByIdExRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsGetByIdEx.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsGetByIdExResponse>(`${this.basePath}/models.get_by_id_ex`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Gets model information\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsGetByTaskId(request: ModelsGetByTaskIdRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsGetByTaskId.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsGetByTaskIdResponse>(`${this.basePath}/models.get_by_task_id`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get the list of frameworks used in the company models\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsGetFrameworks(request: ModelsGetFrameworksRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsGetFrameworks.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsGetFrameworksResponse>(`${this.basePath}/models.get_frameworks`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Convert public models to private\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsMakePrivate(request: ModelsMakePrivateRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsMakePrivate.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsMakePrivateResponse>(`${this.basePath}/models.make_private`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Convert company models to public\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsMakePublic(request: ModelsMakePublicRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsMakePublic.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsMakePublicResponse>(`${this.basePath}/models.make_public`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Move models to a project\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsMove(request: ModelsMoveRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsMove.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<object>(`${this.basePath}/models.move`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Publish models\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsPublishMany(request: ModelsPublishManyRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsPublishMany.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsPublishManyResponse>(`${this.basePath}/models.publish_many`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Set the model ready flag to True. If the model is an output model of a task   then try to publish the task.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsSetReady(request: ModelsSetReadyRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsSetReady.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsSetReadyResponse>(`${this.basePath}/models.set_ready`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Unarchive models\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsUnarchiveMany(request: ModelsUnarchiveManyRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsUnarchiveMany.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsUnarchiveManyResponse>(`${this.basePath}/models.unarchive_many`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Update a model\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsUpdate(request: ModelsUpdateRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsUpdate.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsUpdateResponse>(`${this.basePath}/models.update`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Create or update a new model for a task\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public modelsUpdateForTask(request: ModelsUpdateForTaskRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling modelsUpdateForTask.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ModelsUpdateForTaskResponse>(`${this.basePath}/models.update_for_task`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n}\n","/**\n * projects\n * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\n *\n * OpenAPI spec version: 2.14\n *\n *\n * NOTE: This class is auto generated by the swagger code generator program.\n * https://github.com/swagger-api/swagger-codegen.git\n * Do not edit the class manually.\n */\n\n/* eslint-disable @typescript-eslint/no-unused-vars, @typescript-eslint/member-ordering */\n\nimport {HTTP} from '../../app.constants';\nimport {SmApiRequestsService} from \"./api-requests.service\";\n\nimport { Inject, Injectable, Optional }                      from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams,\n         HttpResponse, HttpEvent }                           from '@angular/common/http';\nimport { CustomHttpUrlEncodingCodec }                        from '../encoder';\n\nimport { Observable }                                        from 'rxjs';\n\nimport { ProjectsCreateRequest } from '../model/projects/projectsCreateRequest';\nimport { ProjectsCreateResponse } from '../model/projects/projectsCreateResponse';\nimport { ProjectsDeleteRequest } from '../model/projects/projectsDeleteRequest';\nimport { ProjectsDeleteResponse } from '../model/projects/projectsDeleteResponse';\nimport { ProjectsGetAllExRequest } from '../model/projects/projectsGetAllExRequest';\nimport { ProjectsGetAllExResponse } from '../model/projects/projectsGetAllExResponse';\nimport { ProjectsGetAllRequest } from '../model/projects/projectsGetAllRequest';\nimport { ProjectsGetAllResponse } from '../model/projects/projectsGetAllResponse';\nimport { ProjectsGetByIdRequest } from '../model/projects/projectsGetByIdRequest';\nimport { ProjectsGetByIdResponse } from '../model/projects/projectsGetByIdResponse';\nimport { ProjectsGetHyperParametersRequest } from '../model/projects/projectsGetHyperParametersRequest';\nimport { ProjectsGetHyperParametersResponse } from '../model/projects/projectsGetHyperParametersResponse';\nimport { ProjectsGetHyperparamValuesRequest } from '../model/projects/projectsGetHyperparamValuesRequest';\nimport { ProjectsGetHyperparamValuesResponse } from '../model/projects/projectsGetHyperparamValuesResponse';\nimport { ProjectsGetModelTagsRequest } from '../model/projects/projectsGetModelTagsRequest';\nimport { ProjectsGetModelTagsResponse } from '../model/projects/projectsGetModelTagsResponse';\nimport { ProjectsGetTaskParentsRequest } from '../model/projects/projectsGetTaskParentsRequest';\nimport { ProjectsGetTaskParentsResponse } from '../model/projects/projectsGetTaskParentsResponse';\nimport { ProjectsGetTaskTagsRequest } from '../model/projects/projectsGetTaskTagsRequest';\nimport { ProjectsGetTaskTagsResponse } from '../model/projects/projectsGetTaskTagsResponse';\nimport { ProjectsGetUniqueMetricVariantsRequest } from '../model/projects/projectsGetUniqueMetricVariantsRequest';\nimport { ProjectsGetUniqueMetricVariantsResponse } from '../model/projects/projectsGetUniqueMetricVariantsResponse';\nimport { ProjectsMakePrivateRequest } from '../model/projects/projectsMakePrivateRequest';\nimport { ProjectsMakePrivateResponse } from '../model/projects/projectsMakePrivateResponse';\nimport { ProjectsMakePublicRequest } from '../model/projects/projectsMakePublicRequest';\nimport { ProjectsMakePublicResponse } from '../model/projects/projectsMakePublicResponse';\nimport { ProjectsMergeRequest } from '../model/projects/projectsMergeRequest';\nimport { ProjectsMergeResponse } from '../model/projects/projectsMergeResponse';\nimport { ProjectsMoveRequest } from '../model/projects/projectsMoveRequest';\nimport { ProjectsMoveResponse } from '../model/projects/projectsMoveResponse';\nimport { ProjectsUpdateRequest } from '../model/projects/projectsUpdateRequest';\nimport { ProjectsUpdateResponse } from '../model/projects/projectsUpdateResponse';\nimport { ProjectsValidateDeleteRequest } from '../model/projects/projectsValidateDeleteRequest';\nimport { ProjectsValidateDeleteResponse } from '../model/projects/projectsValidateDeleteResponse';\n\nimport { BASE_PATH, COLLECTION_FORMATS }                     from '../variables';\nimport { Configuration }                                     from '../configuration';\n\n\n@Injectable()\nexport class ApiProjectsService {\n\n    protected basePath = HTTP.API_BASE_URL;\n    public defaultHeaders = new HttpHeaders();\n    public configuration = new Configuration();\n\n    constructor(protected apiRequest: SmApiRequestsService, @Optional()@Inject(BASE_PATH) basePath: string, @Optional() configuration: Configuration) {\n        if (basePath) {\n            this.basePath = basePath;\n        }\n        if (configuration) {\n            this.configuration = configuration;\n            this.basePath = basePath || configuration.basePath || this.basePath;\n        }\n    }\n\n    /**\n     * @param consumes string[] mime-types\n     * @return true: consumes contains 'multipart/form-data', false: otherwise\n     */\n    private canConsumeForm(consumes: string[]): boolean {\n        const form = 'multipart/form-data';\n        for (const consume of consumes) {\n            if (form === consume) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n\n    /**\n     * \n     * Create a new project\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public projectsCreate(request: ProjectsCreateRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling projectsCreate.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ProjectsCreateResponse>(`${this.basePath}/projects.create`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Deletes a project\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public projectsDelete(request: ProjectsDeleteRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling projectsDelete.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ProjectsDeleteResponse>(`${this.basePath}/projects.delete`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get all the company\\&#39;s projects and all public projects\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public projectsGetAll(request: ProjectsGetAllRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling projectsGetAll.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ProjectsGetAllResponse>(`${this.basePath}/projects.get_all`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get all the company\\&#39;s projects and all public projects\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public projectsGetAllEx(request: ProjectsGetAllExRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling projectsGetAllEx.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ProjectsGetAllExResponse>(`${this.basePath}/projects.get_all_ex`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * \n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public projectsGetById(request: ProjectsGetByIdRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling projectsGetById.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ProjectsGetByIdResponse>(`${this.basePath}/projects.get_by_id`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get a list of all hyper parameter sections and names used in tasks within the   given project.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public projectsGetHyperParameters(request: ProjectsGetHyperParametersRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling projectsGetHyperParameters.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ProjectsGetHyperParametersResponse>(`${this.basePath}/projects.get_hyper_parameters`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get a list of distinct values for the chosen hyperparameter\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public projectsGetHyperparamValues(request: ProjectsGetHyperparamValuesRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling projectsGetHyperparamValues.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ProjectsGetHyperparamValuesResponse>(`${this.basePath}/projects.get_hyperparam_values`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get user and system tags used for the models under the specified projects\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public projectsGetModelTags(request: ProjectsGetModelTagsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling projectsGetModelTags.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ProjectsGetModelTagsResponse>(`${this.basePath}/projects.get_model_tags`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get unique parent tasks for the tasks in the specified projects\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public projectsGetTaskParents(request: ProjectsGetTaskParentsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling projectsGetTaskParents.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ProjectsGetTaskParentsResponse>(`${this.basePath}/projects.get_task_parents`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get user and system tags used for the tasks under the specified projects\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public projectsGetTaskTags(request: ProjectsGetTaskTagsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling projectsGetTaskTags.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ProjectsGetTaskTagsResponse>(`${this.basePath}/projects.get_task_tags`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get all metric/variant pairs reported for tasks in a specific project. If no   project is specified, metrics/variant paris reported for all tasks will be   returned. If the project does not exist, an empty list will be returned.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public projectsGetUniqueMetricVariants(request: ProjectsGetUniqueMetricVariantsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling projectsGetUniqueMetricVariants.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ProjectsGetUniqueMetricVariantsResponse>(`${this.basePath}/projects.get_unique_metric_variants`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Convert public projects to private\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public projectsMakePrivate(request: ProjectsMakePrivateRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling projectsMakePrivate.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ProjectsMakePrivateResponse>(`${this.basePath}/projects.make_private`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Convert company projects to public\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public projectsMakePublic(request: ProjectsMakePublicRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling projectsMakePublic.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ProjectsMakePublicResponse>(`${this.basePath}/projects.make_public`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Moves all the source project\\&#39;s contents to the destination project and remove   the source project\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public projectsMerge(request: ProjectsMergeRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling projectsMerge.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ProjectsMergeResponse>(`${this.basePath}/projects.merge`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Moves a project and all of its subprojects under the different location\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public projectsMove(request: ProjectsMoveRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling projectsMove.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ProjectsMoveResponse>(`${this.basePath}/projects.move`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Update project information\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public projectsUpdate(request: ProjectsUpdateRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling projectsUpdate.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ProjectsUpdateResponse>(`${this.basePath}/projects.update`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Validates that the project existis and can be deleted\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public projectsValidateDelete(request: ProjectsValidateDeleteRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling projectsValidateDelete.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ProjectsValidateDeleteResponse>(`${this.basePath}/projects.validate_delete`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n}\n","/**\n * queues\n * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\n *\n * OpenAPI spec version: 2.14\n *\n *\n * NOTE: This class is auto generated by the swagger code generator program.\n * https://github.com/swagger-api/swagger-codegen.git\n * Do not edit the class manually.\n */\n\n/* eslint-disable @typescript-eslint/no-unused-vars, @typescript-eslint/member-ordering */\n\nimport {HTTP} from '../../app.constants';\nimport {SmApiRequestsService} from \"./api-requests.service\";\n\nimport { Inject, Injectable, Optional }                      from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams,\n         HttpResponse, HttpEvent }                           from '@angular/common/http';\nimport { CustomHttpUrlEncodingCodec }                        from '../encoder';\n\nimport { Observable }                                        from 'rxjs';\n\nimport { QueuesAddOrUpdateMetadataRequest } from '../model/queues/queuesAddOrUpdateMetadataRequest';\nimport { QueuesAddOrUpdateMetadataResponse } from '../model/queues/queuesAddOrUpdateMetadataResponse';\nimport { QueuesAddTaskRequest } from '../model/queues/queuesAddTaskRequest';\nimport { QueuesAddTaskResponse } from '../model/queues/queuesAddTaskResponse';\nimport { QueuesCreateRequest } from '../model/queues/queuesCreateRequest';\nimport { QueuesCreateResponse } from '../model/queues/queuesCreateResponse';\nimport { QueuesDeleteMetadataRequest } from '../model/queues/queuesDeleteMetadataRequest';\nimport { QueuesDeleteMetadataResponse } from '../model/queues/queuesDeleteMetadataResponse';\nimport { QueuesDeleteRequest } from '../model/queues/queuesDeleteRequest';\nimport { QueuesDeleteResponse } from '../model/queues/queuesDeleteResponse';\nimport { QueuesGetAllExRequest } from '../model/queues/queuesGetAllExRequest';\nimport { QueuesGetAllExResponse } from '../model/queues/queuesGetAllExResponse';\nimport { QueuesGetAllRequest } from '../model/queues/queuesGetAllRequest';\nimport { QueuesGetAllResponse } from '../model/queues/queuesGetAllResponse';\nimport { QueuesGetByIdRequest } from '../model/queues/queuesGetByIdRequest';\nimport { QueuesGetByIdResponse } from '../model/queues/queuesGetByIdResponse';\nimport { QueuesGetDefaultResponse } from '../model/queues/queuesGetDefaultResponse';\nimport { QueuesGetNextTaskRequest } from '../model/queues/queuesGetNextTaskRequest';\nimport { QueuesGetNextTaskResponse } from '../model/queues/queuesGetNextTaskResponse';\nimport { QueuesGetQueueMetricsRequest } from '../model/queues/queuesGetQueueMetricsRequest';\nimport { QueuesGetQueueMetricsResponse } from '../model/queues/queuesGetQueueMetricsResponse';\nimport { QueuesMoveTaskBackwardRequest } from '../model/queues/queuesMoveTaskBackwardRequest';\nimport { QueuesMoveTaskBackwardResponse } from '../model/queues/queuesMoveTaskBackwardResponse';\nimport { QueuesMoveTaskForwardRequest } from '../model/queues/queuesMoveTaskForwardRequest';\nimport { QueuesMoveTaskForwardResponse } from '../model/queues/queuesMoveTaskForwardResponse';\nimport { QueuesMoveTaskToBackRequest } from '../model/queues/queuesMoveTaskToBackRequest';\nimport { QueuesMoveTaskToBackResponse } from '../model/queues/queuesMoveTaskToBackResponse';\nimport { QueuesMoveTaskToFrontRequest } from '../model/queues/queuesMoveTaskToFrontRequest';\nimport { QueuesMoveTaskToFrontResponse } from '../model/queues/queuesMoveTaskToFrontResponse';\nimport { QueuesRemoveTaskRequest } from '../model/queues/queuesRemoveTaskRequest';\nimport { QueuesRemoveTaskResponse } from '../model/queues/queuesRemoveTaskResponse';\nimport { QueuesUpdateRequest } from '../model/queues/queuesUpdateRequest';\nimport { QueuesUpdateResponse } from '../model/queues/queuesUpdateResponse';\n\nimport { BASE_PATH, COLLECTION_FORMATS }                     from '../variables';\nimport { Configuration }                                     from '../configuration';\n\n\n@Injectable()\nexport class ApiQueuesService {\n\n    protected basePath = HTTP.API_BASE_URL;\n    public defaultHeaders = new HttpHeaders();\n    public configuration = new Configuration();\n\n    constructor(protected apiRequest: SmApiRequestsService, @Optional()@Inject(BASE_PATH) basePath: string, @Optional() configuration: Configuration) {\n        if (basePath) {\n            this.basePath = basePath;\n        }\n        if (configuration) {\n            this.configuration = configuration;\n            this.basePath = basePath || configuration.basePath || this.basePath;\n        }\n    }\n\n    /**\n     * @param consumes string[] mime-types\n     * @return true: consumes contains 'multipart/form-data', false: otherwise\n     */\n    private canConsumeForm(consumes: string[]): boolean {\n        const form = 'multipart/form-data';\n        for (const consume of consumes) {\n            if (form === consume) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n\n    /**\n     * \n     * Add or update queue metadata\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public queuesAddOrUpdateMetadata(request: QueuesAddOrUpdateMetadataRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling queuesAddOrUpdateMetadata.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<QueuesAddOrUpdateMetadataResponse>(`${this.basePath}/queues.add_or_update_metadata`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Adds a task entry to the queue.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public queuesAddTask(request: QueuesAddTaskRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling queuesAddTask.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<QueuesAddTaskResponse>(`${this.basePath}/queues.add_task`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Create a new queue\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public queuesCreate(request: QueuesCreateRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling queuesCreate.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<QueuesCreateResponse>(`${this.basePath}/queues.create`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Deletes a queue. If the queue is not empty and force is not set to true, queue   will not be deleted.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public queuesDelete(request: QueuesDeleteRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling queuesDelete.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<QueuesDeleteResponse>(`${this.basePath}/queues.delete`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Delete metadata from queue\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public queuesDeleteMetadata(request: QueuesDeleteMetadataRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling queuesDeleteMetadata.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<QueuesDeleteMetadataResponse>(`${this.basePath}/queues.delete_metadata`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get all queues\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public queuesGetAll(request: QueuesGetAllRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling queuesGetAll.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<QueuesGetAllResponse>(`${this.basePath}/queues.get_all`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get all queues\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public queuesGetAllEx(request: QueuesGetAllExRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling queuesGetAllEx.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<QueuesGetAllExResponse>(`${this.basePath}/queues.get_all_ex`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Gets queue information\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public queuesGetById(request: QueuesGetByIdRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling queuesGetById.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<QueuesGetByIdResponse>(`${this.basePath}/queues.get_by_id`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * \n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public queuesGetDefault(request: object, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling queuesGetDefault.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<QueuesGetDefaultResponse>(`${this.basePath}/queues.get_default`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Gets the next task from the top of the queue (FIFO). The task entry is removed   from the queue.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public queuesGetNextTask(request: QueuesGetNextTaskRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling queuesGetNextTask.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<QueuesGetNextTaskResponse>(`${this.basePath}/queues.get_next_task`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Returns metrics of the company queues. The metrics are avaraged in the   specified interval.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public queuesGetQueueMetrics(request: QueuesGetQueueMetricsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling queuesGetQueueMetrics.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<QueuesGetQueueMetricsResponse>(`${this.basePath}/queues.get_queue_metrics`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * \n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public queuesMoveTaskBackward(request: QueuesMoveTaskBackwardRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling queuesMoveTaskBackward.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<QueuesMoveTaskBackwardResponse>(`${this.basePath}/queues.move_task_backward`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Moves a task entry one step forward towards the top of the queue.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public queuesMoveTaskForward(request: QueuesMoveTaskForwardRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling queuesMoveTaskForward.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<QueuesMoveTaskForwardResponse>(`${this.basePath}/queues.move_task_forward`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * \n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public queuesMoveTaskToBack(request: QueuesMoveTaskToBackRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling queuesMoveTaskToBack.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<QueuesMoveTaskToBackResponse>(`${this.basePath}/queues.move_task_to_back`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * \n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public queuesMoveTaskToFront(request: QueuesMoveTaskToFrontRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling queuesMoveTaskToFront.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<QueuesMoveTaskToFrontResponse>(`${this.basePath}/queues.move_task_to_front`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Removes a task entry from the queue.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public queuesRemoveTask(request: QueuesRemoveTaskRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling queuesRemoveTask.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<QueuesRemoveTaskResponse>(`${this.basePath}/queues.remove_task`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Update queue information\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public queuesUpdate(request: QueuesUpdateRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling queuesUpdate.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<QueuesUpdateResponse>(`${this.basePath}/queues.update`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n}\n","/**\n * tasks\n * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\n *\n * OpenAPI spec version: 2.14\n *\n *\n * NOTE: This class is auto generated by the swagger code generator program.\n * https://github.com/swagger-api/swagger-codegen.git\n * Do not edit the class manually.\n */\n\n/* eslint-disable @typescript-eslint/no-unused-vars, @typescript-eslint/member-ordering */\n\nimport {HTTP} from '../../app.constants';\nimport {SmApiRequestsService} from \"./api-requests.service\";\n\nimport { Inject, Injectable, Optional }                      from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams,\n         HttpResponse, HttpEvent }                           from '@angular/common/http';\nimport { CustomHttpUrlEncodingCodec }                        from '../encoder';\n\nimport { Observable }                                        from 'rxjs';\n\nimport { TasksAddOrUpdateArtifactsRequest } from '../model/tasks/tasksAddOrUpdateArtifactsRequest';\nimport { TasksAddOrUpdateArtifactsResponse } from '../model/tasks/tasksAddOrUpdateArtifactsResponse';\nimport { TasksAddOrUpdateModelRequest } from '../model/tasks/tasksAddOrUpdateModelRequest';\nimport { TasksAddOrUpdateModelResponse } from '../model/tasks/tasksAddOrUpdateModelResponse';\nimport { TasksArchiveManyRequest } from '../model/tasks/tasksArchiveManyRequest';\nimport { TasksArchiveManyResponse } from '../model/tasks/tasksArchiveManyResponse';\nimport { TasksArchiveRequest } from '../model/tasks/tasksArchiveRequest';\nimport { TasksArchiveResponse } from '../model/tasks/tasksArchiveResponse';\nimport { TasksCloneRequest } from '../model/tasks/tasksCloneRequest';\nimport { TasksCloneResponse } from '../model/tasks/tasksCloneResponse';\nimport { TasksCloseRequest } from '../model/tasks/tasksCloseRequest';\nimport { TasksCloseResponse } from '../model/tasks/tasksCloseResponse';\nimport { TasksCompletedRequest } from '../model/tasks/tasksCompletedRequest';\nimport { TasksCompletedResponse } from '../model/tasks/tasksCompletedResponse';\nimport { TasksCreateRequest } from '../model/tasks/tasksCreateRequest';\nimport { TasksCreateResponse } from '../model/tasks/tasksCreateResponse';\nimport { TasksDeleteArtifactsRequest } from '../model/tasks/tasksDeleteArtifactsRequest';\nimport { TasksDeleteArtifactsResponse } from '../model/tasks/tasksDeleteArtifactsResponse';\nimport { TasksDeleteConfigurationRequest } from '../model/tasks/tasksDeleteConfigurationRequest';\nimport { TasksDeleteConfigurationResponse } from '../model/tasks/tasksDeleteConfigurationResponse';\nimport { TasksDeleteHyperParamsRequest } from '../model/tasks/tasksDeleteHyperParamsRequest';\nimport { TasksDeleteHyperParamsResponse } from '../model/tasks/tasksDeleteHyperParamsResponse';\nimport { TasksDeleteManyRequest } from '../model/tasks/tasksDeleteManyRequest';\nimport { TasksDeleteManyResponse } from '../model/tasks/tasksDeleteManyResponse';\nimport { TasksDeleteModelsRequest } from '../model/tasks/tasksDeleteModelsRequest';\nimport { TasksDeleteModelsResponse } from '../model/tasks/tasksDeleteModelsResponse';\nimport { TasksDeleteRequest } from '../model/tasks/tasksDeleteRequest';\nimport { TasksDeleteResponse } from '../model/tasks/tasksDeleteResponse';\nimport { TasksDequeueManyRequest } from '../model/tasks/tasksDequeueManyRequest';\nimport { TasksDequeueManyResponse } from '../model/tasks/tasksDequeueManyResponse';\nimport { TasksDequeueRequest } from '../model/tasks/tasksDequeueRequest';\nimport { TasksDequeueResponse } from '../model/tasks/tasksDequeueResponse';\nimport { TasksEditConfigurationRequest } from '../model/tasks/tasksEditConfigurationRequest';\nimport { TasksEditConfigurationResponse } from '../model/tasks/tasksEditConfigurationResponse';\nimport { TasksEditHyperParamsRequest } from '../model/tasks/tasksEditHyperParamsRequest';\nimport { TasksEditHyperParamsResponse } from '../model/tasks/tasksEditHyperParamsResponse';\nimport { TasksEditRequest } from '../model/tasks/tasksEditRequest';\nimport { TasksEditResponse } from '../model/tasks/tasksEditResponse';\nimport { TasksEnqueueManyRequest } from '../model/tasks/tasksEnqueueManyRequest';\nimport { TasksEnqueueManyResponse } from '../model/tasks/tasksEnqueueManyResponse';\nimport { TasksEnqueueRequest } from '../model/tasks/tasksEnqueueRequest';\nimport { TasksEnqueueResponse } from '../model/tasks/tasksEnqueueResponse';\nimport { TasksFailedRequest } from '../model/tasks/tasksFailedRequest';\nimport { TasksFailedResponse } from '../model/tasks/tasksFailedResponse';\nimport { TasksGetAllExRequest } from '../model/tasks/tasksGetAllExRequest';\nimport { TasksGetAllExResponse } from '../model/tasks/tasksGetAllExResponse';\nimport { TasksGetAllRequest } from '../model/tasks/tasksGetAllRequest';\nimport { TasksGetAllResponse } from '../model/tasks/tasksGetAllResponse';\nimport { TasksGetByIdExRequest } from '../model/tasks/tasksGetByIdExRequest';\nimport { TasksGetByIdExResponse } from '../model/tasks/tasksGetByIdExResponse';\nimport { TasksGetByIdRequest } from '../model/tasks/tasksGetByIdRequest';\nimport { TasksGetByIdResponse } from '../model/tasks/tasksGetByIdResponse';\nimport { TasksGetConfigurationNamesRequest } from '../model/tasks/tasksGetConfigurationNamesRequest';\nimport { TasksGetConfigurationNamesResponse } from '../model/tasks/tasksGetConfigurationNamesResponse';\nimport { TasksGetConfigurationsRequest } from '../model/tasks/tasksGetConfigurationsRequest';\nimport { TasksGetConfigurationsResponse } from '../model/tasks/tasksGetConfigurationsResponse';\nimport { TasksGetHyperParamsRequest } from '../model/tasks/tasksGetHyperParamsRequest';\nimport { TasksGetHyperParamsResponse } from '../model/tasks/tasksGetHyperParamsResponse';\nimport { TasksGetTypesRequest } from '../model/tasks/tasksGetTypesRequest';\nimport { TasksGetTypesResponse } from '../model/tasks/tasksGetTypesResponse';\nimport { TasksMakePrivateRequest } from '../model/tasks/tasksMakePrivateRequest';\nimport { TasksMakePrivateResponse } from '../model/tasks/tasksMakePrivateResponse';\nimport { TasksMakePublicRequest } from '../model/tasks/tasksMakePublicRequest';\nimport { TasksMakePublicResponse } from '../model/tasks/tasksMakePublicResponse';\nimport { TasksMoveRequest } from '../model/tasks/tasksMoveRequest';\nimport { TasksPingRequest } from '../model/tasks/tasksPingRequest';\nimport { TasksPublishManyRequest } from '../model/tasks/tasksPublishManyRequest';\nimport { TasksPublishManyResponse } from '../model/tasks/tasksPublishManyResponse';\nimport { TasksPublishRequest } from '../model/tasks/tasksPublishRequest';\nimport { TasksPublishResponse } from '../model/tasks/tasksPublishResponse';\nimport { TasksResetManyRequest } from '../model/tasks/tasksResetManyRequest';\nimport { TasksResetManyResponse } from '../model/tasks/tasksResetManyResponse';\nimport { TasksResetRequest } from '../model/tasks/tasksResetRequest';\nimport { TasksResetResponse } from '../model/tasks/tasksResetResponse';\nimport { TasksSetRequirementsRequest } from '../model/tasks/tasksSetRequirementsRequest';\nimport { TasksSetRequirementsResponse } from '../model/tasks/tasksSetRequirementsResponse';\nimport { TasksStartedRequest } from '../model/tasks/tasksStartedRequest';\nimport { TasksStartedResponse } from '../model/tasks/tasksStartedResponse';\nimport { TasksStopManyRequest } from '../model/tasks/tasksStopManyRequest';\nimport { TasksStopManyResponse } from '../model/tasks/tasksStopManyResponse';\nimport { TasksStopRequest } from '../model/tasks/tasksStopRequest';\nimport { TasksStopResponse } from '../model/tasks/tasksStopResponse';\nimport { TasksStoppedRequest } from '../model/tasks/tasksStoppedRequest';\nimport { TasksStoppedResponse } from '../model/tasks/tasksStoppedResponse';\nimport { TasksUnarchiveManyRequest } from '../model/tasks/tasksUnarchiveManyRequest';\nimport { TasksUnarchiveManyResponse } from '../model/tasks/tasksUnarchiveManyResponse';\nimport { TasksUpdateBatchResponse } from '../model/tasks/tasksUpdateBatchResponse';\nimport { TasksUpdateRequest } from '../model/tasks/tasksUpdateRequest';\nimport { TasksUpdateResponse } from '../model/tasks/tasksUpdateResponse';\nimport { TasksValidateRequest } from '../model/tasks/tasksValidateRequest';\n\nimport { BASE_PATH, COLLECTION_FORMATS }                     from '../variables';\nimport { Configuration }                                     from '../configuration';\n\n\n@Injectable()\nexport class ApiTasksService {\n\n    protected basePath = HTTP.API_BASE_URL;\n    public defaultHeaders = new HttpHeaders();\n    public configuration = new Configuration();\n\n    constructor(protected apiRequest: SmApiRequestsService, @Optional()@Inject(BASE_PATH) basePath: string, @Optional() configuration: Configuration) {\n        if (basePath) {\n            this.basePath = basePath;\n        }\n        if (configuration) {\n            this.configuration = configuration;\n            this.basePath = basePath || configuration.basePath || this.basePath;\n        }\n    }\n\n    /**\n     * @param consumes string[] mime-types\n     * @return true: consumes contains 'multipart/form-data', false: otherwise\n     */\n    private canConsumeForm(consumes: string[]): boolean {\n        const form = 'multipart/form-data';\n        for (const consume of consumes) {\n            if (form === consume) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n\n    /**\n     * \n     * Update existing artifacts (search by key/mode) and add new ones\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksAddOrUpdateArtifacts(request: TasksAddOrUpdateArtifactsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksAddOrUpdateArtifacts.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksAddOrUpdateArtifactsResponse>(`${this.basePath}/tasks.add_or_update_artifacts`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Add or update task model\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksAddOrUpdateModel(request: TasksAddOrUpdateModelRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksAddOrUpdateModel.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksAddOrUpdateModelResponse>(`${this.basePath}/tasks.add_or_update_model`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Archive tasks. If a task is queued it will first be dequeued and then archived.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksArchive(request: TasksArchiveRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksArchive.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksArchiveResponse>(`${this.basePath}/tasks.archive`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Archive tasks\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksArchiveMany(request: TasksArchiveManyRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksArchiveMany.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksArchiveManyResponse>(`${this.basePath}/tasks.archive_many`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Clone an existing task\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksClone(request: TasksCloneRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksClone.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksCloneResponse>(`${this.basePath}/tasks.clone`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Indicates that task is closed\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksClose(request: TasksCloseRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksClose.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksCloseResponse>(`${this.basePath}/tasks.close`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Signal a task has completed\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksCompleted(request: TasksCompletedRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksCompleted.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksCompletedResponse>(`${this.basePath}/tasks.completed`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Create a new task\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksCreate(request: TasksCreateRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksCreate.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksCreateResponse>(`${this.basePath}/tasks.create`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Delete a task along with any information stored for it (statistics, frame   updates etc.) Unless Force flag is provided, operation will fail if task has   objects associated with it - i.e. children tasks and projects. Models that   refer to the deleted task will be updated with a task ID indicating a deleted   task.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksDelete(request: TasksDeleteRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksDelete.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksDeleteResponse>(`${this.basePath}/tasks.delete`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Delete existing artifacts (search by key/mode)\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksDeleteArtifacts(request: TasksDeleteArtifactsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksDeleteArtifacts.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksDeleteArtifactsResponse>(`${this.basePath}/tasks.delete_artifacts`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Delete task configuration items\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksDeleteConfiguration(request: TasksDeleteConfigurationRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksDeleteConfiguration.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksDeleteConfigurationResponse>(`${this.basePath}/tasks.delete_configuration`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Delete task hyper parameters\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksDeleteHyperParams(request: TasksDeleteHyperParamsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksDeleteHyperParams.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksDeleteHyperParamsResponse>(`${this.basePath}/tasks.delete_hyper_params`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Delete tasks\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksDeleteMany(request: TasksDeleteManyRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksDeleteMany.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksDeleteManyResponse>(`${this.basePath}/tasks.delete_many`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Delete models from task\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksDeleteModels(request: TasksDeleteModelsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksDeleteModels.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksDeleteModelsResponse>(`${this.basePath}/tasks.delete_models`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Remove a task from its queue. Fails if task status is not queued.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksDequeue(request: TasksDequeueRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksDequeue.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksDequeueResponse>(`${this.basePath}/tasks.dequeue`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Dequeue tasks\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksDequeueMany(request: TasksDequeueManyRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksDequeueMany.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksDequeueManyResponse>(`${this.basePath}/tasks.dequeue_many`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Edit task\\&#39;s details.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksEdit(request: TasksEditRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksEdit.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksEditResponse>(`${this.basePath}/tasks.edit`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Add or update task configuration\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksEditConfiguration(request: TasksEditConfigurationRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksEditConfiguration.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksEditConfigurationResponse>(`${this.basePath}/tasks.edit_configuration`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Add or update task hyper parameters\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksEditHyperParams(request: TasksEditHyperParamsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksEditHyperParams.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksEditHyperParamsResponse>(`${this.basePath}/tasks.edit_hyper_params`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Adds a task into a queue.   Fails if task state is not \\&#39;created\\&#39;.   Fails if the following parameters in the task were not filled:   * execution.script.repository   * execution.script.entrypoint\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksEnqueue(request: TasksEnqueueRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksEnqueue.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksEnqueueResponse>(`${this.basePath}/tasks.enqueue`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Enqueue tasks\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksEnqueueMany(request: TasksEnqueueManyRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksEnqueueMany.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksEnqueueManyResponse>(`${this.basePath}/tasks.enqueue_many`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Indicates that task has failed\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksFailed(request: TasksFailedRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksFailed.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksFailedResponse>(`${this.basePath}/tasks.failed`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get all the company\\&#39;s tasks and all public tasks\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksGetAll(request: TasksGetAllRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksGetAll.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksGetAllResponse>(`${this.basePath}/tasks.get_all`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get all the company\\&#39;s tasks and all public tasks\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksGetAllEx(request: TasksGetAllExRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksGetAllEx.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksGetAllExResponse>(`${this.basePath}/tasks.get_all_ex`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Gets task information\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksGetById(request: TasksGetByIdRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksGetById.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksGetByIdResponse>(`${this.basePath}/tasks.get_by_id`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get all the company\\&#39;s tasks and all public tasks\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksGetByIdEx(request: TasksGetByIdExRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksGetByIdEx.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksGetByIdExResponse>(`${this.basePath}/tasks.get_by_id_ex`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get the list of task configuration items names\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksGetConfigurationNames(request: TasksGetConfigurationNamesRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksGetConfigurationNames.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksGetConfigurationNamesResponse>(`${this.basePath}/tasks.get_configuration_names`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get the list of task configurations\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksGetConfigurations(request: TasksGetConfigurationsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksGetConfigurations.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksGetConfigurationsResponse>(`${this.basePath}/tasks.get_configurations`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get the list of task hyper parameters\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksGetHyperParams(request: TasksGetHyperParamsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksGetHyperParams.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksGetHyperParamsResponse>(`${this.basePath}/tasks.get_hyper_params`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get the list of task types used in the specified projects\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksGetTypes(request: TasksGetTypesRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksGetTypes.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksGetTypesResponse>(`${this.basePath}/tasks.get_types`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Convert public tasks to private\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksMakePrivate(request: TasksMakePrivateRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksMakePrivate.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksMakePrivateResponse>(`${this.basePath}/tasks.make_private`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Convert company tasks to public\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksMakePublic(request: TasksMakePublicRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksMakePublic.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksMakePublicResponse>(`${this.basePath}/tasks.make_public`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Move tasks to a project\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksMove(request: TasksMoveRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksMove.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<object>(`${this.basePath}/tasks.move`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Refresh the task\\&#39;s last update time\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksPing(request: TasksPingRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksPing.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<object>(`${this.basePath}/tasks.ping`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Mark a task status as published.           For Annotation tasks - if any changes were committed by this task, a   new version in the dataset together with an output view are created.           For Training tasks - if a model was created, it should be set to ready.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksPublish(request: TasksPublishRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksPublish.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksPublishResponse>(`${this.basePath}/tasks.publish`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Publish tasks\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksPublishMany(request: TasksPublishManyRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksPublishMany.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksPublishManyResponse>(`${this.basePath}/tasks.publish_many`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Reset a task to its initial state, along with any information stored for it   (statistics, frame updates etc.).\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksReset(request: TasksResetRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksReset.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksResetResponse>(`${this.basePath}/tasks.reset`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Reset tasks\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksResetMany(request: TasksResetManyRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksResetMany.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksResetManyResponse>(`${this.basePath}/tasks.reset_many`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Set the script requirements for a task\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksSetRequirements(request: TasksSetRequirementsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksSetRequirements.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksSetRequirementsResponse>(`${this.basePath}/tasks.set_requirements`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Mark a task status as in_progress. Optionally allows to set the task\\&#39;s   execution progress.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksStarted(request: TasksStartedRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksStarted.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksStartedResponse>(`${this.basePath}/tasks.started`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Request to stop a running task\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksStop(request: TasksStopRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksStop.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksStopResponse>(`${this.basePath}/tasks.stop`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Request to stop running tasks\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksStopMany(request: TasksStopManyRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksStopMany.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksStopManyResponse>(`${this.basePath}/tasks.stop_many`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Signal a task has stopped\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksStopped(request: TasksStoppedRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksStopped.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksStoppedResponse>(`${this.basePath}/tasks.stopped`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Unarchive tasks\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksUnarchiveMany(request: TasksUnarchiveManyRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksUnarchiveMany.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksUnarchiveManyResponse>(`${this.basePath}/tasks.unarchive_many`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Update task\\&#39;s runtime parameters\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksUpdate(request: TasksUpdateRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksUpdate.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksUpdateResponse>(`${this.basePath}/tasks.update`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Updates a batch of tasks. Headers Content type should be \\&#39;application/json-   lines\\&#39;.\n     * @param requests Json encoded newline-terminated lines, each representing an event in the batch and uses the same parameters used for tasks.update\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksUpdateBatch(requests: Array<object>, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (requests === null || requests === undefined) {\n            throw new Error('Required parameter requests was null or undefined when calling tasksUpdateBatch.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<TasksUpdateBatchResponse>(`${this.basePath}/tasks.update_batch`,\n            requests,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Validate task properties (before create)\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public tasksValidate(request: TasksValidateRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling tasksValidate.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<object>(`${this.basePath}/tasks.validate`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n}\n","/**\n * users\n * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\n *\n * OpenAPI spec version: 2.14\n *\n *\n * NOTE: This class is auto generated by the swagger code generator program.\n * https://github.com/swagger-api/swagger-codegen.git\n * Do not edit the class manually.\n */\n\n/* eslint-disable @typescript-eslint/no-unused-vars, @typescript-eslint/member-ordering */\n\nimport {HTTP} from '../../app.constants';\nimport {SmApiRequestsService} from \"./api-requests.service\";\n\nimport { Inject, Injectable, Optional }                      from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams,\n         HttpResponse, HttpEvent }                           from '@angular/common/http';\nimport { CustomHttpUrlEncodingCodec }                        from '../encoder';\n\nimport { Observable }                                        from 'rxjs';\n\nimport { UsersCreateRequest } from '../model/users/usersCreateRequest';\nimport { UsersDeleteRequest } from '../model/users/usersDeleteRequest';\nimport { UsersGetAllExRequest } from '../model/users/usersGetAllExRequest';\nimport { UsersGetAllExResponse } from '../model/users/usersGetAllExResponse';\nimport { UsersGetAllRequest } from '../model/users/usersGetAllRequest';\nimport { UsersGetAllResponse } from '../model/users/usersGetAllResponse';\nimport { UsersGetByIdRequest } from '../model/users/usersGetByIdRequest';\nimport { UsersGetByIdResponse } from '../model/users/usersGetByIdResponse';\nimport { UsersGetCurrentUserResponse } from '../model/users/usersGetCurrentUserResponse';\nimport { UsersGetPreferencesResponse } from '../model/users/usersGetPreferencesResponse';\nimport { UsersSetPreferencesRequest } from '../model/users/usersSetPreferencesRequest';\nimport { UsersSetPreferencesResponse } from '../model/users/usersSetPreferencesResponse';\nimport { UsersUpdateRequest } from '../model/users/usersUpdateRequest';\nimport { UsersUpdateResponse } from '../model/users/usersUpdateResponse';\n\nimport { BASE_PATH, COLLECTION_FORMATS }                     from '../variables';\nimport { Configuration }                                     from '../configuration';\n\n\n@Injectable()\nexport class ApiUsersService {\n\n    protected basePath = HTTP.API_BASE_URL;\n    public defaultHeaders = new HttpHeaders();\n    public configuration = new Configuration();\n\n    constructor(protected apiRequest: SmApiRequestsService, @Optional()@Inject(BASE_PATH) basePath: string, @Optional() configuration: Configuration) {\n        if (basePath) {\n            this.basePath = basePath;\n        }\n        if (configuration) {\n            this.configuration = configuration;\n            this.basePath = basePath || configuration.basePath || this.basePath;\n        }\n    }\n\n    /**\n     * @param consumes string[] mime-types\n     * @return true: consumes contains 'multipart/form-data', false: otherwise\n     */\n    private canConsumeForm(consumes: string[]): boolean {\n        const form = 'multipart/form-data';\n        for (const consume of consumes) {\n            if (form === consume) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n\n    /**\n     * \n     * Internal. Create a new user object. Reserved for internal use.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public usersCreate(request: UsersCreateRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling usersCreate.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<object>(`${this.basePath}/users.create`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Delete a user\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public usersDelete(request: UsersDeleteRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling usersDelete.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<object>(`${this.basePath}/users.delete`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Get all user objects\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public usersGetAll(request: UsersGetAllRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling usersGetAll.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<UsersGetAllResponse>(`${this.basePath}/users.get_all`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Get all user objects\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public usersGetAllEx(request: UsersGetAllExRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling usersGetAllEx.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<UsersGetAllExResponse>(`${this.basePath}/users.get_all_ex`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Gets user information\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public usersGetById(request: UsersGetByIdRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling usersGetById.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<UsersGetByIdResponse>(`${this.basePath}/users.get_by_id`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Gets current user information, based on the authenticated user making   the call.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public usersGetCurrentUser(request: object, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling usersGetCurrentUser.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<UsersGetCurrentUserResponse>(`${this.basePath}/users.get_current_user`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Get user preferences\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public usersGetPreferences(request: object, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling usersGetPreferences.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<UsersGetPreferencesResponse>(`${this.basePath}/users.get_preferences`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Set user preferences\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public usersSetPreferences(request: UsersSetPreferencesRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling usersSetPreferences.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<UsersSetPreferencesResponse>(`${this.basePath}/users.set_preferences`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Update a user object\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public usersUpdate(request: UsersUpdateRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling usersUpdate.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<UsersUpdateResponse>(`${this.basePath}/users.update`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n}\n","/**\n * workers\n * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\n *\n * OpenAPI spec version: 2.14\n *\n *\n * NOTE: This class is auto generated by the swagger code generator program.\n * https://github.com/swagger-api/swagger-codegen.git\n * Do not edit the class manually.\n */\n\n/* eslint-disable @typescript-eslint/no-unused-vars, @typescript-eslint/member-ordering */\n\nimport {HTTP} from '../../app.constants';\nimport {SmApiRequestsService} from \"./api-requests.service\";\n\nimport { Inject, Injectable, Optional }                      from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams,\n         HttpResponse, HttpEvent }                           from '@angular/common/http';\nimport { CustomHttpUrlEncodingCodec }                        from '../encoder';\n\nimport { Observable }                                        from 'rxjs';\n\nimport { WorkersGetActivityReportRequest } from '../model/workers/workersGetActivityReportRequest';\nimport { WorkersGetActivityReportResponse } from '../model/workers/workersGetActivityReportResponse';\nimport { WorkersGetAllRequest } from '../model/workers/workersGetAllRequest';\nimport { WorkersGetAllResponse } from '../model/workers/workersGetAllResponse';\nimport { WorkersGetMetricKeysRequest } from '../model/workers/workersGetMetricKeysRequest';\nimport { WorkersGetMetricKeysResponse } from '../model/workers/workersGetMetricKeysResponse';\nimport { WorkersGetStatsRequest } from '../model/workers/workersGetStatsRequest';\nimport { WorkersGetStatsResponse } from '../model/workers/workersGetStatsResponse';\nimport { WorkersRegisterRequest } from '../model/workers/workersRegisterRequest';\nimport { WorkersStatusReportRequest } from '../model/workers/workersStatusReportRequest';\nimport { WorkersUnregisterRequest } from '../model/workers/workersUnregisterRequest';\n\nimport { BASE_PATH, COLLECTION_FORMATS }                     from '../variables';\nimport { Configuration }                                     from '../configuration';\n\n\n@Injectable()\nexport class ApiWorkersService {\n\n    protected basePath = HTTP.API_BASE_URL;\n    public defaultHeaders = new HttpHeaders();\n    public configuration = new Configuration();\n\n    constructor(protected apiRequest: SmApiRequestsService, @Optional()@Inject(BASE_PATH) basePath: string, @Optional() configuration: Configuration) {\n        if (basePath) {\n            this.basePath = basePath;\n        }\n        if (configuration) {\n            this.configuration = configuration;\n            this.basePath = basePath || configuration.basePath || this.basePath;\n        }\n    }\n\n    /**\n     * @param consumes string[] mime-types\n     * @return true: consumes contains 'multipart/form-data', false: otherwise\n     */\n    private canConsumeForm(consumes: string[]): boolean {\n        const form = 'multipart/form-data';\n        for (const consume of consumes) {\n            if (form === consume) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n\n    /**\n     * \n     * Returns count of active company workers in the selected time range.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public workersGetActivityReport(request: WorkersGetActivityReportRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling workersGetActivityReport.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<WorkersGetActivityReportResponse>(`${this.basePath}/workers.get_activity_report`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Returns information on all registered workers.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public workersGetAll(request: WorkersGetAllRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling workersGetAll.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<WorkersGetAllResponse>(`${this.basePath}/workers.get_all`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Returns worker statistics metric keys grouped by categories.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public workersGetMetricKeys(request: WorkersGetMetricKeysRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling workersGetMetricKeys.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<WorkersGetMetricKeysResponse>(`${this.basePath}/workers.get_metric_keys`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Returns statistics for the selected workers and time range aggregated by date   intervals.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public workersGetStats(request: WorkersGetStatsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling workersGetStats.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<WorkersGetStatsResponse>(`${this.basePath}/workers.get_stats`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Register a worker in the system. Called by the Worker Daemon.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public workersRegister(request: WorkersRegisterRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling workersRegister.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<object>(`${this.basePath}/workers.register`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Called periodically by the worker daemon to report machine status\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public workersStatusReport(request: WorkersStatusReportRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling workersStatusReport.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<object>(`${this.basePath}/workers.status_report`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Unregister a worker in the system. Called by the Worker Daemon.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public workersUnregister(request: WorkersUnregisterRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling workersUnregister.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<object>(`${this.basePath}/workers.unregister`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n}\n","export interface ConfigurationParameters {\n    apiKeys?: {[ key: string ]: string};\n    username?: string;\n    password?: string;\n    accessToken?: string | (() => string);\n    basePath?: string;\n    withCredentials?: boolean;\n    asyncHeader?: string;\n}\n\nexport class Configuration {\n    apiKeys?: {[ key: string ]: string};\n    username?: string;\n    password?: string;\n    accessToken?: string | (() => string);\n    basePath?: string;\n    withCredentials?: boolean;\n    asyncHeader?: string;\n\n    constructor(configurationParameters: ConfigurationParameters = {}) {\n        this.apiKeys = configurationParameters.apiKeys;\n        this.username = configurationParameters.username;\n        this.password = configurationParameters.password;\n        this.accessToken = configurationParameters.accessToken;\n        this.basePath = configurationParameters.basePath;\n        this.withCredentials = true; //configurationParameters.withCredentials;\n        this.asyncHeader = 'X-Clearml-Async'; //configurationParameters.asyncHeader;\n    }\n\n    /**\n     * Select the correct content-type to use for a request.\n     * Uses {@link Configuration#isJsonMime} to determine the correct content-type.\n     * If no content type is found return the first found type if the contentTypes is not empty\n     * @param {string[]} contentTypes - the array of content types that are available for selection\n     * @returns {string} the selected content-type or <code>undefined</code> if no selection could be made.\n     */\n    public selectHeaderContentType (contentTypes: string[]): string | undefined {\n        if (contentTypes.length == 0) {\n            return undefined;\n        }\n\n        let type = contentTypes.find(x => this.isJsonMime(x));\n        if (type === undefined) {\n            return contentTypes[0];\n        }\n        return type;\n    }\n\n    /**\n     * Select the correct accept content-type to use for a request.\n     * Uses {@link Configuration#isJsonMime} to determine the correct accept content-type.\n     * If no content type is found return the first found type if the contentTypes is not empty\n     * @param {string[]} accepts - the array of content types that are available for selection.\n     * @returns {string} the selected content-type or <code>undefined</code> if no selection could be made.\n     */\n    public selectHeaderAccept(accepts: string[]): string | undefined {\n        if (accepts.length == 0) {\n            return undefined;\n        }\n\n        let type = accepts.find(x => this.isJsonMime(x));\n        if (type === undefined) {\n            return accepts[0];\n        }\n        return type;\n    }\n\n    /**\n     * Check if the given MIME is a JSON MIME.\n     * JSON MIME examples:\n     *   application/json\n     *   application/json; charset=UTF8\n     *   APPLICATION/JSON\n     *   application/vnd.company+json\n     * @param {string} mime - MIME (Multipurpose Internet Mail Extensions)\n     * @return {boolean} True if the given MIME is JSON, false otherwise.\n     */\n    public isJsonMime(mime: string): boolean {\n        const jsonMime: RegExp = new RegExp('^(application\\/json|[^;/ \\t]+\\/[^;/ \\t]+[+]json)[ \\t]*(;.*)?$', 'i');\n        return mime != null && (jsonMime.test(mime) || mime.toLowerCase() === 'application/json-patch+json');\n    }\n}\n","/**\n * events\n * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\n *\n * OpenAPI spec version: 2.14\n *\n *\n * NOTE: This class is auto generated by the swagger code generator program.\n * https://github.com/swagger-api/swagger-codegen.git\n * Do not edit the class manually.\n */\n\n\n\nexport type ScalarKeyEnum = 'iter' | 'timestamp' | 'iso_time';\n\nexport const ScalarKeyEnum = {\n    Iter: 'iter' as ScalarKeyEnum,\n    Timestamp: 'timestamp' as ScalarKeyEnum,\n    IsoTime: 'iso_time' as ScalarKeyEnum\n}\n","/**\n * projects\n * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\n *\n * OpenAPI spec version: 2.14\n *\n *\n * NOTE: This class is auto generated by the swagger code generator program.\n * https://github.com/swagger-api/swagger-codegen.git\n * Do not edit the class manually.\n */\n\nimport { MultiFieldPatternData } from '././multiFieldPatternData';\n\n\nexport interface ProjectsGetAllExRequest {\n    /**\n     * List of IDs to filter by\n     */\n    id?: Array<string>;\n    /**\n     * Get only projects whose name matches this pattern (python regular expression   syntax)\n     */\n    name?: string;\n    /**\n     * Get only projects whose description matches this pattern (python regular   expression syntax)\n     */\n    description?: string;\n    /**\n     * User-defined tags list used to filter results. Prepend \\'-\\' to tag name to   indicate exclusion\n     */\n    tags?: Array<string>;\n    /**\n     * System tags list used to filter results. Prepend \\'-\\' to system tag name to   indicate exclusion\n     */\n    system_tags?: Array<string>;\n    /**\n     * List of field names to order by. When search_text is used, \\'@text_score\\' can be   used as a field representing the text score of returned documents. Use \\'-\\'   prefix to specify descending order. Optional, recommended when using page\n     */\n    order_by?: Array<string>;\n    /**\n     * Page number, returns a specific page out of the resulting list of projects\n     */\n    page?: number;\n    /**\n     * Page size, specifies the number of results returned in each page (last page may   contain fewer results)\n     */\n    page_size?: number;\n    /**\n     * Free text search query\n     */\n    search_text?: string;\n    /**\n     * List of document\\'s field names (nesting is supported using \\'.\\', e.g.   execution.model_labels). If provided, this list defines the query\\'s projection   (only these fields will be returned for each result entry)\n     */\n    only_fields?: Array<string>;\n    _all_?: MultiFieldPatternData;\n    _any_?: MultiFieldPatternData;\n    /**\n     * If true, include project statistic in response.\n     */\n    include_stats?: boolean;\n    /**\n     * Report stats include only statistics for tasks in the specified state. If Null   is provided, stats for all task states will be returned.\n     */\n    stats_for_state?: ProjectsGetAllExRequest.StatsForStateEnum;\n    /**\n     * Return only non-public projects\n     */\n    non_public?: boolean;\n    active_users?: Array<string>;\n    /**\n     * If set to \\'true\\' then the search with the specified criteria is performed among top level projects only (or if parents specified, among the direct children of the these parents). Otherwise the search is performed among all the company projects (or among all of the descendants of the specified parents).\n     */\n    shallow_search?: boolean;\n    /**\n     * If set to \\'true\\' and project ids are passed to the query then for these projects their own tasks and models are counted\n     */\n    check_own_contents?: boolean;\n    /**\n     * If set to \\'true\\' then hidden projects are included in the search results\n     */\n    search_hidden?: boolean;\n    /**\n     * Scroll ID returned from the previos calls to get_all\n     */\n    scroll_id?: string;\n    /**\n     * If set then all the data received with this scroll will be requeried\n     */\n    refresh_scroll?: boolean;\n    /**\n     * The number of projects to retrieve\n     */\n    size?: number;\n  stats_with_children?: boolean;\n}\nexport namespace ProjectsGetAllExRequest {\n    export type StatsForStateEnum = 'active' | 'archived';\n    export const StatsForStateEnum = {\n        Active: 'active' as StatsForStateEnum,\n        Archived: 'archived' as StatsForStateEnum\n    }\n}\n","/**\n * tasks\n * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\n *\n * OpenAPI spec version: 2.14\n *\n *\n * NOTE: This class is auto generated by the swagger code generator program.\n * https://github.com/swagger-api/swagger-codegen.git\n * Do not edit the class manually.\n */\n\n\n\nexport type TaskStatusEnum = 'created' | 'queued' | 'in_progress' | 'stopped' | 'published' | 'publishing' | 'closed' | 'failed' | 'completed' | 'unknown';\n\nexport const TaskStatusEnum = {\n    Created: 'created' as TaskStatusEnum,\n    Queued: 'queued' as TaskStatusEnum,\n    InProgress: 'in_progress' as TaskStatusEnum,\n    Stopped: 'stopped' as TaskStatusEnum,\n    Published: 'published' as TaskStatusEnum,\n    Publishing: 'publishing' as TaskStatusEnum,\n    Closed: 'closed' as TaskStatusEnum,\n    Failed: 'failed' as TaskStatusEnum,\n    Completed: 'completed' as TaskStatusEnum,\n    Unknown: 'unknown' as TaskStatusEnum\n}\n","/**\n * tasks\n * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\n *\n * OpenAPI spec version: 2.14\n *\n *\n * NOTE: This class is auto generated by the swagger code generator program.\n * https://github.com/swagger-api/swagger-codegen.git\n * Do not edit the class manually.\n */\n\n\n\nexport type TaskTypeEnum = 'training' | 'testing' | 'inference' | 'data_processing' | 'application' | 'monitor' | 'controller' | 'optimizer' | 'service' | 'qc' | 'custom';\n\nexport const TaskTypeEnum = {\n    Training: 'training' as TaskTypeEnum,\n    Testing: 'testing' as TaskTypeEnum,\n    Inference: 'inference' as TaskTypeEnum,\n    DataProcessing: 'data_processing' as TaskTypeEnum,\n    Application: 'application' as TaskTypeEnum,\n    Monitor: 'monitor' as TaskTypeEnum,\n    Controller: 'controller' as TaskTypeEnum,\n    Optimizer: 'optimizer' as TaskTypeEnum,\n    Service: 'service' as TaskTypeEnum,\n    Qc: 'qc' as TaskTypeEnum,\n    Custom: 'custom' as TaskTypeEnum\n}\n","import {Injectable} from '@angular/core';\nimport {Model} from '../model/models/model';\nimport {get} from 'lodash/fp';\n\n@Injectable()\nexport class BlModelsService {\n\n  constructor() {\n  }\n\n  addHiddenTag(modelTags: Model['system_tags']): Model['system_tags'] {\n    if (modelTags) {\n      if (modelTags.includes('archived')) {\n        return modelTags;\n      } else {\n        return modelTags.concat(['archived']);\n      }\n    } else {\n      return ['archived'];\n    }\n  }\n\n  removeHiddenTag(modelTags: Model['system_tags']): Model['system_tags'] {\n    if (modelTags.includes('archived')) {\n      return modelTags.filter(tag => tag !== 'archived');\n    }\n    return modelTags;\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {TASK_TYPES} from '../../app.constants';\nimport {TAGS, TASKS_STATUS} from '../../webapp-common/tasks/tasks.constants';\nimport {Task} from '../model/tasks/task';\nimport {get} from 'lodash/fp';\nimport {DEFAULT_QUEUE_TAG} from '../variables';\n\n@Injectable()\nexport class BlTasksService {\n\n  constructor() {\n  }\n\n  private previouslyUsedQueue;\n\n  getDefaultQueue(queues) {\n    return queues.find(queue => get('id', this.previouslyUsedQueue) === queue.id) || queues.find(queue => this.isDefaultQueue(queue));\n  }\n\n  setPreviouslyUsedQueue(queue) {\n    this.previouslyUsedQueue = queue;\n  }\n\n  isDefaultQueue(queue) {\n    return queue.system_tags && queue.system_tags.includes(DEFAULT_QUEUE_TAG);\n  }\n\n  canEnqueue(task: Task): boolean {\n    return !!(task && (TASKS_STATUS.CREATED === task.status || TASKS_STATUS.STOPPED === task.status) && task.type !== TASK_TYPES.MANUAL_ANNOTATION);\n  }\n\n  canDequeue(task: Task): boolean {\n    return !!(task && TASKS_STATUS.QUEUED === task.status);\n  }\n\n  addHiddenTag(taskTags: Task['system_tags']): Task['system_tags'] {\n    if (taskTags) {\n      if (taskTags.includes('archived')) {\n        return taskTags;\n      } else {\n        return taskTags.concat(['archived']);\n      }\n    } else {\n      return ['archived'];\n    }\n  }\n\n  removeHiddenTag(taskTags: Task['system_tags']): Task['system_tags'] {\n    if (taskTags.includes('archived')) {\n      return taskTags.filter(tag => tag !== 'archived');\n    }\n    return taskTags;\n  }\n\n  updateAnnotatorIndexTag(taskTags: Task['system_tags'], annotatorIndex: number): Task['system_tags'] {\n    const indexOf = taskTags.findIndex(tag => tag.startsWith(TAGS.ANNOTATOR_INDEX_TAG_PREFIX));\n    if (indexOf === -1) {\n      taskTags.push(`${TAGS.ANNOTATOR_INDEX_TAG_PREFIX}:${annotatorIndex || '1'}`);\n    } else {\n      taskTags[indexOf] = `${TAGS.ANNOTATOR_INDEX_TAG_PREFIX}:${annotatorIndex}`;\n    }\n    return taskTags;\n  }\n\n  updateAnnotatedNumberTag(taskTags: Task['system_tags']): Task['system_tags'] {\n    const indexOf = taskTags.findIndex(tag => tag.startsWith(TAGS.ANNOTATED_NUMBER_TAG_PREFIX));\n    if (indexOf === -1) {\n      taskTags.push(`${TAGS.ANNOTATED_NUMBER_TAG_PREFIX}:1`);\n    } else {\n      taskTags[indexOf] = `${TAGS.ANNOTATED_NUMBER_TAG_PREFIX}:${this.getTaskAnnotorValue(taskTags[indexOf]) + 1}`;\n    }\n    return taskTags;\n  }\n\n  getAnnotatorIndexTag(taskTags: Task['system_tags']): number {\n    const foundTag = taskTags.find(tag => tag.startsWith(TAGS.ANNOTATOR_INDEX_TAG_PREFIX));\n    return foundTag ? this.getTaskAnnotorValue(foundTag) : 0;\n  }\n\n  getAnnotatedNumberTag(taskTags: Task['system_tags']): number {\n    const foundTag = taskTags.find(tag => tag.startsWith(TAGS.ANNOTATED_NUMBER_TAG_PREFIX));\n    return foundTag ? this.getTaskAnnotorValue(foundTag) : 0;\n  }\n\n  getTaskAnnotorValue(annotatorTag: string): number {\n    return parseInt(annotatorTag.split(':')[1], 10);\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const BASE_PATH = new InjectionToken<string>('basePath');\nexport const COLLECTION_FORMATS = {\n    'csv': ',',\n    'tsv': '   ',\n    'ssv': ' ',\n    'pipes': '|'\n}\n\nexport const DEFAULT_QUEUE_TAG = 'default';\n\n","import {createAction, props} from '@ngrx/store';\nimport {USERS_PREFIX} from '../../app.constants';\nimport {GetCurrentUserResponseUserObject} from '../../business-logic/model/users/getCurrentUserResponseUserObject';\n\nexport const setCurrentUser = createAction(USERS_PREFIX + 'SET_CURRENT_USER',\n  props<{user: GetCurrentUserResponseUserObject; terms_of_use?: any}>()\n);\n","import {createReducer, createSelector, on} from '@ngrx/store';\n\nimport {initUsers, users, usersReducerFunctions, UsersState} from '@common/core/reducers/users-reducer';\nimport {setCurrentUser} from '../actions/users.action';\n\nexport const selectHasDataFeature = createSelector(users, () => false);\nexport const selectHasUserManagement = createSelector(users, () => false);\n\nexport const usersReducer = createReducer<UsersState>(initUsers,\n  ...usersReducerFunctions,\n  on(setCurrentUser, (state, action) => ({\n    ...state,\n    currentUser: action.user,\n    activeWorkspace: action.user?.company,\n    userWorkspaces: [action.user?.company],\n  }))\n);\n\nexport const selectFeatures = createSelector(users, () => []);\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const selectTermsOfUse = createSelector(users, () => ({accept_required: null}));\nexport const selectInvitesPending = createSelector(users, () => []);\n","<div *ngIf=\"activateFromMenuButton\" mat-button [matMenuTriggerFor]=\"experimentMenu\"\n     class=\"p-0 cell menu-button al-icon sm-md al-color light-grey-blue al-ico-bars-menu\"\n></div>\n<div *ngIf=\"!activateFromMenuButton\" #contextTrigger\n     style=\"visibility: hidden; position: fixed\"\n     [style.left.px]=\"position.x\"\n     [style.top.px]=\"position.y\"\n     [matMenuTriggerFor]=\"experimentMenu\">\n</div>\n<mat-menu #experimentMenu=\"matMenu\" [hasBackdrop]=\"false\">\n  <ng-container *ngIf=\"selectedDisableAvailable[menuItems.queue]\">\n    <button mat-menu-item (click)=\"toggleFullScreen(minimizedView)\" [disabled]=\"isSharedAndNotOwner\">\n      <i [class]=\"'al-icon '+ ICONS.CHART + ' sm-md'\"></i>\n      {{minimizedView ? 'View Full Screen' : 'View in Experiment Table'}}\n    </button>\n\n    <button mat-menu-item (click)=\"manageQueueClicked()\"\n            [disabled]=\"selectedDisableAvailable[menuItems.queue].disable\">\n      <i [class]=\"'al-icon '+ ICONS.QUEUED + ' sm-md'\"></i>\n      {{selectedDisableAvailable[menuItems.queue]?.available | menuItemText : 'Manage Queue' : selectedDisableAvailableIsMultiple}}\n    </button>\n\n    <button mat-menu-item (click)=\"viewWorkerClicked()\"\n            [disabled]=\"selectedDisableAvailable[menuItems.viewWorker].disable\">\n      <i [class]=\"'al-icon '+ ICONS.WORKER + ' sm-md'\"></i>\n      {{selectedDisableAvailable[menuItems.viewWorker]?.available | menuItemText : 'View Worker' : selectedDisableAvailableIsMultiple}}\n    </button>\n\n    <hr>\n\n    <button mat-menu-item (click)=\"shareExperimentPopup()\" *ngIf=\"isCommunity\"\n            [disabled]=\"isExample || numSelected > 1  || isArchive\">\n      <i [class]=\"'al-icon '  + ICONS.SHARE + ' sm-md'\"></i>Share\n    </button>\n\n    <button mat-menu-item (click)=\"deleteExperimentPopup()\"\n            [disabled]=\"selectedDisableAvailable[menuItems.delete].disable\" *ngIf=\"isArchive\">\n      <i [class]=\"'al-icon ' + ICONS.REMOVE + ' sm-md'\"></i>\n      {{selectedDisableAvailable[menuItems.delete].available | menuItemText : 'Delete' : selectedDisableAvailableIsMultiple}}\n    </button>\n\n    <button mat-menu-item (click)=\"restoreArchive()\"\n            [disabled]=\"selectedDisableAvailable[menuItems.archive].disable\">\n      <i class=\"al-icon sm-md\" [class]=\"isArchive ? ICONS.RESTORE : ICONS.ARCHIVE\"></i>\n      {{selectedDisableAvailable[menuItems.archive].available | menuItemText : isArchive ? 'Restore from Archive' : 'Archive' : selectedDisableAvailableIsMultiple}}\n    </button>\n\n    <button mat-menu-item (click)=\"enqueuePopup()\"\n            *ngIf=\"!selectedDisableAvailable[menuItems.enqueue].disable && !isArchive\"\n            [disabled]=\"selectedDisableAvailable[menuItems.enqueue].disable\">\n      <i [class]=\"'al-icon ' + ICONS.ENQUEUE + ' sm-md'\"></i>\n      {{selectedDisableAvailable[menuItems.enqueue]?.available | menuItemText : 'Enqueue' : selectedDisableAvailableIsMultiple}}\n    </button>\n\n    <button mat-menu-item (click)=\"dequeuePopup()\"\n            *ngIf=\"!selectedDisableAvailable[menuItems.dequeue].disable\"\n            [disabled]=\"selectedDisableAvailable[menuItems.dequeue]?.disable\">\n      <i [class]=\"'al-icon ' + ICONS.DEQUEUE + ' sm-md'\"></i>\n      {{selectedDisableAvailable[menuItems.dequeue]?.available | menuItemText : 'Dequeue' : selectedDisableAvailableIsMultiple}}\n    </button>\n\n    <button mat-menu-item (click)=\"resetPopup()\" [disabled]=\"selectedDisableAvailable[menuItems.reset].disable\">\n      <i [class]=\"'al-icon ' + ICONS.RESET + ' sm-md'\"></i>\n      {{selectedDisableAvailable[menuItems.reset].available | menuItemText : 'Reset' : selectedDisableAvailableIsMultiple}}\n    </button>\n\n    <button mat-menu-item (click)=\"stopPopup()\" [disabled]=\"selectedDisableAvailable[menuItems.abort].disable\">\n      <i [class]=\"'al-icon ' + ICONS.STOPPED + ' sm-md'\"></i>\n      {{selectedDisableAvailable[menuItems.abort].available | menuItemText : 'Abort' : selectedDisableAvailableIsMultiple }}\n    </button>\n\n    <button mat-menu-item (click)=\"stopAllChildrenPopup()\" *ngIf=\"!selectedDisableAvailable[menuItems.abortAllChildren]?.disable\">\n      <i [class]=\"'al-icon ' + ICONS.STOPPED_ALL + ' sm-md'\"></i>\n      {{selectedDisableAvailable[menuItems.abortAllChildren]?.available | menuItemText : 'Abort All Children' : selectedDisableAvailableIsMultiple }}\n    </button>\n    <button\n      mat-menu-item\n      (click)=\"publishPopup()\"\n      [disabled]=\"selectedDisableAvailable[menuItems.publish].disable\">\n      <i [class]=\"'al-icon ' + ICONS.PUBLISHED + ' sm-md'\"></i>\n      {{selectedDisableAvailable[menuItems.publish].available | menuItemText : 'Publish' : selectedDisableAvailableIsMultiple }}\n    </button>\n    <hr>\n    <button mat-menu-item\n            [matMenuTriggerFor]=\"tagMenu\"\n            [disabled]=\"selectedDisableAvailable[menuItems.tags]?.disable\"\n            (menuOpened)=\"tagMenuOpened()\"\n            (menuClosed)=\"tagMenuClosed()\">\n      <i [class]=\"'al-icon ' + ICONS.TAG + ' sm-md'\">\n      </i><span>{{selectedDisableAvailable[menuItems.tags]?.available | menuItemText : 'Add Tag' : selectedDisableAvailableIsMultiple }}</span>\n    </button>\n    <hr>\n    <button mat-menu-item (click)=\"clonePopup()\">\n      <i [class]=\"'al-icon ' + ICONS.CLONE + ' sm-md'\"></i>Clone\n    </button>\n    <button mat-menu-item (click)=\"moveToProjectPopup()\"\n            [disabled]=\"selectedDisableAvailable[menuItems.moveTo].disable\">\n      <i [class]=\"'al-icon ' + ICONS.MOVE_TO + ' sm-md'\"></i>\n      {{selectedDisableAvailable[menuItems.moveTo].available | menuItemText : 'Move to Project' : selectedDisableAvailableIsMultiple}}\n    </button>\n    <ng-content select=\"[extended]\"></ng-content>\n\n\n\n    </ng-container>\n</mat-menu>\n\n<mat-menu #tagMenu=\"matMenu\">\n  <sm-tags-menu\n    #tagMenuContent\n    class=\"light-theme\"\n    [tags]=\"experiment?.tags\"\n    [tagsFilterByProject]=\"tagsFilterByProject\"\n    [projectTags]=\"projectTags\"\n    [companyTags]=\"companyTags\"\n    (tagSelected)=\"tagSelected.emit($event)\">\n  </sm-tags-menu>\n</mat-menu>\n","import { Component} from '@angular/core';\nimport {ExperimentMenuComponent} from '@common/experiments/shared/components/experiment-menu/experiment-menu.component';\n\n@Component({\n  selector: 'sm-experiment-menu-extended',\n  templateUrl: '../../../../webapp-common/experiments/shared/components/experiment-menu/experiment-menu.component.html',\n  styleUrls: ['../../../../webapp-common/experiments/shared/components/experiment-menu/experiment-menu.component.scss']\n})\nexport class ExperimentMenuExtendedComponent extends ExperimentMenuComponent{\n\n  set contextMenu(data) {}\n  get contextMenu() {\n    return this;\n  }\n}\n","import {EXPERIMENT_INFO_ONLY_FIELDS_BASE} from '@common/experiments/experiment.consts';\nexport {INITIAL_EXPERIMENT_TABLE_COLS} from '../../webapp-common/experiments/experiment.consts';\n\nexport const GET_ALL_QUERY_ANY_FIELDS = ['id', 'name', 'comment', 'system_tags', 'models.output.model', 'models.input.model'];\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const getExperimentInfoOnlyFields = (hasDataFeature: boolean) => EXPERIMENT_INFO_ONLY_FIELDS_BASE;\n\nexport const DEFAULT_EXPERIMENT_TAB = 'execution';\n","import {ItemFooterModel, IFooterState} from './footer-items.models';\nimport {IconNames, ICONS} from '../../../constants';\nimport {TaskStatusEnum} from '../../../../business-logic/model/tasks/taskStatusEnum';\nimport {MenuItems} from '../items.utils';\nimport {EntityTypeEnum} from '../../../../shared/constants/non-common-consts';\n\nexport class ResetFooterItem<T extends {status: TaskStatusEnum}> extends ItemFooterModel {\n  id = MenuItems.reset;\n  emit = true;\n  icon = ICONS.RESET as Partial<IconNames>;\n\n  constructor(public entitiesType: EntityTypeEnum) {\n    super();\n  }\n\n  getItemState(state: IFooterState<any>): { icon?: IconNames; title?: string; description?: string; disable?: boolean; disableDescription?: string; emit?: boolean; emitValue?: boolean; preventCurrentItem?: boolean; class?: string; wrapperClass?: string } {\n    return {\n      disable: state.data[this.id]?.disable,\n      description: this.menuItemText.transform(state.data[this.id]?.available, 'Reset'),\n      disableDescription: state.selectionIsOnlyExamples ? 'Reset' : `You can only reset non-draft, non-published ${this.entitiesType}s`\n    };\n  }\n}\n","import {ItemFooterModel, IFooterState} from './footer-items.models';\nimport {IconNames, ICONS} from '../../../constants';\nimport {MenuItems} from '../items.utils';\n\nexport class EnqueueFooterItem extends ItemFooterModel {\n  id = MenuItems.enqueue;\n  emit = true;\n  icon = ICONS.ENQUEUE as Partial<IconNames>;\n\n  constructor() {\n    super();\n  }\n\n  getItemState(state: IFooterState<any>): { icon?: IconNames; title?: string; description?: string; disable?: boolean; disableDescription?: string; emit?: boolean; emitValue?: boolean; preventCurrentItem?: boolean; class?: string; wrapperClass?: string } {\n    const enqueue = state.data[this.id];\n\n    return {\n      disable: enqueue.disable,\n      preventCurrentItem: state.selectionAllIsArchive,\n      description: this.menuItemText.transform(enqueue.available, 'Enqueue'),\n      disableDescription: state.selectionIsOnlyExamples ? 'Enqueue' : `You can only enqueue experiments with ‘Draft’/'Aborted' status`\n\n    };\n  }\n}\n","import {ItemFooterModel, IFooterState} from './footer-items.models';\nimport {IconNames, ICONS} from '../../../constants';\nimport {MenuItems, selectionDisabledAbort} from '../items.utils';\n\nexport class AbortFooterItem extends ItemFooterModel {\n  id = MenuItems.abort;\n  emit = true;\n  icon = ICONS.STOPPED as Partial<IconNames>;\n\n  constructor() {\n    super();\n  }\n  getItemState(state: IFooterState<any>) {\n    const {available, disable} = selectionDisabledAbort(state.selected);\n    return {\n      disable,\n      description: `Abort (${available} items)`,\n      disableDescription: state.selectionIsOnlyExamples ? 'Abort' : `You can only abort experiments with ‘Running’ status`\n    };\n  }\n}\n","import {ItemFooterModel, IFooterState} from './footer-items.models';\nimport {IconNames, ICONS} from '../../../constants';\nimport {MenuItems} from '../items.utils';\n\nexport class DequeueFooterItem extends ItemFooterModel {\n  id = MenuItems.dequeue;\n  emit = true;\n  icon = ICONS.DEQUEUE as Partial<IconNames>;\n\n  constructor() {\n    super();\n  }\n\n  getItemState(state: IFooterState<any>): { icon?: IconNames; title?: string; description?: string; disable?: boolean; disableDescription?: string; emit?: boolean; emitValue?: boolean; preventCurrentItem?: boolean; class?: string; wrapperClass?: string } {\n    const dequeue = state.data[this.id];\n    return {\n      preventCurrentItem: dequeue.disable,\n      disable:  dequeue.disable,\n      description: this.menuItemText.transform(dequeue.available, 'Dequeue'),\n      disableDescription: state.selectionIsOnlyExamples ? 'Dequeue' : `You can only dequeue experiments with ‘Pending’ status`\n    };\n  }\n}\n","import {IFooterState, ItemFooterModel} from './footer-items.models';\nimport {IconNames, ICONS} from '../../../constants';\nimport {MenuItems, selectionDisabledAbortAllChildren} from '../items.utils';\n\nexport class AbortAllChildrenFooterItem extends ItemFooterModel {\n  id = MenuItems.abortAllChildren;\n  emit = true;\n  icon = ICONS.STOPPED_ALL as Partial<IconNames>;\n\n  constructor() {\n    super();\n  }\n\n  getItemState(state: IFooterState<any>): { icon?: IconNames; title?: string; description?: string; disable?: boolean; disableDescription?: string; emit?: boolean; emitValue?: boolean; preventCurrentItem?: boolean; class?: string; wrapperClass?: string } {\n    const {available, disable} = selectionDisabledAbortAllChildren(state.selected);\n    return {\n      disable,\n      description: `Abort all children for (${available} items)`,\n      disableDescription: state.selectionIsOnlyExamples ? 'Abort all children' : `You can only abort all children of experiments with Type Controller or Optimizer `\n    };\n  }\n\n}\n","import {ChangeDetectionStrategy, Component, EventEmitter, Input, Output} from '@angular/core';\n\n@Component({\n  selector   : 'sm-select-hyper-params-for-custom-col',\n  templateUrl: './select-hyper-params-for-custom-col.component.html',\n  styleUrls  : ['./select-hyper-params-for-custom-col.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SelectHyperParamsForCustomColComponent {\n\n  public metricsCols: string[];\n\n  @Input() hyperParams: {[section: string]: any[]};\n  @Output() getMetricsToDisplay      = new EventEmitter();\n  @Output() selectedHyperParamToShow = new EventEmitter<{param: string; addCol: boolean}>();\n  @Output() goBack                   = new EventEmitter();\n  @Output() clearSelection           = new EventEmitter();\n\n  @Input() set tableCols(tableCols) {\n    this.metricsCols = tableCols;\n  }\n\n\n  public toggleParamToDisplay({param, value}) {\n\n    this.selectedHyperParamToShow.emit({param: `hyperparams.${param}`, addCol: !value});\n  }\n\n}\n","<div smClickStopPropagation class=\"d-flex justify-content-between hyper-params-container\">\n  <i (click)=\"goBack.emit()\" class=\"al-icon sm-md al-ico-back pointer\" smClickStopPropagation></i>\n  <div class=\"hyper-param-header\">SELECT HYPER PARAMETERS TO DISPLAY\n  </div>\n</div>\n<hr style=\"margin: 0\">\n<sm-grouped-checked-filter-list\n  smClickStopPropagation\n  [itemsList]=\"hyperParams\"\n  [selectedItemsList]=\"metricsCols\"\n  (selectedItems)=\"toggleParamToDisplay($event)\"\n  (clearSelection)=\"clearSelection.emit()\"\n>\n</sm-grouped-checked-filter-list>\n","<sm-menu\n  [iconClass]=\"'al-icon al-ico-settings al-color pointer create-new-icon ' + (disabled ? 'blue-570' : 'blue-400')\"\n  smMenuClass=\"light-theme custom-columns\"\n  buttonTooltip=\"Customize table\"\n  [showButton]=\"false\"\n  (click)=\"getMetricsToDisplay.emit()\"\n  (onMenuClosed)=\"selectMetricActiveChanged.emit(null)\"\n  [style.pointer-events]=\"disabled ? 'none' : 'initial'\"\n>\n  <div *ngIf=\"!customColumnMode\" (click)=\"$event.stopPropagation()\">\n    <sm-custom-columns-list\n      [tableCols]=\"tableCols\"\n      [isLoading]=\"isLoading\"\n      (removeColFromList)=\"removeColFromList.emit($event)\"\n      (selectedTableColsChanged)=\"selectedTableColsChanged.emit($event)\"\n    >\n    </sm-custom-columns-list>\n\n    <div [ngClass]=\"{loading: isLoading, loaded: !isLoading}\">\n      <div class=\"sm-menu-header\">ADD CUSTOM COLUMN</div>\n      <div class=\"custom-column-buttons\">\n        <div class=\"add-button metrics-button\"\n             smClickStopPropagation\n             [ngClass]=\"{disabled: !metricVariants.length}\"\n             (click)=\"metricVariants.length && selectMetricActiveChanged.emit(CustomColumnMode.Metrics); $event.stopPropagation()\"\n        ><i class=\"fas fa-plus pr-1\"></i> METRIC\n        </div>\n        <div class=\"add-button\"\n             smClickStopPropagation\n             [ngClass]=\"{disabled: !hasHyperParams}\"\n             (click)=\"hasHyperParams && selectMetricActiveChanged.emit(CustomColumnMode.HyperParams); $event.stopPropagation()\"\n        ><i class=\"fas fa-plus pr-1\"></i> HYPER PARAMETERS\n        </div>\n      </div>\n    </div>\n  </div>\n  <sm-select-metric-for-custom-col *ngIf=\"customColumnMode === CustomColumnMode.Metrics\"\n                                   [tableCols]=\"tableCols\"\n                                   [metricVariants]=\"metricVariants\"\n                                   (goBack)=\"selectMetricActiveChanged.emit(null)\"\n                                   (selectedMetricToShow)=\"selectedMetricToShow.emit($event)\">\n  </sm-select-metric-for-custom-col>\n  <sm-select-hyper-params-for-custom-col *ngIf=\"customColumnMode === CustomColumnMode.HyperParams\"\n                                         [tableCols]=\"tableCols\"\n                                         [hyperParams]=\"hyperParams\"\n                                         (goBack)=\"selectMetricActiveChanged.emit(null)\"\n                                         (selectedHyperParamToShow)=\"selectedHyperParamToShow.emit($event)\"\n                                         (clearSelection)=\"clearSelection.emit()\">\n  </sm-select-hyper-params-for-custom-col>\n</sm-menu>\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {CustomColumnMode} from '../../shared/common-experiments.const';\nimport {ISmCol} from '../../../shared/ui-components/data/table/table.consts';\nimport {MetricVariantResult} from '../../../../business-logic/model/projects/metricVariantResult';\nimport {MetricValueType} from '../../../experiments-compare/reducers/experiments-compare-charts.reducer';\n\n@Component({\n  selector: 'sm-experiment-custom-cols-menu',\n  templateUrl: './experiment-custom-cols-menu.component.html',\n  styleUrls: ['./experiment-custom-cols-menu.component.scss']\n})\nexport class ExperimentCustomColsMenuComponent {\n\n\n  public hasHyperParams: boolean;\n  private _hyperParams: { [section: string]: any[] };\n\n  @Input() metricVariants;\n  @Input() customColumnMode: CustomColumnMode;\n  @Input() tableCols;\n  @Input() disabled: boolean;\n\n  @Input() set hyperParams(hyperParams: { [section: string]: any[] }) {\n    this._hyperParams = hyperParams;\n    this.hasHyperParams = Object.values(hyperParams).some(section =>  Object.keys(section).length > 0);\n  }\n  get hyperParams() {\n    return this._hyperParams;\n  }\n\n  @Input() isLoading: boolean;\n\n  @Output() selectMetricActiveChanged = new EventEmitter<CustomColumnMode>();\n  @Output() getMetricsToDisplay = new EventEmitter();\n  @Output() removeColFromList = new EventEmitter<ISmCol['id']>();\n  @Output() selectedTableColsChanged = new EventEmitter<ISmCol>();\n  @Output() selectedMetricToShow = new EventEmitter<{\n    variant: MetricVariantResult;\n    addCol: boolean;\n    valueType: MetricValueType;\n  }>();\n  @Output() selectedHyperParamToShow = new EventEmitter<{param: string; addCol: boolean}>();\n  @Output() clearSelection = new EventEmitter();\n\n  public CustomColumnMode = CustomColumnMode;\n}\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {MetricVariantResult} from '~/business-logic/model/projects/metricVariantResult';\nimport {CustomColumnMode} from '../../shared/common-experiments.const';\nimport {ISmCol} from '@common/shared/ui-components/data/table/table.consts';\nimport {MetricValueType} from '@common/experiments-compare/reducers/experiments-compare-charts.reducer';\nimport {FilterMetadata} from 'primeng/api/filtermetadata';\n\n@Component({\n  selector   : 'sm-experiment-header',\n  templateUrl: './experiment-header.component.html',\n  styleUrls  : ['./experiment-header.component.scss']\n})\nexport class ExperimentHeaderComponent {\n  public selectMetricActive: CustomColumnMode;\n  private _tableCols: any;\n\n\n  @Input() isArchived: boolean;\n  @Input() metricVariants: Array<MetricVariantResult>;\n  @Input() hyperParams: { [section: string]: any[] };\n  @Input() minimizedView: boolean;\n  @Input() isMetricsLoading: boolean;\n  @Input() autoRefreshState: boolean;\n  @Input() tableFilters: { [s: string]: FilterMetadata };\n  @Input() sharedView: boolean;\n\n  @Input() set tableCols(tableCols) {\n    this._tableCols = tableCols.filter(col => col.header !== '');\n  }\n\n  get tableCols() {\n    return this._tableCols;\n  }\n\n  @Output() isArchivedChanged        = new EventEmitter<boolean>();\n  @Output() selectedTableColsChanged = new EventEmitter<ISmCol>();\n  @Output() removeColFromList        = new EventEmitter<ISmCol['id']>();\n  @Output() getMetricsToDisplay      = new EventEmitter();\n  @Output() selectedMetricToShow     = new EventEmitter<{\n    variant: MetricVariantResult;\n    addCol: boolean;\n    valueType: MetricValueType;\n  }>();\n  @Output() selectedHyperParamToShow = new EventEmitter<{param: string; addCol: boolean}>();\n  @Output() refreshListClicked       = new EventEmitter<boolean>();\n  @Output() setAutoRefresh           = new EventEmitter<boolean>();\n  @Output() clearSelection           = new EventEmitter();\n  @Output() clearTableFilters        = new EventEmitter<{ [s: string]: FilterMetadata }>();\n\n\n  onIsArchivedChanged(value: boolean) {\n    this.isArchivedChanged.emit(value);\n  }\n\n  onRefreshListClicked() {\n    this.refreshListClicked.emit(false);\n  }\n\n  setCustomColumnMode(mode: CustomColumnMode) {\n    this.selectMetricActive = mode;\n  }\n\n}\n","<div class=\"d-flex justify-content-between header-container align-items-center\"\n     [ngClass]=\"{'archive-mode': isArchived}\">\n  <sm-toggle-archive\n    [class.hide-item]=\"sharedView\"\n    [showArchived]=\"isArchived\"\n    (toggleArchived)=\"onIsArchivedChanged($event)\"\n  ></sm-toggle-archive>\n\n  <sm-project-context-navbar\n    [class.hide-item]=\"sharedView\"\n    [activeFeature]=\"'experiments'\"\n    [archivedMode]=\"isArchived\"\n  ></sm-project-context-navbar>\n\n\n  <div class=\"d-flex justify-content-end align-items-center right-buttons\">\n    <sm-clear-filters-button\n      [tableFilters]=\"tableFilters\"\n      (clearTableFilters)=\"clearTableFilters.emit(tableFilters)\"\n    ></sm-clear-filters-button>\n    <sm-experiment-custom-cols-menu\n      [disabled]=\"minimizedView\"\n      [metricVariants]=\"metricVariants\"\n      [hyperParams]=\"hyperParams\"\n      [tableCols]=\"tableCols\"\n      [customColumnMode]=\"selectMetricActive\"\n      [isLoading]=\"isMetricsLoading\"\n      (selectedMetricToShow)=\"selectedMetricToShow.emit($event)\"\n      (selectedHyperParamToShow)=\"selectedHyperParamToShow.emit($event)\"\n      (selectedTableColsChanged)=\"selectedTableColsChanged.emit($event)\"\n      (getMetricsToDisplay)=\"getMetricsToDisplay.emit($event)\"\n      (removeColFromList)=\"removeColFromList.emit($event)\"\n      (selectMetricActiveChanged)=\"setCustomColumnMode($event)\"\n      (clearSelection)=\"clearSelection.emit()\"\n    ></sm-experiment-custom-cols-menu>\n    <sm-refresh-button\n      [autoRefreshState]=\"autoRefreshState\"\n      [allowAutoRefresh]=\"true\"\n      (refreshList)=\"refreshListClicked.emit($event)\"\n      (setAutoRefresh)=\"setAutoRefresh.emit($event)\"\n    >\n    </sm-refresh-button>\n  </div>\n</div>\n","import {ChangeDetectionStrategy, Component, OnDestroy, OnInit, ViewChild,} from '@angular/core';\nimport {\n  selectActiveParentsFilter,\n  selectedExperimentsDisableAvailable,\n  selectExperimentsHiddenTableCols,\n  selectExperimentsList,\n  selectExperimentsMetricsColsForProject,\n  selectExperimentsParents,\n  selectExperimentsTableCols,\n  selectExperimentsTableColsOrder,\n  selectExperimentsTags,\n  selectExperimentsTypes,\n  selectExperimentsUsers,\n  selectHyperParamsOptions,\n  selectHyperParamsVariants,\n  selectIsExperimentInEditMode,\n  selectNoMoreExperiments,\n  selectSelectedExperiments,\n  selectSelectedTableExperiment,\n  selectShowAllSelectedIsActive,\n  selectSplitSize,\n  selectTableFilters,\n  selectTableSortFields\n} from './reducers';\nimport {\n  selectCompanyTags,\n  selectIsArchivedMode,\n  selectProjectSystemTags,\n  selectProjectTags,\n  selectSelectedProject,\n  selectTagsFilterByProject\n} from '../core/reducers/projects.reducer';\nimport {Store} from '@ngrx/store';\nimport {ColHeaderTypeEnum, ISmCol, TableSortOrderEnum} from '../shared/ui-components/data/table/table.consts';\nimport {ActivatedRoute, Params, Router} from '@angular/router';\nimport {get, isEqual} from 'lodash/fp';\nimport {selectRouterParams} from '../core/reducers/router-reducer';\nimport {debounceTime, distinctUntilChanged, filter, map, skip, tap, throttleTime, withLatestFrom} from 'rxjs/operators';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\nimport {combineLatest, interval, Observable, Subscription} from 'rxjs';\nimport {ConfirmDialogComponent} from '../shared/ui-components/overlay/confirm-dialog/confirm-dialog.component';\nimport {selectAppVisible, selectAutoRefresh, selectBackdropActive} from '../core/reducers/view.reducer';\nimport {InitSearch, ResetSearch} from '../common-search/common-search.actions';\nimport {ICommonSearchState, selectSearchQuery} from '../common-search/common-search.reducer';\nimport {ITableExperiment} from './shared/common-experiment-model.model';\nimport {IExperimentsViewState} from '../../features/experiments/reducers/experiments-view.reducer';\nimport {\n  selectIsSharedAndNotOwner,\n  selectMetricsLoading,\n  selectMetricVariants,\n  selectSelectedExperiment\n} from '../../features/experiments/reducers';\nimport {EXPERIMENTS_TABLE_COL_FIELDS} from '../../features/experiments/shared/experiments.const';\nimport * as experimentsActions from './actions/common-experiments-view.actions';\nimport {setTableFilters} from './actions/common-experiments-view.actions';\nimport {MetricVariantResult} from '../../business-logic/model/projects/metricVariantResult';\nimport {AUTO_REFRESH_INTERVAL} from '../../app.constants';\nimport {setAutoRefresh} from '../core/actions/layout.actions';\nimport {resetProjectSelection, setDeep} from '../core/actions/projects.actions';\nimport {createMetricColumn, decodeColumns, decodeFilter, decodeOrder,} from '../shared/utils/tableParamEncode';\nimport {BaseEntityPage} from '../shared/entity-page/base-entity-page';\nimport {User} from '../../business-logic/model/users/user';\nimport {groupHyperParams, isReadOnly} from '../shared/utils/shared-utils';\nimport {selectCurrentUser} from '../core/reducers/users-reducer';\nimport {GetCurrentUserResponseUserObject} from '../../business-logic/model/users/getCurrentUserResponseUserObject';\nimport {IExperimentInfo} from '../../features/experiments/shared/experiment-info.model';\nimport {SmSyncStateSelectorService} from '../core/services/sync-state-selector.service';\nimport {ProjectsGetTaskParentsResponseParents} from '../../business-logic/model/projects/projectsGetTaskParentsResponseParents';\nimport {SortMeta} from 'primeng/api';\nimport {EntityTypeEnum} from '../../shared/constants/non-common-consts';\nimport {ShowItemsFooterSelected} from '../shared/entity-page/footer-items/show-items-footer-selected';\nimport {CompareFooterItem} from '../shared/entity-page/footer-items/compare-footer-item';\nimport {DividerFooterItem} from '../shared/entity-page/footer-items/divider-footer-item';\nimport {ArchiveFooterItem} from '../shared/entity-page/footer-items/archive-footer-item';\nimport {SelectedTagsFooterItem} from '../shared/entity-page/footer-items/selected-tags-footer-item';\nimport {DeleteFooterItem} from '../shared/entity-page/footer-items/delete-footer-item';\nimport {ResetFooterItem} from '../shared/entity-page/footer-items/reset-footer-item';\nimport {PublishFooterItem} from '../shared/entity-page/footer-items/publish-footer-item';\nimport {MoveToFooterItem} from '../shared/entity-page/footer-items/move-to-footer-item';\nimport {EnqueueFooterItem} from '../shared/entity-page/footer-items/enqueue-footer-item';\nimport {AbortFooterItem} from '../shared/entity-page/footer-items/abort-footer-item';\nimport {addTag} from './actions/common-experiments-menu.actions';\nimport {CountAvailableAndIsDisableSelectedFiltered, MenuItems} from '../shared/entity-page/items.utils';\nimport {ExperimentsTableComponent} from './dumb/experiments-table/experiments-table.component';\nimport {DequeueFooterItem} from '../shared/entity-page/footer-items/dequeue-footer-item';\nimport {HasReadOnlyFooterItem} from '../shared/entity-page/footer-items/has-read-only-footer-item';\nimport {MetricValueType} from '../experiments-compare/reducers/experiments-compare-charts.reducer';\nimport {FilterMetadata} from 'primeng/api/filtermetadata';\nimport {filterArchivedExperiments} from './shared/common-experiments.utils';\nimport {AbortAllChildrenFooterItem} from '../shared/entity-page/footer-items/abort-all-footer-item';\n\n@Component({\n  selector: 'sm-common-experiments',\n  templateUrl: './experiments.component.html',\n  styleUrls: ['./experiments.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ExperimentsComponent extends BaseEntityPage implements OnInit, OnDestroy {\n\n  public entityTypeEnum = EntityTypeEnum;\n  public experiments$: Observable<Array<ITableExperiment>>;\n  public noMoreExperiments$: Observable<boolean>;\n  public tableSortFields$: Observable<SortMeta[]>;\n  public tableSortOrder$: Observable<TableSortOrderEnum>;\n  public selectedExperiments$: Observable<Array<any>>;\n  public isArchived$: Observable<boolean>;\n  public tableFilters$: Observable<any>;\n  private selectedProjectSubs: Subscription;\n  public showAllSelectedIsActive$: Observable<boolean>;\n  public columns$: Observable<any>;\n  public filteredTableCols$: Observable<ISmCol[]>;\n  public tableCols$: Observable<ISmCol[]>;\n  public metricVariants$: Observable<any>;\n  public hyperParams$: Observable<{ [section: string]: any[] }>;\n  public hyperParamsOptions$: Observable<Record<ISmCol['id'], string[]>>;\n  private hiddenTableCols$: Observable<any>;\n  private metricTableCols$: Observable<any>;\n  private searchSubs: Subscription;\n  public selectedTableExperiment$: Observable<ITableExperiment>;\n  public selectedExperimentsDisableAvailable$: Observable<Record<string, CountAvailableAndIsDisableSelectedFiltered>>;\n  private experimentFromUrlSub: Subscription;\n  private refreshing: boolean;\n  public backdropActive$: Observable<any>;\n  private searchQuery$: Observable<ICommonSearchState['searchQuery']>;\n  public metricLoading$: Observable<boolean>;\n  private autoRefreshSub: Subscription;\n  public autoRefreshState$: Observable<boolean>;\n  private isExperimentInEditMode$: Observable<boolean>;\n  private sortFields: SortMeta[];\n  public tableColsOrder$: Observable<string[]>;\n  public users$: Observable<Array<User>>;\n  public parent$: Observable<ProjectsGetTaskParentsResponseParents[]>;\n  public activeParentsFilter$: Observable<ProjectsGetTaskParentsResponseParents[]>;\n  public tags$: Observable<string[]>;\n  public companyTags$: Observable<string[]>;\n  public projectTags$: Observable<string[]>;\n  public tagsFilterByProject$: Observable<boolean>;\n  public systemTags$: Observable<string[]>;\n  public types$: Observable<Array<any>>;\n  protected setSplitSizeAction = experimentsActions.setSplitSize;\n  public currentUser$: Observable<GetCurrentUserResponseUserObject>;\n  public selectedExperiment$: Observable<IExperimentInfo>;\n  public isSharedAndNotOwner$: Observable<boolean>;\n  public readOnlySelection: boolean;\n  private isAppVisible$: Observable<boolean>;\n  protected addTag = addTag;\n  @ViewChild('experimentsTable') private table: ExperimentsTableComponent;\n  private selectedProjectSubscription: Subscription;\n  private deep: boolean;\n\n  get selectedProject() {\n    return this.route.parent.snapshot.params.projectId;\n  }\n\n  constructor(\n    protected store: Store<IExperimentsViewState>,\n    protected syncSelector: SmSyncStateSelectorService,\n    private route: ActivatedRoute,\n    private router: Router, private dialog: MatDialog\n  ) {\n    super(store);\n    this.selectSplitSize$ = this.store.select(selectSplitSize);\n\n    this.tableSortFields$ = this.store.select(selectTableSortFields).pipe(tap(field => this.sortFields = field));\n    this.backdropActive$ = this.store.select(selectBackdropActive);\n    this.noMoreExperiments$ = this.store.select(selectNoMoreExperiments);\n    this.tableFilters$ = this.store.select(selectTableFilters);\n    this.isArchived$ = this.store.select(selectIsArchivedMode);\n    this.showAllSelectedIsActive$ = this.store.select(selectShowAllSelectedIsActive);\n    this.selectedTableExperiment$ = this.store.select(selectSelectedTableExperiment);\n    this.selectedExperimentsDisableAvailable$ = this.store.select(selectedExperimentsDisableAvailable);\n    this.selectedProject$ = this.store.select(selectSelectedProject);\n    this.selectedExperiment$ = this.store.select(selectSelectedExperiment);\n    this.selectedExperiments$ = this.store.select(selectSelectedExperiments)\n      .pipe(tap(selectedExperiments => {\n        this.selectedExperiments = selectedExperiments;\n        this.readOnlySelection = this.selectedExperiments.some(exp => isReadOnly(exp));\n      }));\n    this.hiddenTableCols$ = this.store.select(selectExperimentsHiddenTableCols);\n    this.searchQuery$ = this.store.select(selectSearchQuery);\n    this.autoRefreshState$ = this.store.select(selectAutoRefresh);\n    this.isAppVisible$ = this.store.select(selectAppVisible);\n    this.isExperimentInEditMode$ = this.store.select(selectIsExperimentInEditMode);\n    this.isSharedAndNotOwner$ = this.store.select(selectIsSharedAndNotOwner);\n    this.users$ = this.store.select(selectExperimentsUsers);\n    this.parent$ = this.store.select(selectExperimentsParents);\n    this.activeParentsFilter$ = this.store.select(selectActiveParentsFilter);\n    this.types$ = this.store.select(selectExperimentsTypes);\n    this.tags$ = this.store.select(selectExperimentsTags);\n    this.tagsFilterByProject$ = this.store.select(selectTagsFilterByProject);\n    this.projectTags$ = this.store.select(selectProjectTags);\n    this.companyTags$ = this.store.select(selectCompanyTags);\n    this.systemTags$ = this.store.select(selectProjectSystemTags);\n    this.currentUser$ = this.store.select(selectCurrentUser);\n    this.metricTableCols$ = this.store.select(selectExperimentsMetricsColsForProject);\n    this.tableColsOrder$ = this.store.select(selectExperimentsTableColsOrder);\n    this.columns$ = this.store.select(selectExperimentsTableCols);\n    this.metricVariants$ = this.store.select(selectMetricVariants);\n    this.metricLoading$ = this.store.select(selectMetricsLoading);\n    this.hyperParamsOptions$ = this.store.select(selectHyperParamsOptions);\n    this.hyperParams$ = this.store.select(selectHyperParamsVariants).pipe(\n      map(hyperParams => groupHyperParams(hyperParams))\n    );\n    this.experiments$ = this.store.select(selectExperimentsList).pipe(\n      withLatestFrom(this.isArchived$),\n      // lil hack for hiding archived task after they been archived from task info or footer...\n      map(([experiments, showArchived]) => filterArchivedExperiments(experiments, showArchived)),\n      tap(() => this.refreshing = false)\n    );\n    this.syncAppSearch();\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.createFooterItems({\n      entitiesType: EntityTypeEnum.experiment,\n      showAllSelectedIsActive$: this.showAllSelectedIsActive$,\n      selected$: this.selectedExperiments$,\n      data$: this.selectedExperimentsDisableAvailable$,\n      tags$: this.tags$,\n      companyTags$: this.companyTags$,\n      projectTags$: this.projectTags$,\n      tagsFilterByProject$: this.tagsFilterByProject$\n    });\n    this.autoRefreshSub = interval(AUTO_REFRESH_INTERVAL).pipe(\n      withLatestFrom(this.autoRefreshState$, this.isExperimentInEditMode$, this.isAppVisible$),\n      filter(([, autoRefreshState, isExperimentInEditMode, isAppVisible]) => autoRefreshState && !isExperimentInEditMode && isAppVisible)\n    ).subscribe(() => {\n      this.refreshList(true);\n    });\n    this.selectedProjectSubscription = this.selectedProject$.pipe(filter(project => !!project)).subscribe(() => {\n      this.dispatchAndLock(experimentsActions.getExperiments());\n    });\n\n    this.filteredTableCols$ = combineLatest([this.columns$, this.metricTableCols$])\n      .pipe(\n        filter(([tableCols, metricCols]) => !!tableCols && !!metricCols),\n        map(([tableCols, metricCols]) =>\n          tableCols.concat(metricCols.map(col => ({...col, metric: true})))\n            // Only show project col on \"all projects\"\n            .filter(col => (col.id !== EXPERIMENTS_TABLE_COL_FIELDS.PROJECT || this.deep || this.selectedProject === '*'))\n        ),\n        tap(() => this.table?.table?.resize(100))\n        );\n\n    this.tableCols$ = this.filteredTableCols$.pipe(\n      distinctUntilChanged((a, b) => isEqual(a, b)),\n      map(cols => cols.filter(col => !col.hidden))\n    );\n    let prevQueryParams: Params;\n\n    this.selectedProjectSubs = combineLatest([\n      this.store.select(selectRouterParams),\n      this.route.queryParams\n    ]).pipe(\n      map(([params, queryParams]) => [get('projectId', params), queryParams]),\n      filter(([projectId, queryParams]) => {\n        const equal = projectId === this.projectId && isEqual(queryParams, prevQueryParams);\n        if (!equal && !this.preventUrlUpdate) {\n          prevQueryParams = queryParams;\n          this.projectId = projectId;\n          return true;\n        }\n        prevQueryParams = queryParams;\n        this.preventUrlUpdate = false;\n        return false;\n      })\n    ).subscribe(([projectId, queryParams]) => {\n      if (queryParams.columns) {\n        const [cols, metrics, hyperParams, allIds] = decodeColumns(queryParams.columns);\n        this.store.dispatch(experimentsActions.setHiddenColumns({visibleColumns: cols, projectId: this.projectId}));\n        this.store.dispatch(experimentsActions.setExtraColumns({\n          projectId: this.selectedProject,\n          columns: metrics.map(metricCol => createMetricColumn(metricCol, projectId))\n            .concat(hyperParams.map(param => this.createParamColumn(param)))\n        }));\n        this.columnsReordered(allIds, true);\n      }\n      if (queryParams.order) {\n        const orders = decodeOrder(queryParams.order);\n        this.store.dispatch(experimentsActions.setTableSort({orders, projectId}));\n      }\n      if (queryParams.filter) {\n        const filters = decodeFilter(queryParams.filter);\n        this.store.dispatch(experimentsActions.setTableFilters({filters, projectId}));\n      } else {\n        if (queryParams.order) {\n          this.store.dispatch(experimentsActions.setTableFilters({filters: [], projectId}));\n        }\n      }\n      if (queryParams.deep) {\n        this.deep = true;\n        this.store.dispatch(setDeep({deep: true}));\n      }\n\n      if (queryParams.archive) {\n        this.store.dispatch(experimentsActions.setArchive({archive: true}));\n      }\n      this.store.dispatch(experimentsActions.getUsers());\n      this.store.dispatch(experimentsActions.getParents());\n      this.store.dispatch(experimentsActions.getTags());\n      this.store.dispatch(experimentsActions.getProjectTypes());\n    });\n\n    this.selectExperimentFromUrl();\n  }\n\n  createFooterItems(config: {\n    entitiesType: EntityTypeEnum;\n    selected$: Observable<Array<any>>;\n    showAllSelectedIsActive$: Observable<boolean>;\n    data$?: Observable<Record<string, CountAvailableAndIsDisableSelectedFiltered>>;\n    tags$: Observable<string[]>;\n    companyTags$: Observable<string[]>;\n    projectTags$: Observable<string[]>;\n    tagsFilterByProject$: Observable<boolean>;\n  }) {\n    this.footerState$ = this.createFooterState(\n      config.selected$,\n      config.data$,\n      config.showAllSelectedIsActive$,\n      config.companyTags$,\n      config.projectTags$,\n      config.tagsFilterByProject$\n      )\n\n    this.footerItems = [\n      new ShowItemsFooterSelected(config.entitiesType),\n      new CompareFooterItem(config.entitiesType),\n      new DividerFooterItem(),\n      new ArchiveFooterItem(config.entitiesType),\n      new DeleteFooterItem(),\n      new DividerFooterItem(),\n\n      new EnqueueFooterItem(),\n      new DequeueFooterItem(),\n      new ResetFooterItem(config.entitiesType),\n      new AbortFooterItem(),\n      new AbortAllChildrenFooterItem(),\n      new PublishFooterItem(EntityTypeEnum.experiment),\n      new DividerFooterItem(),\n\n      new SelectedTagsFooterItem(EntityTypeEnum.experiment),\n      new DividerFooterItem(),\n\n      new MoveToFooterItem(),\n      new HasReadOnlyFooterItem()\n    ];\n  }\n\n  onFooterHandler({emitValue, item}) {\n    switch (item.id) {\n      case MenuItems.showAllItems:\n        this.showAllSelected(!emitValue);\n        break;\n      case MenuItems.compare:\n        this.compareExperiments();\n        break;\n      case MenuItems.archive:\n        this.table.contextMenuExtended.contextMenu.restoreArchive();\n        break;\n      case MenuItems.reset:\n        this.table.contextMenuExtended.contextMenu.resetPopup();\n        break;\n      case MenuItems.publish:\n        this.table.contextMenuExtended.contextMenu.publishPopup();\n        break;\n      case MenuItems.enqueue:\n        this.table.contextMenuExtended.contextMenu.enqueuePopup();\n        break;\n      case MenuItems.dequeue:\n        this.table.contextMenuExtended.contextMenu.dequeuePopup();\n        break;\n      case MenuItems.delete:\n        this.table.contextMenuExtended.contextMenu.deleteExperimentPopup();\n        break;\n      case MenuItems.abort:\n        this.table.contextMenuExtended.contextMenu.stopPopup();\n        break;\n      case MenuItems.abortAllChildren:\n        this.table.contextMenuExtended.contextMenu.stopAllChildrenPopup();\n        break;\n      case MenuItems.moveTo:\n        this.table.contextMenuExtended.contextMenu.moveToProjectPopup();\n        break;\n    }\n  }\n\n  ngOnDestroy(): void {\n    super.ngOnDestroy();\n    this.selectedProjectSubs.unsubscribe();\n    this.selectedProjectSubscription.unsubscribe();\n    this.experimentFromUrlSub.unsubscribe();\n    this.store.dispatch(experimentsActions.resetExperiments());\n    this.stopSyncSearch();\n    this.autoRefreshSub.unsubscribe();\n    this.table = undefined;\n  }\n\n  stopSyncSearch() {\n    this.searchSubs.unsubscribe();\n    this.store.dispatch(new ResetSearch());\n    this.store.dispatch(experimentsActions.resetGlobalFilter());\n  }\n\n  syncAppSearch() {\n    this.store.dispatch(new InitSearch('Search for experiments'));\n\n    this.searchSubs = this.searchQuery$.pipe(skip(1)).subscribe(query => {\n      this.dispatchAndLock(experimentsActions.globalFilterChanged(query));\n    });\n  }\n\n  selectExperimentFromUrl() {\n    this.experimentFromUrlSub = combineLatest([\n      this.store.select(selectRouterParams)\n        .pipe(map(params => get('experimentId', params))),\n      this.experiments$\n    ]).pipe(\n      map(([experimentId, experiments]) => experiments.find(experiment => experiment.id === experimentId)),\n      distinctUntilChanged()\n    ).subscribe((selectedExperiment) => {\n      this.store.dispatch(experimentsActions.setSelectedExperiment({experiment: selectedExperiment}));\n    });\n  }\n\n  getNextExperiments() {\n    this.dispatchAndLock(experimentsActions.getNextExperiments());\n  }\n\n\n\n  experimentsSelectionChanged(experiments: Array<ITableExperiment>) {\n    this.store.dispatch(experimentsActions.setSelectedExperiments({experiments}));\n  }\n\n  experimentSelectionChanged(experiment: ITableExperiment) {\n    this.store.dispatch(experimentsActions.experimentSelectionChanged({\n      experiment,\n      project: this.selectedProject\n    }));\n  }\n\n  sortedChanged(event: { isShift: boolean; colId: ISmCol['id'] }) {\n    this.dispatchAndLock(experimentsActions.tableSortChanged(event));\n  }\n\n  filterChanged({col, value, andFilter}: { col: ISmCol; value: any; andFilter?: boolean }) {\n    this.dispatchAndLock(experimentsActions.tableFilterChanged({\n      filter: {\n        col: col.id,\n        value,\n        filterMatchMode: col.filterMatchMode || andFilter ? 'AND' : undefined\n      }, projectId: this.projectId\n    }));\n  }\n\n  compareExperiments() {\n    // TODO: temporary until the compare component will be under experiment module...\n    this.router.navigate(\n      [\n        `projects/${this.projectId}/compare-experiments/`,\n        {ids: this.selectedExperiments.map(experiment => experiment.id).join(',')}\n      ]);\n  }\n\n  onIsArchivedChanged(isArchived: boolean) {\n    if (this.selectedExperiments.length > 0) {\n      const archiveDialog: MatDialogRef<any> = this.dialog.open(ConfirmDialogComponent, {\n        data: {\n          title: 'Are you sure?',\n          body: 'Navigating between \"Live\" and \"Archive\" will deselect your selected experiments.',\n          yes: 'Proceed',\n          no: 'Back',\n          iconClass: ''\n        }\n      });\n\n      archiveDialog.afterClosed().subscribe((confirmed) => {\n        if (confirmed) {\n          this.switchArchiveMode(isArchived);\n        }\n      });\n    } else {\n      this.switchArchiveMode(isArchived);\n    }\n  }\n\n  switchArchiveMode(isArchived) {\n    this.store.dispatch(resetProjectSelection());\n    this.store.dispatch(experimentsActions.showOnlySelected({active: false, projectId: this.projectId}));\n    this.dispatchAndLock(experimentsActions.setArchive({archive: isArchived}));\n    this.closeExperimentPanel();\n  }\n\n\n  showAllSelected(active: boolean) {\n    this.dispatchAndLock(experimentsActions.showOnlySelected({active, projectId: this.projectId}));\n  }\n\n  selectedTableColsChanged(col: ISmCol) {\n    this.dispatchAndLock(experimentsActions.toggleColHidden({columnId: col.id, projectId: this.projectId}));\n  }\n\n  getMetricsToDisplay() {\n    this.store.dispatch(experimentsActions.getCustomMetrics());\n    this.store.dispatch(experimentsActions.getCustomHyperParams());\n  }\n\n  selectedMetricToShow(event: { variant: MetricVariantResult; addCol: boolean; valueType: MetricValueType }) {\n    if (!event.valueType) {\n      return;\n    }\n    const variantCol = createMetricColumn({\n      metricHash: event.variant.metric_hash,\n      variantHash: event.variant.variant_hash,\n      valueType: event.valueType,\n      metric: event.variant.metric,\n      variant: event.variant.variant\n    }, this.projectId);\n    if (event.addCol) {\n      this.store.dispatch(experimentsActions.addColumn({col: variantCol}));\n    } else {\n      this.store.dispatch(experimentsActions.removeCol({id: variantCol.id, projectId: variantCol.projectId}));\n    }\n  }\n\n  createParamColumn(param: string): ISmCol {\n    return {\n      id: param,\n      getter: param + '.value',\n      headerType: ColHeaderTypeEnum.sortFilter,\n      sortable: true,\n      filterable: true,\n      header: param.replace('hyperparams.', ''),\n      hidden: false,\n      projectId: this.projectId,\n      isParam: true,\n      style: {width: '200px'},\n    };\n  }\n\n  selectedHyperParamToShow(event: { param: string; addCol: boolean }) {\n    const variantCol = this.createParamColumn(event.param);\n    if (event.addCol) {\n      this.store.dispatch(experimentsActions.addColumn({col: variantCol}));\n    } else {\n      this.store.dispatch(experimentsActions.removeCol({id: variantCol.id, projectId: variantCol.projectId}));\n    }\n  }\n\n  removeColFromList(colId: string) {\n    const sortIndex = this.sortFields.findIndex(field => field.field === colId);\n    if (sortIndex > -1) {\n      this.store.dispatch(experimentsActions.resetSortOrder({sortIndex, projectId: this.projectId}));\n    }\n    this.store.dispatch(experimentsActions.removeCol({id: colId, projectId: this.projectId}));\n  }\n\n  columnResized(event: { columnId: string; widthPx: number }) {\n    this.store.dispatch(experimentsActions.setColumnWidth({\n      ...event,\n      projectId: this.projectId,\n    }));\n  }\n\n  refreshList(isAutorefresh: boolean) {\n    if (this.refreshing) {\n      return;\n    }\n    if (!isAutorefresh) {\n      this.refreshing = true;\n    }\n\n    this.dispatchAndLock(experimentsActions.refreshExperiments({\n      hideLoader: isAutorefresh,\n      autoRefresh: isAutorefresh\n    }));\n  }\n\n  closeExperimentPanel() {\n    this.router.navigate([`projects/${this.projectId}/experiments`], {queryParamsHandling: 'merge'});\n    window.setTimeout(() => this.infoDisabled = false);\n  }\n\n  setAutoRefresh($event: boolean) {\n    this.store.dispatch(setAutoRefresh({autoRefresh: $event}));\n  }\n\n  clearSelection() {\n    this.store.dispatch(experimentsActions.clearHyperParamsCols({projectId: this.projectId}));\n  }\n\n  columnsReordered(cols: string[], fromUrl = false) {\n    this.store.dispatch(experimentsActions.setColsOrderForProject({cols, project: this.projectId, fromUrl}));\n  }\n\n  refreshTagsList() {\n    this.store.dispatch(experimentsActions.getTags());\n  }\n\n  refreshTypesList() {\n    this.store.dispatch(experimentsActions.getProjectTypes());\n  }\n\n  protected getParamId(params) {\n    return params?.experimentId;\n  }\n\n  clearTableFiltersHandler(tableFilters: { [s: string]: FilterMetadata }) {\n    const filters = Object.keys(tableFilters).map(col => ({col, value: []}));\n    this.store.dispatch(setTableFilters({filters, projectId: this.selectedProject}));\n  }\n}\n\n","<sm-overlay [backdropActive]=\"backdropActive$|async\"></sm-overlay>\n<sm-experiment-header\n  [tableCols]=\"filteredTableCols$| async\"\n  [isArchived]=\"isArchived$ | async\"\n  [metricVariants]=\"metricVariants$ | async\"\n  [hyperParams]=\"hyperParams$ | async\"\n  [minimizedView]=\"minimizedView\"\n  [isMetricsLoading]=\"metricLoading$ | async\"\n  [autoRefreshState]=\"autoRefreshState$ | async\"\n  [tableFilters]=\"tableFilters$ | async\"\n  (isArchivedChanged)=\"onIsArchivedChanged($event)\"\n  (selectedTableColsChanged)=\"selectedTableColsChanged($event)\"\n  (refreshListClicked)=\"refreshList($event)\"\n  (getMetricsToDisplay)=\"getMetricsToDisplay()\"\n  (selectedMetricToShow)=\"selectedMetricToShow($event)\"\n  (selectedHyperParamToShow)=\"selectedHyperParamToShow($event)\"\n  (removeColFromList)=\"removeColFromList($event)\"\n  (setAutoRefresh)=\"setAutoRefresh($event)\"\n  (clearSelection)=\"clearSelection()\"\n  (clearTableFilters)=\"clearTableFiltersHandler($event)\"\n></sm-experiment-header>\n<div class=\"experiment-body\"\n     [class.footer-visible]=\"((selectedExperiments$ | async) && (selectedExperiments$ | async)?.length > 1) || (showAllSelectedIsActive$ |async)\">\n  <as-split #split\n            [useTransition]=\"true\"\n            [gutterDblClickDuration]=\"400\"\n            (gutterClick)=\"clickOnSplit()\"\n            (gutterDblClick)=\"closeExperimentPanel()\"\n            (dragEnd)=\"splitSizeChange($event)\"\n            (dragStart)=\"disableInfoPanel()\"\n            (transitionEnd)=\"experimentsTable.table?.resize(); experimentsTable.afterTableInit()\"\n  >\n    <as-split-area [size]=\"100 - (splitInitialSize)\"\n                   [order]=\"1\">\n      <sm-experiments-table\n        #experimentsTable\n        class=\"align-self-stretch\"\n        selectionMode=\"single\"\n        [colsOrder]=\"(tableColsOrder$ | async)\"\n        [tableCols]=\"tableCols$| async\"\n        [experiments]=\"experiments$ | async\"\n        [users]=\"users$ | async\"\n        [hyperParamsOptions]=\"hyperParamsOptions$ | async\"\n        [activeParentsFilter]=\"activeParentsFilter$ | async\"\n        [parents]=\"parent$ | async\"\n        [experimentTypes]=\"types$ | async\"\n        [tags]=\"tags$ | async\"\n        [systemTags]=\"systemTags$ | async\"\n        [tableSortFields]=\"(tableSortFields$ | async)\"\n        [tableSortOrder]=\"(tableSortOrder$ | async)\"\n        [tableFilters]=\"(tableFilters$ | async)\"\n        [selectedExperiments]=\"selectedExperiments$ | async\"\n        [selectedExperimentsDisableAvailable]=\"selectedExperimentsDisableAvailable$ | async\"\n        [selectedExperiment]=\"selectedTableExperiment$ |async\"\n        [minimizedView]=\"minimizedView\"\n        [noMoreExperiments]=\"noMoreExperiments$ | async\"\n        [split]=\"selectSplitSize$ | async\"\n        (experimentSelectionChanged)=\"experimentSelectionChanged($event)\"\n        (experimentsSelectionChanged)=\"experimentsSelectionChanged($event)\"\n        (sortedChanged)=\"sortedChanged($event)\"\n        (filterChanged)=\"filterChanged($event)\"\n        (tagsMenuOpened)=\"refreshTagsList()\"\n        (typesMenuOpened)=\"refreshTypesList()\"\n        (loadMoreExperiments)=\"getNextExperiments()\"\n        (columnsReordered)=\"columnsReordered($event)\"\n        (columnResized)=\"columnResized($event)\"\n      >\n      </sm-experiments-table>\n    </as-split-area>\n    <as-split-area [size]=\"splitInitialSize\" class=\"light-theme\" [class.info-disabled]=\"infoDisabled\"\n                   [visible]=\"minimizedView\" [order]=\"2\">\n      <router-outlet></router-outlet>\n    </as-split-area>\n  </as-split>\n</div>\n\n<sm-entity-footer\n  [footerState]=\"footerState$ | async\"\n  [footerItems]=\"footerItems\"\n  (footerItemClick)=\"onFooterHandler($event)\"\n  (tagSelected)=\"tagSelected($event, 'experiments')\"\n></sm-entity-footer>\n","<sm-editable-section #experimentDescriptionSection\n                     class=\"grow\"\n                     [editable]=\"!isExample\"\n                     [disableEditable]=\"isExample\"\n                     (saveClicked)=\"commentValueChanged(experimentCommentText); experimentDescriptionSection.editModeChanged(false);\"\n                     (cancelClicked)=\"onCancelComment() \"\n>\n  <sm-section-header label=\"DESCRIPTION:\"></sm-section-header>\n  <textarea rows=\"4\"\n            class=\"mb-2\"\n            [(ngModel)]=\"experimentCommentText\" [readOnly]=\"!experimentDescriptionSection.inEditMode\"></textarea>\n</sm-editable-section>\n\n<div class=\"general-info\">\n  <sm-labeled-row label=\"ARCHIVED:\">\n    <div style=\"width: 93px\">{{experiment?.system_tags?.includes('archived') ? 'Yes' : 'No'}}</div>\n  </sm-labeled-row>\n\n\n  <sm-labeled-row label=\"CHANGED AT:\">\n    {{(experiment?.status_changed | date : TIME_FORMAT_STRING) | NA}}\n  </sm-labeled-row>\n\n  <sm-labeled-row label=\"LAST ITERATION:\">\n    {{(experiment?.last_iteration) | NA}}\n  </sm-labeled-row>\n\n\n  <sm-labeled-row label=\"STATUS MESSAGE:\">\n    {{experiment?.status_message | NA}}\n  </sm-labeled-row>\n\n\n  <sm-labeled-row label=\"STATUS REASON:\">\n    {{experiment?.status_reason | NA}}\n  </sm-labeled-row>\n\n\n  <sm-labeled-row label=\"CREATED AT:\">\n    {{(experiment?.created | date : TIME_FORMAT_STRING) | NA}}\n  </sm-labeled-row>\n\n\n  <sm-labeled-row label=\"STARTED AT:\">\n    {{(experiment?.started | date : TIME_FORMAT_STRING) | NA}}\n  </sm-labeled-row>\n\n\n  <sm-labeled-row label=\"LAST UPDATED AT:\">\n    {{(experiment?.last_update | date:'MMM d yyyy H:mm') | NA}}\n  </sm-labeled-row>\n\n\n  <sm-labeled-row label=\"COMPLETED AT:\">\n    {{(experiment?.completed | date : TIME_FORMAT_STRING) | NA}}\n  </sm-labeled-row>\n\n  <sm-labeled-row label=\"RUN TIME:\">\n    {{(experiment?.active_duration | duration) | NA}}\n  </sm-labeled-row>\n\n  <sm-labeled-row label=\"QUEUE:\">\n    <a [routerLink]=\"'/workers-and-queues/queues'\" [queryParams]=\"{id: experiment?.execution?.queue?.id}\">\n      {{experiment?.execution?.queue?.name | NA}}\n    </a>\n  </sm-labeled-row>\n\n  <sm-labeled-row label=\"WORKER:\">\n    <a [routerLink]=\"'/workers-and-queues/workers'\" [queryParams]=\"{id: experiment?.last_worker}\">\n      {{experiment?.last_worker | NA}}\n    </a>\n  </sm-labeled-row>\n\n  <sm-labeled-row label=\"CREATED BY:\">\n    {{experiment?.user?.name | NA}}\n  </sm-labeled-row>\n\n\n  <sm-labeled-row label=\"PARENT TASK:\">\n    <div *ngIf=\"experiment?.parent; else nA\">\n      <a [href]=\"'projects/*/experiments/'+ experiment?.parent?.id\"\n         target=\"_blank\">{{experiment?.parent?.name}}</a>\n      <sm-copy-clipboard [clipboardText]=\"experiment?.parent?.id\"\n                         [hideBackground]=\"true\"\n                         [label]=\"''\"\n                         [tooltipText]=\"'Copy parent task ID to clipboard'\" class=\"copy-btn\"></sm-copy-clipboard>\n    </div>\n    <ng-template #nA>{{null| NA}}</ng-template>\n  </sm-labeled-row>\n\n  <sm-labeled-row label=\"PROJECT:\">\n    {{experiment?.project?.name | NA}}\n  </sm-labeled-row>\n  <ng-container *ngFor=\"let runtimeItem of $any(experiment?.runtime) | keyvalue | filterInternal \">\n    <sm-labeled-row [label]=\"runtimeItem.key\">\n      {{runtimeItem.value}}\n    </sm-labeled-row>\n  </ng-container>\n\n</div>\n","import {AfterViewInit, Component, EventEmitter, Input, OnDestroy, Output, ViewChild} from '@angular/core';\nimport {FormControl} from '@angular/forms';\nimport {IExperimentInfo} from '../../../../features/experiments/shared/experiment-info.model';\nimport {TIME_FORMAT_STRING} from '../../../constants';\nimport {Store} from '@ngrx/store';\nimport {ActivateEdit, DeactivateEdit} from '../../actions/common-experiments-info.actions';\nimport {selectCurrentActiveSectionEdit} from '../../reducers';\nimport {filter} from 'rxjs/operators';\nimport {Subscription} from 'rxjs';\nimport {EditableSectionComponent} from '../../../shared/ui-components/panel/editable-section/editable-section.component';\n\nexport const EXPERIMENT_COMMENT = 'ExperimentComment';\n\n@Component({\n  selector: 'sm-experiment-general-info',\n  templateUrl: './experiment-general-info.component.html',\n  styleUrls: ['./experiment-general-info.component.scss']\n})\nexport class ExperimentGeneralInfoComponent implements AfterViewInit, OnDestroy {\n  constructor(private store: Store<any>) {\n  }\n\n  commentControl = new FormControl();\n  experimentCommentText: string;\n  experimentCommentOriginal: string;\n  private selectCurrentActiveSectionEditSub: Subscription;\n  @ViewChild('experimentDescriptionSection') private experimentDescriptionSection: EditableSectionComponent;\n  @Input() experiment: IExperimentInfo;\n  @Input() editable: boolean;\n  @Input() isExample: boolean;\n\n  // TODO: remove ISelectedExperiment and use the form object...\n  @Input() set experimentComment(experimentComment: string) {\n    this.experimentCommentText = experimentComment;\n    this.experimentCommentOriginal = experimentComment;\n    this.rebuildCommentControl(experimentComment);\n  }\n\n  @Output() commentChanged = new EventEmitter<string>();\n  TIME_FORMAT_STRING = TIME_FORMAT_STRING;\n\n  ngAfterViewInit() {\n    this.selectCurrentActiveSectionEditSub = this.store.select(selectCurrentActiveSectionEdit)\n      .pipe(filter(currentActiveSectionEdit => currentActiveSectionEdit === EXPERIMENT_COMMENT))\n      .subscribe(() => {\n        this.experimentDescriptionSection.editModeChanged(true);\n      });\n  }\n\n  rebuildCommentControl(comment) {\n    this.commentControl = new FormControl(comment);\n  }\n\n  commentValueChanged(value) {\n    this.commentChanged.emit(value?.trim() ?? null);\n    this.editExperimentComment(false);\n  }\n\n  onCancelComment() {\n    this.experimentCommentText = this.experimentCommentOriginal;\n    this.editExperimentComment(false);\n  }\n\n  editExperimentComment(edit) {\n    if (edit) {\n      this.store.dispatch(new ActivateEdit(EXPERIMENT_COMMENT));\n    } else {\n      this.store.dispatch(new DeactivateEdit());\n    }\n  }\n\n  ngOnDestroy() {\n    this.selectCurrentActiveSectionEditSub?.unsubscribe();\n  }\n\n}\n","<div class=\"description-tooltip\">\n  <ng-container *ngIf=\"selectedExperiment?.comment; else noDescription\">\n    <p>{{selectedExperiment?.comment}}</p>\n    <div class=\"edit-description pointer\" (click)=\"onDescription.emit()\">Edit description</div>\n  </ng-container>\n  <ng-template #noDescription>\n    <div (click)=\"onDescription.emit()\" class=\"pointer add-description\">Add description</div>\n  </ng-template>\n</div>\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {IExperimentInfo} from '../../../../features/experiments/shared/experiment-info.model';\n\n@Component({\n  selector: 'sm-experiment-info-edit-description',\n  templateUrl: './experiment-info-edit-description.component.html',\n  styleUrls: ['./experiment-info-edit-description.component.scss']\n})\nexport class ExperimentInfoEditDescriptionComponent implements OnInit {\n  @Input() selectedExperiment: IExperimentInfo;\n  @Output() onDescription = new EventEmitter<null>();\n\n  public isEntered = false;\n  public isOpen = false;\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n}\n","<small class=\"alert-warning\" *ngIf=\"editName.active && isDev\">Renaming a DEV experiment without changing the\n  code to reflect the rename, will create a new experiment the next time the code is executed.\n</small>\n<div class=\"d-flex\">\n  <sm-experiment-type-icon-label class=\"experiment-icon\" [showLabel]=\"false\" [type]=\"experiment?.type\" iconClass=\"xl\" >\n  </sm-experiment-type-icon-label>\n  <div class=\"middle-col\">\n    <div class=\"d-flex align-items-center\">\n      <sm-inline-edit\n        #editName\n        class=\"edit-name\"\n        [originalText]=\"infoData?.name || experiment?.name\"\n        [editable]=\"editable\"\n        [minWidth]=\"250\"\n        (textChanged)=\"onNameChanged($event)\"\n        (inlineActiveStateChanged)=\"editExperimentName($event)\"\n      >\n        <div class=\"experiment-name\">\n          <span>{{experiment?.name}}</span>\n        </div>\n      </sm-inline-edit>\n      <div class=\"shared\"\n           *ngIf=\"showMinimize && shared\"\n      ><i class=\"fas fa-link p-1\"></i></div>\n      <span class=\"comment\"\n            smHesitate [delay]=\"1000\" [action]=\"'leave'\"\n            (smHesitate)=\"menuHesitate.hesitateStatus && menu.closed.emit()\">\n        <i class=\"al-icon  pointer\"\n           #commentElement\n           [ngClass]=\"infoData?.comment ? 'al-ico-task-desc' : 'al-ico-task-desc-outline'\"\n           [matMenuTriggerFor]=\"menu\"\n           smHesitate\n           [delay]=\"500\"\n           [action]=\"'enter'\"\n           (smHesitate)=\"commentElement.click(); menuHesitate.hesitateStatus = true\"\n           (click)=\"false\"\n        ></i>\n      </span>\n\n\n      <mat-menu #menu=\"matMenu\" backdropClass=\"hello\" [hasBackdrop]=\"false\">\n        <sm-experiment-info-edit-description\n          smHesitate\n          #menuHesitate=\"hesitate\"\n          [delay]=\"1000\"\n          [action]=\"'leave'\"\n          (smHesitate)=\"menu.closed.emit();\"\n          [selectedExperiment]=\"infoData\"\n          (onDescription)=\"onDescriptionHandler()\"\n        ></sm-experiment-info-edit-description>\n      </mat-menu>\n      <i class=\"al-icon al-ico-id pointer\" (click)=\"showID()\" *ngIf=\"!viewId\"></i>\n      <span class=\"experiment-id\" *ngIf=\"viewId\">{{experiment.id}}</span>\n      <div class=\"status\"\n           [class]=\"experiment?.status\"\n           *ngIf=\"showMinimize && getStatusLabel()\"\n      >{{getStatusLabel()}}</div>\n    </div>\n    <div class=\"d-flex align-items-center\">\n      <span class=\"experiment-type\">{{ experiment?.type | noUnderscore | titlecase }}</span>\n      <sm-tag-list\n        *ngIf=\"editable; else readOnlyTags\"\n        class=\"w-100\"\n        [class.menu-open]=\"!!tagMenu && tagMenu.trigger.menuOpen\"\n        [sysTags]=\"systemTags\"\n        [tags]=\"experiment?.tags\"\n        (add)=\"openTagMenu($event)\"\n        (remove)=\"removeTag($event)\"></sm-tag-list>\n      <ng-template #readOnlyTags>\n        <sm-tag-list\n          class=\"w-100\"\n          [sysTags]=\"systemTags\"\n          [tags]=\"experiment?.tags\"></sm-tag-list>\n      </ng-template>\n      <sm-menu\n        #tagMenu\n        [showCart]=\"false\"\n        [showButton]=\"false\"\n        [showOverlay]=\"false\"\n        (menuClosed)=\"tagsMenuClosed()\"\n      >\n        <sm-tags-menu\n          class=\"light-theme\"\n          #tagsMenuContent\n          [tags]=\"experiment?.tags\"\n          [tagsFilterByProject]=\"tagsFilterByProject$ | async\"\n          [projectTags]=\"projectTags$ | async\"\n          [companyTags]=\"companyTags$ | async\"\n          (tagSelected)=\"addTag($event)\"\n        ></sm-tags-menu>\n      </sm-menu>\n    </div>\n  </div>\n  <div class=\"light-theme right-buttons\">\n    <button class=\"btn btn-icon\" (click)=\"minimizeClicked.emit()\" *ngIf=\"showMinimize && !isSharedAndNotOwner\"\n            smTooltip=\"View in experiment table\" matTooltipPosition=\"left\">\n      <i class=\"al-icon al-ico-info-min al-color light-grey-blue\"></i>\n    </button>\n    <sm-experiment-menu-extended\n      *ngIf=\"showMenu && experiment\"\n      [experiment]=\"experiment\"\n      [selectedExperiment]=\"experiment\"\n      [tagsFilterByProject]=\"tagsFilterByProject$ | async\"\n      [selectedDisableAvailable]=\"selectedDisableAvailable\"\n      [selectedDisableAvailableIsMultiple]=\"false\"\n      [projectTags]=\"projectTags$ | async\"\n      [companyTags]=\"companyTags$ | async\"\n      [minimizedView]=\"!showMinimize\"\n      [isSharedAndNotOwner]=\"isSharedAndNotOwner\"\n      [numSelected]=\"1\"\n      (tagSelected)=\"addTag($event)\"\n    ></sm-experiment-menu-extended>\n  </div>\n</div>\n","import {Component, EventEmitter, Input, OnDestroy, Output, ViewChild} from '@angular/core';\nimport {TaskStatusEnum} from '../../../../business-logic/model/tasks/taskStatusEnum';\nimport {TaskTypeEnum} from '../../../../business-logic/model/tasks/taskTypeEnum';\nimport {getSystemTags, isDevelopment} from '../../../../features/experiments/shared/experiments.utils';\nimport {Observable} from 'rxjs';\nimport {Store} from '@ngrx/store';\nimport {selectCompanyTags, selectProjectTags, selectTagsFilterByProject} from '../../../core/reducers/projects.reducer';\nimport {addTag, removeTag} from '../../actions/common-experiments-menu.actions';\nimport {TagsMenuComponent} from '../../../shared/ui-components/tags/tags-menu/tags-menu.component';\nimport {MenuComponent} from '../../../shared/ui-components/panel/menu/menu.component';\nimport {ActivateEdit, DeactivateEdit} from '../../actions/common-experiments-info.actions';\nimport {EXPERIMENTS_STATUS_LABELS} from '../../../../features/experiments/shared/experiments.const';\nimport {EXPERIMENT_COMMENT} from '../experiment-general-info/experiment-general-info.component';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {\n  MenuItems,\n  selectionDisabledAbort,\n  selectionDisabledAbortAllChildren,\n  selectionDisabledArchive,\n  selectionDisabledDelete,\n  selectionDisabledDequeue,\n  selectionDisabledEnqueue,\n  selectionDisabledMoveTo,\n  selectionDisabledPublishExperiments,\n  selectionDisabledQueue,\n  selectionDisabledReset,\n  selectionDisabledViewWorker\n} from '../../../shared/entity-page/items.utils';\n\n@Component({\n  selector: 'sm-experiment-info-header',\n  templateUrl: './experiment-info-header.component.html',\n  styleUrls: ['./experiment-info-header.component.scss']\n})\nexport class ExperimentInfoHeaderComponent implements OnDestroy {\n\n  readonly TaskStatusEnum = TaskStatusEnum;\n  readonly TaskTypeEnum = TaskTypeEnum;\n\n  public viewId: boolean;\n  public tagsFilterByProject$: Observable<boolean>;\n  public projectTags$: Observable<string[]>;\n  public companyTags$: Observable<string[]>;\n  public isDev = false;\n  public systemTags = [] as string[];\n  public shared: boolean;\n  selectedDisableAvailable = {};\n\n  @Input() editable: boolean = true;\n  @Input() infoData;\n  @Input() backdropActive = false;\n  @Input() showMenu: boolean;\n  @Input() showMinimize: boolean;\n  @Input() isSharedAndNotOwner: boolean;\n  @Output() experimentNameChanged = new EventEmitter<string>();\n  @Output() minimizeClicked = new EventEmitter();\n  @ViewChild('tagMenu') tagMenu: MenuComponent;\n  @ViewChild('tagsMenuContent') tagMenuContent: TagsMenuComponent;\n\n  constructor(private store: Store<any>, private router: Router, private activatedRoute: ActivatedRoute) {\n    this.tagsFilterByProject$ = this.store.select(selectTagsFilterByProject);\n    this.projectTags$ = this.store.select(selectProjectTags);\n    this.companyTags$ = this.store.select(selectCompanyTags);\n  }\n\n  ngOnDestroy(): void {\n    this.tagMenu = null;\n    this.tagMenuContent = null;\n  }\n\n  private _experiment: any;\n  get experiment() {\n    return this._experiment;\n  }\n\n  @Input() set experiment(experiment) {\n    if (experiment?.id !== this._experiment?.id) {\n      this.viewId = false;\n    }\n    this._experiment = experiment;\n    this.isDev = isDevelopment(experiment);\n    this.systemTags = getSystemTags(experiment);\n    this.shared = experiment?.system_tags?.includes('shared');\n    this.selectedDisableAvailable = {\n      [MenuItems.abort]: selectionDisabledAbort([experiment]),\n      [MenuItems.abortAllChildren]: selectionDisabledAbortAllChildren([experiment]),\n      [MenuItems.publish]: selectionDisabledPublishExperiments([experiment]),\n      [MenuItems.reset]: selectionDisabledReset([experiment]),\n      [MenuItems.delete]: selectionDisabledDelete([experiment]),\n      [MenuItems.moveTo]: selectionDisabledMoveTo([experiment]),\n      [MenuItems.enqueue]: selectionDisabledEnqueue([experiment]),\n      [MenuItems.dequeue]: selectionDisabledDequeue([experiment]),\n      [MenuItems.queue]: selectionDisabledQueue([experiment]),\n      [MenuItems.viewWorker]: selectionDisabledViewWorker([experiment]),\n      [MenuItems.archive]: selectionDisabledArchive([experiment])\n    };\n  }\n\n\n  onNameChanged(name) {\n    this.experimentNameChanged.emit(name);\n  }\n\n  openTagMenu(event: MouseEvent) {\n    if (!this.tagMenu) {\n      return;\n    }\n    window.setTimeout(() => this.store.dispatch(new ActivateEdit('tags')), 200);\n    this.tagMenu.position = {x: event.clientX, y: event.clientY};\n    window.setTimeout(() => {\n      this.tagMenu.openMenu();\n      this.tagMenuContent.focus();\n    });\n  }\n\n  addTag(tag: string) {\n    this.store.dispatch(addTag({tag, experiments: [this.experiment]}));\n  }\n\n  removeTag(tag: string) {\n    this.store.dispatch(removeTag({tag, experiments: [this.experiment]}));\n  }\n\n  tagsMenuClosed() {\n    this.store.dispatch(new DeactivateEdit());\n    this.tagMenuContent.clear();\n  }\n\n  editExperimentName(edit) {\n    if (edit) {\n      this.store.dispatch(new ActivateEdit('ExperimentName'));\n    } else {\n      this.store.dispatch(new DeactivateEdit());\n    }\n  }\n\n  showID() {\n    this.viewId = true;\n  }\n\n  getStatusLabel() {\n    return EXPERIMENTS_STATUS_LABELS[this.experiment?.status] || '';\n  }\n\n  onDescriptionHandler() {\n    this.router.navigate(['general'], {relativeTo: this.activatedRoute});\n    this.store.dispatch(new ActivateEdit(EXPERIMENT_COMMENT));\n  }\n\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {ActivatedRoute, Params, Router} from '@angular/router';\nimport {Store} from '@ngrx/store';\nimport {get} from 'lodash/fp';\nimport {Observable, Subscription} from 'rxjs';\nimport {debounceTime, distinctUntilChanged, filter, map, tap} from 'rxjs/operators';\nimport {MESSAGES_SEVERITY} from '../../../../app.constants';\nimport {IExperimentInfoState} from '../../reducers/experiment-info.reducer';\nimport {selectExperimentInfoData, selectIsExperimentEditable, selectSelectedExperiment} from '../../reducers';\nimport {selectBackdropActive} from '../../../../webapp-common/core/reducers/view.reducer';\nimport {isReadOnly} from '../../../../webapp-common/shared/utils/shared-utils';\nimport {selectRouterConfig, selectRouterParams, selectRouterQueryParams} from '../../../../webapp-common/core/reducers/router-reducer';\nimport * as commonInfoActions from '../../../../webapp-common/experiments/actions/common-experiments-info.actions';\nimport {ExperimentDetailsUpdated} from '../../../../webapp-common/experiments/actions/common-experiments-info.actions';\nimport {addMessage} from '../../../../webapp-common/core/actions/layout.actions';\nimport {IExperimentInfo} from '../../shared/experiment-info.model';\nimport {selectSelectedTableExperiment} from '../../../../webapp-common/experiments/reducers';\nimport {ITableExperiment} from '../../../../webapp-common/experiments/shared/common-experiment-model.model';\n\n// new imports\nimport {faDatabase, faCodeBranch, faFileExcel, faThList, faUpload} from '@fortawesome/free-solid-svg-icons';\nimport { AngularFileUploaderComponent } from \"angular-file-uploader\";\nimport { HttpClient, HttpEventType} from '@angular/common/http';\n\n\n@Component({\n  selector: 'sm-experiment-info',\n  templateUrl: './experiment-info.component.html',\n  styleUrls: ['./experiment-info.component.scss']\n})\nexport class ExperimentInfoComponent implements OnInit, OnDestroy {\n\n  private paramsSubscription: Subscription;\n  public selectedExperiment: IExperimentInfo;\n  private selectedExperimentSubscription: Subscription;\n  public editable$: Observable<boolean>;\n  public infoData$: Observable<IExperimentInfo>;\n  public backdropActive$: Observable<any>;\n  public isExample: boolean;\n  private projectId: string;\n  private experimentId: string;\n  public resultsTab: boolean;\n  public queryParams$: Observable<Params>;\n  public routerConfig: string[];\n  private routerConfigSubscription: Subscription;\n  public tableSelectedExperiment$: Observable<ITableExperiment>;\n  private toMaximize = false;\n\n  constructor(\n    private router: Router,\n    private store: Store<IExperimentInfoState>,\n    private route: ActivatedRoute, \n    private http: HttpClient\n  ) {\n    this.editable$ = this.store.select(selectIsExperimentEditable);\n    this.infoData$ = this.store.select(selectExperimentInfoData);\n    this.backdropActive$ = this.store.select(selectBackdropActive);\n    this.queryParams$ = this.store.select(selectRouterQueryParams);\n    this.tableSelectedExperiment$ = this.store.select(selectSelectedTableExperiment);\n  }\n\n  ngOnInit() {\n    this.selectedExperimentSubscription = this.store.select(selectSelectedExperiment)\n      .subscribe(experiment => {\n        this.selectedExperiment = experiment;\n        this.isExample = isReadOnly(experiment);\n      });\n    this.routerConfigSubscription = this.store.select(selectRouterConfig).subscribe(routerConfig => {\n      this.routerConfig = routerConfig;\n    });\n\n    this.paramsSubscription = this.store.select(selectRouterParams)\n      .pipe(\n        tap((params) => {\n          this.projectId = get('projectId', params);\n          this.resultsTab = 'info-output' === this.route.firstChild.routeConfig.path;\n        }),\n        debounceTime(150),\n        map(params => get('experimentId', params)),\n        filter(experimentId => !!experimentId),\n        distinctUntilChanged()\n      )\n      .subscribe(experimentId => {\n        this.experimentId = experimentId;\n\n        // We already have GetExperimentInfo in output (results) component\n        if (!this.resultsTab) {\n          this.store.dispatch(new commonInfoActions.ResetExperimentInfo());\n          this.store.dispatch(new commonInfoActions.GetExperimentInfo(experimentId));\n        }\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.paramsSubscription.unsubscribe();\n    this.selectedExperimentSubscription.unsubscribe();\n    this.routerConfigSubscription.unsubscribe();\n    if (!this.toMaximize) {\n      this.store.dispatch(new commonInfoActions.SetExperiment(null));\n      this.store.dispatch(new commonInfoActions.ResetExperimentInfo());\n    }\n  }\n\n  updateExperimentName(name) {\n    if (name.trim().length > 2) {\n      this.store.dispatch(new ExperimentDetailsUpdated({id: this.selectedExperiment.id, changes: {name: name}}));\n    } else {\n      this.store.dispatch(addMessage(MESSAGES_SEVERITY.ERROR, 'Name must be more than three letters long'));\n    }\n  }\n\n  deselectExperiment() {\n    this.navigateAfterExperimentSelectionChanged();\n  }\n\n  navigateAfterExperimentSelectionChanged() {\n    this.router.navigate([`projects/${this.projectId}/experiments`], {queryParamsHandling: 'merge'});\n  }\n\n  onActivate(e, scrollContainer) {\n    scrollContainer.scrollTop = 0;\n  }\n\n  maximize() {\n    if (window.location.pathname.includes('info-output')) {\n      const resultsPath = this.route.firstChild?.firstChild?.routeConfig?.path || this.route.firstChild.routeConfig.path;\n      this.router.navigateByUrl(`projects/${this.projectId}/experiments/${this.experimentId}/output/${resultsPath}`);\n    } else {\n      const parts = window.location.pathname.split('/');\n      parts.splice(5, 0, 'output');\n      this.router.navigateByUrl(parts.join('/'));\n    }\n    this.toMaximize = true;\n  }\n\n  // So.\n  // From here all the code you will find is new.\n\n\n//  here are the \"fontawesome\" icons, if you want to change the icons you will have to \n//  first import them here and declare them in the new imports and then use them in HTML.\n//  don't need to install anything, it's already in package.json\n  faDatabase = faDatabase\n  faCodeBranch = faCodeBranch\n  faFileExcel = faFileExcel\n  faThList = faThList\n  faUpload = faUpload\n\n  //test function made to check if the buttons in the html were being triggered correctly\n  // test() {\n  //   alert(\"ALIVE\")\n  //   alert(\"experimentId\" + this.experimentId)\n  //   alert(\"projectId\" + this.projectId)\n  // }\n\n  // //just leave it here, it is necessary so that the function that uploads files can work\n  // selectedFiles: File = null;\n\n  // version_control(){\n\n  //   // has the url variable declared for the current configuration of port 5000 of the new backend module.\n  //   // still need to finish and define the methods to be used in the backend, the parameters to be sent \n  //   // will depend on the implementation that will be done.\n  //   // I particularly think that it will be necessary to create a new view to be able to perform this function properly\n\n  //   var url = 'http://127.0.0.1:5000/version_control'\n\n  //   this.http.get(url)\n  //   .subscribe(response => console.log(response))\n      \n  // }\n\n\n  // //To more information about this module go to =>  https://blog.angular-university.io/angular-http/\n  // async dataset_upload(evente){\n  //   var url = 'http://127.0.0.1:5000'\n  //   //var url = window.location.hostname+ ':5000'\n\n  //   alert(url)\n\n  //   const my_id : any = {\n  //     'experimentId' : this.experimentId,\n  //     'projectId' : this.projectId,\n  //   }\n  //   this.http.post(url + '/dataset2artefact', my_id)\n  //   .subscribe(response => console.log(response))\n\n  //   this.selectedFiles = <File>evente.target.files\n  //   console.log(this.selectedFiles)\n\n  //   const file = new FormData()\n  //   file.append('file', this.selectedFiles[0],);\n  //   //const upload: any = await \n\n  //   this.http.post(url + '/dataset_upload',file, {\n  //     reportProgress: true,\n  //     observe:'events'\n  //   })\n  //   .subscribe(event => {\n  //   if (event.type === HttpEventType.UploadProgress){\n  //     console.log('UploadProgress: ' + Math.round(event.loaded / event.total * 100) + '%')\n  //   }else if(event.type === HttpEventType.Response){\n  //     console.log(event)\n  //   }\n  //   })\n\n  //   //.toPromise();\n\n  // }\n\n  // weight_upload(evente){\n  //   var url = 'http://127.0.0.1:5000/weight_upload'\n\n  //   this.selectedFiles = <File>evente.target.files\n  //   console.log(this.selectedFiles)\n\n  //   const file = new FormData()\n  //   file.append('file', this.selectedFiles[0],);\n  //   console.log(file)\n\n\n  //   this.http.post(url,file, {\n  //     reportProgress: true,\n  //     observe:'events',\n  //   })\n  //     .subscribe(event => {\n  //       if (event.type === HttpEventType.UploadProgress){\n  //         console.log('UploadProgress: ' + Math.round(event.loaded / event.total * 100) + '%')\n  //       }else if(event.type === HttpEventType.Response){\n  //         console.log(event)\n  //       }\n  //     })\n  // }\n\n  // comparison(){\n  //   var url = 'http://127.0.0.1:5000/comparison'\n\n  //   this.http.get(url)\n  //   .subscribe(response => console.log(response))\n  // }\n\n  \n\n\n\n}\n","<sm-experiment-info-header-status-progress-bar\n  [status]=\"(tableSelectedExperiment$| async)?.status || selectedExperiment?.status\"\n  [editable]=\"editable$ | async\"\n  [showMaximize]=\"true\"\n  (closeInfoClicked)=\"deselectExperiment()\"\n  (maximizedClicked)=\"maximize()\">\n</sm-experiment-info-header-status-progress-bar>\n\n<div class=\"experiment-info-container light-theme\">\n  <sm-experiment-info-header\n    [experiment]=\"(tableSelectedExperiment$| async) || selectedExperiment\"\n    [infoData]=\"infoData$ | async\"\n    [editable]=\"!isExample\"\n    [showMenu]=\"true\"\n    [backdropActive]=\"backdropActive$|async\"\n    (experimentNameChanged)=\"updateExperimentName($event)\"\n  >\n  </sm-experiment-info-header>\n  <!-- \n<nav>\n    <span routerLink=\"execution\" [routerLinkActive]=\"'disabled'\" queryParamsHandling=\"merge\">\n      <sm-navbar-item header=\"execution\" [active]=\"routerConfig.includes('execution')\"></sm-navbar-item>\n    </span>\n\n    <span [routerLink]=\"['hyper-params/hyper-param/_empty_']\" [class.disabled]=\"routerConfig.includes('hyper-params')\" queryParamsHandling=\"merge\">\n      <sm-navbar-item header=\"configuration\" [active]=\"routerConfig.includes('hyper-params')\"></sm-navbar-item>\n    </span>\n    <span [routerLink]=\"['artifacts']\" [routerLinkActive]=\"'disabled'\" queryParamsHandling=\"preserve\">\n      <sm-navbar-item header=\"artifacts\" [active]=\"routerConfig.includes('artifacts')\"></sm-navbar-item>\n    </span>\n    <span [routerLink]=\"['general']\" [routerLinkActive]=\"'disabled'\" queryParamsHandling=\"preserve\">\n      <sm-navbar-item header=\"info\" [active]=\"routerConfig.includes('general')\"></sm-navbar-item>\n    </span>\n    <span [routerLink]=\"['info-output']\" [routerLinkActive]=\"'disabled'\" queryParamsHandling=\"preserve\">\n      <sm-navbar-item header=\"results\" [active]=\"routerConfig.includes('info-output')\"></sm-navbar-item>\n    </span>\n    \n\n\n    <angular-file-uploader\n      [config]=\"afuConfig\">\n    </angular-file-uploader> \n\n\n  </nav> -->\n  <div class=\"experiment-info-body\" #scrollContainer>\n    <router-outlet (activate)=\"onActivate($event, scrollContainer)\"></router-outlet>\n  </div>\n</div>\n\n","<ng-form #sourceCodeForm=\"ngForm\">\n  <div [class.source-code-container]=\"editable\">\n    <sm-labeled-row label=\"REPOSITORY\">\n      <div *ngIf=\"!editable\">{{formData?.repository}}</div>\n      <mat-form-field appearance=\"outline\" *ngIf=\"editable\" class=\"col-24\">\n        <input matInput [ngModel]=\"formData?.repository\" name=\"repository\">\n      </mat-form-field>\n    </sm-labeled-row>\n    <sm-labeled-row [label]=\"editable ? 'COMMIT' : (formData?.scriptType| replaceViaMapPipe:flagNameMap)\">\n      <div *ngIf=\"!editable\">\n        <div [ngSwitch]=\"formData?.scriptType\">\n          <div *ngSwitchCase=\"sourceTypesEnum.VersionNum\">\n            {{formData?.version_num}} {{formData?.branch ? ' (in branch ' + formData?.branch + ')' : ''}}\n          </div>\n          <div *ngSwitchCase=\"sourceTypesEnum.Branch\">\n            {{formData?.branch ? 'Latest in branch ' + formData?.branch : '' }}\n          </div>\n          <div *ngSwitchCase=\"sourceTypesEnum.Tag\">\n            {{formData?.version_num ? 'Tag ' + formData?.tag + ' (commit id ' + formData?.version_num + ')' : 'Tag ' + formData?.tag }}\n          </div>\n        </div>\n      </div>\n      <div class=\"d-flex\" *ngIf=\"editable\">\n        <mat-form-field appearance=\"outline\" class=\"col-12\">\n          <mat-label>Type</mat-label>\n          <mat-select #scriptType [ngModel]=\"formData?.scriptType\" panelClass=\"light-theme\" name=\"scriptType\">\n            <mat-option *ngFor=\"let type of scriptTypeOptions\" [value]=\"type.value\">{{type.label}}</mat-option>\n          </mat-select>\n        </mat-form-field>\n\n        <mat-form-field appearance=\"outline\"\n                        [class.d-none]=\"scriptType.value !== sourceTypesEnum.VersionNum\" class=\"col-12\">\n          <mat-error>Required</mat-error>\n          <mat-label>Commit ID</mat-label>\n          <input matInput type=\"text\"\n                 name=\"version_num\"\n                 (blur)=\"resetOtherScriptParameters(sourceTypesEnum.VersionNum)\"\n                 [ngModel]=\"formData?.version_num\"\n                 [required]=\"(!!formData?.repository) && scriptType.value == sourceTypesEnum.VersionNum\"\n                 [placeholder]=\"scriptPlaceHolders[sourceTypesEnum.VersionNum]\">\n        </mat-form-field>\n\n        <mat-form-field appearance=\"outline\" [class.d-none]=\"scriptType.value !== sourceTypesEnum.Branch\" class=\"col-12\">\n          <mat-label>Branch</mat-label>\n          <mat-error>Required</mat-error>\n          <input matInput type=\"text\"\n                 name=\"branch\"\n                 (blur)=\"resetOtherScriptParameters(sourceTypesEnum.Branch)\"\n                 [ngModel]=\"formData?.branch\"\n                 [required]=\"(!!formData?.repository) && scriptType.value == sourceTypesEnum.Branch\"\n                 [placeholder]=\"scriptPlaceHolders[sourceTypesEnum.Branch]\">\n        </mat-form-field>\n\n        <mat-form-field appearance=\"outline\" [class.d-none]=\"scriptType.value !== sourceTypesEnum.Tag\" class=\"col-12\">\n          <mat-error>Required</mat-error>\n          <mat-label>Tag</mat-label>\n          <input matInput type=\"text\"\n                 name=\"tag\"\n                 (blur)=\"resetOtherScriptParameters(sourceTypesEnum.Tag)\"\n                 [ngModel]=\"formData?.tag\"\n                 [required]=\"(!!formData?.repository) && scriptType.value == sourceTypesEnum.Tag\"\n                 [placeholder]=\"scriptPlaceHolders[sourceTypesEnum.Tag]\">\n        </mat-form-field>\n\n      </div>\n\n    </sm-labeled-row>\n    <sm-labeled-row label=\"SCRIPT PATH\">\n      <div *ngIf=\"!editable\">{{formData?.entry_point}}</div>\n      <mat-form-field appearance=\"outline\" *ngIf=\"editable\" class=\"col-24\">\n        <input matInput type=\"text\" [ngModel]=\"formData?.entry_point\" name=\"entry_point\">\n      </mat-form-field>\n    </sm-labeled-row>\n    <sm-labeled-row label=\"WORKING DIRECTORY\">\n      <div *ngIf=\"!editable\">{{formData?.working_dir}}</div>\n      <mat-form-field appearance=\"outline\" *ngIf=\"editable\" class=\"col-24\">\n        <input matInput type=\"text\" [ngModel]=\"formData?.working_dir\" name=\"working_dir\">\n      </mat-form-field>\n    </sm-labeled-row>\n  </div>\n</ng-form>\n","import {Component, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild} from '@angular/core';\nimport {NgForm} from '@angular/forms';\nimport {Subscription} from 'rxjs';\nimport {IExperimentInfoFormComponent} from '../../../../features/experiments/shared/experiment-info.model';\nimport {IExecutionForm, sourceTypesEnum} from '../../../../features/experiments/shared/experiment-execution.model';\nimport {HELP_TEXTS} from '../../shared/common-experiments.const';\n\n@Component({\n  selector   : 'sm-experiment-execution-source-code',\n  templateUrl: './experiment-execution-source-code.component.html',\n  styleUrls  : ['./experiment-execution-source-code.component.scss'],\n})\nexport class ExperimentExecutionSourceCodeComponent implements OnInit, IExperimentInfoFormComponent, OnDestroy {\n\n  private formChangesSubscription: Subscription;\n  @Input() formData: IExecutionForm['source'];\n  @Input() editable: boolean;\n\n  @Output() formDataChanged = new EventEmitter<{ field: string; value: any }>();\n\n  @ViewChild('sourceCodeForm', { static: true }) sourceCodeForm: NgForm;\n\n  HELP_TEXTS               = HELP_TEXTS;\n  readonly sourceTypesEnum = sourceTypesEnum;\n\n  scriptTypeOptions = [\n    {\n      value: sourceTypesEnum.VersionNum,\n      label: 'Commit Id'\n    },\n    {\n      value: sourceTypesEnum.Tag,\n      label: 'Tag name'\n    },\n    {\n      value: sourceTypesEnum.Branch,\n      label: 'Last Commit In Branch'\n    },\n  ];\n  scriptPlaceHolders = {\n    [sourceTypesEnum.VersionNum]: 'Insert commit id',\n    [sourceTypesEnum.Tag]       : 'Insert tag name',\n    [sourceTypesEnum.Branch]    : 'Insert branch name',\n  };\n  flagNameMap = {\n    [sourceTypesEnum.VersionNum]: 'COMMIT ID',\n    [sourceTypesEnum.Tag]       : 'TAG NAME',\n    [sourceTypesEnum.Branch]    : 'BRANCH NAME'\n  };\n\n\n  ngOnInit(): void {\n    this.formChangesSubscription = this.sourceCodeForm.form.valueChanges.subscribe(formValue => {\n      if (this.editable) {\n        this.formDataChanged.emit({field: 'source', value: formValue});\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.formChangesSubscription?.unsubscribe();\n  }\n\n  resetOtherScriptParameters(sourceType: sourceTypesEnum) {\n    switch (sourceType) {\n      case sourceTypesEnum.VersionNum:\n        this.sourceCodeForm.controls['tag'].setValue('');\n        this.sourceCodeForm.controls['branch'].setValue('');\n        break;\n      case sourceTypesEnum.Tag:\n        this.sourceCodeForm.controls['branch'].setValue('');\n        this.sourceCodeForm.controls['version_num'].setValue('');\n        break;\n      case sourceTypesEnum.Branch:\n        this.sourceCodeForm.controls['version_num'].setValue('');\n        this.sourceCodeForm.controls['tag'].setValue('');\n        break;\n    }\n  }\n}\n","<sm-overlay [backdropActive]=\"backdropActive$|async\"></sm-overlay>\n<mat-sidenav-container *ngIf=\"!minimized; else content\">\n  <mat-sidenav mode=\"side\" opened>\n    <mat-nav-list dense>\n      <a mat-list-item\n         class=\"side-link\"\n         [class.selected]=\"link === currentLink\"\n         (click)=\"showSection(link)\"\n         *ngFor=\"let link of links\">{{ link | uppercase }}</a>\n    </mat-nav-list>\n  </mat-sidenav>\n  <mat-sidenav-content>\n    <ng-container *ngTemplateOutlet=\"content\"></ng-container>\n  </mat-sidenav-content>\n</mat-sidenav-container>\n\n<ng-template #content>\n  <ng-template #template\n    let-saving=\"saving\" let-editable=\"editable\" let-showExtraDataSpinner=\"showExtraDataSpinner\" let-isInDev=\"isInDev\"\n    [ngTemplateOutletContext]=\"{ saving: saving$ | async,\n                                 editable: editable$ | async,\n                                 showExtraDataSpinner: showExtraDataSpinner$ | async,\n                                 isInDev: isInDev$ | async\n                               }\" [ngTemplateOutlet]=\"template\">\n    <div class=\"sidenav-content\" [class.maximized]=\"!minimized\" *ngIf=\"formData\">\n    <sm-editable-section #sourceSection\n                         class=\"limit-width\"\n                         *ngIf=\"minimized || currentLink === 'details'\"\n                         [saving]=\"saving\"\n                         [editable]=\"editable\"\n                         (cancelClicked)=\"cancelFormChange()\"\n                         (saveClicked)=\"sourceCode.sourceCodeForm.valid? saveSourceData(): sourceCode.sourceCodeForm.onSubmit(null)\"\n                         (activateEditClicked)=\"activateEditChanged('source', sourceSection)\">\n      <sm-section-header label=\"SOURCE CODE\"></sm-section-header>\n      <sm-experiment-execution-source-code\n        #sourceCode\n        class=\"form-section\"\n        [editable]=\"(editable && !isInDev) && sourceSection.inEditMode\"\n        [formData]=\"formData.source\"\n      ></sm-experiment-execution-source-code>\n    </sm-editable-section>\n\n    <sm-editable-section #diffSection\n                         class=\"grow\"\n                         *ngIf=\"minimized || currentLink === 'uncommitted changes'\"\n                         [saving]=\"saving\"\n                         [editable]=\"editable && !showExtraDataSpinner\"\n                         [hideEditButton]=\"!!formData.diff\"\n                         [disableInEditMode]=\"true\"\n                         (cancelClicked)=\"cancelFormChange()\"\n                         (activateEditClicked)=\"activateEditChanged('diff'); editDiff()\">\n      <sm-section-header *ngIf=\"minimized\" label=\"UNCOMMITTED CHANGES\"></sm-section-header>\n      <sm-scroll-textarea\n        class=\"form-section\"\n        [editable]=\"editable && diffSection.inEditMode\"\n        [isInDev]=\"isInDev\"\n        [formData]=\"formData.diff\"\n        [showSpinner]=\"showExtraDataSpinner\"\n      >\n        <button extra-buttons\n                *ngIf=\"formData.diff && editable && !showExtraDataSpinner\"\n                class=\"btn-dark-fill mr-3 flex-1\"\n                (click)=\"diffSection.editModeChanged(true)\">EDIT</button>\n        <button extra-buttons\n                *ngIf=\"formData.diff && editable && !showExtraDataSpinner\"\n                class=\"btn-dark-fill mr-3 flex-1\"\n                (click)=\"discardDiff()\">\n          <i class=\"p-1 fa fa-trash\"></i>\n          DISCARD DIFFS\n        </button>\n      </sm-scroll-textarea>\n    </sm-editable-section>\n\n    <sm-editable-section #requirementsSection\n                         class=\"grow\"\n                         *ngIf=\"minimized || currentLink === 'installed packages'\"\n                         [saving]=\"saving\"\n                         [editable]=\"editable\"\n                         [disableInEditMode]=\"true\"\n                         [disableSave]=\"false\"\n                         [hideEditButton]=\"!!formData?.requirements?.pip\"\n                         (cancelClicked)=\"cancelFormChange()\"\n                         (activateEditClicked)=\"activateEditChanged('source'); editInstallPackages()\">\n      <sm-section-header *ngIf=\"minimized\" label=\"INSTALLED PACKAGES\"></sm-section-header>\n      <sm-scroll-textarea\n        class=\"form-section\"\n        emptyMessage=\"Packages will be installed from projects requirements file\"\n        [editable]=\"editable && requirementsSection.inEditMode\"\n        [isInDev]=\"isInDev\"\n        [formData]=\"formData.requirements?.pip\">\n        <button extra-buttons\n                *ngIf=\"formData?.requirements?.pip && editable && !showExtraDataSpinner\"\n                class=\"btn-dark-fill mr-3 flex-1\"\n                (click)=\"requirementsSection.editModeChanged(true)\">EDIT</button>\n        <button extra-buttons\n                *ngIf=\"formData.requirements?.pip && editable && !showExtraDataSpinner\"\n                class=\"btn-dark-fill mr-3 flex-1\"\n                (click)=\"clearInstalledPackages()\">\n          <i class=\"p-1 fa fa-trash\"></i>\n          CLEAR\n        </button>\n      </sm-scroll-textarea>\n    </sm-editable-section>\n    <sm-editable-section #containerSection\n                         class=\"limit-width edit-in-section\"\n                         [style.margin-bottom.px]=\"containerSection.inEditMode ? 30 : null\"\n                         *ngIf=\"minimized || currentLink === 'container'\"\n                         [saving]=\"saving\"\n                         [editable]=\"editable\"\n                         (cancelClicked)=\"cancelFormChange()\"\n                         (saveClicked)=\"saveContainerData({image: containerImage.nativeElement.value, arguments: containerArguments.nativeElement.value})\"\n                         (activateEditClicked)=\"activateEditChanged('orchestration', containerSection)\">\n      <sm-section-header label=\"CONTAINER\"></sm-section-header>\n      <sm-labeled-row label=\"IMAGE\" [class.mb-3]=\"editable\">\n        <div *ngIf=\"!((editable && !isInDev) && containerSection.inEditMode)\">{{formData.container?.image}}</div>\n        <mat-form-field appearance=\"outline\" *ngIf=\"(editable && !isInDev) && containerSection.inEditMode\" class=\"col-24\">\n          <input #containerImage matInput [ngModel]=\"formData.container?.image\" name=\"image\">\n        </mat-form-field>\n      </sm-labeled-row>\n      <sm-labeled-row label=\"ARGUMENTS\" [class.mb-3]=\"editable\" [labelClass]=\"'this-is-myclass'\">\n        <div *ngIf=\"!((editable && !isInDev) && containerSection.inEditMode)\">{{formData.container?.arguments}}</div>\n        <mat-form-field appearance=\"outline\" *ngIf=\"(editable && !isInDev) && containerSection.inEditMode\" class=\"col-24\">\n          <input #containerArguments matInput [ngModel]=\"formData.container?.arguments\" name=\"image\">\n        </mat-form-field>\n      </sm-labeled-row>\n\n    </sm-editable-section>\n        <sm-editable-section #containerSetupShellSection\n                             class=\"grow setup-shell-script\"\n                             [class.maximised]=\"!minimized\"\n                             [class.mb-3]=\"editable\"\n                             *ngIf=\"minimized || currentLink === 'container'\"\n                             [saving]=\"saving\"\n                             [editable]=\"editable && (!(formData?.container?.setup_shell_script) || containerSetupShellSection.inEditMode)\"\n                             [disableInEditMode]=\"true\"\n                             [disableSave]=\"false\"\n                             (cancelClicked)=\"cancelFormChange()\"\n                             (activateEditClicked)=\"activateEditChanged('container'); editContainerSetupShellScript(containerSetupShellSection)\">\n          <sm-section-header  label=\"SETUP SHELL SCRIPT\"></sm-section-header>\n          <sm-scroll-textarea\n            class=\"form-section\"\n            [editable]=\"editable && containerSetupShellSection.inEditMode\"\n            [isInDev]=\"isInDev\"\n            [formData]=\"formData?.container?.setup_shell_script\">\n            <button extra-buttons\n                    *ngIf=\"formData?.container?.setup_shell_script && editable && !showExtraDataSpinner\"\n                    class=\"btn-dark-fill mr-3 flex-1\"\n                    (click)=\"containerSetupShellSection.editModeChanged(true)\">EDIT</button>\n            <button extra-buttons\n                    *ngIf=\"formData.container?.setup_shell_script && editable && !showExtraDataSpinner\"\n                    class=\"btn-dark-fill mr-3 flex-1\"\n                    (click)=\"clearSetupShellScript()\">\n              <i class=\"p-1 fa fa-trash\"></i>\n              CLEAR\n            </button>\n          </sm-scroll-textarea>\n        </sm-editable-section>\n\n    <sm-editable-section #outputSection\n                         class=\"limit-width\"\n                         *ngIf=\"minimized || currentLink === 'details'\"\n                         [saving]=\"saving\"\n                         [editable]=\"editable\"\n                         (cancelClicked)=\"cancelFormChange()\"\n                         (saveClicked)=\"saveOutputData()\"\n                         (activateEditClicked)=\"activateEditChanged('output', outputSection)\">\n      <sm-section-header label=\"OUTPUT\"></sm-section-header>\n      <sm-labeled-row label=\"DESTINATION\">\n        <div *ngIf=\"!((editable && !isInDev) && outputSection.inEditMode)\">{{formData.output?.destination}}</div>\n        <mat-form-field appearance=\"outline\" *ngIf=\"editable && outputSection.inEditMode\" class=\"col-24\">\n          <input #outputDestination matInput [ngModel]=\"formData.output?.destination\" name=\"output_destination\">\n        </mat-form-field>\n      </sm-labeled-row>\n      <!--      Can we remove this non existing input?-->\n      <sm-labeled-row label=\"LOG LEVEL\" [class.mb-3]=\"editable\">\n        <div *ngIf=\"!((editable && !isInDev) && outputSection.inEditMode)\">{{formData.output?.logLevel}}</div>\n        <mat-form-field appearance=\"outline\" *ngIf=\"editable && outputSection.inEditMode\" class=\"col-24\">\n          <input #outputLogLevel matInput [ngModel]=\"formData.output?.logLevel\" name=\"output_destination\">\n        </mat-form-field>\n      </sm-labeled-row>\n    </sm-editable-section>\n  </div>\n  </ng-template>\n</ng-template>\n","import {Component, ElementRef, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {Observable, Subscription} from 'rxjs';\nimport {IExecutionForm, sourceTypesEnum} from '../../../../features/experiments/shared/experiment-execution.model';\nimport {IExperimentInfo} from '../../../../features/experiments/shared/experiment-info.model';\nimport {IExperimentInfoState} from '../../../../features/experiments/reducers/experiment-info.reducer';\nimport {selectIsExperimentEditable, selectSelectedExperiment, selectShowExtraDataSpinner} from '../../../../features/experiments/reducers';\nimport * as commonInfoActions from '../../actions/common-experiments-info.actions';\nimport {selectExperimentExecutionInfoData, selectIsExperimentSaving, selectIsSelectedExperimentInDev} from '../../reducers';\nimport {selectBackdropActive} from '../../../core/reducers/view.reducer';\nimport {EditJsonComponent} from '../../../shared/ui-components/overlay/edit-json/edit-json.component';\nimport {filter, take} from 'rxjs/operators';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\nimport {ConfirmDialogComponent} from '../../../shared/ui-components/overlay/confirm-dialog/confirm-dialog.component';\nimport {EditableSectionComponent} from '../../../shared/ui-components/panel/editable-section/editable-section.component';\nimport {ExperimentExecutionSourceCodeComponent} from '../../dumb/experiment-execution-source-code/experiment-execution-source-code.component';\nimport {getOr} from 'lodash/fp';\nimport {ActivatedRoute} from '@angular/router';\nimport {isUndefined} from 'lodash/fp';\nimport {Container} from '../../../../business-logic/model/tasks/container';\n\n@Component({\n  selector: 'sm-experiment-info-execution',\n  templateUrl: './experiment-info-execution.component.html',\n  styleUrls: ['./experiment-info-execution.component.scss']\n})\nexport class ExperimentInfoExecutionComponent implements OnInit, OnDestroy {\n\n  public executionInfo$: Observable<IExecutionForm>;\n  public showExtraDataSpinner$: Observable<boolean>;\n  public selectedExperimentSubscrition: Subscription;\n  private selectedExperiment: IExperimentInfo;\n  public editable$: Observable<boolean>;\n  public isInDev$: Observable<boolean>;\n  public saving$: Observable<boolean>;\n  public backdropActive$: Observable<boolean>;\n  public formData: IExecutionForm;\n  private formDataSubscription: Subscription;\n  public minimized: boolean;\n\n  @ViewChild('outputDestination') outputDestination: ElementRef;\n  @ViewChild('orchestration') orchestration: ElementRef;\n  @ViewChild('sourceCode') sourceCode: ExperimentExecutionSourceCodeComponent;\n\n  @ViewChild('diffSection') diffSection: EditableSectionComponent;\n  @ViewChild('requirementsSection') requirementsSection: EditableSectionComponent;\n\n  @ViewChild('containerImage') containerImage: ElementRef;\n  @ViewChild('containerArguments') containerArguments: ElementRef;\n  links = ['details', 'uncommitted changes', 'installed packages', 'container'];\n  currentLink = 'details';\n\n  constructor(\n    private store: Store<IExperimentInfoState>,\n    private dialog: MatDialog,\n    private route: ActivatedRoute,\n    private element: ElementRef\n  ) {\n    this.minimized = getOr(false, 'data.minimized', this.route.snapshot.routeConfig);\n    this.executionInfo$ = this.store.select(selectExperimentExecutionInfoData);\n    this.showExtraDataSpinner$ = this.store.select(selectShowExtraDataSpinner);\n    this.editable$ = this.store.select(selectIsExperimentEditable);\n    this.isInDev$ = this.store.select(selectIsSelectedExperimentInDev);\n    this.saving$ = this.store.select(selectIsExperimentSaving);\n    this.backdropActive$ = this.store.select(selectBackdropActive);\n  }\n\n  ngOnInit() {\n    this.selectedExperimentSubscrition = this.store.select(selectSelectedExperiment)\n      .subscribe(selectedExperiment => {\n        this.selectedExperiment = selectedExperiment;\n      });\n    this.store.dispatch(new commonInfoActions.SetExperimentFormErrors(null));\n\n    this.formDataSubscription = this.executionInfo$.subscribe(formData => {\n      this.formData = formData;\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.selectedExperimentSubscrition.unsubscribe();\n    this.formDataSubscription.unsubscribe();\n  }\n\n  saveSourceData() {\n    const source = this.sourceCode.sourceCodeForm.form.value;\n    this.store.dispatch(commonInfoActions.saveExperimentSection({\n      script: {\n        repository: source.repository,\n        entry_point: source.entry_point,\n        working_dir: source.working_dir,\n        ...this.convertScriptType(source)\n      }\n    }));\n  }\n\n  saveContainerData(container: Container) {\n    this.store.dispatch(commonInfoActions.saveExperimentSection({container: {...this.formData.container, ...container}}));\n  }\n\n  saveOutputData() {\n    const outputDestination = this.outputDestination.nativeElement.value;\n\n    // why BE can't get output.destination as task.edit?\n    this.store.dispatch(commonInfoActions.saveExperimentSection({output_dest: outputDestination} as any));\n  }\n\n  cancelFormChange() {\n    this.store.dispatch(new commonInfoActions.DeactivateEdit());\n  }\n\n  activateEditChanged(sectionName: string, section?: EditableSectionComponent) {\n    const element = section?.elementRef?.nativeElement;\n    if (element) {\n      window.setTimeout(() => {\n        const bounding = element.getBoundingClientRect();\n        const containerRect = this.element.nativeElement.getBoundingClientRect();\n        if (bounding.bottom > window.innerHeight && bounding.top > containerRect.top) {\n          this.element.nativeElement.scroll({top: element.offsetTop, behavior: 'smooth'} as ScrollToOptions);\n        }\n      });\n    }\n    this.store.dispatch(new commonInfoActions.ActivateEdit(sectionName));\n  }\n\n  discardDiff() {\n    const confirmDialogRef: MatDialogRef<any, boolean> = this.dialog.open(ConfirmDialogComponent, {\n      data: {\n        title: 'Discard diff',\n        body: 'Uncommitted changes will be discarded',\n        yes: 'Discard',\n        no: 'Cancel',\n        iconClass: 'al-icon al-ico-trash al-color blue-300',\n      }\n    });\n\n    confirmDialogRef.afterClosed().pipe(take(1)).subscribe((confirmed) => {\n      if (confirmed) {\n        this.activateEditChanged('diff');\n        this.store.dispatch(commonInfoActions.saveExperimentSection({script: {diff: ''}}));\n      }\n    });\n  }\n\n  editContainerSetupShellScript(smEditableSection?: EditableSectionComponent) {\n    this.openEditJsonDialog({textData: this.formData.container?.setup_shell_script, title: 'EDIT SETUP SHELL SCRIPT'}, smEditableSection)\n      .afterClosed()\n      .pipe(filter( bool =>  !isUndefined(bool)))\n      .subscribe( setup_shell_script => {\n        if (this.formData.container.setup_shell_script !== setup_shell_script) {\n          this.store.dispatch(commonInfoActions.saveExperimentSection({container: {...this.formData.container, setup_shell_script}}));\n        } else {\n          smEditableSection.cancelClickedEvent();\n        }\n      });\n  }\n\n  editInstallPackages() {\n    const editInstallPackagesDialog = this.dialog.open(EditJsonComponent, {\n      data: {textData: this.formData?.requirements?.pip, readOnly: false, title: 'EDIT INSTALLED PACKAGES', typeJson: false}\n    });\n\n    editInstallPackagesDialog.afterClosed().pipe(take(1)).subscribe((data) => {\n      if (data === undefined) {\n        this.requirementsSection.cancelClickedEvent();\n      } else {\n        this.store.dispatch(commonInfoActions.saveExperimentSection({script: {requirements: {...this.formData.requirements, pip: data}}}));\n      }\n    });\n  }\n\n  editDiff() {\n    this.openEditJsonDialog({textData: this.formData?.diff, readOnly: false, title: 'EDIT UNCOMMITTED CHANGES', typeJson: false}, this.diffSection)\n      .afterClosed().pipe(take(1)).subscribe((data) => {\n      if (!isUndefined(data)) {\n        this.store.dispatch(commonInfoActions.saveExperimentSection({script: {diff: data}}));\n      }\n    });\n  }\n\n  clearInstalledPackages() {\n    this.clearConfirmDialog('installed packages').pipe(take(1)).subscribe((confirmed) => {\n      if (confirmed) {\n        this.activateEditChanged('requirements');\n        this.store.dispatch(commonInfoActions.saveExperimentSection({script: {requirements: {}}}));\n      }\n    });\n  }\n\n  clearSetupShellScript() {\n    this.clearConfirmDialog('setup shell script').pipe(take(1)).subscribe((confirmed) => {\n      if (confirmed) {\n        this.store.dispatch(commonInfoActions.saveExperimentSection({container: {...this.formData.container, setup_shell_script: ''}}));\n      }\n    });\n  }\n\n  /**\n   * Open confirm dialog with clear entire text\n   * @param title\n   * @private\n   */\n  private clearConfirmDialog(title: string): Observable<boolean> {\n    return this.dialog.open(ConfirmDialogComponent, {\n      data: {\n        title: `Clear ${title}`,\n        body: `Are you sure you want to clear the entire contents of ${title.charAt(0).toUpperCase() + title.slice(1)}?`,\n        yes: 'Clear',\n        no: 'Keep',\n        iconClass: 'al-icon al-ico-trash al-color blue-300',\n      }\n    }).afterClosed();\n\n  }\n\n  /**\n   * Open dialog for edit the textarea\n   * If passing the container it will close the popup when needed\n   * @param data\n   * @param editableSectionComponent\n   * @private\n   */\n  private openEditJsonDialog(data: {textData: string; readOnly?: boolean; title?: string; typeJson?: boolean}, editableSectionComponent?: EditableSectionComponent ): MatDialogRef<EditJsonComponent> {\n    const editJsonComponent = this.dialog.open(EditJsonComponent, {\n      data\n    });\n    editJsonComponent.afterClosed().subscribe( res => {\n      if (isUndefined(res) && !isUndefined(editJsonComponent)) {\n        editableSectionComponent.cancelClickedEvent();\n      }\n    });\n    return editJsonComponent;\n  }\n\n  private convertScriptType(source: IExecutionForm['source']) {\n    switch (source.scriptType) {\n      case sourceTypesEnum.Branch:\n        return {[sourceTypesEnum.Branch]: source.branch, [sourceTypesEnum.Tag]: '', [sourceTypesEnum.VersionNum]: ''};\n      case sourceTypesEnum.Tag:\n        return {[sourceTypesEnum.Branch]: source.branch, [sourceTypesEnum.Tag]: source.tag, [sourceTypesEnum.VersionNum]: ''};\n      case sourceTypesEnum.VersionNum:\n        return {[sourceTypesEnum.Branch]: source.branch, [sourceTypesEnum.Tag]: source.tag, [sourceTypesEnum.VersionNum]: source.version_num};\n    }\n  }\n\n  showSection(selection: string) {\n    this.currentLink = selection;\n  }\n}\n","<mat-expansion-panel expanded=\"true\" *ngIf=\"inputModels?.length || editable\">\n  <mat-expansion-panel-header collapsedHeight=\"40px\" expandedHeight=\"40px\" class=\"active\">\n    INPUT MODELS\n  </mat-expansion-panel-header>\n  <div *ngIf=\"noItemsMode; else hasItems\"\n       queryParamsHandling=\"preserve\"\n       class=\"artifact-container pointer\"\n       [routerLink]=\"'input-model/input-model'\"\n       [class.selected]=\"true\"\n  >\n    <i class=\"icon sm al-ico-import\"></i> Input Model\n  </div>\n  <ng-template #hasItems>\n    <div\n      *ngFor=\"let model of inputModels\"\n      queryParamsHandling=\"preserve\"\n      class=\"artifact-container pointer\"\n      [routerLink]=\"'input-model/' + model.id\"\n      [class.selected]=\"model.id === selectedArtifactKey && activeSection === ACTIVE_SECTIONS['input-model']\"\n    >\n      <i class=\"icon sm al-ico-import\"></i>\n      <span class=\"ellipsis\">{{model.taskName}}</span>\n    </div>\n  </ng-template>\n</mat-expansion-panel>\n\n<mat-expansion-panel expanded=\"true\" *ngIf=\"outputModels?.length\">\n  <mat-expansion-panel-header collapsedHeight=\"40px\" expandedHeight=\"40px\" class=\"active\">\n    OUTPUT MODELS\n  </mat-expansion-panel-header>\n  <div\n    *ngFor=\"let model of outputModels\"\n    queryParamsHandling=\"preserve\"\n    class=\"artifact-container pointer\"\n    [routerLink]=\"'output-model/' + model.id\"\n    [class.selected]=\"model.id === selectedArtifactKey && activeSection === ACTIVE_SECTIONS['output-model']\"\n  >\n    <i class=\"icon sm al-ico-export\"></i>\n    <span class=\"ellipsis\">{{model.taskName}}</span>\n  </div>\n</mat-expansion-panel>\n\n<mat-expansion-panel expanded=\"true\" *ngIf=\"dataAuditArtifacts?.length > 0\">\n  <mat-expansion-panel-header collapsedHeight=\"40px\" expandedHeight=\"40px\" class=\"active\">\n    DATA AUDIT\n  </mat-expansion-panel-header>\n  <div *ngFor=\"let artifact of dataAuditArtifacts; trackBy: trackByFn\"\n       class=\"artifact-container pointer\"\n       queryParamsHandling=\"preserve\"\n       [routerLink]=\"'artifact/' + artifact.key+ '/' + artifact.mode\"\n       [class.selected]=\"selectedArtifactKey === artifact.key && activeSection === ACTIVE_SECTIONS['artifact']\"\n  >\n    <i class=\"sm al-icon al-ico-data-audit al-color\" [class]=\"(selectedArtifactKey === artifact.key ? 'white' : 'blue-400')\"></i>{{artifact.key}}\n  </div>\n</mat-expansion-panel>\n<mat-expansion-panel [expanded]=\"true\" *ngIf=\"otherArtifacts?.length > 0\">\n  <mat-expansion-panel-header collapsedHeight=\"40px\" expandedHeight=\"40px\" class=\"active\">\n    OTHER\n  </mat-expansion-panel-header>\n  <div *ngFor=\"let artifact of otherArtifacts; trackBy: trackByFn\"\n       class=\"artifact-container pointer\"\n       queryParamsHandling=\"preserve\"\n       [routerLink]=\"'other/' + artifact.key+'/' +artifact.mode\"\n       [class.selected]=\"selectedArtifactKey === artifact.key && activeSection === ACTIVE_SECTIONS['other']\"\n  >\n    <i class=\"sm al-icon al-ico-data-audit al-color\" [class]=\"(selectedArtifactKey === artifact.key ? 'white' : 'blue-400')\"></i>\n    <span class=\"ellipsis\">{{artifact.key}}</span>\n  </div>\n</mat-expansion-panel>\n","import {Component, Input, OnChanges, SimpleChanges} from '@angular/core';\nimport {Artifact} from '../../../../business-logic/model/tasks/artifact';\nimport {IModelInfo} from '../../shared/common-experiment-model.model';\n\n enum ActiveSectionEnum {\n   'input-model' = 'input-model',\n   'output-model' = 'output-model',\n   'artifact' = 'artifact',\n   'other' = 'other',\n }\n@Component({\n  selector   : 'sm-experiment-artifacts-navbar',\n  templateUrl: './experiment-artifacts-navbar.component.html',\n  styleUrls  : ['./experiment-artifacts-navbar.component.scss']\n})\nexport class ExperimentArtifactsNavbarComponent implements OnChanges{\n  readonly DATA_AUDIT_TABLE = 'data-audit-table';\n  public dataAuditArtifacts: Artifact[];\n  public otherArtifacts: Artifact[];\n  public ACTIVE_SECTIONS    = ActiveSectionEnum;\n  public noItemsMode: boolean;\n\n  @Input() set artifacts(artifacts: Array<Artifact>) {\n    if (artifacts) {\n      this.dataAuditArtifacts = artifacts.filter(artifact => artifact.type === this.DATA_AUDIT_TABLE);\n      this.otherArtifacts     = artifacts.filter(artifact => artifact.type !== this.DATA_AUDIT_TABLE);\n    }\n  }\n\n  @Input() selectedArtifactKey;\n  @Input() outputModels: IModelInfo[];\n  @Input() inputModels: IModelInfo[];\n  @Input() editable;\n  @Input() activeSection: ActiveSectionEnum;\n  @Input() routerConfig: string[];\n\n  constructor() {\n  }\n\n  trackByFn(index, artifact) {\n    return (artifact.key + artifact.mode);\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    this.noItemsMode = this.outputModels?.length === 0 && this.inputModels?.length === 0 && this.dataAuditArtifacts?.length === 0 && this.otherArtifacts?.length === 0;\n  }\n}\n","<ng-template\n  let-modelInfo=\"modelInfo\"\n  let-editable=\"editable\"\n  [ngTemplateOutletContext]=\"{\n    modelInfo: modelInfo$ | async,\n    editable: editable$ | async\n  }\" [ngTemplateOutlet]=\"selfie\" #selfie>\n  <sm-overlay [backdropActive]=\"backdropActive$|async\"></sm-overlay>\n  <div class=\"h-100 d-flex\" *ngIf=\"(modelInfo?.output?.length) ||\n                                (modelInfo?.input?.length) ||\n                                (modelInfo?.artifacts?.length) ||\n                                editable; else noData\">\n    <sm-experiment-artifacts-navbar\n      [class.minimized]=\"minimized\"\n      [artifacts]=\"modelInfo?.artifacts\"\n      [outputModels]=\"modelInfo?.output\"\n      [inputModels]=\"modelInfo?.input\"\n      [editable]=\"editable\"\n      [activeSection]=\"activeSection\"\n      [routerConfig]=\"routerConfig$ | async\"\n      [selectedArtifactKey]=\"selectedId$ | async\"\n    ></sm-experiment-artifacts-navbar>\n    <div class=\"artifacts-col\">\n      <router-outlet></router-outlet>\n    </div>\n  </div>\n  <ng-template #noData>\n    <div class=\"d-flex h-100\" *ngIf=\"modelInfo\">\n      <div class=\"no-data\">\n        <i class=\"icon i-no-data-artifacts\"></i>\n        <span>NO ARTIFACTS RECORDED</span>\n      </div>\n    </div>\n  </ng-template>\n</ng-template>\n","import {Component, OnDestroy} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {selectBackdropActive} from '../../../core/reducers/view.reducer';\nimport {combineLatest, Observable, Subscription} from 'rxjs';\nimport {IExperimentInfoState} from '../../../../features/experiments/reducers/experiment-info.reducer';\nimport {selectExperimentModelInfoData} from '../../reducers';\nimport {selectExperimentInfoData, selectIsExperimentEditable} from '../../../../features/experiments/reducers';\nimport {IExperimentInfo} from '../../../../features/experiments/shared/experiment-info.model';\nimport {selectRouterConfig, selectRouterParams} from '../../../core/reducers/router-reducer';\nimport {distinctUntilChanged, filter, map} from 'rxjs/operators';\nimport {get, getOr} from 'lodash/fp';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {IExperimentModelInfo} from '../../shared/common-experiment-model.model';\n\n@Component({\n  selector: 'sm-experiment-info-artifacts-model',\n  templateUrl: './experiment-info-artifacts.component.html',\n  styleUrls: ['./experiment-info-aritfacts.component.scss']\n})\nexport class ExperimentInfoArtifactsComponent implements OnDestroy {\n  public backdropActive$: Observable<boolean>;\n  public modelInfo$: Observable<IExperimentModelInfo>;\n  public ExperimentInfo$: Observable<IExperimentInfo>;\n  public activeSection: any;\n  private selectedRouterConfigSubs: Subscription;\n  public selectedId$: Observable<string>;\n  private artifactSubscription: Subscription;\n  private onOutputModel$: Observable<boolean>;\n  private onInputModel$: Observable<boolean>;\n  private experimentKey$: Observable<string>;\n  public routerConfig$: Observable<string[]>;\n  public editable$: Observable<boolean>;\n  public minimized: boolean;\n  private previousTarget: string;\n\n  constructor(private store: Store<IExperimentInfoState>, public router: Router, private route: ActivatedRoute\n  ) {\n    this.minimized = getOr(false, 'data.minimized', this.route.snapshot.routeConfig);\n    this.backdropActive$ = this.store.select(selectBackdropActive);\n    this.editable$ = this.store.select(selectIsExperimentEditable);\n    this.modelInfo$ = this.store.select(selectExperimentModelInfoData);\n    this.ExperimentInfo$ = this.store.select(selectExperimentInfoData);\n    this.routerConfig$ = this.store.select(selectRouterConfig);\n    this.selectedRouterConfigSubs = this.store.select(selectRouterConfig)\n      .pipe(filter(rc => !!rc))\n      .subscribe((routerConfig: string[]) => {\n        this.activeSection = this.minimized ? routerConfig[5] : routerConfig[6];\n      });\n\n    this.selectedId$ = this.store.select(selectRouterParams)\n      .pipe(\n        map(params => get('artifactId', params) || get('modelId', params)),\n      );\n\n    this.experimentKey$ = this.store.select(selectRouterParams)\n      .pipe(\n        map(params => get('experimentId', params)),\n      );\n    this.artifactSubscription = combineLatest([this.selectedId$, this.modelInfo$, this.experimentKey$, this.ExperimentInfo$])\n      .pipe(\n        distinctUntilChanged(),\n        filter(([selectedId, modelInfo, experimentKey, experimentInfo]) =>\n          !!modelInfo && experimentInfo && experimentKey && experimentInfo.id === experimentKey))\n      .subscribe(([selectedId, modelInfo]) => {\n        const onOutputModel = this.route.snapshot.firstChild?.data?.outputModel;\n        const onInputModel = this.route.snapshot.firstChild?.data?.outputModel === false;\n        if (selectedId) {\n          const selectedArtifact = modelInfo.artifacts.find(artifact => artifact.key === selectedId);\n          const selectedInputModel = modelInfo.input.find(model => model.id === selectedId);\n          const selectedOutputModel = modelInfo.output.find(model => model.id === selectedId);\n          const onArtifact = !onInputModel && !onOutputModel;\n          if ((onOutputModel && !selectedOutputModel) || (onInputModel && !selectedInputModel) || (onArtifact && !selectedArtifact)) {\n            this.resetSelection(modelInfo);\n          }\n        } else {\n          this.resetSelection(modelInfo);\n        }\n      });\n  }\n\n  private navigateToTarget(target: string) {\n    if (target !== this.previousTarget || !this.route.firstChild) {\n      this.router.navigate([target], {relativeTo: this.route, queryParamsHandling: 'preserve'});\n      this.previousTarget = target;\n    }\n  }\n\n  private resetSelection(modelInfo): void {\n    let target: string;\n    if (modelInfo.input?.length > 0) {\n      target = `../artifacts/input-model/${modelInfo.input[0]?.id}`;\n    } else if (modelInfo.output?.length > 0) {\n      target = `../artifacts/output-model/${modelInfo.output[0]?.id}/`;\n    } else if (modelInfo.artifacts.length > 0) {\n      target = `../artifacts/other/${modelInfo.artifacts[0]?.key}/${modelInfo.artifacts[0]?.mode}`;\n    } else {\n      // no items\n      target = '../artifacts/input-model/input-model';\n    }\n    this.navigateToTarget(target);\n  }\n\n  ngOnDestroy(): void {\n    this.selectedRouterConfigSubs.unsubscribe();\n    this.artifactSubscription.unsubscribe();\n  }\n\n}\n","import {Action, createAction, props} from '@ngrx/store';\nimport {TableModel} from '../models/shared/models.model';\nimport {ISmCol} from '../shared/ui-components/data/table/table.consts';\nimport {ModelsViewModesEnum} from '../models/models.consts';\nimport {SortMeta} from 'primeng/api';\n\nconst SELECT_MODEL_PREFIX = 'SELECT_MODEL_';\n\n//COMMANDS:\nexport const ARCHIVE_SELECTED_MODELS = SELECT_MODEL_PREFIX + 'ARCHIVE_SELECTED_MODELS';\nexport const ADD_MANY_MODELS = SELECT_MODEL_PREFIX + 'ADD_MANY_MODELS';\nexport const GET_NEXT_MODELS = SELECT_MODEL_PREFIX + 'GET_NEXT_MODELS';\nexport const SET_MODELS = SELECT_MODEL_PREFIX + 'SET_MODELS';\nexport const SET_NO_MORE_MODELS = SELECT_MODEL_PREFIX + 'SET_NO_MORE_MODELS';\nexport const SET_SELECTED_MODELS = SELECT_MODEL_PREFIX + 'SET_SELECTED_MODELS';\nexport const SET_VIEW_MODE = SELECT_MODEL_PREFIX + 'SET_VIEW_MODE';\nexport const REMOVE_MANY_MODELS = SELECT_MODEL_PREFIX + 'REMOVE_MANY_MODELS';\nexport const UPDATE_ONE_MODELS = SELECT_MODEL_PREFIX + 'UPDATE_ONE_MODELS';\nexport const RESET_STATE = SELECT_MODEL_PREFIX + 'RESET_STATE';\n\n//EVENTS:\nexport const ALL_PROJECTS_MODE_CHANGED = SELECT_MODEL_PREFIX + 'ALL_PROJECTS_MODE_CHANGED';\n\nexport const GLOBAL_FILTER_CHANGED = SELECT_MODEL_PREFIX + 'GLOBAL_FILTER_CHANGED';\nexport const TABLE_SORT_CHANGED = SELECT_MODEL_PREFIX + 'TABLE_SORT_CHANGED';\nexport const SET_TABLE_SORT = SELECT_MODEL_PREFIX + 'SET_TABLE_SORT';\nexport const TABLE_FILTER_CHANGED = SELECT_MODEL_PREFIX + 'TABLE_FILTER_CHANGED';\n\nexport class GetNextModels implements Action {\n  readonly type = GET_NEXT_MODELS;\n}\n\nexport class SetModels implements Action {\n  readonly type = SET_MODELS;\n\n  constructor(public payload: Array<TableModel>) {\n  }\n}\n\nexport class SetNoMoreModels implements Action {\n  readonly type = SET_NO_MORE_MODELS;\n\n  constructor(public payload: boolean) {\n  }\n}\n\nexport class AddModels implements Action {\n  readonly type = ADD_MANY_MODELS;\n\n  constructor(public payload: Array<TableModel>) {\n  }\n}\n\nexport class RemoveModels implements Action {\n  readonly type = REMOVE_MANY_MODELS;\n\n  constructor(public payload: Array<TableModel['id']>) {\n  }\n}\n\nexport class UpdateModel implements Action {\n  readonly type = UPDATE_ONE_MODELS;\n\n  constructor(public payload: { id: TableModel['id'], changes: Partial<TableModel> }) {\n  }\n}\n\nexport class SetSelectedModels implements Action {\n  public type = SET_SELECTED_MODELS;\n\n  constructor(public payload: Array<TableModel>) {\n  }\n}\n\nexport const tableSortChanged = createAction(\n  TABLE_SORT_CHANGED,\n  props<{ isShift: boolean; colId: ISmCol['id'] }>()\n);\n\nexport const setTableSort = createAction(\n  SET_TABLE_SORT,\n  props<{ orders: SortMeta[] }>()\n);\n\nexport class TableFilterChanged implements Action {\n  public type = TABLE_FILTER_CHANGED;\n\n  constructor(public payload: { col: ISmCol; value: any }) {\n  }\n}\n\nexport class GlobalFilterChanged implements Action {\n  public type = GLOBAL_FILTER_CHANGED;\n\n  constructor(public payload: string) {\n  }\n}\n\nexport const setCurrentScrollId = createAction(\n  SELECT_MODEL_PREFIX + ' [set current scrollId]',\n  props<{scrollId: string}>()\n);\n\nexport class ArchivAllProjectsdModeChanged implements Action {\n  public type = ALL_PROJECTS_MODE_CHANGED;\n\n  constructor(public payload: boolean) {\n  }\n}\n\nexport class ArchivedSelectedModels implements Action {\n  public type = ARCHIVE_SELECTED_MODELS;\n}\n\nexport class SetViewMode implements Action {\n  public type = SET_VIEW_MODE;\n  public payload: { viewMode: ModelsViewModesEnum };\n\n  constructor(viewMode: ModelsViewModesEnum) {\n    this.payload = {viewMode};\n  }\n}\n\nexport class ResetState implements Action {\n  readonly type = RESET_STATE;\n\n  constructor() {\n  }\n}\n","import {createFeatureSelector, createSelector} from '@ngrx/store';\n\nimport {MODELS_VIEW_MODES, ModelsViewModesEnum} from '../../webapp-common/models/models.consts';\nimport {TABLE_SORT_ORDER} from '../../webapp-common/shared/ui-components/data/table/table.consts';\nimport {SelectedModel} from '../../webapp-common/models/shared/models.model';\nimport {MODELS_TABLE_COL_FIELDS} from '../../webapp-common/models/shared/models.const';\nimport * as actions from './select-model.actions';\nimport {FilterMetadata} from 'primeng/api/filtermetadata';\nimport {SortMeta} from 'primeng/api';\nimport {setCurrentScrollId} from './select-model.actions';\n\nexport interface SelectModelState {\n  models: SelectedModel[];\n  selectedModels: SelectedModel[];\n  noMoreModels: boolean;\n  selectedModelSource: string;\n  modelToken: string;\n  viewMode: ModelsViewModesEnum;\n  allProjectsMode: boolean;\n  tableFilters: { [s: string]: FilterMetadata };\n  tableSortFields: SortMeta[];\n  scrollId: string;\n  globalFilter: string;\n}\n\nconst selectModelInitState: SelectModelState = {\n  models: [],\n  selectedModels: [],\n  noMoreModels: false,\n  selectedModelSource: null,\n  modelToken: null,\n  viewMode: MODELS_VIEW_MODES.TABLE,\n  allProjectsMode: true,\n  tableFilters: null,\n  tableSortFields: [{field: MODELS_TABLE_COL_FIELDS.CREATED, order: TABLE_SORT_ORDER.DESC}],\n  scrollId: null,\n  globalFilter: null,\n};\n\n\nexport function selectModelReducer<ActionReducer>(state: SelectModelState = selectModelInitState, action): SelectModelState {\n  switch (action.type) {\n    case actions.RESET_STATE:\n      return {...selectModelInitState};\n    case actions.ADD_MANY_MODELS:\n      return {...state, models: state.models.concat(action.payload)};\n    case actions.REMOVE_MANY_MODELS:\n      return {...state, models: state.models.filter(exp => !action.payload.includes(exp.id))};\n    case actions.UPDATE_ONE_MODELS:\n      return {\n        ...state, models:\n          state.models.map(ex => ex.id === action.payload.id ? {...ex, ...action.payload.changes} : ex)\n      };\n    case actions.SET_MODELS:\n      return {...state, models: action.payload};\n    case actions.SET_NO_MORE_MODELS:\n      return {...state, noMoreModels: action.payload};\n    case actions.setCurrentScrollId.type:\n      return {...state, scrollId: action.scrollId};\n    case actions.SET_SELECTED_MODELS:\n      return {...state, selectedModels: action.payload};\n    case actions.ALL_PROJECTS_MODE_CHANGED:\n      return {...state, allProjectsMode: action.payload};\n    case actions.SET_VIEW_MODE:\n      return {...state, viewMode: action.payload};\n    case actions.GLOBAL_FILTER_CHANGED:\n      return {...state, globalFilter: action.payload};\n    case actions.setTableSort.type:\n      return {...state, tableSortFields: action.orders};\n    case actions.TABLE_FILTER_CHANGED:\n      return {\n        ...state,\n        tableFilters: {\n          ...state.tableFilters,\n          [action.payload.col.id]: {value: action.payload.value, matchMode: action.payload.col.filterMatchMode}\n        }\n      };\n    default:\n      return state;\n  }\n}\n\n\nexport const models = createFeatureSelector<SelectModelState>('selectModel');\nexport const selectModelsList = createSelector(models, (state) => state ? state.models : []);\nexport const selectCurrentScrollId = createSelector(models, (state): string => state.scrollId);\nexport const selectGlobalFilter = createSelector(models, (state): string => state.globalFilter);\nexport const selectTableSortFields = createSelector(models, (state): SortMeta[] => state.tableSortFields);\nexport const selectTableFilters = createSelector(models, state => state.tableFilters);\nexport const selectIsAllProjectsMode = createSelector(models, (state): boolean => state.allProjectsMode);\nexport const selectViewMode = createSelector(models, (state): ModelsViewModesEnum => state.viewMode);\nexport const selectSelectedModels = createSelector(models, (state): Array<any> => state.selectedModels);\nexport const selectNoMoreModels = createSelector(models, (state): boolean => state.noMoreModels);\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport * as actions from './select-model.actions';\nimport {selectModelsList, selectSelectedModels, selectViewMode} from './select-model.reducer';\nimport {Observable} from 'rxjs';\nimport {MatDialogRef} from '@angular/material/dialog';\nimport {ConfirmDialogComponent} from '../shared/ui-components/overlay/confirm-dialog/confirm-dialog.component';\nimport {ISmCol, TableSortOrderEnum} from '../shared/ui-components/data/table/table.consts';\nimport {SelectedModel} from '../models/shared/models.model';\nimport {selectGlobalFilter, selectIsAllProjectsMode, selectNoMoreModels, selectTableFilters, selectTableSortFields} from './select-model.reducer';\nimport {MODELS_TABLE_COLS, ModelsViewModesEnum} from '../models/models.consts';\nimport {FilterMetadata} from 'primeng/api/filtermetadata';\nimport {selectProjectSystemTags, selectProjectTags} from '../core/reducers/projects.reducer';\nimport {getTags} from '../core/actions/projects.actions';\nimport {selectModelsUsers} from '../models/reducers';\nimport {User} from '../../business-logic/model/users/user';\nimport * as modelsActions from '../models/actions/models-view.actions';\nimport {SortMeta} from 'primeng/api';\n\n@Component({\n  selector   : 'sm-select-model',\n  templateUrl: './select-model.component.html',\n  styleUrls  : ['./select-model.component.scss']\n})\nexport class SelectModelComponent implements OnInit, OnDestroy {\n\n  public models$: Observable<SelectedModel[]>;\n  public tableSortFields$: Observable<SortMeta[]>;\n  public tableSortOrder$: Observable<TableSortOrderEnum>;\n  public noMoreModels$: Observable<boolean>;\n  public isAllProjects$: Observable<boolean>;\n  public tableFilters$: Observable<{[s: string]: FilterMetadata}>;\n  public searchValue$: Observable<string>;\n  public selectedModels$: Observable<Array<any>>;\n  public viewMode$: Observable<ModelsViewModesEnum>;\n  public users$: Observable<Array<User>>;\n  public tags$: Observable<string[]>;\n  public systemTags$: Observable<string[]>;\n  public tableCols = MODELS_TABLE_COLS;\n\n  constructor(private store: Store<any>, public dialogRef: MatDialogRef<ConfirmDialogComponent>) {\n    this.models$         = this.store.select(selectModelsList);\n    this.tableSortFields$ = this.store.select(selectTableSortFields);\n    this.tableFilters$   = this.store.select(selectTableFilters);\n    this.selectedModels$ = this.store.select(selectSelectedModels);\n    this.viewMode$       = this.store.select(selectViewMode);\n    this.searchValue$    = this.store.select(selectGlobalFilter);\n    this.noMoreModels$   = this.store.select(selectNoMoreModels);\n    this.isAllProjects$  = this.store.select(selectIsAllProjectsMode);\n    this.users$ = this.store.select(selectModelsUsers);\n    this.tags$ = this.store.select(selectProjectTags);\n    this.systemTags$ = this.store.select(selectProjectSystemTags);\n  }\n\n  ngOnInit() {\n    this.store.dispatch(new actions.GetNextModels());\n    this.store.dispatch(modelsActions.getUsers());\n    this.store.dispatch(getTags());\n  }\n\n  ngOnDestroy(): void {\n    this.store.dispatch(new actions.ResetState());\n  }\n\n  closeDialog(model: SelectedModel) {\n    if (model) {\n      return this.dialogRef.close(model);\n    }\n    return this.dialogRef.close(null);\n  }\n\n  getNextModels() {\n    this.store.dispatch(new actions.GetNextModels());\n  }\n\n  sortedChanged(sort: { isShift: boolean; colId: ISmCol['id'] }) {\n    this.store.dispatch(actions.tableSortChanged({colId: sort.colId, isShift: sort.isShift}));\n  }\n\n  filterChanged(filter: {col: ISmCol; value: any}) {\n    this.store.dispatch(new actions.TableFilterChanged({col: filter.col, value: filter.value}));\n  }\n\n  onSearchValueChanged(value: string) {\n    this.store.dispatch(new actions.GlobalFilterChanged(value));\n  }\n\n  modelSelectionChanged(model: SelectedModel) {\n    this.closeDialog(model);\n  }\n\n  onIsAllProjectsChanged(isAllProjects: boolean) {\n    this.store.dispatch(new actions.ArchivAllProjectsdModeChanged(isAllProjects));\n  }\n\n}\n","<sm-dialog-template header=\"SELECT A PUBLIC MODEL\">\n  <div class=\"model-table-container\">\n    <div class=\"w-100 model-header\">\n      <sm-select-model-header\n        [searchActive]=\"true\"\n        [searchValue]=\"searchValue$ | async\"\n        [isAllProjects]=\"isAllProjects$ | async\"\n        [viewMode]=\"viewMode$ | async\"\n        [hideArchiveToggle]=\"true\"\n        [hideCreateNewButton]=\"true\"\n        [showAllProjectsToggle]=\"true\"\n        (searchValueChanged)=\"onSearchValueChanged($event)\"\n        (isAllProjectsChanged)=\"onIsAllProjectsChanged($event)\"\n      ></sm-select-model-header>\n    </div>\n    <div class=\"space-line\"></div>\n    <sm-models-table\n      class=\"model-info-container align-self-stretch\"\n      selectionMode=\"single\"\n      [enableMultiSelect]=\"false\"\n      [minimizedView]=\"false\"\n      [models]=\"models$ | async\"\n      [tableCols]=\"tableCols\"\n      [noMoreModels]=\"noMoreModels$ | async\"\n      [users]=\"users$ |async\"\n      [tags]=\"tags$ | async\"\n      [systemTags]=\"systemTags$ | async\"\n      [tableSortFields]=\"(tableSortFields$ | async)\"\n      [tableSortOrder]=\"(tableSortOrder$ | async)\"\n      [tableFilters]=\"(tableFilters$ | async)\"\n      [selectedModels]=\"selectedModels$ | async\"\n      [onlyPublished]=\"true\"\n      [colRatio]=\"0.75\"\n      (modelSelectionChanged)=\"modelSelectionChanged($event)\"\n      (sortedChanged)=\"sortedChanged($event)\"\n      (filterChanged)=\"filterChanged($event)\"\n      (loadMoreModels)=\"getNextModels()\"\n    >\n    </sm-models-table>\n  </div>\n</sm-dialog-template>\n","import {Component, OnDestroy} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {filter, map, take} from 'rxjs/operators';\nimport {Subscription} from 'rxjs';\nimport {selectSignedUrl} from '../../core/reducers/common-auth-reducer';\nimport {AdminService} from '~/shared/services/admin.service';\nimport {getSignedUrl} from '../../core/actions/common-auth.actions';\n\n@Component({\n  selector: 'sm-base-clickable-artifact',\n  template: '<div></div>'\n})\nexport class BaseClickableArtifactComponent {\n  protected timestamp: number;\n\n  constructor(protected adminService: AdminService, protected store: Store<any>) {\n  }\n\n  artifactFilePathClicked(url: string) {\n    this.signUrl(url)\n      .subscribe(signedUrl => window.open(signedUrl, '_blank'));\n  }\n\n  protected signUrl(url: string) {\n    this.store.dispatch(getSignedUrl({url, config: {disableCache: this.timestamp}}));\n    return this.store.select(selectSignedUrl(url))\n      .pipe(\n        map((res => res?.signed)),\n        filter(signedUrl => !!signedUrl),\n        take(1)\n      );\n  }\n}\n","<div class=\"input-model-container\">\n  <sm-labeled-row label=\"MODEL NAME\">\n    <div class=\"d-flex justify-content-between\">\n      <span>\n        <a [href]=\"'projects/' + projectId + '/models/' + model?.id\" target=\"_blank\"><span>{{model?.name}}</span></a>\n        <i *ngIf=\"model?.uri && !isLocalFile\"\n           class=\"pointer fa fa-download ml-2\"\n           (click)=\"artifactFilePathClicked(model.uri)\"\n        ></i>\n        <sm-copy-clipboard *ngIf=\"model?.uri && isLocalFile\"\n                           label=\"\" [clipboardText]=\"model.uri\"\n                           class=\"pl-2 light\"\n                           [hideBackground]=\"true\"\n        ></sm-copy-clipboard>\n      </span>\n      <div *ngIf=\"editable\">\n        <i class=\"al-icon al-ico-edit al-color blue-300 sm-md pointer mr-2\"  smTooltip=\"Select model\" (click)=\"chooseModel()\"></i>\n        <i *ngIf=\"model?.id\" class=\"al-icon al-ico-trash al-color blue-300 sm-md pointer\" smTooltip=\"Remove model\" (click)=\"removeModel()\"></i>\n      </div>\n    </div>\n  </sm-labeled-row>\n  <sm-labeled-row *ngIf=\"showCreatedExperiment\" label=\"CREATING EXPERIMENT\">\n    <a [href]=\"'/projects/'+ ((source?.projectId) ? source?.projectId : '*') + '/experiments/' + (source? source?.experimentId: '')\"\n       target=\"_blank\">\n      {{source?.experimentName}}\n    </a>\n  </sm-labeled-row>\n</div>\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {IModelInfo, IModelInfoSource} from '../../shared/common-experiment-model.model';\nimport {MatDialog} from '@angular/material/dialog';\nimport {filter} from 'rxjs/operators';\nimport {Model} from '~/business-logic/model/models/model';\nimport {SelectModelComponent} from '@common/select-model/select-model.component';\nimport {AdminService} from '~/shared/services/admin.service';\nimport {Store} from '@ngrx/store';\nimport {BaseClickableArtifactComponent} from '../base-clickable-artifact.component';\n\n\n@Component({\n  selector: 'sm-experiment-models-form-view',\n  templateUrl: './experiment-models-form-view.component.html',\n  styleUrls: ['./experiment-models-form-view.component.scss']\n})\nexport class ExperimentModelsFormViewComponent extends BaseClickableArtifactComponent {\n\n  public isLocalFile: boolean;\n  private _model: IModelInfo;\n  @Input() projectId: string;\n  @Input() editable: boolean;\n  @Input() networkDesign: string;\n  @Input() modelLabels: Model['labels'];\n  @Input() source: IModelInfoSource;\n  @Input() experimentName: string;\n  @Input() showCreatedExperiment: boolean = true;\n\n  @Input() set model(model: IModelInfo) {\n    this._model = model;\n    this.isLocalFile = model && model.uri && this.adminService.isLocalFile(model.uri);\n  }\n\n  get model(): IModelInfo {\n    return this._model;\n  }\n\n  @Output() modelSelected = new EventEmitter<Model>();\n\n  constructor(private dialog: MatDialog, protected adminService: AdminService, protected store: Store<any>) {\n    super(adminService, store);\n  }\n\n  public chooseModel() {\n    const chooseModelDialog = this.dialog.open(SelectModelComponent, {maxWidth: '95vw'});\n    chooseModelDialog.afterClosed()\n      .pipe(filter(model => !!model))\n      .subscribe((selectedModel: Model) => this.modelSelected.emit(selectedModel));\n  }\n\n  removeModel() {\n    this.modelSelected.emit({id: null});\n  }\n}\n","<textarea\n  #networkDesign\n  *ngIf=\"editable\"\n  class=\"preview-text resize-none\"\n  [value]=\"(formData || formData === 0) ? formData : ''\"\n></textarea>\n<sm-scroll-textarea\n  *ngIf=\"!editable\"\n  [formData]=\"formData\"\n  [editable]=\"editable\"\n  [showSpinner]=\"formData === null\"\n></sm-scroll-textarea>\n","import {Component, Input, ViewChild} from '@angular/core';\n\n@Component({\n  selector   : 'sm-experiment-network-design-form',\n  templateUrl: './experiment-network-design-form.component.html',\n  styleUrls  : ['./experiment-network-design-form.component.scss'],\n})\nexport class ExperimentNetworkDesignFormComponent {\n\n  @ViewChild('networkDesign', {static: true}) networkDesign: HTMLTextAreaElement;\n\n  @Input() formData: any;\n  @Input() editable: boolean;\n}\n\n\n\n","<ng-template\n  let-saving=\"saving\" let-editable=\"editable\"\n  let-experimentName=\"experimentName\" let-modelLabels=\"modelLabels\"\n  [ngTemplateOutletContext]=\"{ saving: saving$ | async,\n                               editable: editable$ | async,\n                               experimentName: selectedExperiment$ | async,\n                               modelLabels: modelLabels$ | async}\"\n  [ngTemplateOutlet]=\"template\" #template>\n<sm-editable-section #modelSection\n                     *ngIf=\"(model?.id || editable)\"\n                     [saving]=\"saving\"\n                     [editable]=\"editable && !outputMode\"\n                     [hideSaveButton]=\"true\"\n                     (cancelClicked)=\"cancelModelChange()\"\n                     (activateEditClicked)=\"activateEditChanged()\">\n  <sm-experiment-models-form-view\n    #experimentModelForm\n    [editable]=\"editable && modelSection.inEditMode\"\n    [model]=\"model\"\n    [experimentName]=\"experimentName\"\n    [projectId]=\"modelProjectId\"\n    [modelLabels]=\"modelLabels\"\n    [source]=\"source\"\n    [showCreatedExperiment]=\"!outputMode\"\n    (modelSelected)=\"onModelSelected($event)\">\n  </sm-experiment-models-form-view>\n</sm-editable-section>\n<sm-editable-section class=\"editable-design\"\n                     #prototext\n                     [saving]=\"saving\"\n                     [editable]=\"false\"\n                     [disableInEditMode]=\"true\"\n                     containerClass=\"h-100\"\n                     (cancelClicked)=\"cancelModelChange()\">\n  <sm-section-header *ngIf=\"model?.id\" label=\"MODEL CONFIGURATION\"></sm-section-header>\n  <sm-experiment-network-design-form\n    #networkDesignForm\n    *ngIf=\"model?.id\"\n    [editable]=\"false\"\n    [formData]=\"inputDesign\"\n  >\n  </sm-experiment-network-design-form>\n</sm-editable-section>\n\n</ng-template>\n","import {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {selectExperimentModelInfoData, selectExperimentUserKnowledge, selectIsExperimentSaving} from '../../reducers';\nimport {IExperimentModelInfo, IModelInfo, IModelInfoSource} from '../../shared/common-experiment-model.model';\nimport {Model} from '../../../../business-logic/model/models/model';\nimport {combineLatest, Observable, Subject} from 'rxjs';\nimport {IExperimentInfoState} from '../../../../features/experiments/reducers/experiment-info.reducer';\nimport {experimentSectionsEnum} from '../../../../features/experiments/shared/experiments.const';\nimport {selectIsExperimentEditable, selectSelectedExperiment} from '../../../../features/experiments/reducers';\nimport * as commonInfoActions from '../../actions/common-experiments-info.actions';\nimport {ActivateEdit, CancelExperimentEdit, DeactivateEdit} from '../../actions/common-experiments-info.actions';\nimport {ExperimentModelsFormViewComponent} from '../../dumb/experiment-models-form-view/experiment-models-form-view.component';\nimport {getModelDesign} from '../../../tasks/tasks.utils';\nimport {distinctUntilKeyChanged, filter, map, takeUntil} from 'rxjs/operators';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {IExperimentInfo} from '../../../../features/experiments/shared/experiment-info.model';\nimport {addMessage} from '../../../core/actions/layout.actions';\n\n\n@Component({\n  selector: 'sm-experiment-info-model',\n  templateUrl: './experiment-info-model.component.html',\n  styleUrls: ['./experiment-info-model.component.scss']\n})\nexport class ExperimentInfoModelComponent implements OnInit, OnDestroy {\n  public modelInfo$: Observable<IExperimentModelInfo>;\n  public editable$: Observable<boolean>;\n  public userKnowledge$: Observable<Map<experimentSectionsEnum, boolean>>;\n  public modelLabels$: Observable<Model['labels']>;\n  public saving$: Observable<boolean>;\n  public modelProjectId: string;\n  public inputDesign: any;\n  private modelId: string;\n  private unsubscribe$: Subject<boolean> = new Subject();\n  public model: IModelInfo | undefined;\n  public source: IModelInfoSource;\n  private models: IModelInfo[];\n  private routerModelId$: Observable<string>;\n  public selectedExperiment$: Observable<IExperimentInfo>;\n  public outputMode: boolean;\n\n  @ViewChild('experimentModelForm') experimentModelForm: ExperimentModelsFormViewComponent;\n\n  constructor(private store: Store<IExperimentInfoState>, private router: Router, private route: ActivatedRoute) {\n    this.modelInfo$ = this.store.select(selectExperimentModelInfoData);\n    this.editable$ = this.store.select(selectIsExperimentEditable);\n    this.userKnowledge$ = this.store.select(selectExperimentUserKnowledge);\n    this.saving$ = this.store.select(selectIsExperimentSaving);\n    this.selectedExperiment$ = this.store.select(selectSelectedExperiment);\n    this.routerModelId$ = this.route.params.pipe(\n      takeUntil(this.unsubscribe$),\n      filter(params => params.modelId),\n      distinctUntilKeyChanged('modelId'),\n      map(params => params.modelId));\n  }\n\n  ngOnInit() {\n\n\n    combineLatest([this.routerModelId$, this.modelInfo$]).pipe(takeUntil(this.unsubscribe$))\n      .subscribe(([modelId, formData]) => {\n        this.modelId = modelId;\n        this.outputMode = this.route.snapshot.data?.outputModel;\n        this.models = this.outputMode ? formData?.output : formData?.input;\n        this.model = this.models?.find(model => model.id === this.modelId);\n        this.source = {\n          experimentId: this.model?.task?.id,\n          projectId: this.model?.task?.project?.id,\n          experimentName: this.model?.task?.name\n        };\n        const design = getModelDesign(this.model?.design);\n        this.inputDesign = (design.value === undefined || design.key === undefined && Object.keys(design.value).length === 0) ? null : design.value;\n        this.modelProjectId = this.model?.project?.id ? this.model.project.id : '*';\n      });\n\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribe$.next(true);\n  }\n\n  onModelSelected(selectedModel: Model) {\n    const modelFoundIndex = this.models.findIndex(model => model.id === this.modelId);\n    if (this.models.map(m => m.id).includes(selectedModel.id)) {\n      this.store.dispatch(addMessage('warn', 'Selected model is already an input-model'))\n    } else {\n      let newModels: { model: string; name: string }[];\n      if (modelFoundIndex >= 0) {\n        newModels = this.models.map(model => model.id !== this.modelId ? {model: model.id, name: model.name} : {model: selectedModel.id, name: selectedModel.name})\n          .filter(model => model.model);\n      } else {\n        newModels = [...this.models.map(model => ({model: model.id, name: model.name})), {model: selectedModel.id, name: selectedModel.name}];\n      }\n      this.store.dispatch(new commonInfoActions.SetExperimentInfoData({models: {input: newModels as any}}));\n      this.store.dispatch(commonInfoActions.saveExperimentSection({models: {input: newModels as any}}));\n      this.router.navigate(['..', selectedModel.id || ''], {relativeTo: this.route, queryParamsHandling: 'preserve'});\n    }\n  }\n\n  cancelModelChange() {\n    this.store.dispatch(new DeactivateEdit());\n    this.store.dispatch(new CancelExperimentEdit());\n  }\n\n  activateEditChanged() {\n    this.store.dispatch(new ActivateEdit('model'));\n    !this.model?.id && this.experimentModelForm.chooseModel();\n  }\n}\n","  <sm-editable-section [disableInEditMode]=\"true\" [editable]=\"false\" *ngIf=\"artifact\">\n    <div>\n      <sm-labeled-row label=\"FILE PATH\">\n        <a *ngIf=\"artifact?.uri && !isLocalFile && isLinkable\" (click)=\"linkClicked($event)\" href=\"\">{{artifact?.uri}}</a>\n        <span class=\"uri\" *ngIf=\"!isLinkable\">{{artifact?.uri}}</span>\n        <i *ngIf=\"artifact?.uri && !isLocalFile && !isLinkable\"\n           class=\"pointer fa fa-download ml-2\"\n           (click)=\"artifactFilePathClicked(artifact.uri)\"\n        ></i>\n        <sm-copy-clipboard *ngIf=\"artifact?.uri && isLocalFile\"\n                           label=\"\" [clipboardText]=\"artifact.uri\"\n                           class=\"pl-2\"\n                           [hideBackground]=\"true\"\n        ></sm-copy-clipboard>\n      </sm-labeled-row>\n      <sm-labeled-row label=\"FILE SIZE\">{{artifact?.content_size ? (artifact?.content_size | filesize) : ''}}</sm-labeled-row>\n      <sm-labeled-row label=\"HASH\">{{artifact?.hash}}</sm-labeled-row>\n      <sm-labeled-row *ngFor=\"let data of artifact?.display_data\" [label]=\"data[0]| uppercase\">{{data[1]}}</sm-labeled-row>\n    </div>\n  </sm-editable-section>\n  <sm-editable-section class=\"editable-design\"\n                       [editable]=\"false\"\n                       [disableInEditMode]=\"true\"\n                       containerClass=\"h-100\">\n    <sm-section-header label=\"PREVIEW\"></sm-section-header>\n    <sm-experiment-network-design-form\n      [editable]=\"false\"\n      [formData]=\"artifact?.type_data?.preview\">\n    </sm-experiment-network-design-form>\n  </sm-editable-section>\n\n\n","import {ChangeDetectionStrategy, Component, Input} from '@angular/core';\nimport {AdminService} from '~/shared/services/admin.service';\nimport {Artifact} from '../../../../business-logic/model/tasks/artifact';\nimport {Store} from '@ngrx/store';\nimport {BaseClickableArtifactComponent} from '../base-clickable-artifact.component';\n\n@Component({\n  selector: 'sm-experiment-artifact-item-view',\n  templateUrl: './experiment-artifact-item-view.component.html',\n  styleUrls: ['./experiment-artifact-item-view.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ExperimentArtifactItemViewComponent extends BaseClickableArtifactComponent{\n\n  public isLocalFile: boolean;\n  private _artifact: Artifact;\n\n  @Input() editable: boolean;\n  public isLinkable: boolean;\n\n  @Input() set artifact(artifact: Artifact) {\n    this._artifact = artifact;\n    if(artifact){\n      this.timestamp = artifact.timestamp;\n      this.isLocalFile = artifact.uri && this.adminService.isLocalFile(artifact.uri);\n      this.isLinkable = artifact.type_data && ['text/html'].includes(artifact.type_data.content_type);\n    }\n  }\n\n  get artifact(): Artifact {\n    return this._artifact;\n  }\n\n  constructor(protected adminService: AdminService, protected store: Store<any>) {\n    super(adminService, store);\n  }\n\n  linkClicked(event: Event) {\n    this.signUrl(this.artifact.uri).subscribe(signed => {\n      const a = document.createElement('a');\n      a.href = signed;\n      a.target = '_blank';\n      a.click();\n    });\n    event.preventDefault();\n  }\n}\n","\n<sm-experiment-artifact-item-view\n  *ngIf=\"modelInfo$ | async\"\n  [artifact]=\"selectedArtifact\"\n  [editable]=\"false\">\n</sm-experiment-artifact-item-view>\n\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {selectExperimentModelInfoData} from '../../reducers';\nimport {IExperimentModelInfo} from '../../shared/common-experiment-model.model';\nimport {combineLatest, Observable, Subscription} from 'rxjs';\nimport {IExperimentInfoState} from '../../../../features/experiments/reducers/experiment-info.reducer';\nimport {selectRouterParams} from '../../../core/reducers/router-reducer';\nimport {distinctUntilChanged, filter, map} from 'rxjs/operators';\nimport {get} from 'lodash/fp';\nimport {Artifact} from '../../../../business-logic/model/tasks/artifact';\n\n@Component({\n  selector: 'sm-experiment-info-artifact-item',\n  templateUrl: './experiment-info-artifact-item.component.html',\n  styleUrls: ['./experiment-info-artifact-item.component.scss']\n})\nexport class ExperimentInfoArtifactItemComponent implements OnInit, OnDestroy {\n  public modelInfo$: Observable<IExperimentModelInfo>;\n  public editable$: Observable<boolean>;\n  public errors$: Observable<IExperimentInfoState['errors']>;\n  public saving$: Observable<boolean>;\n  private artifactSubscription: Subscription;\n  public selectedArtifact: Artifact;\n  public artifactKey$: Observable<any>;\n\n  constructor(private store: Store<IExperimentInfoState>) {\n    this.modelInfo$ = this.store.select(selectExperimentModelInfoData);\n    this.artifactKey$ = this.store.select(selectRouterParams)\n      .pipe(\n        map(params => {\n          return {key: get('artifactId', params), mode: get('mode', params)};\n        }),\n        filter(artifactId => !!artifactId),\n        distinctUntilChanged()\n      );\n  }\n\n  ngOnInit() {\n    this.artifactSubscription = combineLatest([this.artifactKey$, this.modelInfo$])\n      .pipe(filter(([artifactKey, modelInfo]) => !!(artifactKey && artifactKey.key) && !!modelInfo))\n      .subscribe(([artifactKey, modelInfo]) => {\n        this.selectedArtifact = modelInfo.artifacts.find(artifact => (artifact.key === artifactKey.key && artifact.mode === artifactKey.mode));\n      });\n  }\n\n  ngOnDestroy(): void {\n    if (this.artifactSubscription) {\n      this.artifactSubscription.unsubscribe();\n    }\n  }\n\n}\n","<mat-expansion-panel [expanded]=\"true\">\n  <mat-expansion-panel-header collapsedHeight=\"40px\" expandedHeight=\"40px\" class=\"active\">\n    USER PROPERTIES\n  </mat-expansion-panel-header>\n  <div\n    queryParamsHandling=\"preserve\"\n    [routerLink]=\"'hyper-param/properties'\"\n    [class.selected]=\"selectedHyperParam === 'properties'\"\n    class=\"hyper-container pointer ellipsis\"\n    routerLink=\"hyper-param\"\n  >\n    <i class='sm al-icon al-ico-data-audit al-color'\n       [class.white]= \"selectedHyperParam === 'properties'\"\n       [class.blue-400]=\"selectedHyperParam !== 'properties'\">\n    </i>Properties\n  </div>\n</mat-expansion-panel>\n<mat-expansion-panel expanded=\"true\" *ngIf=\"((hyperParams | keyvalue)|filterOut:'key':'properties')?.length>0\">\n  <mat-expansion-panel-header collapsedHeight=\"40px\" expandedHeight=\"40px\" class=\"active\">\n    HYPER PARAMETERS\n  </mat-expansion-panel-header>\n  <div\n    *ngFor=\"let hyperParameter of (hyperParams | keyvalue)|filterOut:'key':'properties' | sort:'key'; trackBy: trackByFn\"\n    queryParamsHandling=\"preserve\"\n    [routerLink]=\"'hyper-param/' + (hyperParameter.key | safeUrlParameter)\"\n    [class.selected]=\"selectedHyperParam === (hyperParameter.key | safeUrlParameter)\"\n    class=\"hyper-container pointer ellipsis\"\n    routerLink=\"hyper-param\"\n  >\n    <i\n      class=\"sm al-icon al-ico-data-audit al-color\"\n      [class]=\"(selectedHyperParam === hyperParameter.key ? 'white' : 'blue-400')\"\n    ></i>{{hyperParameter.key | replaceViaMapPipe:sectionReplaceMap}}\n  </div>\n</mat-expansion-panel>\n\n<mat-expansion-panel [expanded]=\"true\" *ngIf=\"(configuration | keyvalue)?.length>0\">\n  <mat-expansion-panel-header collapsedHeight=\"40px\" expandedHeight=\"40px\" class=\"active\">\n    CONFIGURATION OBJECTS\n  </mat-expansion-panel-header>\n  <div\n    *ngFor=\"let confObj of configuration | keyvalue; trackBy: trackByFn\"\n    queryParamsHandling=\"preserve\"\n    [routerLink]=\"'configuration/' + (confObj.key | safeUrlParameter)\"\n    [class.selected]=\"selectedObject === confObj.key\"\n    class=\"hyper-container pointer ellipsis\"\n    routerLink=\"configuration\"\n  >\n    <i class=\"sm al-icon al-ico-data-audit al-color\" [class]=\"(selectedObject === confObj.key ? 'white' : 'blue-400')\"></i>{{confObj.key | replaceViaMapPipe:sectionReplaceMap}}\n  </div>\n\n</mat-expansion-panel>\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, Input, Output, TrackByFunction} from '@angular/core';\nimport {Params} from '@angular/router';\n\n@Component({\n  selector   : 'sm-experiment-hyper-params-navbar',\n  templateUrl: './experiment-hyper-params-navbar.component.html',\n  styleUrls  : ['./experiment-hyper-params-navbar.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ExperimentHyperParamsNavbarComponent {\n  sectionReplaceMap= {\n    _legacy:'General',\n    properties: 'User Properties',\n    design: 'General'\n  };\n  encodeURI = encodeURI;\n  @Input() hyperParams: { [key: string]: any};\n  @Input() configuration: { [key: string]: any};\n  @Input() selectedObject;\n  public activeSection: string;\n\n  @Input() set routerConfig(routerConfig: string) {\n    this.activeSection = routerConfig;\n    this.changeDetection.detectChanges();\n  }\n  @Input() disableAdd = true;\n\n  public selectedHyperParam: string;\n\n  @Input() set routerParams(routerParams: Params) {\n    this.selectedHyperParam = routerParams?.hyperParamId || null;\n    this.selectedObject = decodeURIComponent(routerParams?.configObject);\n    this.changeDetection.detectChanges();\n  };\n\n  @Output() artifactSelected = new EventEmitter();\n\n  constructor(private changeDetection: ChangeDetectorRef,) {\n  }\n\n  trackByFn: TrackByFunction<{key: string; value: any}> = (index: number, item: {key: string; value: any}) => item['key'];\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {selectExperimentConfiguration, selectExperimentHyperParamsInfoData, selectExperimentHyperParamsSelectedSectionFromRoute, selectExperimentSelectedConfigObjectFromRoute, selectIsExperimentSaving, selectIsSelectedExperimentInDev} from '../../reducers';\nimport {ICommonExperimentInfoState} from '../../reducers/common-experiment-info.reducer';\nimport {IExperimentInfo} from '../../../../features/experiments/shared/experiment-info.model';\nimport {selectBackdropActive} from '../../../core/reducers/view.reducer';\nimport {combineLatest, Observable, Subscription} from 'rxjs';\nimport {selectIsExperimentEditable, selectSelectedExperiment} from '../../../../features/experiments/reducers';\nimport {selectRouterConfig, selectRouterParams} from '../../../core/reducers/router-reducer';\nimport {ActivatedRoute, Params, Router} from '@angular/router';\nimport {ParamsItem} from '../../../../business-logic/model/tasks/paramsItem';\nimport {debounceTime, filter, tap, withLatestFrom} from 'rxjs/operators';\nimport {ActivateEdit, getExperimentConfigurationNames, getExperimentConfigurationObj, SetExperimentFormErrors} from '../../actions/common-experiments-info.actions';\nimport {getOr, min} from 'lodash/fp';\n\n@Component({\n  selector: 'sm-experiment-info-hyper-parameters',\n  templateUrl: './experiment-info-hyper-parameters.component.html',\n  styleUrls: ['./experiment-info-hyper-parameters.component.scss']\n})\nexport class ExperimentInfoHyperParametersComponent implements OnInit, OnDestroy {\n\n  public selectedExperiment: IExperimentInfo;\n  public editable$: Observable<boolean>;\n  public isInDev$: Observable<boolean>;\n  public saving$: Observable<boolean>;\n  public backdropActive$: Observable<boolean>;\n  private selectedExperimentSubscription: Subscription;\n  public routerConfig$: Observable<string[]>;\n  public routerParams$: Observable<Params>;\n  public hyperParamsInfo$: Observable<{ [p: string]: { [p: string]: ParamsItem } }>;\n  public configuration$: Observable<any>;\n  private hyperParamsConfigSubscription: Subscription;\n  public minimized: boolean;\n\n  constructor(\n    private store: Store<ICommonExperimentInfoState>,\n    protected router: Router,\n    private route: ActivatedRoute\n  ) {\n    this.minimized = getOr(false, 'data.minimized', this.route.snapshot.routeConfig);\n    this.hyperParamsInfo$ = this.store.select(selectExperimentHyperParamsInfoData);\n    this.configuration$ = this.store.select(selectExperimentConfiguration);\n    this.editable$ = this.store.select(selectIsExperimentEditable);\n    this.isInDev$ = this.store.select(selectIsSelectedExperimentInDev);\n    this.saving$ = this.store.select(selectIsExperimentSaving);\n    this.backdropActive$ = this.store.select(selectBackdropActive);\n    this.routerConfig$ = this.store.select(selectRouterConfig);\n    this.routerParams$ = this.store.select(selectRouterParams);\n  }\n\n  ngOnInit() {\n    this.selectedExperimentSubscription = this.store.select(selectSelectedExperiment)\n      .pipe(\n        tap((selectedExperiment) => this.selectedExperiment = selectedExperiment),\n        filter((selectedExperiment) => selectedExperiment && !selectedExperiment.configuration)\n      )\n      .subscribe(selectedExperiment => {\n        this.store.dispatch(getExperimentConfigurationNames({experimentId: selectedExperiment.id}));\n        this.store.dispatch(getExperimentConfigurationObj());\n      });\n    this.hyperParamsConfigSubscription = combineLatest([\n      this.hyperParamsInfo$,\n      this.configuration$\n    ]).pipe(\n      debounceTime(0),\n      withLatestFrom(\n        this.store.select(selectExperimentHyperParamsSelectedSectionFromRoute),\n        this.store.select(selectExperimentSelectedConfigObjectFromRoute)\n      )).subscribe(([[hyperparams, configuration], selectedHyperParam, selectedConfig]) => {\n      if ((hyperparams && configuration && !(selectedHyperParam in hyperparams) && !(selectedConfig in configuration))) {\n        this.router.navigate(['hyper-param', min(Object.keys(hyperparams))], {relativeTo: this.route, replaceUrl: true});\n      }\n    });\n    this.store.dispatch(new SetExperimentFormErrors(null));\n  }\n\n  ngOnDestroy(): void {\n    this.selectedExperimentSubscription.unsubscribe();\n    this.hyperParamsConfigSubscription.unsubscribe();\n  }\n\n  activateEditChanged(e) {\n    this.store.dispatch(new ActivateEdit(e.sectionName));\n  }\n\n}\n","<sm-overlay [backdropActive]=\"backdropActive$|async\"></sm-overlay>\n<div class=\"h-100 d-flex\">\n  <sm-experiment-hyper-params-navbar\n    [class.minimized]=\"minimized\"\n    [hyperParams]=\"(hyperParamsInfo$| async)\"\n    [configuration]=\"configuration$ | async\"\n    [routerConfig]=\"(routerConfig$ | async)[minimized ? 5 : 6]\"\n    [routerParams]=\"routerParams$ | async\"\n    [disableAdd]=\"!(selectedExperiment?.status === 'created')\"\n  ></sm-experiment-hyper-params-navbar>\n  <div class=\"hyper-col\">\n    <router-outlet></router-outlet>\n  </div>\n</div>\n","<ng-template\n  let-saving=\"saving\" let-editable=\"editable\"\n  let-configurationObjectName=\"configurationObjectName\"\n  [ngTemplateOutletContext]=\"{ saving: saving$ | async,\n                               editable: editable$ | async,\n                               configurationObjectName: selectedConfigObj$ | async}\"\n  [ngTemplateOutlet]=\"template\" #template>\n  <sm-editable-section [editable]=\"false\">\n    <sm-section-header [label]=\"configurationObjectName | replaceViaMapPipe:sectionReplaceMap | uppercase\"></sm-section-header>\n    <sm-labeled-row label=\"TYPE\">{{formData?.type === 'legacy' ? '' : formData?.type}}</sm-labeled-row>\n    <sm-labeled-row label=\"DESCRIPTION\">{{formData?.description}}</sm-labeled-row>\n  </sm-editable-section>\n\n  <!-- **************** CONFIGURATION OBJECT **************** -->\n  <sm-editable-section class=\"editable-design\"\n                       #prototext\n                       [saving]=\"saving\"\n                       [editable]=\"editable\"\n                       [disableInEditMode]=\"true\"\n                       (cancelClicked)=\"cancelModelChange()\"\n                       (activateEditClicked)=\"activateEditChanged('prototext'); editPrototext()\">\n    <sm-section-header label=\"CONFIGURATION OBJECT\"></sm-section-header>\n    <sm-experiment-network-design-form\n      [editable]=\"false\"\n      [formData]=\"formData === null ? null : formData?.value\"\n    >\n    </sm-experiment-network-design-form>\n    <button extra-buttons\n            *ngIf=\"formData?.value\"\n            class=\"btn-dark-fill mr-3 flex-1\"\n            (click)=\"clearPrototext()\">\n      <i class=\"p-1 fa fa-trash\"></i>\n      CLEAR\n    </button>\n\n  </sm-editable-section>\n</ng-template>\n","import {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {selectExperimentConfigObj, selectExperimentInfoErrors, selectExperimentSelectedConfigObjectFromRoute, selectExperimentUserKnowledge, selectIsExperimentSaving} from '../../reducers';\nimport {Model} from '../../../../business-logic/model/models/model';\nimport {Observable, Subscription} from 'rxjs';\nimport {IExperimentInfo} from '../../../../features/experiments/shared/experiment-info.model';\nimport {IExperimentInfoState} from '../../../../features/experiments/reducers/experiment-info.reducer';\nimport {experimentSectionsEnum} from '../../../../features/experiments/shared/experiments.const';\nimport {selectIsExperimentEditable, selectSelectedExperiment} from '../../../../features/experiments/reducers';\nimport {ActivateEdit, CancelExperimentEdit, DeactivateEdit, getExperimentConfigurationObj, saveExperimentConfigObj, SetExperimentErrors, SetExperimentFormErrors} from '../../actions/common-experiments-info.actions';\nimport {ConfigurationItem} from '../../../../business-logic/model/tasks/configurationItem';\nimport {EditJsonComponent} from '../../../shared/ui-components/overlay/edit-json/edit-json.component';\nimport {take} from 'rxjs/operators';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\nimport {ConfirmDialogComponent} from '../../../shared/ui-components/overlay/confirm-dialog/confirm-dialog.component';\nimport {EditableSectionComponent} from '../../../shared/ui-components/panel/editable-section/editable-section.component';\n\n@Component({\n  selector: 'sm-experiment-info-task-model',\n  templateUrl: './experiment-info-task-model.component.html',\n  styleUrls: ['./experiment-info-task-model.component.scss']\n})\nexport class ExperimentInfoTaskModelComponent implements OnInit, OnDestroy {\n  public selectedExperimentSubscription: Subscription;\n  private selectedExperiment: IExperimentInfo;\n  public editable$: Observable<boolean>;\n  public errors$: Observable<IExperimentInfoState['errors']>;\n  public userKnowledge$: Observable<Map<experimentSectionsEnum, boolean>>;\n  public modelLabels$: Observable<Model['labels']>;\n  public saving$: Observable<boolean>;\n  private configInfo$: Observable<ConfigurationItem>;\n  public selectedConfigObj$: Observable<string>;\n  private selectedConfigObjSubscription: Subscription;\n  private formDataSubscription: Subscription;\n  public formData: ConfigurationItem;\n\n  public sectionReplaceMap = {\n    _legacy: 'General',\n    properties: 'User Properties',\n    design: 'General'\n  };\n\n  @ViewChild('prototext') prototext: EditableSectionComponent;\n\n  constructor(private store: Store<IExperimentInfoState>, private dialog: MatDialog) {\n    this.configInfo$ = this.store.select(selectExperimentConfigObj);\n    this.selectedConfigObj$ = this.store.select(selectExperimentSelectedConfigObjectFromRoute);\n    this.editable$ = this.store.select(selectIsExperimentEditable);\n    this.errors$ = this.store.select(selectExperimentInfoErrors);\n    this.userKnowledge$ = this.store.select(selectExperimentUserKnowledge);\n    this.saving$ = this.store.select(selectIsExperimentSaving);\n  }\n\n  ngOnInit() {\n    this.formDataSubscription = this.configInfo$.subscribe(formData => {\n      this.formData = formData;\n    });\n    this.selectedExperimentSubscription = this.store.select(selectSelectedExperiment)\n      .subscribe(selectedExperiment => {\n        this.selectedExperiment = selectedExperiment;\n      });\n    this.selectedConfigObjSubscription = this.selectedConfigObj$.subscribe((confObjName) => {\n      if (confObjName) {\n        this.store.dispatch(getExperimentConfigurationObj());\n      }\n    });\n    this.store.dispatch(new SetExperimentFormErrors(null));\n  }\n\n  ngOnDestroy(): void {\n    this.selectedExperimentSubscription.unsubscribe();\n    this.selectedConfigObjSubscription.unsubscribe();\n  }\n\n  onFormValuesChanged(event: { field: string; value: any }) {\n    // this.store.dispatch(new infoActions.ExperimentDataUpdated({id: this.selectedExperiment.id, changes: {[event.field]: event.value}}));\n  }\n\n  onFormErrorsChanged(event: { field: string; errors: any }) {\n    this.store.dispatch(new SetExperimentErrors({[event.field]: event.errors}));\n  }\n\n  saveModelData(configuration: ConfigurationItem[]) {\n    this.store.dispatch(saveExperimentConfigObj({configuration}));\n    this.store.dispatch(new DeactivateEdit());\n  }\n\n  cancelModelChange() {\n    this.store.dispatch(new DeactivateEdit());\n    this.store.dispatch(new CancelExperimentEdit());\n  }\n\n  activateEditChanged(sectionName: string) {\n    this.store.dispatch(new ActivateEdit(sectionName));\n  }\n\n  editPrototext() {\n    const editPrototextDialog = this.dialog.open(EditJsonComponent, {\n      data: {textData: this.formData?.value, readOnly: false, title: 'EDIT CONFIGURATION', typeJson: false}\n    });\n\n    editPrototextDialog.afterClosed().pipe(take(1)).subscribe((data) => {\n      if (data === undefined) {\n        this.prototext.cancelClickedEvent();\n      } else {\n        this.saveModelData([{name: this.formData.name, type: this.formData.type, value: data, description: this.formData.description}]);\n        this.store.dispatch(new DeactivateEdit());\n      }\n    });\n  }\n\n  clearPrototext() {\n    const confirmDialogRef: MatDialogRef<any, boolean> = this.dialog.open(ConfirmDialogComponent, {\n      data: {\n        title: 'Clear model configuration',\n        body: 'Are you sure you want to clear the entire contents of Model Configuration?',\n        yes: 'Clear',\n        no: 'Keep',\n        iconClass: 'al-icon al-ico-trash al-color blue-300',\n      }\n    });\n\n    confirmDialogRef.afterClosed().pipe(take(1)).subscribe((confirmed) => {\n      if (confirmed) {\n        this.activateEditChanged('prototext');\n        this.saveModelData([{name: this.formData.name, type: this.formData.type, value: '', description: this.formData.description}]);\n        this.store.dispatch(new DeactivateEdit());\n      }\n    });\n  }\n\n}\n","<form [class.editable]=\"editable\" #hyperParameters=\"ngForm\">\n  <cdk-virtual-scroll-viewport #formContainer class=\"form-container\" itemSize=\"60\" minBufferPx=\"280\" maxBufferPx=\"560\">\n    <ng-container *ngIf=\"editable\">\n      <div *ngFor=\"let parameter of formData; let index= index\" class=\"w-100 d-flex\">\n        <mat-form-field\n          [hintLabel]=\"parameterKey.invalid && parameterKey?.errors?.required? '*Required': ''\"\n          appearance=\"outline\"\n          class=\"strength\">\n          <input\n            #parameterKey=\"ngModel\"\n            [(ngModel)]=\"parameter['name']\"\n            placeholder=\"Parameter\"\n            name=\"parameterKey-{{parameter.id}}\"\n            matInput\n            smUniqueNameValidator\n            [class.highlight-text]=\"(searchedText?.length > 0) && parameter['name'].includes(searchedText)\"\n            [class.current-match]=\"searchIndexList[matchIndex]?.index===index && searchIndexList[matchIndex]?.col==='name'\"\n            [existingNames]=\"formNames(parameter.id)\"\n            required/>\n          <mat-error *ngIf=\"parameterKey.invalid && parameterKey?.errors?.required\">\n            Required\n          </mat-error>\n          <mat-error *ngIf=\"parameterKey.invalid && parameterKey?.errors?.smNotAllowedStringsValidator\">\n            .(dot) $(dollar) and space are not allowed in parameter key.\n          </mat-error>\n          <mat-error *ngIf=\"parameterKey.invalid && parameterKey?.errors?.uniqueName\">\n            key already exists\n          </mat-error>\n        </mat-form-field>\n        <mat-form-field appearance=\"outline\"\n                        class=\"strength\">\n          <input\n            #parameterValue=\"ngModel\"\n            [(ngModel)]=\"parameter['value']\"\n            name=\"parameterValue-{{parameter.id}}\"\n            placeholder=\"Value\"\n            [class.highlight-text]=\"(searchedText?.length > 0) && parameter['value'].includes(searchedText)\"\n            [class.current-match]=\"searchIndexList[matchIndex]?.index===index && searchIndexList[matchIndex]?.col==='value'\"\n            matInput/>\n        </mat-form-field>\n        <div class=\"remove-step\">\n          <i (click)=\"removeRow(index)\" class=\"al-icon al-ico-trash al-color blue-300 sm-md pointer flashing-icon mb-2\"></i>\n        </div>\n      </div>\n    </ng-container>\n  </cdk-virtual-scroll-viewport>\n</form>\n<button *ngIf=\"editable\" class=\"btn btn-dark-fill add-parameter\" (click)=\"addRow()\"><i class=\"fas fa-plus\"></i> ADD PARAMETER</button>\n<div class=\"table-container\" *ngIf=\"!editable\">\n  <sm-table\n    #parametersTable\n    [columns]=\"cols\"\n    [tableData]=\"formData\"\n    [enableTableSearch]=\"true\"\n    [globalFilterFields]=\"['name', 'value','description']\"\n    [resizableColumns]=\"true\"\n    [noHeader]=\"true\"\n    [simple]=\"true\"\n    [virtualScroll]=\"true\"\n    [rowHeight]=\"32\"\n    (rowClicked)=\"rowActivated($event)\"\n  >\n    <ng-template pTemplate=\"body\"\n                 let-col\n                 let-i=\"rowIndex\"\n                 let-row=\"rowData\">\n      <ng-container *ngIf=\"col.id === 'description'; else defaultRow\">\n        <span *ngIf=\"row.type!=='legacy' && (row.description || row.type)\" class=\"allow-multi-space pointer\" customClass=\"hyper-parameters-tooltip parameter-tooltip\"\n              smTooltip=\"{{(row.type ? ('Type: '+ row.type+'\\n') : '') + (row?.description|| '')}}\"><i class=\"al-icon al-ico-description\"></i></span>\n      </ng-container>\n      <ng-template #defaultRow>\n        <span [class.name]=\"col.id==='name'\" smTooltip=\"{{row[col.id]}}\">\n          <span *ngFor=\"let part of (searchedText ? row[col.id].split(searchedText) : [row[col.id]]); let last=last\">{{part}}<span class=\"highlight-text\" [class.current-match]=\"searchIndexList[matchIndex]?.index===i && searchIndexList[matchIndex]?.col===col.id\" *ngIf=\"!last\">{{searchedText}}</span></span></span>\n      </ng-template>\n    </ng-template>\n  </sm-table>\n</div>\n\n","import {\n  AfterViewInit,\n  Component,\n  EventEmitter,\n  Input, OnChanges,\n  OnDestroy,\n  Output,\n  QueryList, SimpleChanges,\n  ViewChild,\n  ViewChildren\n} from '@angular/core';\nimport {IExperimentInfoFormComponent} from '../../../../features/experiments/shared/experiment-info.model';\nimport {HELP_TEXTS} from '../../shared/common-experiments.const';\nimport {cloneDeep} from 'lodash/fp';\nimport {v4 as uuidV4} from 'uuid';\nimport {NgForm} from '@angular/forms';\nimport {ParamsItem} from '../../../../business-logic/model/tasks/paramsItem';\nimport {ISmCol} from '../../../shared/ui-components/data/table/table.consts';\nimport {CdkVirtualScrollViewport} from '@angular/cdk/scrolling';\nimport {Subscription} from 'rxjs';\nimport {TableComponent} from '../../../shared/ui-components/data/table/table.component';\nimport {isEqual} from 'lodash/fp';\n\n\n@Component({\n  selector: 'sm-experiment-execution-parameters',\n  templateUrl: './experiment-execution-parameters.component.html',\n  styleUrls: ['./experiment-execution-parameters.component.scss']\n})\nexport class ExperimentExecutionParametersComponent implements IExperimentInfoFormComponent, OnDestroy, AfterViewInit, OnChanges {\n  private _formData: { name?: string; description?: string; section?: string; id: string; type?: string; value?: string }[] = [];\n  private formContainersSub: Subscription;\n\n  search: string = '';\n  lastSearchIndex = -1;\n  public searchIndexList: {index:number, col: string}[];\n  public matchIndex: number;\n\n  formNames(id) {\n    return this.formData.filter(parameter => parameter.id !== id).map(parameter => parameter.name);\n  }\n\n  @ViewChild('hyperParameters') hyperParameters: NgForm;\n  @ViewChild('parametersTable') executionParametersTable: TableComponent;\n\n  private formContainer: CdkVirtualScrollViewport;\n  @ViewChildren('formContainer') formContainers: QueryList<CdkVirtualScrollViewport>;\n  @ViewChild(CdkVirtualScrollViewport) viewPort: CdkVirtualScrollViewport;\n  @Output() formDataChanged = new EventEmitter<{ field: string; value: ParamsItem[] }>();\n  @Output() searchCounterChanged = new EventEmitter<number>();\n  @Output() resetSearch = new EventEmitter();\n  @Output() scrollToResultCounterChanged = new EventEmitter<number>();\n  @Input() section;\n\n  @Input() set formData(formData: { name?: string; description?: string; section?: string; id?: string; type?: string; value?: string }[]) {\n    this._formData = cloneDeep(formData).map((row: ParamsItem) => ({...row, id: uuidV4()}));\n  }\n\n  get formData(): { name?: string; description?: string; section?: string; id?: string; type?: string; value?: string }[] {\n    return this._formData;\n  }\n\n\n  @Input() editable: boolean;\n  @Input() searchedText: string;\n\n  HELP_TEXTS = HELP_TEXTS;\n  public cols = [\n    {id: 'name', style: {width: '40%'}},\n    {id: 'value', style: {width: '40%'}},\n    {id: 'description', style: {width: '48px'}}\n  ] as ISmCol[];\n  private clickedRow: number;\n\n  ngAfterViewInit() {\n    this.formContainersSub = this.formContainers.changes\n      .subscribe((list: QueryList<CdkVirtualScrollViewport>) => {\n        this.formContainer = list.first;\n        if (this.formContainer && this.clickedRow !== null) {\n          this.formContainer.scrollToIndex(this.clickedRow, 'smooth');\n          this.clickedRow = null;\n        }\n      });\n  }\n\n  addRow() {\n    this.formData.push({\n      id: uuidV4(),\n      section: this.section,\n      name: '',\n      value: '',\n      description: '',\n      type: ''\n    });\n    window.setTimeout(() => {\n      const height = this.viewPort.elementRef.nativeElement.scrollHeight;\n      this.viewPort.scrollToIndex(height, 'smooth');\n    }, 50);\n  }\n\n  removeRow(index) {\n    this.formData.splice(index, 1);\n  }\n\n  rowActivated({data}: { data: any; e: MouseEvent }) {\n    this.clickedRow = this.formData.findIndex(row => row.name === data.name);\n  }\n\n  ngOnDestroy(): void {\n    this.formContainersSub?.unsubscribe();\n  }\n\n  jumpToResult(counterIndex: number) {\n    this.matchIndex = counterIndex;\n    if(this.editable){\n      this.viewPort.scrollToIndex(this.searchIndexList[counterIndex]?.index, 'smooth');\n    } else {\n      this.executionParametersTable.scrollToIndex(this.searchIndexList[counterIndex]?.index);\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if(changes?.formData && (!changes.formData?.firstChange) && !isEqual(changes.formData.currentValue, changes.formData.previousValue)){\n      this.matchIndex = undefined;\n      this.searchIndexList = [];\n      this.resetSearch.emit();\n    }\n    if (changes?.searchedText) {\n      let searchResultsCounter = 0;\n      const searchedIndexList = [];\n      if (changes?.searchedText?.currentValue) {\n        this.formData.forEach((parameter, index) => {\n          if (parameter?.name.includes(changes.searchedText.currentValue)) {\n            searchResultsCounter++;\n            searchedIndexList.push({index, col:'name'});\n          }\n          if (parameter?.value.includes(changes.searchedText.currentValue)){\n            searchResultsCounter++;\n            searchedIndexList.push({index, col:'value'});\n          }\n        });\n      }\n      this.searchCounterChanged.emit(searchResultsCounter);\n      this.scrollToResultCounterChanged.emit(-1);\n      this.searchIndexList = searchedIndexList;\n    }\n  }\n\n}\n","<sm-overlay [backdropActive]=\"backdropActive$|async\"></sm-overlay>\n<sm-editable-section #parameterSection\n                     *ngIf=\"(selectedSectionHyperParams$| async).length>0 || propSection\"\n                     [editable]=\"(!isExample) && ((editable$ | async) || propSection)\"\n                     [disableSave]=\"!executionParamsForm?.hyperParameters?.form?.valid\"\n                     [saving]=\"saving$ | async\"\n                     (cancelClicked)=\"cancelHyperParametersChange()\"\n                     (saveClicked)=\"sectionSaved()\"\n                     (activateEditClicked)=\"activateEditChanged('hyperparams')\">\n  <sm-section-header [label]=\"(selectedSection | replaceViaMapPipe:sectionReplaceMap) | uppercase \"></sm-section-header>\n  <sm-search search-button\n             #search\n             class=\"table-search dark-theme\"\n             [enableJumpToNextResult]=\"true\"\n             [minimumChars]=\"0\"\n             [debounceTime]=\"0\"\n             [expandOnHover]=\"true\"\n             [searchResultsCount]=\"searchResultsCount\"\n             (valueChanged)=\"searchTable($event)\"\n             (jumpToResult)=\"executionParamsForm.jumpToResult($event)\"\n  ></sm-search>\n  <sm-experiment-execution-parameters\n    #executionParamsForm\n    class=\"form-section\"\n    [searchedText]=\"searchedText\"\n    [editable]=\"(!isExample) && ((editable$ | async) || propSection) && parameterSection.inEditMode\"\n    [section]=\"selectedSection\"\n    [formData]=\"(selectedSectionHyperParams$ | async) | sort:'name'\"\n    (formDataChanged)=\"onFormValuesChanged($event)\"\n    (searchCounterChanged)=\"searchCounterChanged($event)\"\n    (resetSearch)=\"search.clear(false)\"\n    (scrollToResultCounterChanged)=\"scrollIndexCounterChanged($event)\"\n  ></sm-experiment-execution-parameters>\n</sm-editable-section>\n","import {ChangeDetectorRef, Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {\n  selectExperimentHyperParamsSelectedSectionFromRoute,\n  selectExperimentHyperParamsSelectedSectionParams,\n  selectIsExperimentSaving,\n  selectIsSelectedExperimentInDev\n} from '../../reducers';\nimport {ICommonExperimentInfoState} from '../../reducers/common-experiment-info.reducer';\nimport {IExperimentInfo} from '../../../../features/experiments/shared/experiment-info.model';\nimport {selectBackdropActive} from '../../../core/reducers/view.reducer';\nimport {Observable, Subscription} from 'rxjs';\nimport {selectIsExperimentEditable, selectSelectedExperiment} from '../../../../features/experiments/reducers';\nimport {selectRouterConfig} from '../../../core/reducers/router-reducer';\nimport {\n  ActivateEdit,\n  CancelExperimentEdit,\n  DeactivateEdit,\n  deleteHyperParamsSection,\n  saveHyperParamsSection,\n  SetExperimentFormErrors,\n  updateExperimentAtPath\n} from '../../actions/common-experiments-info.actions';\nimport {ParamsItem} from '../../../../business-logic/model/tasks/paramsItem';\nimport {HELP_TEXTS} from '../../shared/common-experiments.const';\nimport {Router} from '@angular/router';\nimport {ExperimentExecutionParametersComponent} from '../../dumb/experiment-execution-parameters/experiment-execution-parameters.component';\nimport {isReadOnly} from '../../../shared/utils/shared-utils';\n\n@Component({\n  selector   : 'sm-experiment-info-hyper-parameters-form-container',\n  templateUrl: './experiment-info-hyper-parameters-form-container.component.html',\n  styleUrls  : ['./experiment-info-hyper-parameters-form-container.component.scss']\n})\nexport class ExperimentInfoHyperParametersFormContainerComponent implements OnInit, OnDestroy {\n  HELP_TEXTS = HELP_TEXTS;\n  sectionReplaceMap = {\n    _legacy: 'General',\n    properties: 'User Properties',\n    design: 'General'\n  };\n  @ViewChild('parameterSection', {static: false}) parameterSection;\n  @ViewChild('executionParamsForm', {static: false}) executionParamsForm: ExperimentExecutionParametersComponent;\n  public selectedSectionHyperParams$: Observable<ParamsItem[]>;\n  public editable$: Observable<boolean>;\n  public isInDev$: Observable<boolean>;\n  public saving$: Observable<boolean>;\n  public backdropActive$: Observable<boolean>;\n  private selectedExperimentSubscription: Subscription;\n  public routerConfig$: Observable<string[]>;\n  public selectedSection$: Observable<string>;\n  private selectedSectionSubscription: Subscription;\n  public selectedSection: string;\n  public isExample: boolean;\n  public selectedExperiment$: Observable<IExperimentInfo>;\n  public propSection: boolean;\n  public searchedText: string;\n  public searchResultsCount: number;\n  public scrollIndexCounter: number;\n\n  constructor(private store: Store<ICommonExperimentInfoState>, protected router: Router, private cdr: ChangeDetectorRef) {\n\n    this.selectedSectionHyperParams$ = this.store.select(selectExperimentHyperParamsSelectedSectionParams);\n    this.editable$ = this.store.select(selectIsExperimentEditable);\n    this.selectedSection$ = this.store.select(selectExperimentHyperParamsSelectedSectionFromRoute);\n    this.isInDev$ = this.store.select(selectIsSelectedExperimentInDev);\n    this.saving$ = this.store.select(selectIsExperimentSaving);\n    this.backdropActive$ = this.store.select(selectBackdropActive);\n    this.routerConfig$ = this.store.select(selectRouterConfig);\n    this.selectedExperiment$ = this.store.select(selectSelectedExperiment);\n\n    this.store.dispatch(new SetExperimentFormErrors(null));\n    this.selectedSectionSubscription = this.selectedSection$.subscribe(section => {\n      this.selectedSection = section;\n      this.propSection = section === 'properties';\n    });\n  }\n\n  ngOnInit() {\n    this.selectedExperimentSubscription = this.store.select(selectSelectedExperiment)\n      .subscribe(selectedExperiment => {\n        this.isExample = isReadOnly(selectedExperiment);\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.selectedExperimentSubscription?.unsubscribe();\n    this.selectedSectionSubscription?.unsubscribe();\n  }\n\n\n  cancelHyperParametersChange() {\n    this.store.dispatch(updateExperimentAtPath({path: ('hyperparams.' + this.selectedSection ), value: this.executionParamsForm.formData}));\n    this.store.dispatch(new DeactivateEdit());\n    this.store.dispatch(new CancelExperimentEdit());\n  }\n\n  activateEditChanged(sectionName: string) {\n    this.store.dispatch(new ActivateEdit(sectionName));\n  }\n\n  onFormValuesChanged(event: { field: string; value: any }) {\n    this.store.dispatch(updateExperimentAtPath({path: ('hyperparams.' + event.field), value: event.value}));\n  }\n\n  sectionSaved() {\n    if (this.executionParamsForm.formData.length > 0) {\n      this.store.dispatch(saveHyperParamsSection({hyperparams: this.executionParamsForm.formData}));\n    } else {\n      this.store.dispatch(deleteHyperParamsSection({section: this.selectedSection}));\n    }\n    this.store.dispatch(new DeactivateEdit());\n  }\n\n  searchTable($event: string) {\n    this.searchedText = $event;\n    this.cdr.detectChanges();\n  }\n\n  searchCounterChanged(count: number) {\n    this.searchResultsCount = count;\n    this.cdr.detectChanges();\n  }\n\n  scrollIndexCounterChanged(counterIndex: number) {\n    this.scrollIndexCounter = counterIndex;\n    this.cdr.detectChanges();\n  }\n}\n","import {Component} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {Store} from '@ngrx/store';\nimport {filter, map} from 'rxjs/operators';\nimport {tap} from 'rxjs/operators';\nimport {isReadOnly} from '../../../shared/utils/shared-utils';\nimport {IExperimentInfo} from '../../../../features/experiments/shared/experiment-info.model';\nimport {IExperimentInfoState} from '../../../../features/experiments/reducers/experiment-info.reducer';\nimport {selectExperimentInfoData, selectIsExperimentEditable, selectSelectedExperiment} from '../../../../features/experiments/reducers';\nimport {ExperimentDetailsUpdated} from '../../actions/common-experiments-info.actions';\n\n@Component({\n  selector   : 'sm-experiment-info-general',\n  templateUrl: './experiment-info-general.component.html',\n  styleUrls  : ['./experiment-info-general.component.scss']\n})\nexport class ExperimentInfoGeneralComponent {\n\n  public selectedExperiment$: Observable<IExperimentInfo>;\n  public editable$: Observable<boolean>;\n  public experimentInfoData$: Observable<IExperimentInfo>;\n  public isExample: boolean;\n  private selectedExperiment: IExperimentInfo;\n\n  constructor(private store: Store<IExperimentInfoState>) {\n    this.selectedExperiment$ = this.store.select(selectSelectedExperiment)\n      .pipe(\n        filter(experiment => !!experiment),\n        map(experiment => this.selectedExperiment = experiment),\n        tap((experiment) => this.isExample = isReadOnly(experiment))\n      );\n    this.experimentInfoData$ = this.store.select(selectExperimentInfoData);\n    this.editable$           = this.store.select(selectIsExperimentEditable);\n  }\n\n  commentChanged(comment) {\n    this.store.dispatch(new ExperimentDetailsUpdated({id: this.selectedExperiment.id, changes: {comment: comment}}));\n  }\n\n}\n","<sm-experiment-general-info\n  [experiment]=\"selectedExperiment$ | async\"\n  [experimentComment]=\"(experimentInfoData$ | async)?.comment\"\n  [editable]=\"(editable$ | async)\"\n  [isExample]=\"isExample\"\n  (commentChanged)=\"commentChanged($event)\"\n></sm-experiment-general-info>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {selectRouterConfig, selectRouterParams} from '../../../core/reducers/router-reducer';\nimport {get, getOr} from 'lodash/fp';\nimport {select, Store} from '@ngrx/store';\nimport {interval, Observable, Subscription} from 'rxjs';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {distinctUntilChanged, filter, map, tap, withLatestFrom} from 'rxjs/operators';\nimport {Project} from '../../../../business-logic/model/projects/project';\nimport {IExperimentInfo} from '../../../../features/experiments/shared/experiment-info.model';\nimport {ExperimentOutputState} from '../../../../features/experiments/reducers/experiment-output.reducer';\nimport {\n  selectExperimentInfoData,\n  selectIsSharedAndNotOwner,\n  selectSelectedExperiment\n} from '../../../../features/experiments/reducers';\nimport {ResetExperimentMetrics, toggleSettings} from '../../actions/common-experiment-output.actions';\nimport * as infoActions from '../../actions/common-experiments-info.actions';\nimport {selectAppVisible, selectAutoRefresh, selectBackdropActive} from '../../../core/reducers/view.reducer';\nimport {addMessage, setAutoRefresh} from '../../../core/actions/layout.actions';\nimport {AUTO_REFRESH_INTERVAL, MESSAGES_SEVERITY} from '../../../../app.constants';\nimport {selectIsExperimentInEditMode, selectSelectedExperiments} from '../../reducers';\nimport {isReadOnly} from '../../../shared/utils/shared-utils';\nimport {ExperimentDetailsUpdated} from '../../actions/common-experiments-info.actions';\n\n@Component({\n  selector: 'sm-base-experiment-output',\n  template: ''\n})\nexport abstract class BaseExperimentOutputComponent implements OnInit, OnDestroy {\n\n  public selectedExperiment: IExperimentInfo;\n  private subs = new Subscription();\n  public infoData$: Observable<any>;\n  public backdropActive$: Observable<any>;\n  public currentComponent: string;\n  public currentMetric: string;\n  public minimized: boolean;\n  public autoRefreshState$;\n  private isExperimentInEditMode$: Observable<boolean>;\n  private projectId: Project['id'];\n  public experimentId: string;\n  public routerConfig: string[];\n  private isAppVisible$: Observable<boolean>;\n  isSharedAndNotOwner$: Observable<boolean>;\n  public isExample: boolean;\n\n  constructor(private store: Store<ExperimentOutputState>, private router: Router, private route: ActivatedRoute) {\n    this.infoData$ = this.store.select(selectExperimentInfoData);\n    this.isSharedAndNotOwner$ = this.store.select((selectIsSharedAndNotOwner));\n    this.autoRefreshState$ = this.store.select(selectAutoRefresh);\n    this.isExperimentInEditMode$ = this.store.select(selectIsExperimentInEditMode);\n    this.isAppVisible$ = this.store.select(selectAppVisible);\n    this.backdropActive$ = this.store.select(selectBackdropActive);\n\n  }\n\n  ngOnInit() {\n    this.minimized = getOr(false, 'data.minimized', this.route.snapshot.routeConfig);\n    this.subs.add(this.store.select(selectRouterConfig).subscribe(routerConfig => {\n      this.routerConfig = routerConfig;\n    }));\n\n    this.subs.add(this.store.pipe(\n        select(selectRouterParams),\n        tap((params) => this.projectId = params.projectId),\n        map(params => get('experimentId', params)),\n        filter(experimentId => !!experimentId),\n        tap((experimentId) => this.experimentId = experimentId),\n        distinctUntilChanged(),\n        withLatestFrom(this.store.select(selectSelectedExperiments))\n      ).subscribe(([experimentId, selectedExperiments]) => {\n        this.selectedExperiment = selectedExperiments.find(experiment => experiment.id === experimentId);\n        this.isExample = isReadOnly( this.selectedExperiment);\n        this.store.dispatch(new ResetExperimentMetrics());\n        this.store.dispatch(new infoActions.ResetExperimentInfo());\n        this.store.dispatch(new infoActions.GetExperimentInfo(experimentId));\n      })\n    );\n    this.subs.add(interval(AUTO_REFRESH_INTERVAL).pipe(\n        withLatestFrom(this.autoRefreshState$, this.isAppVisible$, this.isExperimentInEditMode$),\n        filter(([, autoRefreshState, isVisible, isExperimentInEditMode]) => isVisible && autoRefreshState && !isExperimentInEditMode &&!this.minimized)\n      ).subscribe(() => {\n        this.refresh(true);\n      })\n    );\n    this.subs.add(this.store.pipe(select(selectSelectedExperiment),\n      filter(experiment => experiment?.id === this.experimentId))\n      .subscribe(experiment => {\n        this.selectedExperiment = experiment;\n        this.isExample = isReadOnly( this.selectedExperiment);\n      })\n    );\n  }\n\n\n  ngOnDestroy() {\n    this.subs.unsubscribe();\n  }\n\n  returnToInfo(experiment) {\n    this.router.navigateByUrl(`projects/${this.projectId}/experiments/${experiment.id}`);\n  }\n\n  setAutoRefresh($event: boolean) {\n    this.store.dispatch(setAutoRefresh({autoRefresh: $event}));\n  }\n\n  refresh(isAutorefresh) {\n    if (isAutorefresh) {\n      this.store.dispatch(new infoActions.AutoRefreshExperimentInfo(this.experimentId));\n    } else {\n      this.store.dispatch(new infoActions.GetExperimentInfo(this.experimentId));\n    }\n  }\n\n  minimizeView() {\n    const part = this.route.firstChild.routeConfig.path;\n    if (['log', 'metrics/scalar', 'metrics/plots', 'debugImages'].includes(part)) {\n      this.router.navigateByUrl(`projects/${this.projectId}/experiments/${this.experimentId}/info-output/${part}`);\n    } else {\n      const parts = this.router ? this.router.url.split('/') : window.location.pathname.split('/');;\n      parts.splice(5, 1);\n      this.router.navigateByUrl(parts.join('/'));\n    }\n  }\n\n  toggleSettingsBar() {\n    this.store.dispatch(toggleSettings());\n  }\n  updateExperimentName(name) {\n    if (name.trim().length > 2) {\n      this.store.dispatch(new ExperimentDetailsUpdated({id: this.selectedExperiment.id, changes: {name}}));\n    } else {\n      this.store.dispatch(addMessage(MESSAGES_SEVERITY.ERROR, 'Name must be more than three letters long'));\n    }\n  }\n}\n","<sm-overlay [backdropActive]=\"backdropActive$|async\"></sm-overlay>\n<div class=\"experiment-output-container light-theme\">\n  <sm-experiment-info-header\n    *ngIf=\"!minimized\"\n    (minimizeClicked)=\"minimizeView()\"\n    [experiment]=\"selectedExperiment\"\n    [infoData]=\"infoData$ | async\"\n    [editable]=\"!isExample\"\n    [showMenu]=\"true\"\n    [showMinimize]=\"true\"\n    [isSharedAndNotOwner]=\"isSharedAndNotOwner$ | async\"\n    (experimentNameChanged)=\"updateExperimentName($event)\"\n\n  >\n  </sm-experiment-info-header>\n  <nav [class.minimized]=\"minimized\" [smOverflows]=\"'nav'\" (onOverflows)=\"overflow = $event\">\n    <ng-container *ngIf=\"!minimized\">\n      <span [routerLink]=\"['execution']\"  queryParamsHandling=\"preserve\">\n        <sm-navbar-item header=\"execution\" [active]=\"routerConfig.includes('execution')\"></sm-navbar-item>\n      </span>\n        <span [routerLink]=\"['hyper-params/hyper-param/_empty_']\" [class.disabled]=\"routerConfig.includes('hyper-params')\" queryParamsHandling=\"merge\">\n        <sm-navbar-item header=\"Configuration\" [active]=\"routerConfig.includes('hyper-params')\"></sm-navbar-item>\n      </span>\n        <span [routerLink]=\"['artifacts']\" [routerLinkActive]=\"'disabled'\">\n        <sm-navbar-item header=\"artifacts\" [active]=\"routerConfig.includes('artifacts')\"></sm-navbar-item>\n      </span>\n      <span [routerLink]=\"['general']\"  queryParamsHandling=\"preserve\">\n        <sm-navbar-item header=\"info\" [active]=\"routerConfig.includes('general')\"></sm-navbar-item>\n      </span>\n    </ng-container>\n\n    <span [matMenuTriggerFor]=\"results\" *ngIf=\"!minimized && overflow\">\n      <sm-navbar-item header=\"results\" [multi]=\"true\" [active]=\"console.active || scalar.active || plots.active || samples.active\"></sm-navbar-item>\n    </span>\n\n    <mat-menu #results=\"matMenu\">\n      <button mat-menu-item [routerLink]=\"['log']\" [class.active]=\"routerConfig.includes('log')\">CONSOLE</button>\n      <button mat-menu-item [routerLink]=\"['metrics','scalar']\" [class.active]=\"routerConfig.includes('metrics') && routerConfig.includes('scalar')\">SCALARS</button>\n      <button mat-menu-item [routerLink]=\"['metrics','plots']\" [class.active]=\"routerConfig.includes('metrics') && routerConfig.includes('plots')\">PLOTS</button>\n      <button mat-menu-item [routerLink]=\"['debugImages']\" [class.active]=\"routerConfig.includes('debugImages')\">DEBUG SAMPLES</button>\n    </mat-menu>\n\n    <div class=\"d-inline-block\" [style.visibility]=\"overflow && !minimized ? 'hidden' : 'visible'\">\n      <span [routerLink]=\"['log']\" queryParamsHandling=\"preserve\">\n        <sm-navbar-item #console header=\"console\" [active]=\"routerConfig.includes('log')\"></sm-navbar-item>\n      </span>\n      <span [routerLink]=\"['metrics','scalar']\" queryParamsHandling=\"preserve\">\n        <sm-navbar-item #scalar header=\"Scalars\" [active]=\"routerConfig.includes('metrics') && routerConfig.includes('scalar')\"></sm-navbar-item>\n      </span>\n      <span [routerLink]=\"['metrics','plots']\" queryParamsHandling=\"preserve\">\n        <sm-navbar-item #plots header=\"PLOTS\" [active]=\"routerConfig.includes('metrics') && routerConfig.includes('plots')\"></sm-navbar-item>\n      </span>\n      <span [routerLink]=\"['debugImages']\" queryParamsHandling=\"preserve\">\n        <sm-navbar-item #samples header=\"DEBUG SAMPLES\" [active]=\"routerConfig.includes('debugImages')\"></sm-navbar-item>\n      </span>\n    </div>\n    <span class=\"refresh-position\">\n      <sm-experiment-settings\n        [class.maximized]=\"!minimized\"\n        [showSettings]=\"routerConfig.includes('scalar') && minimized\"\n        (toggleSettings)=\"toggleSettingsBar()\">\n      </sm-experiment-settings>\n      <sm-refresh-button\n        *ngIf=\" ! minimized\"\n        class=\"light-theme\"\n        [autoRefreshState]=\"autoRefreshState$ | async\"\n        (refreshList)=\"refresh(false)\"\n        (setAutoRefresh)=\"setAutoRefresh($event)\"\n      >\n      </sm-refresh-button>\n    </span>\n  </nav>\n  <div class=\"output-body\" [class.minimized]=\"minimized\">\n    <router-outlet class=\"output-outlet\"></router-outlet>\n  </div>\n</div>\n","import {Component} from '@angular/core';\nimport {BaseExperimentOutputComponent} from '../../../../webapp-common/experiments/containers/experiment-ouptut/base-experiment-output.component';\n\n@Component({\n  selector: 'sm-experiment-output',\n  templateUrl: './experiment-output.component.html',\n  styleUrls: ['../../../../webapp-common/experiments/containers/experiment-ouptut/base-experiment-output.component.scss']\n})\nexport class ExperimentOutputComponent extends BaseExperimentOutputComponent {\n  public overflow: boolean;\n}\n","<div class=\"h-100 row\">\n  <div *ngIf=\"!minimized\" class=\"list-container\">\n    <sm-graph-settings-bar\n      [verticalLayout]=\"true\"\n      [smoothWeight]=\"smoothWeight$ | async\"\n      [xAxisType]=\"xAxisType$ | async\"\n      [groupBy]=\"groupBy\"\n      [groupByOptions]=\"groupByOptions\"\n      (changeWeight)=\"changeSmoothness($event)\"\n      (toggleSettings)=\"toggleSettingsBar()\"\n      (changeXAxisType)=\"changeXAxisType($event)\"\n      (changeGroupBy)=\"changeGroupBy($event)\"\n    ></sm-graph-settings-bar>\n    <sm-selectable-grouped-filter-list\n      [list]=\"scalarList\"\n      [selected]=\"selectedGraph\"\n      [checkedList]=\"listOfHidden | async\"\n      [searchTerm]=\"searchTerm$ | async\"\n      (itemSelect)=\"metricSelected($event)\"\n      (hiddenChanged)=\"hiddenListChanged($event)\"\n      (searchTermChanged)=\"searchTermChanged($event)\"\n    >\n    </sm-selectable-grouped-filter-list>\n  </div>\n  <div class=\"graphs-container\" [class.maximized]=\"!minimized\">\n    <sm-experiment-graphs\n      [isGroupGraphs]=\"false\"\n      [metrics]=\"graphs\"\n      [hiddenList]=\"listOfHidden | async\"\n      [legendStringLength]=\"minimized? 14 : undefined\"\n      [minimized]=\"minimized\"\n      [smoothWeight]=\"smoothWeight$ | async\"\n      [xAxisType]=\"xAxisType$ | async\"\n      [groupBy]=\"groupBy\"\n      [showSettings]=\"showSettingsBar\"\n      [splitSize]=\"splitSize$ | async\"\n      [breakPoint]=\"900\"\n      (changeWeight)=\"changeSmoothness($event)\"\n      (resetGraphs)=\"resetMetrics()\"\n      (toggleSettings)=\"toggleSettingsBar()\"\n      (changeXAxisType)=\"changeXAxisType($event)\"\n      (changeGroupBy)=\"changeGroupBy($event)\"\n    >\n    </sm-experiment-graphs>\n  </div>\n</div>\n","import {ChangeDetectorRef, Component, OnDestroy, OnInit} from '@angular/core';\nimport {selectExperimentInfoHistograms, selectExperimentMetricsSearchTerm, selectIsExperimentInProgress, selectSelectedExperimentSettings, selectSelectedSettingsGroupBy, selectSelectedSettingsHiddenScalar, selectSelectedSettingsSmoothWeight, selectSelectedSettingsxAxisType, selectShowSettings, selectSplitSize} from '../../reducers';\nimport {Observable, Subscription} from 'rxjs';\nimport {select, Store} from '@ngrx/store';\nimport {distinctUntilChanged, filter, map, tap} from 'rxjs/operators';\nimport {selectRouterParams} from '../../../core/reducers/router-reducer';\nimport {scrollToElement} from '../../../shared/utils/shared-utils';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {of} from 'rxjs';\nimport {IExperimentInfoState} from '../../../../features/experiments/reducers/experiment-info.reducer';\nimport {ExperimentScalarRequested, ResetExperimentMetrics, SetExperimentMetricsSearchTerm, SetExperimentSettings} from '../../actions/common-experiment-output.actions';\nimport {convertScalars} from '../../../tasks/tasks.utils';\nimport {ScalarKeyEnum} from '../../../../business-logic/model/events/scalarKeyEnum';\nimport {selectSelectedExperiment} from '../../../../features/experiments/reducers';\nimport {GroupByCharts} from '../../reducers/common-experiment-output.reducer';\nimport {GroupedList} from '../../../shared/ui-components/data/selectable-grouped-filter-list/selectable-grouped-filter-list.component';\nimport {ExtFrame} from '../../../shared/experiment-graphs/single-graph/plotly-graph-base';\n\n\n@Component({\n  selector: 'sm-experiment-output-scalars',\n  templateUrl: './experiment-output-scalars.component.html',\n  styleUrls: ['./experiment-output-scalars.component.scss']\n})\nexport class ExperimentOutputScalarsComponent implements OnInit, OnDestroy {\n  public scalarList: GroupedList = {};\n  public selectedGraph: string = null;\n\n  private subs = new Subscription();\n  private experimentId: string;\n  private routerParams$: Observable<any>;\n  private selectedExperimentId$: Observable<any>;\n  public refreshDisabled: boolean;\n  public listOfHidden: Observable<Array<any>>;\n  public scalars$: any;\n  public experimentSettings$: Observable<any>;\n  public searchTerm$: Observable<string>;\n  public minimized: boolean = false;\n  public graphs: { [key: string]: ExtFrame[] };\n  public selectIsExperimentPendingRunning: Observable<boolean>;\n  public smoothWeight$: Observable<number>;\n  public showSettingsBar: boolean = false;\n  public xAxisType$: Observable<ScalarKeyEnum>;\n  public groupBy$: Observable<GroupByCharts>;\n  public splitSize$: Observable<number>;\n  public groupBy: GroupByCharts;\n  private scalars: any;\n\n  groupByOptions = [\n    {\n      name: 'Metric',\n      value: GroupByCharts.Metric\n    },\n    {\n      name: 'None',\n      value: GroupByCharts.None\n    }\n  ];\n\n  constructor(private store: Store<IExperimentInfoState>, private router: Router, private activeRoute: ActivatedRoute, private changeDetection: ChangeDetectorRef) {\n    this.searchTerm$ = this.store.pipe(select(selectExperimentMetricsSearchTerm));\n    this.splitSize$ = this.store.pipe(select(selectSplitSize));\n\n    this.scalars$ = this.store.select(selectExperimentInfoHistograms)\n      .pipe(\n        filter((metrics) => !!metrics),\n      );\n\n    this.experimentSettings$ = this.store.pipe(\n      select(selectSelectedExperimentSettings),\n      filter(settings => !!settings),\n      map(settings => settings ? settings.selectedScalar : null),\n      distinctUntilChanged()\n    );\n    this.smoothWeight$ = this.store.select(selectSelectedSettingsSmoothWeight);\n    this.xAxisType$ = this.store.select(selectSelectedSettingsxAxisType);\n    this.groupBy$ = this.store.select(selectSelectedSettingsGroupBy);\n\n    this.routerParams$ = this.store.pipe(\n      select(selectRouterParams),\n      filter(params => !!params.experimentId),\n      tap(params => this.experimentId = params.experimentId),\n      distinctUntilChanged()\n    );\n\n    this.selectIsExperimentPendingRunning = this.store.pipe(\n      select(selectIsExperimentInProgress)\n    );\n\n    this.selectedExperimentId$ = this.store.pipe(\n      select(selectRouterParams),\n      filter(params => !!params.experimentId),\n      distinctUntilChanged()\n    );\n\n    this.subs.add(this.xAxisType$\n      .pipe(filter((axis) => !!axis && !!this.experimentId))\n      .subscribe(() => this.store.dispatch(new ExperimentScalarRequested(this.experimentId)))\n    );\n\n    this.subs.add(this.groupBy$\n      .pipe(filter((groupBy) => !!groupBy))\n      .subscribe(groupBy => {\n        this.groupBy = groupBy;\n        this.prepareGraphsAndUpdate(this.scalars);\n      })\n    );\n\n    this.subs.add(this.store.select(selectShowSettings)\n      .subscribe((show) => this.showSettingsBar = show)\n    );\n  }\n\n  ngOnInit() {\n    this.minimized = this.activeRoute.snapshot.routeConfig.data.minimized;\n    this.listOfHidden = this.minimized ? of([]) : this.store.pipe(select(selectSelectedSettingsHiddenScalar))\n      .pipe(distinctUntilChanged());\n\n    this.subs.add(this.store.select(selectSelectedExperiment)\n      .pipe(\n        filter(experiment => !!experiment),\n        distinctUntilChanged()\n      )\n      .subscribe(experiment => {\n        this.experimentId = experiment.id;\n        this.refresh();\n      })\n    );\n\n    this.subs.add(this.scalars$\n      .subscribe(scalars => {\n        this.refreshDisabled = false;\n        this.scalars = scalars;\n        this.prepareGraphsAndUpdate(scalars);\n      })\n    );\n\n    this.subs.add(this.experimentSettings$\n      .subscribe((selectedScalar) => {\n        this.selectedGraph = selectedScalar;\n        scrollToElement(this.selectedGraph);\n      })\n    );\n\n    this.subs.add(this.routerParams$\n      .subscribe(params => {\n        if (!this.experimentId || this.experimentId !== params.experimentId) {\n          this.graphs = undefined;\n          this.resetMetrics();\n          // this.store.dispatch(new ExperimentScalarRequested(params.experimentId));\n          this.store.dispatch(new SetExperimentMetricsSearchTerm({searchTerm: ''}));\n        }\n      })\n    );\n  }\n\n  private prepareGraphsAndUpdate(scalars: GroupedList) {\n    if (scalars) {\n      const splittedScalars = this.groupBy === 'metric' ? scalars : this.splitScalars(scalars);\n      this.scalarList = this.prepareScalarList(splittedScalars);\n      this.graphs = convertScalars(splittedScalars, this.experimentId);\n      this.changeDetection.detectChanges();\n    }\n  }\n\n  ngOnDestroy() {\n    this.subs.unsubscribe();\n    this.resetMetrics();\n  }\n\n  private prepareScalarList(metricsScalar: GroupedList): GroupedList {\n    return Object.keys(metricsScalar || []).reduce((acc, curr) => {\n      acc[curr] = {};\n      return acc;\n    }, {});\n  }\n\n  metricSelected(id) {\n    this.store.dispatch(new SetExperimentSettings({id: this.experimentId, changes: {selectedScalar: id}}));\n  }\n\n\n  hiddenListChanged(hiddenList) {\n    this.store.dispatch(new SetExperimentSettings({id: this.experimentId, changes: {hiddenMetricsScalar: hiddenList}}));\n  }\n\n  refresh() {\n    if (!this.refreshDisabled) {\n      this.refreshDisabled = true;\n      this.store.dispatch(new ExperimentScalarRequested(this.experimentId));\n    }\n  }\n\n  searchTermChanged(searchTerm: string) {\n    this.store.dispatch(new SetExperimentMetricsSearchTerm({searchTerm}));\n  }\n\n  resetMetrics() {\n    this.store.dispatch(new ResetExperimentMetrics());\n  }\n\n  changeSmoothness($event: any) {\n    this.store.dispatch(new SetExperimentSettings({id: this.experimentId, changes: {smoothWeight: $event}}));\n  }\n\n  changeXAxisType($event: ScalarKeyEnum) {\n    this.store.dispatch(new SetExperimentSettings({id: this.experimentId, changes: {xAxisType: $event}}));\n  }\n\n  changeGroupBy($event: GroupByCharts) {\n    this.store.dispatch(new SetExperimentSettings({id: this.experimentId, changes: {groupBy: $event}}));\n  }\n\n  toggleSettingsBar() {\n    this.showSettingsBar = !this.showSettingsBar;\n  }\n\n  private splitScalars(scalars: GroupedList): GroupedList {\n    return Object.entries(scalars).reduce((acc, [metric, variantGraph]) => {\n      Object.entries(variantGraph).forEach(([variant, graph]) => {\n        acc[metric + ' / ' + variant] = {[metric + ' / ' + variant]: graph};\n      });\n      return acc;\n    }, {});\n  }\n}\n","<div *ngIf=\" !minimized\" class=\"list-container\">\n  <sm-selectable-filter-list\n    checkAllIcon=\"fa-eye\"\n    placeholder=\"Find plots\"\n    [list]=\"plotsList\"\n    [selected]=\"selectedGraph\"\n    [checkedList]=\"listOfHidden | async\"\n    [searchTerm]=\"searchTerm$ | async\"\n    (itemSelect)=\"metricSelected($event)\"\n    (hiddenChanged)=\"hiddenListChanged($event)\"\n    (searchTermChanged)=\"searchTermChanged($event)\"\n  >\n  </sm-selectable-filter-list>\n</div>\n<div class=\"graphs-container\" [ngClass]=\"{'col-20': !minimized, 'col-24': minimized}\">\n  <sm-experiment-graphs\n    [isGroupGraphs]=\"true\"\n    [hiddenList]=\"listOfHidden | async\"\n    [metrics]=\"graphs\"\n    [legendStringLength]=\"minimized? 14 : undefined\"\n    [minimized]=\"minimized\"\n    [splitSize]=\"splitSize$ | async\"\n    (resetGraphs)=\"resetMetrics()\"\n  >\n  </sm-experiment-graphs>\n</div>\n","import {ChangeDetectorRef, Component, OnDestroy, OnInit} from '@angular/core';\nimport {\n  selectExperimentInfoPlots, selectExperimentMetricsSearchTerm,\n  selectIsExperimentInProgress, selectSelectedExperimentSettings,\n  selectSelectedSettingsHiddenPlot, selectSplitSize\n} from '../../reducers';\nimport {Observable, of, Subscription} from 'rxjs';\nimport {select, Store} from '@ngrx/store';\nimport {SelectableListItem} from '../../../shared/ui-components/data/selectable-list/selectable-list.model';\nimport {distinctUntilChanged, filter, map} from 'rxjs/operators';\nimport {selectRouterParams} from '../../../core/reducers/router-reducer';\nimport {scrollToElement} from '../../../shared/utils/shared-utils';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {IExperimentInfoState} from '../../../../features/experiments/reducers/experiment-info.reducer';\nimport {\n  experimentPlotsRequested, ResetExperimentMetrics, SetExperimentMetricsSearchTerm,\n  SetExperimentSettings\n} from '../../actions/common-experiment-output.actions';\nimport {convertPlots, groupIterations, sortMetricsList} from '../../../tasks/tasks.utils';\nimport {selectSelectedExperiment} from '../../../../features/experiments/reducers';\nimport {ExtFrame} from '@common/shared/experiment-graphs/single-graph/plotly-graph-base';\nimport {MetricsPlotEvent} from '../../../../business-logic/model/events/metricsPlotEvent';\n\n@Component({\n  selector: 'sm-experiment-output-plots',\n  templateUrl: './experiment-output-plots.component.html',\n  styleUrls: ['./experiment-output-plots.component.scss']\n})\nexport class ExperimentOutputPlotsComponent implements OnInit, OnDestroy {\n\n  public plotsList: Array<SelectableListItem> = [];\n  public selectedGraph: string = null;\n\n  private plotsSubscription: Subscription;\n  private settingsSubscription: Subscription;\n  private routerParamsSubscription: Subscription;\n  private experimentId: string;\n  private routerParams$: Observable<any>;\n  public listOfHidden: Observable<Array<any>>;\n  public plots$: Observable<MetricsPlotEvent[]>;\n  public experimentSettings$: Observable<any>;\n  public searchTerm$: Observable<string>;\n  public minimized: boolean = false;\n  public graphs: { [key: string]: ExtFrame[] };\n  public refreshDisabled: boolean;\n  public selectIsExperimentPendingRunning: Observable<boolean>;\n  private selectedExperimentSubscription: Subscription;\n  public splitSize$: Observable<number>;\n\n\n  constructor(private store: Store<IExperimentInfoState>, private router: Router, private activeRoute: ActivatedRoute, private changeDetection: ChangeDetectorRef) {\n    this.searchTerm$ = this.store.pipe(select(selectExperimentMetricsSearchTerm));\n    this.splitSize$ = this.store.pipe(select(selectSplitSize));\n\n    this.plots$ = this.store.pipe(\n      select(selectExperimentInfoPlots),\n      distinctUntilChanged(),\n      filter(metrics => !!metrics)\n    );\n\n    this.experimentSettings$ = this.store.pipe(\n      select(selectSelectedExperimentSettings),\n      filter(settings => !!settings),\n      map(settings => settings ? settings.selectedPlot : null),\n      distinctUntilChanged()\n    );\n\n    this.routerParams$ = this.store.pipe(\n      select(selectRouterParams),\n      filter(params => !!params.experimentId),\n      distinctUntilChanged()\n    );\n\n    this.selectIsExperimentPendingRunning = this.store.pipe(\n      select(selectIsExperimentInProgress)\n    );\n  }\n\n  ngOnInit() {\n    this.minimized = this.activeRoute.snapshot.routeConfig.data.minimized;\n    this.listOfHidden = this.minimized ? of([]) : this.store.select(selectSelectedSettingsHiddenPlot);\n    this.plotsSubscription = this.plots$\n      .subscribe((metricsPlots) => {\n        this.refreshDisabled = false;\n        const groupedPlots = groupIterations(metricsPlots);\n        this.plotsList = this.preparePlotsList(groupedPlots);\n        this.graphs = convertPlots({plots: groupedPlots, experimentId: this.experimentId});\n        this.changeDetection.detectChanges();\n      });\n\n    this.settingsSubscription = this.experimentSettings$\n      .subscribe((selectedPlot) => {\n        this.selectedGraph = selectedPlot;\n        scrollToElement(this.selectedGraph);\n      });\n\n    this.routerParamsSubscription = this.routerParams$\n      .subscribe(params => {\n        if (!this.experimentId || this.experimentId !== params.experimentId) {\n          this.graphs = undefined;\n          this.resetMetrics();\n          // this.store.dispatch(new ExperimentPlotsRequested(params.experimentId));\n          this.store.dispatch(new SetExperimentMetricsSearchTerm({searchTerm: ''}));\n        }\n        this.experimentId = params.experimentId;\n      });\n\n    this.selectedExperimentSubscription = this.store.select(selectSelectedExperiment)\n      .pipe(\n        filter(experiment => !!experiment),\n        distinctUntilChanged()\n      )\n      .subscribe(experiment => {\n        this.experimentId = experiment.id;\n        this.refresh();\n      });\n\n  }\n\n  ngOnDestroy() {\n    this.resetMetrics();\n    this.plotsSubscription.unsubscribe();\n    this.settingsSubscription.unsubscribe();\n    this.routerParamsSubscription.unsubscribe();\n    this.selectedExperimentSubscription.unsubscribe();\n    this.resetMetrics();\n  }\n\n  private preparePlotsList(groupedPlots: {[title: string]: MetricsPlotEvent[]}): Array<SelectableListItem> {\n    const list = groupedPlots ? Object.keys(groupedPlots) : [];\n    const sortedList = sortMetricsList(list);\n    return sortedList.map((item) => ({name: item, value: item}));\n  }\n\n  metricSelected(id: string) {\n    this.store.dispatch(new SetExperimentSettings({id: this.experimentId, changes: {selectedPlot: id}}));\n  }\n\n  hiddenListChanged(hiddenList: string[]) {\n    this.store.dispatch(new SetExperimentSettings({id: this.experimentId, changes: {hiddenMetricsPlot: hiddenList}}));\n  }\n\n  refresh() {\n    if (!this.refreshDisabled) {\n      this.refreshDisabled = true;\n      this.store.dispatch(experimentPlotsRequested({task: this.experimentId}));\n    }\n  }\n\n  searchTermChanged(searchTerm: string) {\n    this.store.dispatch(new SetExperimentMetricsSearchTerm({searchTerm}));\n  }\n\n  resetMetrics() {\n    this.store.dispatch(new ResetExperimentMetrics());\n  }\n\n}\n","<cdk-virtual-scroll-viewport itemSize=\"25\" minBufferPx=\"1000\" maxBufferPx=\"2000\"\n  class=\"viewport\" tabindex=\"0\" #LogContainer [class.dark-theme]=\"isDarkTheme\">\n  <div *cdkVirtualFor=\"let line of lines; trackBy: trackByTimestampFn\" class=\"log-line\" [class.separator]=\"line.separator\">\n    <div class=\"timestamp\">{{line.timestamp | date:'y-MM-dd HH:mm:ss'}}</div>\n    <div class=\"entry\" *ngIf=\"line.hasAnsi; else regularLine\" [innerHTML]=\"line.entry | safe:'html'\"></div>\n    <ng-template #regularLine>\n      <div class=\"entry\">{{line.entry}}</div>\n    </ng-template>\n  </div>\n</cdk-virtual-scroll-viewport>\n<mat-spinner *ngIf=\"fetching\" [diameter]=\"80\" [strokeWidth]=\"8\"></mat-spinner>\n<button *ngIf=\"!fetching\" class=\"btn btn-primary get-last\" [class.at-end]=\"canRefresh\" (click)=\"getLast()\">Jump to end</button>\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  ViewChild,\n  OnDestroy,\n  Output,\n  EventEmitter,\n  ChangeDetectorRef, AfterViewInit, ElementRef\n} from '@angular/core';\nimport {Subscription} from 'rxjs';\nimport {CdkVirtualScrollViewport} from '@angular/cdk/scrolling';\nimport {last, findIndex} from 'lodash/fp';\nimport Convert from 'ansi-to-html';\nimport {Log} from '../../reducers/common-experiment-output.reducer';\n\nimport hasAnsi from 'has-ansi';\n\ninterface LogRow {\n  timestamp?: string;\n  entry: string;\n  separator?: boolean;\n  hasAnsi?: boolean;\n}\n\n@Component({\n  selector: 'sm-experiment-log-info',\n  templateUrl: './experiment-log-info.component.html',\n  styleUrls: ['./experiment-log-info.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ExperimentLogInfoComponent implements OnDestroy, AfterViewInit {\n\n  public orgLogs: Log[];\n  public lines = [] as LogRow[];\n  private initial = true;\n  public convert: Convert;\n  private hasFilter = false;\n  private regex: RegExp;\n  private scrollSubscription: Subscription;\n  private indexSubscription: Subscription;\n  private shouldFocusLog = false;\n  public fetching = false;\n  private scrolling: boolean = false;\n  private prevLocation = 0;\n  public canRefresh = true;\n  private prevLine: LogRow;\n  private fetchPrev: boolean;\n  private prevLineOffset: number;\n\n  @ViewChild('LogContainer', {static: true}) private logContainer: CdkVirtualScrollViewport;\n  @Input() beginningOfLog: boolean;\n  @Input() isDarkTheme: boolean;\n  private hasAnsi: any;\n  private observer: IntersectionObserver;\n  private logInView: boolean;\n\n  @Input() set filterString(filter: string) {\n    if (this.logInView) {\n      this.shouldFocusLog = false;\n      setTimeout(() => this.shouldFocusLog = true, 1000);\n    }\n    this.hasFilter = !!filter;\n    if (this.hasFilter) {\n      this.regex = ExperimentLogInfoComponent.getRegexFromString(filter);\n    }\n\n    if (this.orgLogs) {\n      this.calcLines();\n    }\n  }\n\n  @Input() set logs(log: Log[]) {\n    if (log === null) {\n      return;\n    }\n    this.orgLogs = log;\n    this.calcLines();\n    let prevLocation = findIndex(this.prevLine, this.lines) + this.prevLineOffset;\n    if (this.fetchPrev) {\n      prevLocation -= 25;\n    }\n    this.fetchPrev = null;\n    if (this.fetching) {\n      this.scrolling = true;\n      window.setTimeout(() => {\n        this.logContainer?.scrollToIndex(prevLocation);\n        window.setTimeout(() => this.scrolling = false, 50);\n      });\n    } else {\n      const elm = this.logContainer?.elementRef.nativeElement;\n      if (log?.length && (elm.scrollTop + elm.offsetHeight > elm.scrollHeight - 100 || this.initial)) {\n        this.initial = false;\n        this.scrolling = true;\n        window.setTimeout(() => {\n          this.logContainer?.scrollToIndex(this.lines.length);\n          this.canRefresh = true;\n          window.setTimeout(() => this.scrolling = false, 80);\n        }, 10);\n      }\n    }\n    window.setTimeout(() => {\n      this.fetching = false;\n      this.cdr.detectChanges();\n    }, 50);\n  }\n\n  @Output() fetchMore = new EventEmitter<{ direction: string; from?: number }>();\n\n  constructor(private cdr: ChangeDetectorRef, private element: ElementRef) {\n    this.convert = new Convert();\n    this.hasAnsi = hasAnsi;\n  }\n\n  ngAfterViewInit() {\n    this.scrollSubscription = this.logContainer?.elementScrolled().subscribe((event: Event) => {\n      if (this.shouldFocusLog) {\n        setTimeout(() => (event.target as HTMLElement).focus(), 50);\n      }\n    });\n\n    window.setTimeout(() => {\n      this.indexSubscription = this.logContainer?.scrolledIndexChange.subscribe((location: number) => {\n        if (!this.fetching && !this.scrolling) {\n          const itemsInView = Math.ceil(this.logContainer?.getViewportSize() / 25);\n          if (location < 10 && location < this.prevLocation && !this.beginningOfLog) {\n            this.fetching = true;\n            this.cdr.detectChanges();\n            this.fetchPrev = true;\n            this.fetchMore.emit({direction: 'prev', from: this.orgLogs?.[0]?.timestamp});\n          } else if (location >= this.lines.length - itemsInView && location > this.prevLocation) {\n            this.fetching = true;\n            this.cdr.detectChanges();\n            this.fetchMore.emit({direction: 'next', from: last(this.orgLogs)?.timestamp});\n          }\n        }\n        this.prevLocation = location;\n        this.prevLine = {} as LogRow;\n        let i = 0;\n        while (!this.prevLine.timestamp) {\n          this.prevLine = this.lines[location - i];\n          i += 1;\n        }\n        this.prevLineOffset = i;\n        if (this.canRefresh !== location > this.lines.length - 30) {\n          this.canRefresh = !this.canRefresh;\n          this.cdr.detectChanges();\n        }\n      });\n    }, 500);\n\n    this.observer = new IntersectionObserver((entries => {\n      this.logInView = entries[0].isIntersecting;\n      this.shouldFocusLog = entries[0].isIntersecting;\n    }), {threshold: 0.7});\n    this.observer.observe(this.element.nativeElement);\n  }\n\n  ngOnDestroy() {\n    this.scrollSubscription?.unsubscribe();\n    this.indexSubscription?.unsubscribe();\n    this.logContainer = null;\n  }\n\n  private static getRegexFromString(filter: string) {\n    const flags = filter.match(/.*\\/([gimy]*)$/);\n    if (flags) {\n      const pattern = flags ? filter.replace(new RegExp('^/(.*?)/' + flags[1] + '$'), '$1') : filter;\n      filter.replace(new RegExp('^/(.*?)/' + flags[1] + '$'), '$1');\n      return new RegExp(pattern, flags[1]);\n    } else {\n      return new RegExp(filter, 'i');\n    }\n  }\n\n  calcLines() {\n    this.lines = [];\n    this.orgLogs.filter((row) => !this.hasFilter || this.regex.test(row.msg))\n      .forEach(logItem => {\n        let first = true;\n        logItem.msg.split('\\n').filter(msg => !!msg).forEach((msg: string) => {\n          const hasAnsi = this.hasAnsi(msg);\n          const converted = msg ? (hasAnsi ? this.convert.toHtml(msg) :\n            msg) : '';\n          if (first) {\n            this.lines.push({timestamp: logItem['timestamp'] || logItem['@timestamp'], entry: converted, hasAnsi: hasAnsi});\n            first = false;\n          } else {\n            this.lines.push({entry: converted, hasAnsi: hasAnsi});\n          }\n        });\n        this.lines[this.lines.length - 1].separator = true;\n      });\n  }\n\n  trackByTimestampFn(index: number, line: LogRow) {\n    return line.timestamp;\n  }\n\n  reset() {\n    this.initial = true;\n    this.fetching = false;\n    this.cdr.detectChanges();\n  }\n\n  getLast() {\n    this.prevLine = null;\n    this.prevLineOffset = 0;\n    this.initial = true;\n    this.fetchMore.emit({direction: 'prev'});\n  }\n}\n","<div class=\"px-4 py-2 row align-items-center\" *ngIf=\"hasLog && showHeader\">\n  <div class=\"p-2 mr-auto\">\n    <span>\n      <b>Hostname:</b> {{creator}}\n    </span>\n  </div>\n  <button class=\"btn btn-primary mr-5\" (click)=\"downloadLog()\">\n    <i class=\"fa fa-download\"></i>\n    Download full log\n  </button>\n  <span style=\"width: 45px;\">Filter: </span>\n  <input\n    placeholder=\"Filter By Regex\"\n    class=\"form-control\"\n    style=\"width: 250px;\"\n    [value]=\"filter$ |async\"\n    (keyup)=\"filterLog($event)\"\n  />\n</div>\n<div *ngIf=\"hasLog !== undefined && !hasLog\" class=\"no-output\">\n  <i class=\"icon no-output-icon\" [ngClass]=\"isDarkTheme ? 'i-no-log-dark' : 'i-no-log'\"></i>\n  <h3>NO LOG DATA</h3>\n</div>\n\n<sm-experiment-log-info *ngIf=\"hasLog\"\n  [class.no-header]=\"!showHeader\"\n  [isDarkTheme]=\"isDarkTheme\"\n  [logs]=\"log$ | async\"\n  [beginningOfLog]=\"logBeginning$ | async\"\n  [filterString]=\"filter$ | async\"\n  (fetchMore)=\"getLogs($event)\"\n></sm-experiment-log-info>\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnDestroy,\n  OnInit,\n  QueryList,\n  ViewChildren\n} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {selectExperimentBeginningOfLog, selectExperimentLog, selectLogFilter} from '../../reducers';\nimport {Observable, Subscription} from 'rxjs';\nimport {distinctUntilChanged, filter} from 'rxjs/operators';\nimport {last} from 'lodash/fp';\nimport {IExperimentInfo} from '../../../../features/experiments/shared/experiment-info.model';\nimport {IExperimentInfoState} from '../../../../features/experiments/reducers/experiment-info.reducer';\nimport {selectSelectedExperiment} from '../../../../features/experiments/reducers';\nimport {\n  downloadFullLog,\n  getExperimentLog,\n  ResetLogFilter,\n  ResetOutput,\n  SetLogFilter\n} from '../../actions/common-experiment-output.actions';\nimport {ExperimentLogInfoComponent} from '../../dumb/experiment-log-info/experiment-log-info.component';\nimport {selectRefreshing} from '../../../experiments-compare/reducers';\n\n@Component({\n  selector: 'sm-experiment-output-log',\n  templateUrl: './experiment-output-log.component.html',\n  styleUrls: ['./experiment-output-log.component.scss']\n})\nexport class ExperimentOutputLogComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  @Input() showHeader = true;\n  @Input() isDarkTheme = false;\n  private subs = new Subscription();\n  private experiment: IExperimentInfo;\n\n  public log$: Observable<any[]>;\n  public filter$: Observable<string>;\n  public logBeginning$: Observable<boolean>;\n  public creator: string | Worker;\n  public disabled: boolean;\n  public hasLog: boolean;\n  private logRef: ExperimentLogInfoComponent;\n  @ViewChildren(ExperimentLogInfoComponent) private logRefs: QueryList<ExperimentLogInfoComponent>;\n\n  constructor(private store: Store<IExperimentInfoState>, private cdr: ChangeDetectorRef) {\n    this.log$ = this.store.select(selectExperimentLog);\n    this.logBeginning$ = this.store.select(selectExperimentBeginningOfLog);\n    this.filter$ = this.store.select(selectLogFilter);\n  }\n\n  ngAfterViewInit(): void {\n    this.subs.add(this.logRefs.changes.subscribe(refs => this.logRef = refs.first));\n  }\n\n  ngOnInit() {\n    this.subs.add(this.log$.subscribe(log => {\n      if (log) {\n        this.creator = last(log)?.worker ?? '';\n        this.disabled = false;\n        this.hasLog = log.length > 0;\n        this.cdr.detectChanges();\n      }\n    }));\n\n    this.subs.add(this.store.select(selectSelectedExperiment)\n      .pipe(\n        filter(experiment => !!experiment),\n        distinctUntilChanged()\n      )\n      .subscribe(experiment => {\n        if (this.experiment?.id !== experiment.id || this.experiment?.started !== experiment.started) {\n          this.store.dispatch(new ResetOutput());\n          this.logRef?.reset();\n          this.experiment = experiment;\n          this.store.dispatch(getExperimentLog({\n            id: this.experiment.id,\n            direction: null\n          }));\n        } else if (!this.logRef?.lines?.length || this.logRef?.canRefresh) {\n          this.store.dispatch(getExperimentLog({\n            id: this.experiment.id,\n            direction: !this.logRef?.orgLogs ? 'prev' : 'next',\n            from: last(this.logRef?.orgLogs)?.timestamp\n          }));\n        }\n      })\n    );\n\n    this.subs.add(this.store.select(selectRefreshing)\n      .pipe(filter(({refreshing}) => refreshing))\n      .subscribe(({autoRefresh}) => this.store.dispatch(getExperimentLog({\n        id: this.experiment.id,\n        direction: autoRefresh ? 'prev' : 'next',\n        from: last(this.logRef?.orgLogs)?.timestamp\n      })))\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subs.unsubscribe();\n    this.logRef = null;\n    this.logRefs = null;\n    this.store.dispatch(new ResetLogFilter());\n    this.store.dispatch(new ResetOutput());\n  }\n\n  public filterLog(event: KeyboardEvent) {\n    this.store.dispatch(new SetLogFilter((event.target as HTMLInputElement).value));\n  }\n\n  getLogs({direction, from}: {direction: string; from?: number}) {\n    this.store.dispatch(getExperimentLog({id: this.experiment.id, direction, from, refresh: !from}));\n  }\n\n  downloadLog() {\n    this.store.dispatch(downloadFullLog({experimentId: this.experiment.id}));\n  }\n}\n","import {RouterModule, Routes} from '@angular/router';\nimport {NgModule} from '@angular/core';\nimport {SMSharedModule} from '../../webapp-common/shared/shared.module';\nimport {SelectableListComponent} from '../../webapp-common/shared/ui-components/data/selectable-list/selectable-list.component';\nimport {SelectableFilterListComponent} from '../../webapp-common/shared/ui-components/data/selectable-filter-list/selectable-filter-list.component';\nimport {routes as commonRoutes} from '../../webapp-common/experiments/experiment-routes';\n\nexport const routes: Routes = [\n  ...commonRoutes\n];\n\n@NgModule({\n  imports: [\n    SMSharedModule,\n    RouterModule.forChild(routes),\n\n  ],\n  exports: [RouterModule, SelectableListComponent, SelectableFilterListComponent]\n})\nexport class ExperimentRouterModule {\n}\n\n","import {Routes} from '@angular/router';\nimport {ExperimentsComponent} from '@common/experiments/experiments.component';\nimport {ExperimentInfoComponent} from '../../features/experiments/containers/experiment-info/experiment-info.component';\nimport {ExperimentInfoExecutionComponent} from './containers/experiment-info-execution/experiment-info-execution.component';\nimport {LeavingBeforeSaveAlertGuard} from '../shared/guards/leaving-before-save-alert.guard';\nimport {ExperimentInfoArtifactsComponent} from './containers/experiment-info-aritfacts/experiment-info-artifacts.component';\nimport {ExperimentInfoModelComponent} from './containers/experiment-info-model/experiment-info-model.component';\nimport {ExperimentInfoArtifactItemComponent} from './containers/experiment-info-artifact-item/experiment-info-artifact-item.component';\nimport {ExperimentInfoHyperParametersComponent} from './containers/experiment-info-hyper-parameters/experiment-info-hyper-parameters.component';\nimport {ExperimentInfoTaskModelComponent} from './containers/experiment-info-task-model/experiment-info-task-model.component';\nimport {ExperimentInfoHyperParametersFormContainerComponent} from './containers/experiment-info-hyper-parameters-form-container/experiment-info-hyper-parameters-form-container.component';\nimport {ExperimentInfoGeneralComponent} from './containers/experiment-info-general/experiment-info-general.component';\nimport {ExperimentOutputComponent} from '../../features/experiments/containers/experiment-ouptut/experiment-output.component';\nimport {ExperimentOutputScalarsComponent} from './containers/experiment-output-scalars/experiment-output-scalars.component';\nimport {ExperimentOutputPlotsComponent} from './containers/experiment-output-plots/experiment-output-plots.component';\nimport {DebugImagesComponent} from '../debug-images/debug-images.component';\nimport {ExperimentOutputLogComponent} from './containers/experiment-output-log/experiment-output-log.component';\n\nexport const routes: Routes = [\n  {\n    path: '',\n    component: ExperimentsComponent,\n    children: [\n      {\n        path: ':experimentId', component: ExperimentInfoComponent,\n        children: [\n          {path: '', redirectTo: 'execution', pathMatch: 'full'},\n          {\n            path: 'execution',\n            component: ExperimentInfoExecutionComponent,\n            canDeactivate: [LeavingBeforeSaveAlertGuard],\n            data: {minimized: true}\n          },\n          {\n            path: 'artifacts',\n            component: ExperimentInfoArtifactsComponent,\n            canDeactivate: [LeavingBeforeSaveAlertGuard],\n            data     : {minimized: true},\n            children: [\n              {path: '', redirectTo: 'input-model', pathMatch: 'full'},\n              {path: 'input-model/:modelId', component: ExperimentInfoModelComponent, data: {outputModel: false}},\n              {path: 'output-model/:modelId', component: ExperimentInfoModelComponent , data: {outputModel: true}},\n              {\n                path: 'artifact/:artifactId',\n                children: [{path: ':mode', component: ExperimentInfoArtifactItemComponent}]\n              },\n              {path: 'other/:artifactId', children: [{path: ':mode', component: ExperimentInfoArtifactItemComponent}]}\n            ]\n          },\n          {\n            path: 'hyper-params',\n            component: ExperimentInfoHyperParametersComponent,\n            canDeactivate: [LeavingBeforeSaveAlertGuard],\n            data     : {minimized: true},\n            children: [\n              {path: 'configuration/:configObject', component: ExperimentInfoTaskModelComponent},\n              {path: 'hyper-param/:hyperParamId', component: ExperimentInfoHyperParametersFormContainerComponent}\n            ]\n          },\n          {path: 'general', component: ExperimentInfoGeneralComponent, data: {minimized: true}},\n          {\n            path: 'info-output',\n            component: ExperimentOutputComponent,\n            data: {minimized: true},\n            children: [\n              {path: 'metrics/scalar', component: ExperimentOutputScalarsComponent, data: {minimized: true}},\n              {path: 'metrics/plots', component: ExperimentOutputPlotsComponent, data: {minimized: true}},\n              {path: 'debugImages', component: DebugImagesComponent, data: {minimized: true}},\n              {path: 'log', component: ExperimentOutputLogComponent, data: {minimized: true}},\n              {path: '', redirectTo: 'log', pathMatch: 'full'}\n            ]\n          }\n        ]\n      },\n    ]\n  },\n\n  {\n    path: ':experimentId/output',\n    component: ExperimentOutputComponent,\n    data: {search: false},\n    children: [\n      {path: '', redirectTo: 'execution'},\n      {path: 'execution',\n        component: ExperimentInfoExecutionComponent,\n        canDeactivate: [LeavingBeforeSaveAlertGuard]\n      },\n      {\n        path: 'hyper-params',\n        component: ExperimentInfoHyperParametersComponent,\n        data: {},\n        canDeactivate: [LeavingBeforeSaveAlertGuard],\n        children: [\n          {path: 'configuration/:configObject', component: ExperimentInfoTaskModelComponent},\n          {path: 'hyper-param/:hyperParamId', component: ExperimentInfoHyperParametersFormContainerComponent}\n        ]\n      },\n      {\n        path: 'artifacts',\n        component: ExperimentInfoArtifactsComponent,\n        data: {},\n        canDeactivate: [LeavingBeforeSaveAlertGuard],\n        children: [\n          {path: '', redirectTo: 'input-model', pathMatch: 'full'},\n          {path: 'input-model/:modelId', component: ExperimentInfoModelComponent , data: {outputModel: false}},\n          {path: 'output-model/:modelId', component: ExperimentInfoModelComponent , data: {outputModel: true}},\n          {path: 'artifact/:artifactId', children: [{path: ':mode', component: ExperimentInfoArtifactItemComponent}]},\n          {path: 'other/:artifactId', children: [{path: ':mode', component: ExperimentInfoArtifactItemComponent}]}\n        ]\n      },\n      {path: 'general', component: ExperimentInfoGeneralComponent, data: {}},\n      {path: 'metrics/scalar', component: ExperimentOutputScalarsComponent, data: {}},\n      {path: 'metrics/plots', component: ExperimentOutputPlotsComponent, data: {}},\n      {path: 'debugImages', component: DebugImagesComponent},\n      {path: 'log', component: ExperimentOutputLogComponent},\n    ]\n  }\n];\n","import {Injectable} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {Actions, Effect, ofType} from '@ngrx/effects';\nimport * as actions from './select-model.actions';\nimport * as exSelectors from './select-model.reducer';\nimport {MODELS_PAGE_SIZE} from '../models/models.consts';\nimport {catchError, mergeMap, map, switchMap, withLatestFrom} from 'rxjs/operators';\nimport {get} from 'lodash/fp';\nimport {MODEL_TAGS, MODELS_TABLE_COL_FIELDS} from '../models/shared/models.const';\nimport {IModelsViewState} from '../models/reducers/models-view.reducer';\nimport {ApiModelsService} from '../../business-logic/api-services/models.service';\nimport {requestFailed} from '../core/actions/http.actions';\nimport {activeLoader, deactivateLoader, setServerError} from '../core/actions/layout.actions';\nimport {selectRouterParams} from '../core/reducers/router-reducer';\nimport {addMultipleSortColumns, escapeRegex} from '../shared/utils/shared-utils';\nimport {of} from 'rxjs';\nimport {FilterMetadata} from 'primeng/api/filtermetadata';\nimport {ModelsGetAllExRequest} from '../../business-logic/model/models/modelsGetAllExRequest';\nimport {SortMeta} from 'primeng/api';\nimport {encodeOrder} from '../shared/utils/tableParamEncode';\nimport {selectTableSortFields} from './select-model.reducer';\n\n@Injectable()\nexport class SelectModelEffects {\n\n  constructor(private actions$: Actions, private store: Store<IModelsViewState>, private apiModels: ApiModelsService) {\n  }\n\n  @Effect()\n  activeLoader = this.actions$.pipe(\n    ofType(actions.GET_NEXT_MODELS, actions.GLOBAL_FILTER_CHANGED,\n      actions.ALL_PROJECTS_MODE_CHANGED, actions.TABLE_SORT_CHANGED, actions.TABLE_FILTER_CHANGED),\n    map(action => activeLoader(action.type))\n  );\n\n  @Effect()\n  tableSortChange = this.actions$.pipe(\n    ofType(actions.tableSortChanged),\n    withLatestFrom(this.store.select(selectTableSortFields)),\n    switchMap(([action, oldOrders]) => {\n      const orders = addMultipleSortColumns(oldOrders, action.colId, action.isShift);\n      return [actions.setTableSort({orders})];\n    })\n  );\n\n  @Effect()\n  modelsFilterChanged = this.actions$.pipe(\n    ofType(actions.GLOBAL_FILTER_CHANGED, actions.ALL_PROJECTS_MODE_CHANGED, actions.TABLE_SORT_CHANGED, actions.TABLE_FILTER_CHANGED),\n    switchMap((action) => this.fetchModels$(null)\n      .pipe(\n        mergeMap(res => [\n          new actions.SetNoMoreModels((res.models.length < MODELS_PAGE_SIZE)),\n          new actions.SetModels(res.models),\n          actions.setCurrentScrollId({scrollId: res.scroll_id}),\n          deactivateLoader(action.type)\n        ]),\n        catchError(error => [requestFailed(error), deactivateLoader(action.type), setServerError(error, null, 'Fetch Models failed')])\n      )\n    )\n  );\n\n  @Effect()\n  getModels = this.actions$.pipe(\n    ofType<actions.GetNextModels>(actions.GET_NEXT_MODELS),\n    withLatestFrom(this.store.select(exSelectors.selectCurrentScrollId)),\n    switchMap(([action, scrollId]) =>\n      this.fetchModels$(scrollId)\n        .pipe(\n          mergeMap(res => [\n            new actions.SetNoMoreModels((res.models.length < MODELS_PAGE_SIZE)),\n            new actions.AddModels(res.models),\n            actions.setCurrentScrollId({scrollId: res.scroll_id}),\n            deactivateLoader(action.type)\n          ]),\n          catchError(error => [requestFailed(error), deactivateLoader(action.type), setServerError(error, null, 'Fetch Models failed')])\n        )\n    )\n  );\n\n  getGetAllQuery(\n    scrollId: string, projectId: string, searchQuery: string, isAllProjects: boolean,\n    orderFields: SortMeta[], tableFilters: { [s: string]: FilterMetadata }\n  ): ModelsGetAllExRequest {\n    const userFilter = get([MODELS_TABLE_COL_FIELDS.USER, 'value'], tableFilters);\n    const tagsFilter = get([MODELS_TABLE_COL_FIELDS.TAGS, 'value'], tableFilters);\n    const systemTags = get(['system_tags', 'value'], tableFilters);\n    const systemTagsFilter = ['-' + MODEL_TAGS.HIDDEN].concat(systemTags ? systemTags : []);\n    return {\n      _any_: searchQuery ? {\n        pattern: escapeRegex(searchQuery),\n        fields: ['id', 'name', 'framework', 'system_tags', 'uri']\n      } : undefined,\n      /* eslint-disable @typescript-eslint/naming-convention */\n      project: (isAllProjects || !projectId || projectId === '*') ? undefined : [projectId],\n      scroll_id: scrollId || null, // null to create new scroll (undefined doesn't generate scroll)\n      size: MODELS_PAGE_SIZE,\n      order_by: encodeOrder(orderFields),\n      tags: (tagsFilter && tagsFilter.length > 0) ? tagsFilter : [],\n      system_tags: (systemTagsFilter && systemTagsFilter.length > 0) ? systemTagsFilter : [],\n      only_fields: ['created', 'framework', 'id', 'labels', 'name', 'ready', 'tags', 'system_tags', 'task.name', 'uri', 'user.name', 'parent', 'design', 'company'],\n      ready: true,\n      framework: get([MODELS_TABLE_COL_FIELDS.FRAMEWORK, 'value'], tableFilters) || undefined,\n      user: (userFilter && userFilter.length > 0) ? userFilter : undefined\n      /* eslint-enable @typescript-eslint/naming-convention */\n    };\n  }\n\n  fetchModels$(scrollId1: string) {\n    return of(scrollId1)\n      .pipe(\n        withLatestFrom(\n          // TODO: refactor with ngrx router.\n          this.store.select(selectRouterParams).pipe(map(params => get('projectId', params))),\n          this.store.select(exSelectors.selectIsAllProjectsMode),\n          this.store.select(exSelectors.selectGlobalFilter),\n          this.store.select(exSelectors.selectTableSortFields),\n          this.store.select(exSelectors.selectTableFilters),\n        ),\n        switchMap(([scrollId, projectId, isAllProjects, gb, sortFields, filters]) =>\n          this.apiModels.modelsGetAllEx(this.getGetAllQuery(scrollId, projectId, gb, isAllProjects, sortFields, filters))\n        )\n      );\n  }\n\n  getReadyFilter(tableFilters) {\n    switch (get('ready.value.length', tableFilters)) {\n      case 0:\n        return null;\n      case 1:\n        return tableFilters.ready.value[0] === 'true';\n      case 2:\n        return null;\n      default:\n        return null;\n    }\n  }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {SMSharedModule} from '../shared/shared.module';\nimport {StoreModule} from '@ngrx/store';\nimport {EffectsModule} from '@ngrx/effects';\nimport {SelectModelComponent} from './select-model.component';\nimport {selectModelReducer} from './select-model.reducer';\nimport {SelectModelEffects} from './select-model.effects';\nimport {ModelSharedModule} from '../models/shared/model-shared.module';\n\n@NgModule({\n  imports        : [\n    CommonModule,\n    SMSharedModule,\n    ModelSharedModule,\n    EffectsModule.forFeature([SelectModelEffects]),\n    StoreModule.forFeature('selectModel', selectModelReducer)\n  ],\n  providers      : [],\n  declarations   : [SelectModelComponent],\n  exports        : [SelectModelComponent]\n})\nexport class SelectModelModule {\n}\n","import {Injectable} from '@angular/core';\nimport {Actions} from '@ngrx/effects';\nimport {Store} from '@ngrx/store';\nimport {ApiTasksService} from '../../../business-logic/api-services/tasks.service';\nimport {ApiAuthService} from '../../../business-logic/api-services/auth.service';\nimport {BlTasksService} from '../../../business-logic/services/tasks.service';\nimport {ApiEventsService} from '../../../business-logic/api-services/events.service';\nimport {CommonExperimentOutputState} from '../../../webapp-common/experiments/reducers/common-experiment-output.reducer';\n\n\n@Injectable()\nexport class ExperimentOutputEffects {\n\n  constructor(private actions$: Actions, private store: Store<CommonExperimentOutputState>, private apiTasks: ApiTasksService,\n              private authApi: ApiAuthService, private taskBl: BlTasksService, private eventsApi: ApiEventsService) {\n  }\n\n\n}\n","import {Injectable} from '@angular/core';\n\n@Injectable()\nexport class ExperimentsMenuEffects {\n\n  constructor() {\n  }\n\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {ExperimentSharedModule} from './shared/experiment-shared.module';\nimport {SMSharedModule} from '../../webapp-common/shared/shared.module';\nimport {ExperimentRouterModule} from './experiments-routing.module';\nimport {ExperimentsComponent} from './experiments.component';\nimport {EffectsModule} from '@ngrx/effects';\nimport {StoreModule} from '@ngrx/store';\nimport {experimentsReducers} from './reducers';\nimport {AdminService} from '~/shared/services/admin.service';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {SelectModelModule} from '../../webapp-common/select-model/select-model.module';\nimport {SmSyncStateSelectorService} from '../../webapp-common/core/services/sync-state-selector.service';\nimport {ExperimentOutputEffects} from './effects/experiment-output.effects';\nimport {ExperimentsMenuEffects} from './effects/experiments-menu.effects';\nimport {LayoutModule} from '../../layout/layout.module';\nimport {ExperimentGraphsModule} from '../../webapp-common/shared/experiment-graphs/experiment-graphs.module';\nimport {ExperimentCompareSharedModule} from '../../webapp-common/experiments-compare/shared/experiment-compare-shared.module';\nimport {AngularSplitModule} from 'angular-split';\nimport {SMMaterialModule} from '../../webapp-common/shared/material/material.module';\nimport {ExperimentsCommonModule} from '../../webapp-common/experiments/common-experiments.module';\nimport {CommonLayoutModule} from '../../webapp-common/layout/layout.module';\nimport {EXPERIMENTS_STORE_KEY} from '../../webapp-common/experiments/shared/common-experiments.const';\nimport {ExperimentInfoComponent} from './containers/experiment-info/experiment-info.component';\nimport {DebugImagesModule} from '../../webapp-common/debug-images/debug-images.module';\nimport {ExperimentInfoExecutionComponent} from '../../webapp-common/experiments/containers/experiment-info-execution/experiment-info-execution.component';\nimport {MatSidenavModule} from '@angular/material/sidenav';\nimport {MatListModule} from '@angular/material/list';\nimport {ExperimentOutputComponent} from './containers/experiment-ouptut/experiment-output.component';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { AngularFileUploaderModule } from \"angular-file-uploader\";\nimport { HttpClientModule } from '@angular/common/http';\n\n\n\n\nexport const experimentSyncedKeys = [\n  'view.projectColumnsSortOrder',\n  'view.projectColumnFilter',\n  'view.projectColumnsWidth',\n  'view.hiddenProjectTableCols',\n  'view.metricsCols',\n  'view.colsOrder',\n  'info.userKnowledge',\n  'output.settingsList',\n];\n\n@NgModule({\n  imports: [\n    HttpClientModule,\n    AngularFileUploaderModule,\n    FontAwesomeModule,\n    SMMaterialModule,\n    FormsModule,\n    LayoutModule,\n    ReactiveFormsModule,\n    CommonModule,\n    ExperimentsCommonModule,\n    SMSharedModule,\n    ExperimentRouterModule,\n    ExperimentSharedModule,\n    ExperimentGraphsModule,\n    SelectModelModule,\n    DebugImagesModule,\n    ExperimentCompareSharedModule,\n    CommonLayoutModule,\n    MatSidenavModule,\n    MatListModule,\n    AngularSplitModule,\n    StoreModule.forFeature(EXPERIMENTS_STORE_KEY, experimentsReducers),\n    EffectsModule.forFeature([ExperimentOutputEffects, ExperimentsMenuEffects]),\n  ],\n  declarations: [\n    ExperimentsComponent,\n    ExperimentInfoComponent,\n    ExperimentInfoExecutionComponent,\n    ExperimentOutputComponent,\n  ],\n  providers: [\n    AdminService,\n    SmSyncStateSelectorService\n  ]\n})\nexport class ExperimentsModule {\n}\n","import {commonExperimentsInitialState, commonExperimentsViewReducer, ICommonExperimentsViewState} from '../../../webapp-common/experiments/reducers/common-experiments-view.reducer';\n\nexport type IExperimentsViewState = ICommonExperimentsViewState;\n\nexport const initialState: IExperimentsViewState = {\n  ...commonExperimentsInitialState,\n};\n\nexport const experimentsViewReducer = commonExperimentsViewReducer;\n","import * as actions from '../actions/common-experiments-info.actions';\nimport {IExperimentInfo} from '../../../features/experiments/shared/experiment-info.model';\nimport {experimentSections, experimentSectionsEnum} from '../../../features/experiments/shared/experiments.const';\nimport {\n  ACTIVATE_EDIT, DEACTIVATE_EDIT, deleteHyperParamsSection, EXPERIMENT_CANCEL_EDIT, EXPERIMENT_DATA_UPDATED, EXPERIMENT_DETAILS_UPDATED, EXPERIMENT_SAVE, hyperParamsSectionUpdated,\n  saveExperimentConfigObj, saveExperimentSection, saveHyperParamsSection, SET_EXPERIMENT, SET_EXPERIMENT_ERRORS, SET_EXPERIMENT_FORM_ERRORS, setExperimentSaving, updateExperimentAtPath\n} from '../actions/common-experiments-info.actions';\nimport {set} from 'lodash/fp';\n\n\nexport interface ICommonExperimentInfoState {\n  selectedExperiment: IExperimentInfo;\n  experimentLog: Array<any>;\n  infoData: IExperimentInfo;\n  errors: { [key: string]: any } | null;\n  showExtraDataSpinner: boolean;\n  activeSectionEdit: boolean;\n  saving: boolean;\n  currentActiveSectionEdit: string;\n  infoDataFreeze: IExperimentInfo;\n  userKnowledge: Map<experimentSectionsEnum, boolean>;\n}\n\nexport const initialCommonExperimentInfoState: ICommonExperimentInfoState = {\n  selectedExperiment: null,\n  experimentLog     : null,\n  infoData          : null,\n  errors            : {\n    model    : null,\n    execution: null,\n  },\n  showExtraDataSpinner: false,\n  activeSectionEdit: false,\n  saving           : false,\n  currentActiveSectionEdit: null,\n  infoDataFreeze   : null,\n  userKnowledge    : {\n    [experimentSections.MODEL_INPUT]: false\n  } as any,\n};\n\nexport function commonExperimentInfoReducer(state: ICommonExperimentInfoState = initialCommonExperimentInfoState, action): ICommonExperimentInfoState {\n\n  switch (action.type) {\n    case SET_EXPERIMENT:\n      return {...state, selectedExperiment: action.payload};\n    case SET_EXPERIMENT_FORM_ERRORS:\n      return {...state, errors: action.payload};\n    case EXPERIMENT_DATA_UPDATED:\n      return {...state, infoData: {...state.infoData, ...action.payload.changes}};\n    case hyperParamsSectionUpdated.type:\n      return {...state, infoData: {...state.infoData, hyperparams: {...state.infoData.hyperparams, [action.section]: action.hyperparams}}};\n\n    case EXPERIMENT_SAVE:\n    case saveHyperParamsSection.type:\n    case saveExperimentConfigObj.type:\n    case deleteHyperParamsSection.type:\n    case saveExperimentSection.type:\n      return {...state, saving: true};\n    case ACTIVATE_EDIT:\n      return {...state, activeSectionEdit: true, infoDataFreeze: state.infoData, currentActiveSectionEdit: action.payload};\n    case DEACTIVATE_EDIT:\n      return {...state, activeSectionEdit: false, currentActiveSectionEdit: null};\n    case EXPERIMENT_CANCEL_EDIT:\n      return {...state, infoData: state.infoDataFreeze ? state.infoDataFreeze : state.infoData, currentActiveSectionEdit: null};\n    case EXPERIMENT_DETAILS_UPDATED:\n      return {...state, infoData: {...state.infoData, ...action.payload.changes}};\n    case setExperimentSaving.type:\n      return {...state, saving: action.saving};\n    case updateExperimentAtPath.type: {\n      const payload = action as ReturnType<typeof updateExperimentAtPath>;\n      const newInfoData = set(payload.path, payload.value, state.infoData);\n      return {...state, infoData: newInfoData as any};\n    }\n    // case actions.EXPERIMENT_UPDATED_SUCCESSFULLY:\n    //   return {...state, saving: false};\n    case SET_EXPERIMENT_ERRORS:\n      return {...state, errors: {...state.errors, ...action.payload}};\n    case actions.RESET_EXPERIMENT_INFO:\n      return {...state, infoData: null};\n    case actions.SET_EXPERIMENT_INFO_DATA:\n      return {...state, infoData: {\n        ...action.payload,\n        configuration: state.infoData?.configuration,\n        execution: {...action.payload?.execution, diff: state.infoData?.execution?.diff}\n      }};\n    case actions.UPDATE_EXPERIMENT_INFO_DATA:\n      return {...state, selectedExperiment: {...state.selectedExperiment, ...action.payload.changes}, infoData:{...state.infoData, ...action.payload.changes}};\n    case actions.getExperimentUncommittedChanges.type:\n      return {...state, showExtraDataSpinner: !(action as ReturnType<typeof actions.getExperimentUncommittedChanges>).autoRefresh};\n    case actions.setExperimentUncommittedChanges.type:\n      return {...state, showExtraDataSpinner: false, infoData: {...state?.infoData, execution: {...state?.infoData?.execution, diff: action.diff}}};\n    default:\n      return state;\n  }\n}\n","import {commonExperimentInfoReducer, ICommonExperimentInfoState, initialCommonExperimentInfoState} from '../../../webapp-common/experiments/reducers/common-experiment-info.reducer';\n\nexport interface IExperimentInfoState extends ICommonExperimentInfoState {\n  errors: { [key: string]: any } | null;\n}\n\nexport const initialState: IExperimentInfoState = {\n  ...initialCommonExperimentInfoState,\n};\n\nexport function experimentInfoReducer(state: IExperimentInfoState = initialState, action): IExperimentInfoState {\n  switch (action.type) {\n\n    default:\n      return commonExperimentInfoReducer(state, action) as IExperimentInfoState;\n  }\n}\n","import {commonExperimentOutputReducer, CommonExperimentOutputState, initialCommonExperimentOutputState} from '../../../webapp-common/experiments/reducers/common-experiment-output.reducer';\n\nexport type ExperimentOutputState = CommonExperimentOutputState;\n\nexport const initialState: ExperimentOutputState = {\n  ...initialCommonExperimentOutputState\n};\n\nexport function experimentOutputReducer(state = initialState, action): ExperimentOutputState {\n  return commonExperimentOutputReducer(state as CommonExperimentOutputState, action) as ExperimentOutputState;\n}\n","import {ActionReducerMap, createSelector} from '@ngrx/store';\nimport {experimentsViewReducer, IExperimentsViewState} from './experiments-view.reducer';\nimport {experimentInfoReducer, IExperimentInfoState} from './experiment-info.reducer';\nimport {experimentOutputReducer} from './experiment-output.reducer';\nimport {IExperimentInfo} from '../shared/experiment-info.model';\nimport {TaskStatusEnum} from '../../../business-logic/model/tasks/taskStatusEnum';\nimport {isReadOnly, isSharedAndNotOwner} from '../../../webapp-common/shared/utils/shared-utils';\nimport {EXPERIMENTS_STORE_KEY} from '../../../webapp-common/experiments/shared/common-experiments.const';\nimport {CommonExperimentOutputState} from '../../../webapp-common/experiments/reducers/common-experiment-output.reducer';\nimport {selectSelectedModel} from \"../../../webapp-common/models/reducers\";\nimport {selectCurrentUser} from '@common/core/reducers/users-reducer';\n\nexport const experimentsReducers: ActionReducerMap<any, any> = {\n  view: experimentsViewReducer,\n  info: experimentInfoReducer,\n  output: experimentOutputReducer,\n};\n\n/**\n * The createFeatureSelector function selects a piece of state from the root of the state object.\n * This is used for selecting feature states that are loaded eagerly or lazily.\n */\nexport function experiments(state) {\n  return state[EXPERIMENTS_STORE_KEY];\n}\n\n// view selectors.\nexport const experimentsView = createSelector(experiments, (state): IExperimentsViewState => state ? state.view : {});\nexport const selectExperimentsMetricsCols = createSelector(experimentsView, state => state.metricsCols);\nexport const selectMetricVariants = createSelector(experimentsView, state => state.metricVariants);\nexport const selectMetricsLoading = createSelector(experimentsView, state => state.metricsLoading);\n\n\n// info selectors\nexport const experimentInfo = createSelector(experiments, (state): IExperimentInfoState => state ? state.info : {});\nexport const selectSelectedExperiment = createSelector(experimentInfo, state => state.selectedExperiment);\nexport const selectExperimentInfoData = createSelector(experimentInfo, state => state.infoData);\nexport const selectShowExtraDataSpinner = createSelector(experimentInfo, state => state.showExtraDataSpinner);\n\n\n// output selectors\nexport const experimentOutput = createSelector(experiments, (state): CommonExperimentOutputState => state ? state.output : {});\n\nexport const selectIsExperimentEditable = createSelector(selectSelectedExperiment, selectCurrentUser,\n  (experiment, user): boolean => experiment && experiment.status === TaskStatusEnum.Created && !isReadOnly(experiment) && !isSharedAndNotOwner(experiment, user.company));\nexport const selectIsSharedAndNotOwner = createSelector(selectSelectedExperiment, selectSelectedModel, selectCurrentUser,\n  (experiment, model, user): boolean => {\n  const item = experiment || model;\n    return item && isSharedAndNotOwner(item, user.company);\n  }\n);\nexport const selectExperimentInfoDataFreeze = createSelector(experimentInfo, (state): IExperimentInfo => state.infoDataFreeze);\n\nexport const selectExperimentInfoErrors = createSelector(experimentInfo, (state): IExperimentInfoState['errors'] => state.errors);\nexport const selectExperimentFormValidity = createSelector(selectExperimentInfoData, selectExperimentInfoErrors,\n  (infoData, errors): boolean => {\n    if (!infoData || !errors) {\n      return true;\n    }\n    const error = Object.keys(infoData).find(key => errors[key]);\n\n    return !error;\n  });\n","import {Container} from '~/business-logic/model/tasks/container';\nimport {Queue} from '~/business-logic/model/queues/queue';\n\nexport enum sourceTypesEnum {\n  Tag = 'tag',\n  VersionNum = 'version_num',\n  Branch = 'branch',\n}\n\nexport interface IExecutionForm {\n  source: {\n    repository: string;\n    tag?: string;\n    version_num?: string;\n    branch?: string;\n    entry_point: string;\n    working_dir: string;\n    scriptType: sourceTypesEnum;\n  };\n  docker_cmd?: string;\n  requirements: any;\n  diff: string;\n  output: {\n    destination: string;\n    logLevel?: 'basic' | 'details'; // TODO: should be enum from gencode.\n  };\n  queue: Queue;\n  container?: Container;\n}\n\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {SMSharedModule} from '../../../webapp-common/shared/shared.module';\nimport {ExperimentConverterService} from './services/experiment-converter.service';\nimport { ExperimentMenuComponent } from '../../../webapp-common/experiments/shared/components/experiment-menu/experiment-menu.component';\nimport {ExperimentMenuExtendedComponent} from '../containers/experiment-menu-extended/experiment-menu-extended.component';\n\nconst DECLARATIONS = [\n  ExperimentMenuComponent,\n  ExperimentMenuExtendedComponent,\n];\n\n@NgModule({\n  imports        : [\n    SMSharedModule,\n    CommonModule\n  ],\n  declarations   : [...DECLARATIONS],\n  providers      : [ExperimentConverterService],\n  exports        : [...DECLARATIONS]\n})\nexport class ExperimentSharedModule {\n}\n","import {TaskStatusEnum} from '../../../business-logic/model/tasks/taskStatusEnum';\nimport {ExperimentTableColFieldsEnum} from './experiments.model';\n\nexport type experimentSectionsEnum =\n  'MODEL_INPUT'\n  | 'MODEL_SOURCE'\n  | 'MODEL_OUTPUT'\n  | 'MODEL_NETWORK_DESIGN';\nexport const experimentSections = {\n  MODEL_INPUT         : 'MODEL_INPUT' as experimentSectionsEnum,\n  MODEL_SOURCE        : 'MODEL_SOURCE' as experimentSectionsEnum,\n  MODEL_OUTPUT        : 'MODEL_OUTPUT' as experimentSectionsEnum,\n  MODEL_NETWORK_DESIGN: 'MODEL_NETWORK_DESIGN' as experimentSectionsEnum,\n};\n\nexport const DIGITS_AFTER_DECIMAL = 6;\n\nexport const EXPERIMENTS_TABLE_COL_FIELDS = {\n  SELECTED      : 'selected' as ExperimentTableColFieldsEnum,\n  ID            : 'id' as ExperimentTableColFieldsEnum,\n  TYPE          : 'type' as ExperimentTableColFieldsEnum,\n  NAME          : 'name' as ExperimentTableColFieldsEnum,\n  TAGS          : 'tags' as ExperimentTableColFieldsEnum,\n  USER          : 'users' as ExperimentTableColFieldsEnum,\n  STARTED       : 'started' as ExperimentTableColFieldsEnum,\n  COMPLETED     : 'completed' as ExperimentTableColFieldsEnum,\n  STATUS        : 'status' as ExperimentTableColFieldsEnum,\n  LAST_UPDATE   : 'last_update' as ExperimentTableColFieldsEnum,\n  LAST_ITERATION: 'last_iteration' as ExperimentTableColFieldsEnum,\n  COMMENT       : 'comment' as ExperimentTableColFieldsEnum,\n  ACTIVE_DURATION: 'active_duration' as ExperimentTableColFieldsEnum,\n  PROJECT       : 'project.name' as ExperimentTableColFieldsEnum,\n  METRIC        : 'project.name' as ExperimentTableColFieldsEnum,\n  HYPER_PARAM   : 'project.name' as ExperimentTableColFieldsEnum,\n  PARENT        : 'parent.name' as ExperimentTableColFieldsEnum\n};\n\nexport enum ExperimentTagsEnum {\n  Development = 'development',\n  Hidden = 'archived',\n  Shared = 'shared'\n}\n\nexport const EXPERIMENTS_TAGS = {\n  ['shared' as ExperimentTagsEnum]: 'SHARED'\n};export const EXPERIMENTS_TAGS_TOOLTIP = {};\nexport const EXPERIMENTS_STATUS_LABELS = {\n  [TaskStatusEnum.Created]   : 'Draft',\n  [TaskStatusEnum.Queued]    : 'Pending',\n  [TaskStatusEnum.InProgress]: 'Running',\n  [TaskStatusEnum.Completed] : 'Completed',\n  [TaskStatusEnum.Published] : 'Published',\n  [TaskStatusEnum.Failed]    : 'Failed',\n  [TaskStatusEnum.Stopped]   : 'Aborted',\n  [TaskStatusEnum.Closed]    : 'Completed'\n\n};\nexport const DevWarningEnabled = false;\n","import {Model} from '../../../business-logic/model/models/model';\nimport {ISelectedExperiment} from './experiment-info.model';\nimport {isExample} from '../../../webapp-common/shared/utils/shared-utils';\n\n\nexport function areLabelsEqualss(modelLabels: Model['labels'], labels: Model['labels']) {\n  return true;\n}\n\nexport function isDevelopment(entity): boolean {\n  return false;\n}\n\nexport function getSystemTags(experiment: ISelectedExperiment) {\n  const sysTags = [];\n  if (isExample(experiment)) {\n    sysTags.push('example');\n  }\n  return sysTags;\n}\n","import {Injectable} from '@angular/core';\nimport {TasksEditRequest} from '../../../../business-logic/model/tasks/tasksEditRequest';\nimport {IExperimentInfo, ISelectedExperiment} from '../experiment-info.model';\nimport {IExecutionForm} from '../experiment-execution.model';\nimport {Execution} from '../../../../business-logic/model/tasks/execution';\nimport {isEqual} from 'lodash/fp';\nimport {CommonExperimentConverterService} from '../../../../webapp-common/experiments/shared/services/common-experiment-converter.service';\nimport {IHyperParamsForm} from '../../../../webapp-common/experiments/shared/experiment-hyper-params.model';\nimport {IExperimentModelInfo} from '../../../../webapp-common/experiments/shared/common-experiment-model.model';\n\n\n@Injectable()\nexport class ExperimentConverterService {\n\n  constructor(private commonExperimentConverterService: CommonExperimentConverterService) {\n  }\n\n\n  convertExperiment(experimentInfo: IExperimentInfo, selectedExperiment: IExperimentInfo, experimentInfoBeforeChange: IExperimentInfo): TasksEditRequest {\n    const convertedExperiment                   = this.commonExperimentConverterService.convertCommonExperiment(experimentInfo, selectedExperiment, experimentInfoBeforeChange);\n\n    const executionInfoNoOutputDest             = {...experimentInfo.execution, output: {...experimentInfo.execution.output, destination: null}};\n    const executionInfoNoOutputDestBeforeChange = {...experimentInfoBeforeChange.execution, output: {...experimentInfoBeforeChange.execution.output, destination: null}};\n\n    if (!isEqual(executionInfoNoOutputDest, executionInfoNoOutputDestBeforeChange) ||\n      !isEqual(experimentInfo.model, experimentInfoBeforeChange.model) ||\n      !isEqual(experimentInfo.hyperparams, experimentInfoBeforeChange.hyperparams) ||\n      !isEqual(experimentInfo.model, experimentInfoBeforeChange.model)\n    ) {\n      convertedExperiment.execution = this.convertExecution(experimentInfo.execution,\n        experimentInfo.model);\n    }\n    return convertedExperiment;\n  }\n\n  convertExecution(execution: IExecutionForm, model: IExperimentModelInfo): Execution {\n    return {\n      ...this.commonExperimentConverterService.commonConvertExecution(execution, model),\n    };\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {IExperimentInfo, ISelectedExperiment} from '../experiment-info.model';\nimport {CommonExperimentReverterService} from '../../../../webapp-common/experiments/shared/services/common-experiment-reverter.service';\nimport {ITask} from '../../../../business-logic/model/al-task';\n\n@Injectable({providedIn: 'root'})\nexport class ExperimentReverterService {\n\n  constructor(public commonExperimentReverterService: CommonExperimentReverterService) {\n  }\n\n  revertExperiment(experiment: ITask): IExperimentInfo {\n    return {\n      ...this.commonExperimentReverterService.commonRevertExperiment(experiment),\n    };\n  }\n\n}\n","<div *ngIf=\"showButton\" mat-button [matMenuTriggerFor]=\"modelMenu\" class=\"p-0 cell menu-button btn al-icon sm-md al-color light-grey-blue al-ico-bars-menu\"></div>\n<div *ngIf=\"!showButton\" #contextTrigger\n     style=\"visibility: hidden; position: fixed\"\n     [style.left.px]=\"position.x\"\n     [style.top.px]=\"position.y\"\n     [matMenuTriggerFor]=\"modelMenu\">\n</div>\n<mat-menu #modelMenu=\"matMenu\" [hasBackdrop]=\"false\">\n  <ng-container *ngIf=\"selectedDisableAvailable[menuItems.publish]\">\n  <button mat-menu-item (click)=\"publishPopup()\" [disabled]=\"selectedDisableAvailable[menuItems.publish].disable\">\n    <i [class]=\"'al-icon ' + ICONS.PUBLISHED + ' sm-md'\"></i>\n      {{selectedDisableAvailable[menuItems.publish].available | menuItemText : 'Publish' : selectedDisableAvailableIsMultiple}}\n  </button>\n  <button mat-menu-item (click)=\"deleteModelPopup()\" [disabled]=\"selectedDisableAvailable[menuItems.delete].disable\" *ngIf=\"isArchive\">\n    <i [class]=\"'al-icon ' + ICONS.REMOVE + ' sm-md'\"></i>\n    {{selectedDisableAvailable[menuItems.delete].available | menuItemText : 'Delete' : selectedDisableAvailableIsMultiple}}\n  </button>\n\n    <button mat-menu-item (click)=\"archiveClicked()\"\n            [disabled]=\"selectedDisableAvailable[menuItems.archive].disable\">\n      <i class=\"al-icon sm-md\" [class]=\"isArchive ? ICONS.RESTORE : ICONS.ARCHIVE\"></i>\n      {{selectedDisableAvailable[menuItems.archive].available | menuItemText : isArchive ? 'Restore from Archive' : 'Archive' : selectedDisableAvailableIsMultiple}}\n    </button>\n\n  <hr>\n  <button mat-menu-item\n          [matMenuTriggerFor]=\"tagMenu\"\n          [disabled]=\"isExample\"\n          (menuOpened)=\"tagMenuOpened()\"\n          (menuClosed)=\"tagMenuClosed()\"\n  >\n    <i [class]=\"'al-icon ' + ICONS.TAG + ' sm-md'\"></i>\n    <span>{{numSelected | menuItemText : 'Add Tag'  : selectedDisableAvailableIsMultiple}}</span>\n  </button>\n  <hr>\n  <button mat-menu-item (click)=\"downloadModelFileClicked()\" [disabled]=\"isLocalFile\">\n    <i [class]=\"'al-icon  ' + ICONS.DOWNLOAD + ' sm-md'\"></i>Download\n  </button>\n  <button mat-menu-item (click)=\"moveToProjectPopup()\" [disabled]=\"isExample\">\n    <i [class]=\"'al-icon ' + ICONS.MOVE_TO + '  sm-md'\"></i>{{selectedDisableAvailable[menuItems.moveTo].available | menuItemText : 'Move to Project' : selectedDisableAvailableIsMultiple}}\n  </button>\n    <ng-content select=\"[extended]\"></ng-content>\n  </ng-container>\n</mat-menu>\n\n<mat-menu #tagMenu=\"matMenu\">\n  <sm-tags-menu\n    #tagMenuContent\n    class=\"light-theme\"\n    [tags]=\"model?.tags\"\n    [projectTags]=\"projectTags\"\n    [companyTags]=\"companyTags\"\n    [tagsFilterByProject]=\"tagsFilterByProject\"\n    (tagSelected)=\"tagSelected.emit($event)\">\n  </sm-tags-menu>\n</mat-menu>\n","import {Component, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output} from '@angular/core';\nimport {\n  archivedSelectedModels,\n  changeProjectRequested,\n  publishModelClicked,\n  restoreSelectedModels\n} from '../../actions/models-menu.actions';\nimport {htmlTextShorte, isReadOnly} from '@common/shared/utils/shared-utils';\nimport {ICONS} from '@common/constants';\nimport {MatDialog} from '@angular/material/dialog';\nimport {Store} from '@ngrx/store';\nimport {AdminService} from '~/shared/services/admin.service';\nimport {selectS3BucketCredentials} from '@common/core/reducers/common-auth-reducer';\nimport {ModelInfoState} from '../../reducers/model-info.reducer';\nimport {ConfirmDialogComponent} from '@common/shared/ui-components/overlay/confirm-dialog/confirm-dialog.component';\nimport {Observable, Subscription} from 'rxjs';\nimport {filter, map, take} from 'rxjs/operators';\nimport {ChangeProjectDialogComponent} from '@common/experiments/shared/components/change-project-dialog/change-project-dialog.component';\nimport {fetchModelsRequested, modelSelectionChanged, setSelectedModels} from '../../actions/models-view.actions';\nimport {SelectedModel} from '../../shared/models.model';\nimport {CommonDeleteDialogComponent} from '@common/shared/entity-page/entity-delete/common-delete-dialog.component';\nimport {EntityTypeEnum} from '../../../../shared/constants/non-common-consts';\nimport {CancelModelEdit} from '../../actions/models-info.actions';\nimport {BaseContextMenuComponent} from '../../../shared/components/base-context-menu/base-context-menu.component';\nimport {\n  selectionDisabledArchive,\n  selectionDisabledMoveTo,\n  selectionDisabledPublishModels\n} from '../../../shared/entity-page/items.utils';\nimport {getSignedUrl} from '../../../core/actions/common-auth.actions';\nimport {selectSignedUrl} from '../../../core/reducers/common-auth-reducer';\nimport {selectRouterParams} from '../../../core/reducers/router-reducer';\nimport {get} from 'lodash/fp';\n\n\n@Component({\n  selector: 'sm-model-menu',\n  templateUrl: './model-menu.component.html',\n  styleUrls: ['./model-menu.component.scss']\n})\nexport class ModelMenuComponent extends BaseContextMenuComponent implements OnInit, OnDestroy{\n\n  readonly ICONS = ICONS;\n  private S3BucketCredentials: Observable<any>;\n  public modelSignedUri: string;\n  public _model: any;\n  public isExample: boolean;\n  public isLocalFile: boolean;\n  public isArchive: boolean;\n  private projectId: string;\n  private subscription: Subscription;\n\n  @Input() set model(model: SelectedModel) {\n    this._model = model;\n    this.isExample = isReadOnly(model);\n    this.isLocalFile = this.adminService.isLocalFile(model?.uri);\n    this.isArchive = model?.system_tags?.includes('archived');\n  }\n\n  get model() {\n    return this._model;\n  }\n\n  @Input() selectedModel: SelectedModel;\n  @Input() selectedModels: SelectedModel[];\n  @Input() numSelected = 0;\n  @Input() projectTags: string[];\n  @Input() companyTags: string[];\n  @Input() tagsFilterByProject: boolean;\n  @Input() showButton = true;\n  @Output() tagSelected = new EventEmitter<string>();\n\n  constructor(\n    protected dialog: MatDialog,\n    protected store: Store<ModelInfoState>,\n    protected adminService: AdminService,\n    protected eRef: ElementRef\n  ) {\n    super(store, eRef);\n    this.S3BucketCredentials = store.select(selectS3BucketCredentials);\n  }\n\n  ngOnInit(): void {\n    this.subscription = this.store.select(selectRouterParams)\n      .pipe(map(params => get('projectId', params)))\n      .subscribe((id => this.projectId = id));\n  }\n\n  archiveClicked() {\n    // info header case\n    const selectedModels = this.selectedModels ? selectionDisabledArchive(this.selectedModels).selectedFiltered : [this.selectedModel];\n\n    if (this.isArchive) {\n      this.store.dispatch(restoreSelectedModels({selectedEntities: selectedModels, skipUndo: false}));\n    } else {\n      this.store.dispatch(archivedSelectedModels({selectedEntities: selectedModels, skipUndo: false}));\n    }\n  }\n\n  public publishPopup() {\n    const selectedModels = this.selectedModels ? selectionDisabledPublishModels(this.selectedModels).selectedFiltered : [this.model];\n\n    const confirmDialogRef = this.dialog.open(ConfirmDialogComponent, {\n      data: {\n        title: 'PUBLISH',\n        body: `<b>${selectedModels.length === 1 ? htmlTextShorte(selectedModels[0].name) : selectedModels.length + ' models'}</b> status will be set to Published.\n<br><br>Published models are read-only and cannot be reset.`,\n        yes: 'Publish',\n        no: 'Cancel',\n        iconClass: 'd-block fas fa-cloud-upload-alt fa-7x w-auto',\n      }\n    });\n\n    confirmDialogRef.afterClosed().subscribe((confirmed) => {\n      if (confirmed) {\n        this.publishModel(selectedModels);\n      }\n    });\n  }\n\n  publishModel(selectedModels: SelectedModel[]) {\n    this.store.dispatch(publishModelClicked({selectedModels}));\n  }\n\n  public moveToProjectPopup() {\n    const selectedModels = this.selectedModels ? selectionDisabledMoveTo(this.selectedModels).selectedFiltered : [this.model];\n    const currentProjects = Array.from(new Set(selectedModels.map(exp => exp.project?.id).filter(p => p)));\n    const dialog = this.dialog.open(ChangeProjectDialogComponent, {\n      data: {\n        currentProjects: currentProjects.length > 0 ? currentProjects : [selectedModels[0].project?.id],\n        defaultProject: selectedModels[0].project?.id,\n        reference: selectedModels.length > 1 ? selectedModels : selectedModels[0]?.name,\n        type: 'model'\n      }\n    });\n    dialog.afterClosed().pipe(filter(project => !!project)).subscribe(project => {\n      this.moveToProjectClicked(project, selectedModels);\n    });\n\n  }\n\n  moveToProjectClicked(project, selectedModels) {\n    this.store.dispatch(changeProjectRequested({selectedModels, project}));\n  }\n\n  public downloadModelFileClicked = () => {\n    const url = this.model.uri;\n    this.store.dispatch(getSignedUrl({url}));\n    this.store.select(selectSignedUrl(url))\n      .pipe(\n        filter(signed => !!signed?.signed),\n        map(({signed: signedUrl}) => signedUrl),\n        take(1)\n      ).subscribe(signed => {\n      const a = document.createElement('a') as HTMLAnchorElement;\n      a.target = '_blank';\n      a.href = signed;\n      a.click();\n    });\n  };\n\n  public downloadModelFile = () => {\n    const a = document.createElement('a') as HTMLAnchorElement;\n    a.target = '_blank';\n    a.href = this.modelSignedUri;\n    a.click();\n  };\n\n  deleteModelPopup() {\n    const confirmDialogRef = this.dialog.open(CommonDeleteDialogComponent, {\n      data: {\n        entity: this._model,\n        numSelected: this.numSelected,\n        entityType: EntityTypeEnum.model,\n        useCurrentEntity: this.showButton\n      },\n      width: '600px',\n      disableClose: true\n    });\n    confirmDialogRef.afterClosed().subscribe((confirmed) => {\n      if (confirmed) {\n        this.store.dispatch(setSelectedModels({models: []}));\n        this.store.dispatch(modelSelectionChanged({model: null, project: this.projectId || this.model?.project?.id || '*'}));\n        this.store.dispatch(fetchModelsRequested());\n        this.store.dispatch(new CancelModelEdit());\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n}\n","import { Component} from '@angular/core';\nimport {ModelMenuComponent} from '../../../../webapp-common/models/containers/model-menu/model-menu.component';\n\n@Component({\n  selector: 'sm-model-menu-extended',\n  templateUrl: '../../../../webapp-common/models/containers/model-menu/model-menu.component.html',\n  styleUrls: ['../../../../webapp-common/models/containers/model-menu/model-menu.component.scss']\n})\nexport class ModelMenuExtendedComponent extends ModelMenuComponent {\n\n  set contextMenu(data) {}\n  get contextMenu() {\n    return this;\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport { ModelMenuComponent } from '../../webapp-common/models/containers/model-menu/model-menu.component';\nimport {SMSharedModule} from '../../webapp-common/shared/shared.module';\nimport {CommonLayoutModule} from '../../webapp-common/layout/layout.module';\nimport { ModelMenuExtendedComponent } from './containers/model-menu-extended/model-menu-extended.component';\n\n@NgModule({\n  declarations: [ModelMenuComponent, ModelMenuExtendedComponent],\n  exports     : [ModelMenuComponent, ModelMenuExtendedComponent],\n  imports     : [\n    CommonLayoutModule,\n    CommonModule,\n    SMSharedModule\n  ]\n})\nexport class FeatureModelsModule {\n}\n","import {Component} from '@angular/core';\nimport {ProjectCardMenuComponent} from '@common/shared/ui-components/panel/project-card-menu/project-card-menu.component';\n\n\n@Component({\n  selector: 'sm-project-card-menu-extended',\n  templateUrl: '../../../../webapp-common/shared/ui-components/panel/project-card-menu/project-card-menu.component.html',\n  styleUrls: ['../../../../webapp-common/shared/ui-components/panel/project-card-menu/project-card-menu.component.scss']\n})\nexport class ProjectCardMenuExtendedComponent extends ProjectCardMenuComponent{\n  set contextMenu(data) {}\n  get contextMenu() {\n    return this;\n  }\n}\n","<sm-menu buttonClass=\"al-ico-bars-menu al-icon sm\" [showCart]=\"false\">\n  <sm-menu-item itemLabel=\"Rename\"\n                iconClass=\"al-icon al-color blue-800 al-ico-edit\"\n                [disabled]=\"!project.company?.id\"\n                [iconFontSize]=\"20\"\n                (itemClicked)=\"projectNameInlineActivated.emit()\"></sm-menu-item>\n  <sm-menu-item itemLabel=\"New Project\"\n                [iconFontSize]=\"20\"\n                iconClass=\"al-icon al-color blue-800 al-ico-add\"\n                (itemClicked)=\"newProjectClicked.emit(project.id)\"></sm-menu-item>\n  <sm-menu-item itemLabel=\"Move to\"\n                [iconFontSize]=\"20\"\n                iconClass=\"al-icon al-color blue-800 al-ico-move-to\"\n                (itemClicked)=\"moveToClicked.emit(project.id)\"></sm-menu-item>\n  <sm-menu-item itemLabel=\"Delete\"\n                [iconFontSize]=\"20\"\n                iconClass=\"al-icon al-color blue-800 al-ico-trash\"\n                (itemClicked)=\"deleteProjectClicked.emit(project)\"></sm-menu-item>\n  <ng-content select=\"[extendedCardMenu]\"></ng-content>\n</sm-menu>\n","export function isDeletableProject(readyForDeletion) {\n  return (readyForDeletion.experiments.unarchived + readyForDeletion.models.unarchived) === 0;\n}\n\nexport function getDeletePopupEntitiesList(): string {\n  return 'experiments or models';\n}\n\nexport function getDeleteProjectPopupStatsBreakdown(readyForDeletion, statsSubset: 'archived' | 'unarchived' | 'total'): string {\n  return `${readyForDeletion.experiments[statsSubset] > 0 ? readyForDeletion.experiments[statsSubset] + ' experiments ' : ''}\n          ${readyForDeletion.models[statsSubset] > 0 ? readyForDeletion.models[statsSubset] + ' models ' : ''}`;\n}\n\nexport function readyForDeletionFilter(readyForDeletion) {\n  return !(readyForDeletion.experiments === null || readyForDeletion.models === null);\n}\n","<div class=\"sm-card-list-layout projects\">\n  <ng-content></ng-content>\n  <ng-container *ngFor=\"let project of projects; let last=last\">\n    <sm-project-card\n      (deleteProjectClicked)=\"deleteProjectClicked.emit($event)\"\n      (projectCardClicked)=\"projectCardClicked.emit($event)\"\n      (newProjectClicked)=\"createNewProjectClicked.emit($event)\"\n      (projectNameChanged)=\"projectNameChanged.emit({project: project.id, name:$event})\"\n      (moveToClicked)=\"moveToClicked.emit($event)\"\n      *ngIf=\"!last || (last && noMoreProjects)\"\n      [hideMenu]=\"['All Experiments'].includes(project.name) || project.isRoot || isExample(project)\"\n      [project]=\"project\">\n    </sm-project-card>\n  </ng-container>\n\n  <div class=\"load-more\" *ngIf=\"!noMoreProjects && projects?.length > pageSize\">\n    <button (click)=\"loadMore.emit()\" class=\"btn btn-primary load-more-btn\">LOAD MORE</button>\n  </div>\n</div>\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {ProjectsGetAllResponseSingle} from '../../../../business-logic/model/projects/projectsGetAllResponseSingle';\nimport {Project} from '../../../../business-logic/model/projects/project';\nimport {isExample} from '../../../shared/utils/shared-utils';\nimport {pageSize} from '../../common-projects.consts';\n\n@Component({\n  selector: 'sm-projects-list',\n  templateUrl: './projects-list.component.html',\n  styleUrls: ['./projects-list.component.scss']\n})\nexport class ProjectsListComponent {\n  isExample = isExample;\n  pageSize = pageSize;\n\n  @Input() projects: Array<ProjectsGetAllResponseSingle>;\n  @Input() noMoreProjects: boolean;\n  @Output() projectCardClicked = new EventEmitter<ProjectsGetAllResponseSingle>();\n  @Output() projectNameChanged = new EventEmitter<{ project: string, name: string }>();\n  @Output() deleteProjectClicked = new EventEmitter<Project>();\n  @Output() loadMore = new EventEmitter();\n  @Output() moveToClicked = new EventEmitter<string>();\n  @Output() createNewProjectClicked = new EventEmitter<string>();\n\n}\n","<div class=\"sm-card-list-header\">\n  <div class=\"recent-title\">\n    <sm-menu [header]=\"sortByTitle\" [iconClass]=\"sortOrder===1?'fa fa-caret-up':'fa fa-caret-down' \" class=\"menu\">\n      <sm-menu-item itemLabel=\"RECENT\" (itemClicked)=\"orderByChanged.emit('last_update')\"></sm-menu-item>\n      <sm-menu-item itemLabel=\"NAME\" (itemClicked)=\"orderByChanged.emit('name')\"></sm-menu-item>\n    </sm-menu>\n    <sm-show-only-user-work></sm-show-only-user-work>\n  </div>\n  <div>\n    <button *ngIf=\"!hideCreateButton\" class=\"btn btn-primary d-flex align-items-center\"\n            (click)=\"createProjectClicked.emit(selectedProject)\">\n      <i class=\"al-icon al-color blue-400 al-ico-add sm mr-2\"></i>NEW PROJECT\n    </button>\n  </div>\n</div>\n","import {Component, EventEmitter, Input, Output, ViewChild} from '@angular/core';\nimport {TableSortOrderEnum} from '../../../shared/ui-components/data/table/table.consts';\n\n@Component({\n  selector: 'sm-projects-header',\n  templateUrl: './projects-header.component.html',\n  styleUrls: ['./projects-header.component.scss']\n})\nexport class ProjectsHeaderComponent {\n  @Input() hideCreateButton: boolean;\n  @Input() searchQuery: string;\n  @Input() sortOrder: TableSortOrderEnum;\n  @Input() selectedProject;\n\n  @Input() set sortByField(sortByField: string) {\n    this.sortByTitle = sortByField.includes('name') ? 'NAME' : 'RECENT';\n  }\n\n  @Output() orderByChanged = new EventEmitter<string>();\n  @Output() searchChanged = new EventEmitter<string>();\n  @Output() createProjectClicked = new EventEmitter<string>();\n  @ViewChild('menu') vcDropDownMenu;\n  public sortByTitle: string;\n}\n\n\n","import {RouterModule, Routes} from '@angular/router';\nimport {NgModule} from '@angular/core';\nimport {CommonProjectsPageComponent} from '../../webapp-common/projects/containers/projects-page/common-projects-page.component';\n\nexport const routes: Routes = [\n  {path: '', component: CommonProjectsPageComponent}\n];\n\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [RouterModule]\n})\nexport class ProjectRouterModule {\n}\n\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {\n  CommonProjectReadyForDeletion,\n  selectNoMoreProjects,\n  selectProjectReadyForDeletion,\n  selectProjectsData,\n  selectProjectsOrderBy,\n  selectProjectsSortOrder\n} from '../../common-projects.reducer';\nimport {\n  CheckProjectForDeletion,\n  GetAllProjectsPageProjects,\n  ProjectUpdated,\n  ResetProjects,\n  ResetProjectsSearchQuery,\n  ResetReadyToDelete,\n  SetProjectsOrderBy,\n  setProjectsSearchQuery\n} from '../../common-projects.actions';\nimport {Router} from '@angular/router';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\nimport {ProjectsGetAllResponseSingle} from '../../../../business-logic/model/projects/projectsGetAllResponseSingle';\nimport {ProjectDialogComponent} from '../../../shared/project-dialog/project-dialog.component';\nimport {combineLatest, Observable, Subscription} from 'rxjs';\nimport {\n  debounceTime,\n  distinctUntilChanged,\n  distinctUntilKeyChanged,\n  filter,\n  map,\n  skip,\n  withLatestFrom\n} from 'rxjs/operators';\nimport {ConfirmDialogComponent} from '../../../shared/ui-components/overlay/confirm-dialog/confirm-dialog.component';\nimport * as coreProjectsActions from '../../../core/actions/projects.actions';\nimport {setDeep, setSelectedProjectId} from '../../../core/actions/projects.actions';\nimport {InitSearch, ResetSearch} from '../../../common-search/common-search.actions';\nimport {ICommonSearchState, selectSearchQuery} from '../../../common-search/common-search.reducer';\nimport {\n  getDeletePopupEntitiesList,\n  getDeleteProjectPopupStatsBreakdown,\n  isDeletableProject,\n  readyForDeletionFilter\n} from '../../../../features/projects/projects-page.utils';\nimport {selectRouterParams} from '../../../core/reducers/router-reducer';\nimport {get} from 'lodash/fp';\nimport {selectShowOnlyUserWork} from '../../../core/reducers/users-reducer';\nimport {Project} from '../../../../business-logic/model/projects/project';\nimport {CommonDeleteDialogComponent} from '../../../shared/entity-page/entity-delete/common-delete-dialog.component';\nimport {resetDeleteState} from '../../../shared/entity-page/entity-delete/common-delete-dialog.actions';\nimport {EntityTypeEnum} from '../../../../shared/constants/non-common-consts';\nimport {StatsStatusCount} from '../../../../business-logic/model/projects/statsStatusCount';\nimport {isExample} from '../../../shared/utils/shared-utils';\nimport {selectSelectedProject} from '../../../core/reducers/projects.reducer';\nimport {Projects} from '@angular/cli/lib/config/workspace-schema';\n\n@Component({\n  selector: 'sm-common-projects-page',\n  templateUrl: './common-projects-page.component.html',\n  styleUrls: ['./common-projects-page.component.scss']\n})\nexport class CommonProjectsPageComponent implements OnInit, OnDestroy {\n  public projectsList$: Observable<Projects[]>;\n  public projectsOrderBy$: Observable<string>;\n\n  /* eslint-disable @typescript-eslint/naming-convention */\n  public ALL_EXPERIMENTS_CARD: ProjectsGetAllResponseSingle = {\n    id: '*',\n    name: 'All Experiments',\n    stats: {\n      active: {\n        status_count: {queued: '∞' as any, in_progress: '∞' as any, published: '∞' as any},\n        total_runtime: 0\n      }\n    }\n  };\n\n  public ROOT_EXPERIMENTS_CARD: ProjectsGetAllResponseSingle = {\n    name: '[.]',\n    stats: {\n      active: {\n        status_count: {queued: 0, in_progress: 0, closed: 0},\n        total_runtime: 0\n      }\n    }\n  };\n  /* eslint-enable @typescript-eslint/naming-convention */\n  private searchSubs: Subscription;\n  private projectReadyForDeletion$: Observable<CommonProjectReadyForDeletion>;\n  private projectReadyForDeletionSub: Subscription;\n  private searchQuery$: Observable<ICommonSearchState['searchQuery']>;\n  public noMoreProjects$: Observable<boolean>;\n  public projectsSortOrder$: Observable<1 | -1>;\n  private projectDialog: MatDialogRef<ProjectDialogComponent, any>;\n  public selectedProjectId$: Observable<string>;\n  private showOnlyUserWorkSub$: Subscription;\n  private selectedProjectSub: Subscription;\n  private selectedProject$: Observable<Project>;\n  private selectedProjectIdSub: Subscription;\n\n  constructor(public store: Store<any>, private router: Router, private dialog: MatDialog) {\n    this.searchQuery$ = this.store.select(selectSearchQuery);\n    this.projectsOrderBy$ = this.store.select(selectProjectsOrderBy);\n    this.projectsSortOrder$ = this.store.select(selectProjectsSortOrder);\n    this.noMoreProjects$ = this.store.select(selectNoMoreProjects);\n    this.selectedProjectId$ = this.store.select(selectRouterParams).pipe(map(params => get('projectId', params)));\n    this.selectedProject$ = this.store.select(selectSelectedProject);\n\n    this.projectReadyForDeletion$ = this.store.select(selectProjectReadyForDeletion).pipe(\n      distinctUntilChanged(),\n      filter(readyForDeletion => readyForDeletionFilter(readyForDeletion)));\n    this.projectsList$ = combineLatest([\n      this.store.select(selectProjectsData),\n      this.store.select(selectSelectedProject)\n    ]).pipe(\n      debounceTime(0),\n      withLatestFrom(this.selectedProjectId$, this.searchQuery$),\n      map(([[projectsList, selectedProject], selectedProjectId, searchQuery]) => {\n        if ((searchQuery?.query || searchQuery?.regExp)) {\n          return projectsList;\n        } else {\n          if (selectedProject?.sub_projects?.length === 0 && selectedProjectId === selectedProject?.id) {\n            this.router.navigateByUrl(`projects/${selectedProject.id}/experiments`);\n            return [];\n          }\n          const pageProjectsList = ([{\n            ...((selectedProjectId && selectedProject) ? selectedProject : this.ALL_EXPERIMENTS_CARD),\n            // eslint-disable-next-line @typescript-eslint/naming-convention\n            id: selectedProjectId ? selectedProjectId : '*', name: 'All Experiments', sub_projects: null,\n            ...(selectedProject && {stats: {active: this.calculateAllExperimentsProjectStats(selectedProject, projectsList)}})\n          } as ProjectsGetAllResponseSingle]);\n          return pageProjectsList.concat(projectsList);\n        }\n      })\n    );\n\n    this.syncAppSearch();\n  }\n\n  ngOnInit() {\n    // this.store.dispatch(new ResetSelectedProject());\n    this.store.dispatch(setDeep({deep: false}));\n    this.store.dispatch(new GetAllProjectsPageProjects());\n\n    this.selectedProjectIdSub = this.selectedProjectId$.pipe(\n      filter(projectId => !projectId),\n      distinctUntilChanged(),\n    ).subscribe(() => {\n        this.store.dispatch(new ResetProjectsSearchQuery());\n        this.store.dispatch(new GetAllProjectsPageProjects());\n      }\n    );\n    this.selectedProjectSub = this.selectedProject$.pipe(\n      filter(project => (!!project)),\n      distinctUntilKeyChanged('id'),\n      skip(1),\n    ).subscribe(() => {\n      this.store.dispatch(new ResetProjectsSearchQuery());\n      this.store.dispatch(new GetAllProjectsPageProjects());\n    });\n    this.showOnlyUserWorkSub$ = this.store.select(selectShowOnlyUserWork).pipe(skip(1)).subscribe(() => {\n      this.store.dispatch(new ResetProjectsSearchQuery());\n      this.store.dispatch(new GetAllProjectsPageProjects());\n    });\n\n    this.projectReadyForDeletionSub = this.projectReadyForDeletion$.subscribe(readyForDeletion => {\n      if (isDeletableProject(readyForDeletion)) {\n        this.showDeleteDialog(readyForDeletion);\n      } else {\n        this.showConfirmDialog(readyForDeletion);\n      }\n    });\n  }\n\n  private showConfirmDialog(readyForDeletion: CommonProjectReadyForDeletion) {\n    const confirmDialogRef: MatDialogRef<any, boolean> = this.dialog.open(ConfirmDialogComponent, {\n      data: {\n        title: `Unable to Delete Project`,\n        body: `You cannot delete project \"<b>${readyForDeletion.project.name}</b>\" with un-archived ${getDeletePopupEntitiesList()}. <br/>\n                   You have: ${getDeleteProjectPopupStatsBreakdown(readyForDeletion, 'unarchived')} in this project. <br/>\n                   If you wish to delete this project, you must archive, delete, or move these items to another project.`,\n        no: 'OK',\n        iconClass: 'i-alert',\n      }\n    });\n    confirmDialogRef.afterClosed().subscribe(() => {\n      this.store.dispatch(new ResetReadyToDelete());\n    });\n  }\n\n  private showDeleteDialog(readyForDeletion: CommonProjectReadyForDeletion) {\n    const confirmDialogRef = this.dialog.open(CommonDeleteDialogComponent, {\n      data: {\n        entity: readyForDeletion.project,\n        numSelected: 1,\n        entityType: EntityTypeEnum.project,\n        projectStats: readyForDeletion\n      },\n      width: '600px',\n      disableClose: true\n    });\n    confirmDialogRef.afterClosed().subscribe((confirmed) => {\n      if (confirmed) {\n        this.store.dispatch(resetDeleteState());\n        this.store.dispatch(new ResetProjects());\n        this.store.dispatch(new GetAllProjectsPageProjects());\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this.stopSyncSearch();\n    this.projectReadyForDeletionSub.unsubscribe();\n    this.showOnlyUserWorkSub$.unsubscribe();\n    this.selectedProjectSub.unsubscribe();\n    this.selectedProjectIdSub.unsubscribe();\n    this.store.dispatch(new ResetReadyToDelete());\n    this.store.dispatch(new ResetProjectsSearchQuery());\n  }\n\n  stopSyncSearch() {\n    this.store.dispatch(new ResetSearch());\n    this.searchSubs.unsubscribe();\n  }\n\n\n  syncAppSearch() {\n    this.store.dispatch(new InitSearch('Search for projects'));\n    this.searchSubs = this.searchQuery$.pipe(skip(1)).subscribe(query => this.search(query));\n  }\n\n  public projectCardClicked(project: ProjectsGetAllResponseSingle) {\n    if (project.name === 'All Experiments') {\n      this.store.dispatch(setDeep({deep: true}));\n    }\n    this.router.navigateByUrl((project?.sub_projects?.length > 0) ? `projects/${project.id}/projects` :\n      (project.id !== '*' ? `projects/${project.id}` : `projects/${project.id}/experiments`));\n    this.store.dispatch(setSelectedProjectId({projectId: project.id, example: isExample(project)}));\n  }\n\n  search(query: ICommonSearchState['searchQuery']) {\n    this.store.dispatch(setProjectsSearchQuery(query));\n  }\n\n  orderByChanged(sortByFieldName: string) {\n    this.store.dispatch(new SetProjectsOrderBy(sortByFieldName));\n  }\n\n  projectNameChanged(updatedProject) {\n    this.store.dispatch(new ProjectUpdated(updatedProject));\n  }\n\n  deleteProject(project: Project) {\n    this.store.dispatch(new CheckProjectForDeletion(project));\n  }\n\n  loadMore() {\n    this.store.dispatch(new GetAllProjectsPageProjects());\n  }\n\n\n  openProjectDialog(projectId?: string, mode?: string) {\n    this.projectDialog = this.dialog.open(ProjectDialogComponent, {\n      data: {\n        mode,\n        projectId\n      }\n    });\n    this.projectDialog.afterClosed().subscribe(projectHasBeenUpdated => {\n      if (projectHasBeenUpdated) {\n        this.store.dispatch(new ResetProjectsSearchQuery());\n        this.store.dispatch(new GetAllProjectsPageProjects());\n        this.store.dispatch(coreProjectsActions.getAllSystemProjects());\n      }\n    });\n  }\n\n  private calculateAllExperimentsProjectStats(selectedProject: ProjectsGetAllResponseSingle, projectsList: ProjectsGetAllResponseSingle[]): StatsStatusCount {\n    const stats: StatsStatusCount = {};\n    for (const key of Object.keys(selectedProject.stats.active)) {\n      if(['completed_tasks', 'running_tasks', 'total_tasks', 'total_runtime'].includes(key)){\n        stats[key] = projectsList.map(project => (project.stats.active[key] || 0)).reduce((a, b) => a + b, 0);\n      }\n    }\n    return stats;\n  }\n\n\n}\n","<sm-projects-list\n  (deleteProjectClicked)=\"deleteProject($event)\"\n  (loadMore)=\"loadMore()\"\n  (projectCardClicked)=\"projectCardClicked($event)\"\n  (projectNameChanged)=\"projectNameChanged($event)\"\n  (createNewProjectClicked)=\"openProjectDialog($event, 'create')\"\n  (moveToClicked)=\"openProjectDialog($event, 'move')\"\n  [noMoreProjects]=\"noMoreProjects$ | async\"\n  [projects]=\"projectsList$ | async\"\n>\n  <sm-projects-header\n    (createProjectClicked)=\"openProjectDialog($event, 'create')\"\n    (orderByChanged)=\"orderByChanged($event)\"\n    [hideCreateButton]=\"false\"\n    [sortByField]=\"projectsOrderBy$ | async\"\n    [sortOrder]=\"projectsSortOrder$ | async\"\n    [selectedProject]=\"selectedProjectId$ | async\"\n  ></sm-projects-header>\n</sm-projects-list>\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {SMSharedModule} from '../../webapp-common/shared/shared.module';\nimport {StoreModule} from '@ngrx/store';\nimport {ProjectRouterModule} from './projects-routing.module';\nimport {projectsReducer} from './projects.reducer';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {CommonProjectsModule} from '../../webapp-common/projects/common-projects.module';\n\nexport const projectSyncedKeys = ['showHidden'];\n\n@NgModule({\n  imports        : [\n    CommonModule,\n    SMSharedModule,\n    ProjectRouterModule,\n    FormsModule,\n    ReactiveFormsModule,\n    CommonProjectsModule,\n    StoreModule.forFeature('projects', projectsReducer),\n  ],\n  declarations   : []\n})\nexport class ProjectsModule {\n}\n","import {createFeatureSelector, createSelector} from '@ngrx/store';\nimport {\n  CommonProjectReadyForDeletion,\n  commonProjectsInitState,\n  commonProjectsReducer,\n  ICommonProjectsState\n} from '@common/projects/common-projects.reducer';\nimport {PROJECTS_ACTIONS} from '@common/projects/common-projects.consts';\nimport {selectSelectedProject} from '@common/core/reducers/projects.reducer';\n\nexport type IProjectReadyForDeletion = CommonProjectReadyForDeletion;\n\nexport interface IProjectsState extends ICommonProjectsState {\n\n  projectReadyForDeletion: IProjectReadyForDeletion;\n}\n\nconst projectsInitState: IProjectsState = {\n        ...commonProjectsInitState,\n        projectReadyForDeletion: {\n          project: null, experiments: null, models: null\n        }\n      };\n\nexport const projectsReducer = (state: IProjectsState = projectsInitState, action): IProjectsState => {\n  switch (action.type) {\n    case PROJECTS_ACTIONS.CHECK_PROJECT_FOR_DELETION:\n      return {...state, projectReadyForDeletion: {...projectsInitState.projectReadyForDeletion, project: action.payload.project}};\n    case PROJECTS_ACTIONS.RESET_READY_TO_DELETE:\n      return {...state, projectReadyForDeletion: projectsInitState.projectReadyForDeletion};\n    case PROJECTS_ACTIONS.SET_PROJECT_READY_FOR_DELETION:\n      return {...state, projectReadyForDeletion: {...state.projectReadyForDeletion, ...action.payload.readyForDeletion}};\n    default:\n      return commonProjectsReducer(state, action);\n  }\n};\n\nexport const projects = state => state.projects as IProjectsState;\n\nexport const selectShowHidden = createSelector(projects, () => false);\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {SMSharedModule} from '@common/shared/shared.module';\nimport {ProjectCardComponent} from '@common/shared/ui-components/panel/project-card/project-card.component';\nimport {ProjectCardMenuExtendedComponent} from '~/features/projects/containers/project-card-menu-extended/project-card-menu-extended.component';\nimport {ProjectCardMenuComponent} from '@common/shared/ui-components/panel/project-card-menu/project-card-menu.component';\n\nconst _declarations = [\n  ProjectCardComponent,\n  ProjectCardMenuComponent,\n  ProjectCardMenuExtendedComponent\n];\n\n@NgModule({\n  imports        : [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    SMSharedModule\n  ],\n  declarations   : [..._declarations],\n  exports        : [..._declarations]\n})\nexport class ProjectsSharedModule {\n}\n","<div class=\"header d-flex align-items-center justify-content-center h-100 w-100 flex-column\"   *ngIf=\"currentUser$ | async as currentUser\">\n    <div class=\"user-icon\"> </div>\n    <sm-inline-edit class=\"dark profile-name\"\n                    [originalText]=\"currentUser.name\"\n                    [editable]=\"true\"\n                    (textChanged)=\"nameChange($event, currentUser)\">\n      <div class=\"text-center\">{{currentUser.name}}</div>\n    </sm-inline-edit>\n    <div *ngIf=\"currentUser.email\" class=\"profile-email text\">Email address:</div>\n    <div>{{currentUser.email}}</div>\n\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {filter, take} from 'rxjs/operators';\nimport {selectCurrentUser} from '@common/core/reducers/users-reducer';\nimport {getAllCredentials} from '@common/core/actions/common-auth.actions';\nimport {updateCurrentUser} from '@common/core/actions/users.actions';\nimport {GetCurrentUserResponseUserObject} from '../../../../business-logic/model/users/getCurrentUserResponseUserObject';\n\n@Component({\n  selector: 'sm-profile-name',\n  templateUrl: './profile-name.component.html',\n  styleUrls: ['./profile-name.component.scss']\n})\nexport class ProfileNameComponent implements OnInit {\n\n  currentUser$ = this.store.select(selectCurrentUser);\n\n  constructor(private store: Store<any>) { }\n\n  ngOnInit(): void {\n    this.currentUser$\n      .pipe(filter(user => !!user), take(1))\n      .subscribe(() => {\n        this.store.dispatch(getAllCredentials());\n      });\n  }\n\n\n  nameChange(updatedUserName: string, currentUser: GetCurrentUserResponseUserObject) {\n    const user = {name: updatedUserName, user: currentUser.id};\n    this.store.dispatch(updateCurrentUser({user}));\n  }\n}\n","<form [formGroup]=\"S3Form\" *ngIf=\"S3Form\">\n  <div class=\"row s3-row header\" *ngIf=\"bucketCredentials.controls.length>0\">\n    <div class=\"col-6\">Bucket</div>\n    <div class=\"col-4\">Key</div>\n    <div class=\"col-6\">Secret / SAS</div>\n    <div class=\"col-2\">AWS Region</div>\n    <div class=\"col-6\">Host (Endpoint)</div>\n  </div>\n  <div *ngFor=\"let bucket of bucketCredentials.controls; let i = index; trackBy: trackByFn\"\n       formArrayName=\"bucketCredentials\">\n    <div class=\"row s3-row\" [formGroupName]=\"i\">\n      <div class=\"col-6\">\n        <input matInput class=\"form-control\" formControlName=\"Bucket\">\n      </div>\n      <div class=\"col-4\">\n        <input matInput class=\"form-control\" formControlName=\"Key\">\n      </div>\n      <div class=\"col-6\">\n        <input matInput class=\"form-control\" formControlName=\"Secret\">\n      </div>\n      <div class=\"col-2\">\n        <input matInput class=\"form-control\" formControlName=\"Region\" placeholder=\"us-east-2\">\n      </div>\n      <div class=\"col-4\">\n        <input matInput class=\"form-control\" formControlName=\"Endpoint\" placeholder=\"Leave empty for AWS S3\">\n      </div>\n      <div class=\"col-2 d-flex justify-content-end\">\n        <span class=\"delete-button\" (click)=\"removeBucket(i)\" type=\"button\" smTooltip=\"Remove\">\n          <i class=\"al-icon sm-md\" [ngClass]=\"ICONS.REMOVE\"></i>\n        </span>\n      </div>\n    </div>\n  </div>\n  <div>\n    <a href=\"\" class=\"add-button\" (click)=\"$event.preventDefault(); addBucket({})\" type=\"button\">\n      <i class=\"al-icon sm al-ico-plus mr-1 vertical-middle\"></i>Add access keys\n    </a>\n  </div>\n</form>\n","import {Component, EventEmitter, Input, OnDestroy, OnInit, Output} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {FormArray, FormBuilder, FormGroup} from '@angular/forms';\nimport {get} from 'lodash/fp';\nimport {ALLEGRO_TUTORIAL_BUCKET} from '../../../../app.constants';\nimport {debounceTime} from 'rxjs/operators';\nimport {Subscription} from 'rxjs';\nimport { ICONS } from '../../../constants';\n\n@Component({\n  selector   : 'sm-s3-access',\n  templateUrl: './s3-access.component.html',\n  styleUrls  : ['./s3-access.component.scss']\n})\nexport class S3AccessComponent implements OnDestroy, OnInit {\n  readonly ALLEGRO_TUTORIAL_BUCKET = ALLEGRO_TUTORIAL_BUCKET;\n  readonly BUCKET_CREDENTIALS      = 'bucketCredentials';\n  public S3Form: FormGroup;\n  public ICONS                     = ICONS;\n  private formChangeSubscription: Subscription;\n\n  @Input() set s3bucketCredentials(s3bucketCredentials) {\n    this.formChangeSubscription && this.formChangeSubscription.unsubscribe();\n    this.buildS3Form(s3bucketCredentials);\n    this.formChangeSubscription = this.S3Form.valueChanges.pipe(debounceTime(300)).subscribe(formData => {\n      this.saveCredentials(this.S3Form.getRawValue());\n      this.disableTutorialBucket();\n    });\n  };\n\n  @Output() s3bucketCredentialsChanged = new EventEmitter();\n\n  constructor(private store: Store<any>, private formBuilder: FormBuilder) {\n  }\n\n  get bucketCredentials(): FormArray {\n    return this.S3Form.get(this.BUCKET_CREDENTIALS) as FormArray;\n  }\n\n  addBucket({Key = '', Secret = '', Region = '', Bucket = '', Endpoint = null} = {}) {\n    this.bucketCredentials.push(this.formBuilder.group({\n      Key,\n      Secret,\n      Region,\n      Bucket,\n      Endpoint: (Endpoint?.startsWith('http') || Endpoint === null)? Endpoint : `http${Endpoint?.endsWith('443') ? 's' : ''}://${Endpoint}`\n\n  }));\n  }\n\n  removeBucket(index) {\n    this.bucketCredentials.removeAt(index);\n  }\n\n  private buildS3Form(S3Credentials) {\n    this.S3Form = this.formBuilder.group({\n      bucketCredentials: this.formBuilder.array([]),\n    });\n\n    if (get('bucketCredentials.length', S3Credentials)) {\n      S3Credentials.bucketCredentials.forEach(bucket => {\n        this.addBucket(bucket || {});\n      });\n    }\n\n    this.disableTutorialBucket();\n  }\n\n  public trackByFn(index, item) {\n    return index;\n  }\n\n  public saveCredentials(formData) {\n    this.s3bucketCredentialsChanged.emit(formData);\n  }\n\n  public disableTutorialBucket() {\n    const tutorialBucketIndex = this.S3Form.get(this.BUCKET_CREDENTIALS).value.findIndex(cre =>\n      cre.Bucket === this.ALLEGRO_TUTORIAL_BUCKET);\n    if (tutorialBucketIndex >= 0) {\n      this.S3Form.get(this.BUCKET_CREDENTIALS).get(tutorialBucketIndex.toString()).disable();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.formChangeSubscription.unsubscribe();\n  }\n\n  ngOnInit(): void {\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {selectS3BucketCredentials} from '@common/core/reducers/common-auth-reducer';\nimport {updateS3Credential} from '@common/core/actions/common-auth.actions';\nimport {AdminService} from '~/shared/services/admin.service';\n\n@Component({\n  selector: 'sm-profile-key-storage',\n  templateUrl: './profile-key-storage.component.html',\n  styleUrls: ['./profile-key-storage.component.scss']\n})\nexport class ProfileKeyStorageComponent implements OnInit {\n\n  public s3BucketCredentials$ = this.store.select(selectS3BucketCredentials);\n\n  constructor(private store: Store<any>,\n              private adminService: AdminService) { }\n\n  ngOnInit(): void {\n  }\n\n  onS3BucketCredentialsChanged(formData) {\n    this.adminService.resetS3Services();\n    this.store.dispatch(updateS3Credential({s3BucketCredentials: formData}));\n  }\n}\n","<div class=\"title\">\n  WEB APP CLOUD ACCESS <i\n  class=\"al-icon al-ico-info-circle sm info ml-3\"\n  smTooltip=\"Local, browser cached, access tokens that facilitate retrieving your cloud stored resources\"\n  matTooltipPosition=\"above\"\n></i>\n</div>\n<div class=\"section\">\n  <sm-s3-access\n    [s3bucketCredentials]=\"s3BucketCredentials$ | async\"\n    (s3bucketCredentialsChanged)=\"onS3BucketCredentialsChanged($event)\">\n  </sm-s3-access>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'sm-webapp-configuration',\n  templateUrl: './webapp-configuration.component.html',\n  styleUrls: ['./webapp-configuration.component.scss']\n})\nexport class WebappConfigurationComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<section>\n  <!-- <div class=\"title first\">User Preferences</div> -->\n  <!-- <sm-profile-preferences class=\"section\"></sm-profile-preferences> -->\n  <sm-profile-key-storage></sm-profile-key-storage>\n</section>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'sm-user-data',\n  templateUrl: './user-data.component.html',\n  styleUrls: ['./user-data.component.scss']\n})\nexport class UserDataComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { EventEmitter, Input, Output, Directive } from '@angular/core';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport {ConfirmDialogComponent} from '../../shared/ui-components/overlay/confirm-dialog/confirm-dialog.component';\nimport { ICONS } from '../../constants';\nimport {CredentialKey} from '../../../business-logic/model/auth/credentialKey';\n\n@Directive()\nexport class AdminCredentialTableBaseDirective {\n  @Input() credentials: CredentialKey[];\n  @Output() credentialRevoked = new EventEmitter();\n  public ICONS                = ICONS;\n  public dialog: MatDialog;\n\n  constructor(dialog: MatDialog) {\n    this.dialog = dialog;\n  }\n\n  confirmPopUp(credential) {\n    const confirmDialogRef: MatDialogRef<any, boolean> = this.dialog.open(ConfirmDialogComponent, {\n      data: {\n        title    : 'Are you sure?',\n        body     : `Are you sure you want to revoke access key ${credential.access_key}?<br>\\n\n              When revoked, these credentials cannot be recovered.`,\n        yes      : 'Revoke',\n        no       : 'Cancel',\n        iconClass: 'i-alert',\n      }\n    });\n\n    confirmDialogRef.afterClosed().subscribe((confirmed) => {\n      if (confirmed) {\n        this.credentialRevoked.emit(credential.access_key);\n      }\n    });\n  }\n\n}\n","<table class=\"admin-table\" *ngIf=\"credentials?.length\">\n  <thead>\n    <tr>\n      <th>Keys</th>\n      <th>Last used</th>\n      <th>Worker/IP</th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let credential of credentials\">\n      <td>{{credential.access_key}}</td>\n      <td>{{credential?.last_used ? (credential.last_used |  date : TIME_FORMAT_STRING): 'Never'}}</td>\n      <td>{{credential?.last_used_from ? credential?.last_used_from : 'Not available'}}</td>\n      <td class=\"text-center\">\n          <div class=\"delete-button\" (click)=\"confirmPopUp(credential)\" type=\"button\" smTooltip=\"Revoke\">\n            <i class=\"al-icon sm-md  m-auto\" [ngClass]=\"ICONS.REMOVE\"></i>\n          </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n","import {Component} from '@angular/core';\nimport {MatDialog} from '@angular/material/dialog';\nimport {AdminCredentialTableBaseDirective} from '../admin-credential-table.base';\nimport {TIME_FORMAT_STRING} from '../../../constants';\n\n\n@Component({\n  selector   : 'sm-admin-credential-table',\n  templateUrl: './admin-credential-table.component.html',\n  styleUrls  : ['./admin-credential-table.component.scss']\n})\nexport class AdminCredentialTableComponent extends AdminCredentialTableBaseDirective {\n  TIME_FORMAT_STRING = TIME_FORMAT_STRING;\n  constructor(public dialog: MatDialog) {\n    super(dialog);\n  }\n}\n","<div class=\"title\">APP CREDENTIALS <i\n  class=\"fas fa-info-circle info\"\n  smTooltip=\"Credentials providing API access to this workspace\"\n  matTooltipPosition=\"above\"></i>\n</div>\n<div class=\"section mb-4\" *ngFor=\"let cred of credentials$ | async | keyvalue\">\n  <sm-admin-credential-table [credentials]=\"cred?.value\"\n                             (credentialRevoked)=\"onCredentialRevoked($event)\">\n  </sm-admin-credential-table>\n  <span\n    class=\"add-button d-flex align-items-center pointer\"\n    [class.disabled]=\"creatingCredentials\"\n    (click)=\"createCredential()\"><i class=\"al-icon sm al-ico-plus mr-1\"></i> Create new credentials\n  </span>\n</div>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {Observable, Subscription} from 'rxjs';\nimport {CredentialKeyExt, selectCredentials, selectNewCredential} from '@common/core/reducers/common-auth-reducer';\nimport {selectCurrentUser} from '@common/core/reducers/users-reducer';\nimport {filter, take} from 'rxjs/operators';\nimport {credentialRevoked, getAllCredentials} from '@common/core/actions/common-auth.actions';\nimport {Store} from '@ngrx/store';\nimport { createCredential } from '@common/core/actions/common-auth.actions';\nimport {GetCurrentUserResponseUserObject} from '~/business-logic/model/users/getCurrentUserResponseUserObject';\n\n@Component({\n  selector: 'sm-user-credentials',\n  templateUrl: './user-credentials.component.html',\n  styleUrls: ['./user-credentials.component.scss']\n})\nexport class UserCredentialsComponent implements OnInit, OnDestroy {\n\n  public credentials$: Observable<{ [workspaceId: string]: CredentialKeyExt[] }>;\n  private newCredentialSub: Subscription;\n  creatingCredentials = false;\n  private user: GetCurrentUserResponseUserObject;\n  constructor(private store: Store) { }\n\n  ngOnInit(): void {\n    this.store.select(selectCurrentUser)\n      .pipe(filter(user => !!user), take(1))\n      .subscribe(user => {\n        this.user = user;\n        this.store.dispatch(getAllCredentials());\n      });\n    this.credentials$ = this.store.select(selectCredentials);\n\n    this.newCredentialSub = this.store.select(selectNewCredential)\n      .subscribe(() => {\n        this.creatingCredentials = false;\n      });\n  }\n\n  createCredential() {\n    this.creatingCredentials = true;\n    this.store.dispatch(createCredential({workspace: this.user.company, openCredentialsPopup: true}));\n  }\n\n  onCredentialRevoked(accessKey) {\n    this.store.dispatch(credentialRevoked({accessKey, workspaceId: this.user.company.id}));\n  }\n\n  ngOnDestroy(): void {\n    this.newCredentialSub.unsubscribe();\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'sm-workspace-configuration',\n  templateUrl: './workspace-configuration.component.html',\n  styleUrls: ['./workspace-configuration.component.scss']\n})\nexport class WorkspaceConfigurationComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<section class=\"d-flex flex-column w-100\">\n  <sm-user-data></sm-user-data>\n  <sm-user-credentials></sm-user-credentials>\n</section>\n","import {Component} from '@angular/core';\n\n@Component({\n  selector: 'sm-admin-footer-actions',\n  templateUrl: './admin-footer-actions.component.html',\n  styleUrls: ['./admin-footer-actions.component.scss']\n})\nexport class AdminFooterActionsComponent {\n  constructor() { }\n}\n","<footer>\n  <sm-admin-footer-actions></sm-admin-footer-actions>\n  <div class=\"version float-right\">\n    <span>WebApp: </span>\n    <span>{{version[\"docker-image\"] || version.version}}</span>\n    <ng-container *ngIf=\"(serverVersions$ | async) as serverVersions\">\n      <span> • Server: {{serverVersions?.server}}</span>\n      <span> • API: {{serverVersions?.api}}</span>\n    </ng-container>\n  </div>\n</footer>\n","import { Component, OnInit } from '@angular/core';\nimport {selectServerVersions} from '@common/core/reducers/users-reducer';\nimport {Store} from '@ngrx/store';\nimport version from '../../../../../version.json';\nimport {getApiVersion} from '@common/core/actions/users.actions';\n\n@Component({\n  selector: 'sm-admin-footer',\n  templateUrl: './admin-footer.component.html',\n  styleUrls: ['./admin-footer.component.scss']\n})\nexport class AdminFooterComponent implements OnInit {\n\n  public serverVersions$ = this.store.select(selectServerVersions);\n  public version = version;\n\n  constructor(private store: Store<any>) {\n    store.dispatch(getApiVersion());\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {ProfileNameComponent} from '../../webapp-common/settings/admin/profile-name/profile-name.component';\nimport {WebappConfigurationComponent} from '../../webapp-common/settings/webapp-configuration/webapp-configuration.component';\nimport {WorkspaceConfigurationComponent} from '../../webapp-common/settings/workspace-configuration/workspace-configuration.component';\nimport {SettingsComponent} from './settings.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingsComponent,\n    children: [\n      {\n        path: '',\n        redirectTo: 'profile',\n        pathMatch: 'full'\n      },\n      {path: 'profile',\n        component: ProfileNameComponent,\n      },\n      {\n        path: 'webapp-configuration',\n        component: WebappConfigurationComponent,\n      },\n      {\n        path: 'workspace-configuration',\n        component: WorkspaceConfigurationComponent,\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class SettingsRoutingModule { }\n\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'sm-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['../../webapp-common/settings/settings.component.scss']\n})\nexport class SettingsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<mat-drawer-container class=\"settings-container\">\n  <mat-drawer mode=\"side\" opened>\n    <mat-list class=\"pointer\" style=\"padding-top: 24px;\">\n      <mat-list-item routerLinkActive=\"active\" routerLink=\"profile\"> Profile </mat-list-item>\n      <mat-list-item routerLinkActive=\"active\" routerLink=\"webapp-configuration\"> Configuration </mat-list-item>\n      <mat-list-item routerLinkActive=\"active\" routerLink=\"workspace-configuration\"> Workspace </mat-list-item>\n    </mat-list>\n  </mat-drawer>\n  <mat-drawer-content>\n    <div class=\"section\">\n      <div class=\"content\">\n        <router-outlet></router-outlet>\n      </div>\n    </div>\n    <sm-admin-footer></sm-admin-footer>\n  </mat-drawer-content>\n</mat-drawer-container>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SettingsRoutingModule } from './settings-routing.module';\nimport { SettingsComponent } from '../settings/settings.component';\nimport {SMMaterialModule} from '../../webapp-common/shared/material/material.module';\nimport {SMSharedModule} from '@common/shared/shared.module';\nimport {ReactiveFormsModule} from '@angular/forms';\nimport {SharedModule} from '~/shared/shared.module';\nimport {MatExpansionModule} from '@angular/material/expansion';\nimport {WebappConfigurationComponent} from '@common/settings/webapp-configuration/webapp-configuration.component';\nimport {WorkspaceConfigurationComponent} from '@common/settings/workspace-configuration/workspace-configuration.component';\nimport {ProfileKeyStorageComponent} from '@common/settings/admin/profile-key-storage/profile-key-storage.component';\nimport {ProfilePreferencesComponent} from '@common/settings/admin/profile-preferences/profile-preferences.component';\nimport {ProfileNameComponent} from '@common/settings/admin/profile-name/profile-name.component';\nimport {AdminFooterComponent} from '@common/settings/admin/admin-footer/admin-footer.component';\nimport {S3AccessComponent} from '@common/settings/admin/s3-access/s3-access.component';\nimport {AdminDialogTemplateComponent} from '@common/settings/admin/admin-dialog-template/admin-dialog-template.component';\nimport {AdminCredentialTableComponent} from '@common/settings/admin/admin-credential-table/admin-credential-table.component';\nimport {AdminFooterActionsComponent} from '~/features/settings/containers/admin/admin-footer-actions/admin-footer-actions.component';\nimport {UserCredentialsComponent} from '~/features/settings/containers/admin/user-credentials/user-credentials.component';\nimport {UserDataComponent} from '~/features/settings/containers/admin/user-data/user-data.component';\nimport {UsageStatsComponent} from '~/features/settings/containers/admin/usage-stats/usage-stats.component';\nimport {CreateCredentialDialogComponent} from '~/features/settings/containers/admin/create-credential-dialog/create-credential-dialog.component';\n\n\n\n@NgModule({\n  declarations: [\n    SettingsComponent,\n    UsageStatsComponent,\n    UserDataComponent,\n    UserCredentialsComponent,\n    AdminFooterActionsComponent,\n    AdminCredentialTableComponent,\n    AdminDialogTemplateComponent,\n    S3AccessComponent,\n    CreateCredentialDialogComponent,\n    AdminFooterComponent,\n    ProfileNameComponent,\n    ProfilePreferencesComponent,\n    ProfileKeyStorageComponent,\n    WorkspaceConfigurationComponent,\n    WebappConfigurationComponent,\n  ],\n  imports: [\n    CommonModule,\n    SettingsRoutingModule,\n    SMMaterialModule,\n    SMSharedModule,\n    ReactiveFormsModule, SharedModule, MatExpansionModule,\n  ],\n  exports: [\n    UserCredentialsComponent,\n    AdminFooterComponent,\n    ProfilePreferencesComponent,\n    ProfileNameComponent,\n    WebappConfigurationComponent,\n  ]\n})\nexport class SettingsModule { }\n","import {TableModel} from '@common/models/shared/models.model';\nimport {IExperimentInfo} from '~/features/experiments/shared/experiment-info.model';\nimport {Project} from '~/business-logic/model/projects/project';\nimport {Task} from '~/business-logic/model/tasks/task';\nimport {selectSelectedTableModel} from '@common/models/reducers';\nimport {createSelector} from '@ngrx/store';\nimport {selectSelectedExperiment} from '~/features/experiments/reducers';\nimport {selectRootProjects, selectSelectedProject} from '@common/core/reducers/projects.reducer';\nimport {formatStaticCrumb, prepareLinkData} from '@common/layout/breadcrumbs/breadcrumbs-common.utils';\n\nexport interface IBreadcrumbs {\n  project: Project;\n  projects: Project[];\n  experiment: IExperimentInfo;\n  model: TableModel;\n  task: Task;\n}\n\nexport const selectBreadcrumbsStringsBase = createSelector(\n  selectSelectedProject, selectSelectedExperiment, selectSelectedTableModel, selectRootProjects,\n  (project, experiment, model, projects) =>\n    ({project, experiment, model, projects}) as IBreadcrumbs);\n\n\nexport const prepareNames = (data: IBreadcrumbs) => {\n  const project    = prepareLinkData(data.project, true);\n  if (data.project) {\n    const subProjects = [];\n    const subProjectsNames = data.project?.name?.split('/');\n    let currentName = '';\n    subProjectsNames.forEach(name => {\n      currentName += currentName ? ('/' + name) : name;\n      const foundProject = [\n        ...data.projects,\n        {id: '*', name: 'All Experiments'},\n        {...data.project}\n      ].find(proj => currentName === proj.name);\n      subProjects.push(foundProject);\n    });\n    const subProjectsLinks = subProjects.map(subProject => ({\n      name: subProject?.name.substring(subProject?.name.lastIndexOf('/') + 1),\n      url: `projects/${subProject?.id}/projects`\n    })) as { name: string; url: string }[];\n    project.name = project.name.substring(project.name.lastIndexOf('/') + 1);\n    project.subCrumbs = subProjectsLinks;\n  }\n  const task       = prepareLinkData(data.task);\n  const experiment = (data.experiment) ? prepareLinkData(data.experiment, true) : {};\n  const model      = prepareLinkData(data.model, true);\n  const overview = formatStaticCrumb('overview');\n  const output      = formatStaticCrumb('');\n  const accountAdministration      = formatStaticCrumb('account-administration');\n  const experiments = formatStaticCrumb('experiments');\n  const models      = formatStaticCrumb('models');\n  const compare     = formatStaticCrumb('compare-experiments');\n\n\n  return {\n    ':projectId'         : project,\n    ':experimentId'      : experiment,\n    ':modelId'           : model,\n    ':taskId'            : task,\n    'compare-experiments': compare,\n    output,\n    experiments,\n    overview,\n    models,\n    execution: formatStaticCrumb('execution'),\n    'hyper-params' : formatStaticCrumb('hyper-params'),\n    artifacts: formatStaticCrumb('artifacts'),\n    general: formatStaticCrumb('general'),\n    log: formatStaticCrumb('logs'),\n    scalar: formatStaticCrumb('scalars'),\n    plots: formatStaticCrumb('plots'),\n    accountAdministration,\n    debugImages: formatStaticCrumb('Debug Samples'),\n  };\n};\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {SideNavComponent} from './side-nav/side-nav.component';\nimport {SMSharedModule} from '../webapp-common/shared/shared.module';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {RouterModule} from '@angular/router';\nimport {SurveyComponent} from './survey/survey.component';\nimport {SharedModule} from '../shared/shared.module';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\n\n@NgModule({\n  declarations: [SideNavComponent, SurveyComponent],\n  exports: [SideNavComponent, SurveyComponent],\n    imports: [\n        FontAwesomeModule,\n        CommonModule,\n        SMSharedModule,\n        FormsModule,\n        ReactiveFormsModule,\n        RouterModule,\n        SharedModule,\n    ]\n})\nexport class LayoutModule { }\n","import {TaskStatusEnum} from '../../business-logic/model/tasks/taskStatusEnum';\nimport {TaskTypeEnum} from '../../business-logic/model/tasks/taskTypeEnum';\n\nexport enum EntityTypeEnum {\n  experiment = 'experiment',\n  model = 'model',\n  project = 'project',\n}\n\nexport enum CircleTypeEnum {\n  completed = 'completed',\n  running = 'running',\n  pending = 'pending',\n  empty = 'empty',\n  'model-labels' = 'model-labels'\n}\n\nexport const EXPERIMENTS_STATUS_LABELS = {\n  [TaskStatusEnum.Created]     : 'Draft',\n  [TaskStatusEnum.Queued]      : 'Pending',\n  [TaskStatusEnum.InProgress]  : 'Running',\n  [TaskStatusEnum.Completed]   : 'Completed',\n  [TaskStatusEnum.Published]   : 'Published',\n  [TaskStatusEnum.Failed]      : 'Failed',\n  [TaskStatusEnum.Stopped]     : 'Completed',\n  [TaskStatusEnum.Closed]      : 'Closed',\n  [TaskTypeEnum.Testing]       : 'Testing',\n  [TaskTypeEnum.Training]      : 'Training',\n  [TaskTypeEnum.Inference]     : 'Inference',\n  [TaskTypeEnum.DataProcessing]: 'Data Processing',\n  [TaskTypeEnum.Application]   : 'Application',\n  [TaskTypeEnum.Monitor]       : 'Monitor',\n  [TaskTypeEnum.Controller]    : 'Controller',\n  [TaskTypeEnum.Optimizer]     : 'Optimizer',\n  [TaskTypeEnum.Service]       : 'Service',\n  [TaskTypeEnum.Qc]            : 'Qc',\n  [TaskTypeEnum.Custom]        : 'Custom'\n};\n","import {Directive, Input, OnDestroy, TemplateRef, ViewContainerRef} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {selectCurrentUser} from '../../webapp-common/core/reducers/users-reducer';\nimport {Subscription} from 'rxjs';\nimport {GetCurrentUserResponseUserObject} from \"../../business-logic/model/users/getCurrentUserResponseUserObject\";\n\n@Directive({\n  selector: '[smCheckPermission]'\n})\nexport class CheckPermissionDirective implements OnDestroy{\n  private userDataSubscription: Subscription;\n  private elseTemplateRef: TemplateRef<any>|null = null;\n  private user: GetCurrentUserResponseUserObject;\n  private blocked = true;\n\n  @Input() set smCheckPermission(permission: boolean | string) {\n    this.blocked = permission === false;\n    this.setUpView();\n  }\n\n  @Input()\n  set smCheckPermissionElse(templateRef: TemplateRef<any>|null) {\n    this.elseTemplateRef = templateRef;\n    this.setUpView();\n  }\n\n  constructor(\n    private templateRef: TemplateRef<any>,\n    private viewContainer: ViewContainerRef,\n    private store: Store<any>) {\n    this.userDataSubscription = this.store.select(selectCurrentUser)\n      .subscribe((user: GetCurrentUserResponseUserObject) => {\n        this.user = user;\n        this.setUpView();\n      });\n  }\n\n  setUpView() {\n    const allowed = !this.blocked && this.user && this.user.role !== 'guest';\n    this.viewContainer.clear();\n    if (allowed) {\n      this.viewContainer.createEmbeddedView(this.templateRef);\n    } else if (this.elseTemplateRef) {\n      this.viewContainer.createEmbeddedView(this.elseTemplateRef);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.userDataSubscription?.unsubscribe();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {HttpClient} from '@angular/common/http';\nimport {MatDialog} from '@angular/material/dialog';\nimport {Store} from '@ngrx/store';\nimport {EMPTY} from 'rxjs';\nimport {ApiLoginService} from '~/business-logic/api-services/login.service';\nimport {BaseLoginService} from '@common/shared/services/login.service';\nimport {ConfigurationService} from '@common/shared/services/configuration.service';\nimport {UserPreferences} from '@common/user-preferences';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoginService extends BaseLoginService {\n\n  constructor(\n    protected httpClient: HttpClient,\n    protected loginApi: ApiLoginService,\n    protected dialog: MatDialog,\n    protected configService: ConfigurationService,\n    protected store: Store,\n    protected router: Router,\n    protected userPreferences: UserPreferences\n) {\n    super(httpClient, loginApi, dialog, configService, store, router, userPreferences);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  signup(signupInfo) {\n    return EMPTY;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getInviteInfo(inviteId: string) {\n    return EMPTY;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  ssoLogin(params) {\n    return EMPTY;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  ssoFlow(resolve) {\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\n@NgModule({\n  declarations: [],\n  exports     : [],\n  imports     : [\n    CommonModule\n  ],\n})\nexport class SharedModule {\n}\n","import {HTTP} from '~/app.constants';\n\nexport const isFileserverUrl = (url: string) =>\n  url.startsWith(HTTP.FILE_BASE_URL);\n\nexport const convertToReverseProxy = (url: string) => url;\n","import {Action, createAction, props} from '@ngrx/store';\n\nconst COMMON_SEARCH_PREFIX = 'CommonSearch_';\n\nexport const COMMON_SEARCH_ACTIONS = {\n  SET_IS_SEARCHING      : COMMON_SEARCH_PREFIX + 'SET_IS_SEARCHING',\n  RESET_SEARCH          : COMMON_SEARCH_PREFIX + 'RESET_SEARCH',\n  INIT_SEARCH           : COMMON_SEARCH_PREFIX + 'INIT_SEARCH',\n  SET_SEARCH_QUERY      : COMMON_SEARCH_PREFIX + 'SET_SEARCH_QUERY',\n  SET_SEARCH_PLACEHOLDER: COMMON_SEARCH_PREFIX + 'SET_SEARCH_PLACEHOLDER',\n  SET_SEARCH_ACTIVE     : COMMON_SEARCH_PREFIX + 'SET_SEARCH_ACTIVE',\n};\n\nexport class SetIsSearching implements Action {\n  readonly type = COMMON_SEARCH_ACTIONS.SET_IS_SEARCHING;\n\n  constructor(public payload: boolean) {\n\n  }\n}\n\nexport class SetSearchActive implements Action {\n  readonly type = COMMON_SEARCH_ACTIONS.SET_SEARCH_ACTIVE;\n\n  constructor(public payload: boolean) {\n  }\n}\n\nexport const setSearchQuery = createAction(\n  COMMON_SEARCH_ACTIONS.SET_SEARCH_QUERY,\n  props<{query: string; regExp?: boolean}>()\n);\n\nexport class SetSearchPlaceholder implements Action {\n  readonly type = COMMON_SEARCH_ACTIONS.SET_SEARCH_PLACEHOLDER;\n\n  constructor(public payload: string) {\n  }\n}\n\nexport class ResetSearch implements Action {\n  readonly type = COMMON_SEARCH_ACTIONS.RESET_SEARCH;\n\n  constructor() {\n  }\n}\n\nexport class InitSearch implements Action {\n  readonly type = COMMON_SEARCH_ACTIONS.INIT_SEARCH;\n\n  constructor(public payload: string) {\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {SMSharedModule} from '../shared/shared.module';\nimport {CommonSearchComponent} from './containers/common-search/common-search.component';\nimport {StoreModule} from '@ngrx/store';\nimport {commonSearchReducer} from './common-search.reducer';\n\n@NgModule({\n  imports     : [\n    CommonModule,\n    SMSharedModule,\n    StoreModule.forFeature('commonSearch', commonSearchReducer),\n  ],\n  declarations: [CommonSearchComponent],\n  exports     : [CommonSearchComponent]\n})\nexport class CommonSearchModule {\n}\n","import {createFeatureSelector, createSelector} from '@ngrx/store';\nimport {COMMON_SEARCH_ACTIONS, setSearchQuery} from './common-search.actions';\n\n\nexport interface ICommonSearchState {\n  isSearching: boolean;\n  searchQuery: {query: string; regExp?: boolean};\n  placeholder: string;\n  active: boolean;\n}\n\n// Todo remove selectedProjectId\nconst commonSearchInitState: ICommonSearchState = {\n  isSearching: false,\n  searchQuery: null,\n  placeholder: null,\n  active     : false\n};\n\nexport function commonSearchReducer<ActionReducer>(state: ICommonSearchState = commonSearchInitState, action): ICommonSearchState {\n\n  switch (action.type) {\n    case COMMON_SEARCH_ACTIONS.SET_IS_SEARCHING:\n      return {...state, isSearching: action.payload};\n    case setSearchQuery.type:\n      return {...state, searchQuery: action as ReturnType<typeof setSearchQuery>};\n    case COMMON_SEARCH_ACTIONS.SET_SEARCH_PLACEHOLDER:\n      return {...state, placeholder: action.payload};\n    case COMMON_SEARCH_ACTIONS.SET_SEARCH_ACTIVE:\n      return {...state, active: action.payload};\n    case COMMON_SEARCH_ACTIONS.INIT_SEARCH:\n      return {\n        ...state,\n        isSearching: false,\n        searchQuery: commonSearchInitState.searchQuery,\n        placeholder: action.payload || 'Search',\n        active     : false\n      };\n    case COMMON_SEARCH_ACTIONS.RESET_SEARCH:\n      return {\n        ...state,\n        isSearching: false,\n        searchQuery: commonSearchInitState.searchQuery,\n        placeholder: 'Search',\n        active     : false\n      };\n    default:\n      return state;\n  }\n}\n\nexport const selectCommonSearch = createFeatureSelector<ICommonSearchState>('commonSearch');\nexport const selectIsSearching  = createSelector(selectCommonSearch, (state: ICommonSearchState): boolean => state ? state.isSearching : false);\nexport const selectSearchQuery  = createSelector(selectCommonSearch, (state: ICommonSearchState) => state?.searchQuery || commonSearchInitState.searchQuery);\nexport const selectPlaceholder  = createSelector(selectCommonSearch, (state: ICommonSearchState): string => state ? state.placeholder : '');\nexport const selectActiveSearch = createSelector(selectCommonSearch, (state: ICommonSearchState): boolean => state ? state.active : false);\n\n\n","export type TableSelectionState = 'All' | 'Partial' | 'None';\n\nexport const TIME_FORMAT_STRING = 'MMM d yyyy H:mm';\n\nexport const ICONS = {\n  ALERT: 'al-ico-alert',\n  CREATED: 'fa-plus',\n  MINUS: 'fa-minus',\n  CHART: 'al-ico-info-max',\n  QUEUED: 'al-ico-manage-queue',\n  ENQUEUE: 'al-ico-enqueue',\n  DEQUEUE: 'al-ico-dequeue',\n  IN_PROGRESS: 'fa-hourglass-half',\n  STOPPED: 'al-ico-abort',\n  STOPPED_ALL: 'al-ico-abort-all',\n  RESUME: 'fa-hourglass-half',\n  CLOSED: 'fa-circle-o',\n  FAILED: 'fa-times',\n  FALSE: 'fa-times',\n  PUBLISHED: 'al-ico-publish',\n  PUBLISHING: 'fa-spinner',\n  TRUE: 'fa-check',\n  ANNOTATION: 'fa-puzzle-piece',\n  DATASET: 'fa-puzzle-piece',\n  TASK: 'fa-briefcase',\n  MODEL: 'fa-cube',\n  SHOW: 'fa-eye',\n  ARCHIVE: 'al-ico-archive',\n  RESTORE: 'al-ico-restore',\n  COMPARE: 'al-ico-compare',\n  HIDE: 'fa-eye-slash',\n  COMPLETED: 'fa-circle',\n  ABORTED: 'fa-circle',\n  UNKNOWN: 'fa-question-circle',\n  TESTING: 'fa-balance-scale',\n  IMPORT: 'fa-download',\n  TRAINING: 'fa-cube',\n  ANNOTATION_MANUAL: 'fa-edit',\n  ADMIN: 'fa-cogs',\n  DATASET_IMPORT: 'fa-download',\n  WARNING: 'fa-exclamation-triangle',\n  OUTPUT: 'fa-folder-open',\n  EXECUTION: 'fa-terminal',\n  LIST: 'al-ico-list-view',\n  REMOVE: 'al-ico-trash',\n  MOVE_TO: 'al-ico-move-to',\n  PLUGIN: 'al-ico-plugin',\n  ADD: 'fa-plus',\n  TREE: 'fa-code-branch',\n  TABLE: 'fa-table',\n  SELECTED: 'fa-check-square-o',\n  PROJECT: 'fa-list-alt',\n  FOCUS: 'fa-crosshairs',\n  LOG: 'fa-file-text-o',\n  METRICS: 'fa-chart-area',\n  TOKEN: 'fa-key',\n  EDIT: 'fa-pencil-square-o',\n  EDITABLE: 'fa-pencil',\n  RESET: 'al-ico-reset',\n  CLONE: 'al-ico-clone',\n  EXTEND: 'al-ico-extend',\n  DOWNLOAD: 'al-ico-download',\n  WORKER: 'al-ico-workers',\n  TAG: 'al-ico-tag',\n  SHARE: 'al-ico-shared-item',\n  ARROW_DOWN: 'al-ico-ico-chevron-down',\n  ARROW_UP: 'al-ico-ico-chevron-up',\n};\n\nexport type IconNames = keyof typeof ICONS;\nexport type ObjectKeysRecord<T extends object> = { [P in keyof T]: P };\nexport type IconsValues = typeof ICONS[keyof typeof ICONS];\n\nexport const PALLET = {\n  blue25: '#f9fafb',\n  blue50: '#f2f4fc', //242,244,252\n  blue100: '#dce0ee', //220,224,238\n  blue200: '#c3cdf0', //195,205,240\n  blue250: '#A4ADCD',\n  blue280: '#a7b2d8',\n  blue300: '#8492c2', //132,146,19\n  blue400: '#5a658e', //90,101,142\n  blue450: '#657099',\n  blue480: '#707ba3',\n  blue500: '#384161', //56,65,97\n  blue550: '#47527A',\n  blue570: '#323a56',\n  blue600: '#2c3246', //44,50,70\n  blue650: '#24293c',\n  blue700: '#202432', //32,36,50\n  blue800: '#1a1e2c', //26,30,44\n  blue900: '#141722', //20,23,34\n  blue950: '#0d0e15', //20,23,34\n};\n","import {createAction, props} from '@ngrx/store';\nimport {CredentialKeyExt, Credentials} from '../reducers/common-auth-reducer';\nimport {GetCurrentUserResponseUserObjectCompany} from '~/business-logic/model/users/getCurrentUserResponseUserObjectCompany';\n\nexport const AUTH_PREFIX = 'AUTH_';\n\nexport const updateS3Credential = createAction(\n  AUTH_PREFIX + 'SET_BUCKETS_CREDENTIALS',\n  props<{s3BucketCredentials: {bucketCredentials: Credentials[]}}>()\n);\nexport const createCredential = createAction(\n  AUTH_PREFIX + 'CREATE_CREDENTIAL (API)',\n  props<{workspace: GetCurrentUserResponseUserObjectCompany; openCredentialsPopup?: boolean}>()\n);\nexport const addCredential = createAction(\n  AUTH_PREFIX + 'ADD_CREDENTIAL',\n  props<{ newCredential: CredentialKeyExt; workspaceId: string }>()\n);\nexport const resetCredential = createAction(AUTH_PREFIX + 'RESET_CREDENTIAL');\nexport const removeCredential = createAction(\n  AUTH_PREFIX + '[remove credentials]',\n  props<{ accessKey: string; workspaceId: string }>()\n);\nexport const saveS3Credentials = createAction(AUTH_PREFIX + 'SET_BUCKET_CREDENTIALS',\n  props<{ newCredential: Credentials }>()\n);\nexport const cancelS3Credentials = createAction(\n  AUTH_PREFIX + 'CANCEL_BUCKET_CREDENTIALS',\n  props<{ dontAskAgainForBucketName: string }>()\n);\nexport const resetDontShowAgainForBucketEndpoint = createAction(AUTH_PREFIX + 'RESET_DONT_SHOW_AGAIN_FOR_BUCKET_ENDPOINT');\nexport const resetShowS3Popup = createAction(AUTH_PREFIX + 'RESET_SHOW_S3_POPUP');\nexport const showS3PopUp = createAction(\n  AUTH_PREFIX + 'SHOW_S3_POPUP',\n  props<{credentials: Credentials; credentialsError: string; isAzure: boolean}>()\n);\nexport const getTutorialBucketCredentials = createAction(AUTH_PREFIX + 'GET_TUTORIAL_BUCKET_CREDENTIALS');\nexport const showLocalFilePopUp = createAction(\n  AUTH_PREFIX + 'SHOW_LOCAL_FILE_POPUP',\n  props<{ url: string }>()\n);\nexport const getAllCredentials = createAction(AUTH_PREFIX + 'GET_ALL_CREDENTIALS');\nexport const credentialRevoked = createAction(\n  AUTH_PREFIX + 'REVOKE_CREDENTIAL (API)',\n  props<{ accessKey: string; workspaceId: string }>()\n);\nexport const updateAllCredentials = createAction(\n  AUTH_PREFIX + 'UPDATE_ALL_CREDENTIALS',\n  props<{ credentials: CredentialKeyExt[]; extra: {[workspace: string]: CredentialKeyExt[]}; workspace: string }>()\n);\nexport const getSignedUrl = createAction(\n  AUTH_PREFIX + '[get signed url]',\n  props<{url: string; config?: { skipLocalFile?: boolean; skipFileServer?: boolean; disableCache?: number; dprsUrl?: string | boolean }}>()\n);\nexport const setSignedUrl = createAction(\n  AUTH_PREFIX + '[set signed url]',\n  props<{url: string; signed: string; expires: number}>()\n);\n\n","import {HTTP_PREFIX} from '../../../app.constants';\nimport {omit} from 'lodash/fp';\nimport {HttpErrorResponse} from '@angular/common/http';\nimport {createAction, props} from '@ngrx/store';\n\nexport const requestFailed = createAction(\n  HTTP_PREFIX + 'REQUEST_FAILED',\n  (err: HttpErrorResponse) => ({err: omit(['headers'], err)})\n);\n\nexport const apiRequest = createAction(\n  HTTP_PREFIX + 'API Request',\n  props<{method: string; endpoint: string; success: string}>()\n);\n","import {MessageSeverityEnum, VIEW_PREFIX} from '../../../app.constants';\nimport {createAction, props} from '@ngrx/store';\nimport {omit} from 'lodash/fp';\nimport {HttpErrorResponse} from '@angular/common/http';\n\nexport const setAutoRefresh = createAction(\n  VIEW_PREFIX + '[set auto refresh]',\n  props<{autoRefresh: boolean}>()\n);\n\nexport const setCompareAutoRefresh = createAction(\n  VIEW_PREFIX + '[set compare auto refresh]',\n  props<{autoRefresh: boolean}>()\n);\n\nexport const setServerError = createAction(\n  VIEW_PREFIX + '[set server error]',\n  (serverError: HttpErrorResponse, contextSubCode?: number, customMessage?: string, aggregateSimilar = false) => ({\n    serverError: omit(['headers'], serverError) as Omit<HttpErrorResponse, 'headers'>,\n    contextSubCode,\n    customMessage,\n    aggregateSimilar\n  })\n);\n\nexport const setNotificationDialog = createAction(\n  VIEW_PREFIX + '[set notification dialog]',\n  props<{notification: {message: string; title: string}}>()\n);\n\nexport const resetLoader = createAction(VIEW_PREFIX + '[reset loader]');\n\nexport const setBackdrop = createAction(\n  VIEW_PREFIX + '[set backdrop]',\n  props<{payload: boolean}>()\n);\n\nexport const activeLoader = createAction(\n  VIEW_PREFIX + '[activate loader]',\n  (endpoint: string) => ({endpoint})\n);\n\nexport const deactivateLoader = createAction(\n  VIEW_PREFIX + '[deactivate loader]',\n  (endpoint: string) => ({endpoint})\n);\n\n\nexport const visibilityChanged = createAction(\n  VIEW_PREFIX + '[visibility changed]',\n  props<{visible: boolean}>()\n);\n\nexport const addMessage = createAction(\n  VIEW_PREFIX + '[add message]',\n  (severity: MessageSeverityEnum, msg: string, userActions?: {actions: any[]; name: string}[], suppressNextMessages?: boolean) =>\n    ({severity, msg, userActions, suppressNextMessages})\n);\n\nexport const removeMessage = createAction(VIEW_PREFIX + '[remove message]');\n\nexport const setServerUpdatesAvailable = createAction(\n  VIEW_PREFIX + '[set server updates available]',\n  props<{availableUpdates}>()\n);\n\nexport const setScaleFactor = createAction(\n  VIEW_PREFIX + '[set scale]',\n  props<{scale: number}>()\n);\n\nexport const firstLogin = createAction(\n  VIEW_PREFIX + '[set first Login]',\n  props<{first: boolean}>()\n);\n\nexport const neverShowPopupAgain = createAction(VIEW_PREFIX + 'NEVER_SHOW_POPUP_AGAIN', props<{ popupId: string; reset?: boolean }>());\n\nexport const plotlyReady = createAction(VIEW_PREFIX + '[plotly ready]');\nexport const aceReady = createAction(VIEW_PREFIX + '[ace ready]');\nexport const openAppsAwarenessDialog = createAction(VIEW_PREFIX + '[apps awareness dialog]',\n  props<{appsYouTubeIntroLink}>()\n);\n\n","import {createAction, props} from '@ngrx/store';\nimport {Project} from '../../../business-logic/model/projects/project';\nimport {ProjectsUpdateRequest} from '../../../business-logic/model/projects/projectsUpdateRequest';\nimport {ModelsPublishManyResponse} from '../../../business-logic/model/models/modelsPublishManyResponse';\nimport {ModelsArchiveManyResponse} from '../../../business-logic/model/models/modelsArchiveManyResponse';\nimport {ModelsDeleteManyResponse} from '../../../business-logic/model/models/modelsDeleteManyResponse';\nimport {archivedSelectedModels} from '@common/models/actions/models-menu.actions';\nimport {TasksResetManyResponse} from '../../../business-logic/model/tasks/tasksResetManyResponse';\nimport {TasksEnqueueManyResponse} from '../../../business-logic/model/tasks/tasksEnqueueManyResponse';\nimport {TasksArchiveManyResponse} from '../../../business-logic/model/tasks/tasksArchiveManyResponse';\nimport {TasksPublishManyResponse} from '../../../business-logic/model/tasks/tasksPublishManyResponse';\nimport {TasksStopManyResponse} from '../../../business-logic/model/tasks/tasksStopManyResponse';\nimport {EntityTypeEnum} from '../../../shared/constants/non-common-consts';\nimport {MetricColumn} from '@common/shared/utils/tableParamEncode';\nimport {ProjectStatsGraphData} from '@common/core/reducers/projects.reducer';\n\nexport const PROJECTS_PREFIX = '[ROOT_PROJECTS] ';\nexport const SET_PROJECTS = PROJECTS_PREFIX + 'SET_PROJECTS';\nexport const RESET_PROJECTS = PROJECTS_PREFIX + 'RESET_PROJECTS';\nexport const SET_LAST_UPDATE = PROJECTS_PREFIX + 'SET_LAST_UPDATE';\nexport const RESET_SELECTED_PROJECT = PROJECTS_PREFIX + 'RESET_SELECTED_PROJECT';\nexport const RESET_PROJECT_SELECTION = PROJECTS_PREFIX + 'RESET_PROJECT_SELECTION';\nexport const UPDATE_PROJECT = PROJECTS_PREFIX + 'UPDATE_PROJECT';\n\nexport interface TagColor {\n  foreground: string;\n  background: string;\n}\n\nexport const getAllSystemProjects = createAction(\n  PROJECTS_PREFIX + 'GET_PROJECTS'\n);\n\nexport const updateProject = createAction(\n  UPDATE_PROJECT,\n  props<{ id: string; changes: Partial<ProjectsUpdateRequest> }>()\n);\n\nexport const setAllProjects = createAction(\n  SET_PROJECTS,\n  props<{ projects: Project[]; updating?: boolean }>()\n);\n\nexport const resetProjects = createAction(RESET_PROJECTS);\n\nexport const setLastUpdate = createAction(\n  SET_LAST_UPDATE,\n  props<{ lastUpdate: string }>());\n\nexport const updateProjectCompleted = createAction(\n  PROJECTS_PREFIX + 'UPDATE_PROJECT_COMPLETED'\n);\n\nexport const setSelectedProjectId = createAction(\n  PROJECTS_PREFIX + 'SET_SELECTED_PROJECT_ID',\n  props<{ projectId: string; example?: boolean }>()\n);\n\nexport const setSelectedProject = createAction(\n  PROJECTS_PREFIX + 'SET_SELECTED_PROJECT',\n  props<{ project: Project }>()\n);\n\nexport const resetSelectedProject = createAction(\n  PROJECTS_PREFIX + 'RESET_SELECTED_PROJECT'\n);\n\nexport const resetProjectSelection = createAction(\n  PROJECTS_PREFIX + 'RESET_PROJECT_SELECTION'\n);\n\nexport const setArchive = createAction(\n  PROJECTS_PREFIX + 'SET_ARCHIVE',\n  props<{ archive: boolean }>()\n);\n\nexport const setDeep = createAction(\n  PROJECTS_PREFIX + 'SET_DEEP',\n  props<{ deep: boolean }>()\n);\n\nexport const getTags = createAction(\n  PROJECTS_PREFIX + '[get tags]'\n);\n\nexport const getCompanyTags = createAction(\n  PROJECTS_PREFIX + '[get company tags]'\n);\n\nexport const setTagsFilterByProject = createAction(\n  PROJECTS_PREFIX + '[set tags filter by project]',\n  props<{ tagsFilterByProject: boolean }>()\n);\n\nexport const setTags = createAction(\n  PROJECTS_PREFIX + '[set tags]',\n  props<{ tags: string[] }>()\n);\n\nexport const setCompanyTags = createAction(\n  PROJECTS_PREFIX + '[set company tags]',\n  props<{ tags: string[]; systemTags: string[] }>()\n);\n\nexport const openTagColorsMenu = createAction(\n  PROJECTS_PREFIX + '[open tag colors]'\n);\n\nexport const setTagColors = createAction(\n  PROJECTS_PREFIX + '[set tag colors]',\n  props<{ tag: string; colors: TagColor }>()\n);\n\nexport const openMoreInfoPopup = createAction(\n  PROJECTS_PREFIX + '[open more info popup]',\n  props<{ parentAction: ReturnType<typeof archivedSelectedModels>; operationName: string; entityType: EntityTypeEnum; res: ModelsPublishManyResponse | ModelsArchiveManyResponse | ModelsDeleteManyResponse | TasksResetManyResponse | TasksEnqueueManyResponse | TasksArchiveManyResponse | TasksPublishManyResponse | TasksStopManyResponse }>()\n);\n\nexport const setMetricVariant = createAction(\n  PROJECTS_PREFIX + '[set selected metric variant for graph]',\n  props<{ projectId: string; col: MetricColumn }>()\n);\nexport const fetchGraphData = createAction(PROJECTS_PREFIX + '[fetch stats for project graph]');\n\nexport const setGraphData = createAction(\n  PROJECTS_PREFIX + '[set project stats]',\n  props<{ stats: ProjectStatsGraphData[] }>()\n);\n","import {ISmAction} from '../models/actions';\nimport {NAVIGATION_PREFIX, NAVIGATION_ACTIONS} from '~/app.constants';\nimport {Action, createAction, props} from '@ngrx/store';\nimport {Params} from '@angular/router';\nimport {FilterMetadata} from 'primeng/api/filtermetadata';\nimport {SortMeta} from 'primeng/api';\n\n\n// TODO: remove this action...\nexport class NavigateTo implements ISmAction {\n  readonly type = NAVIGATION_ACTIONS.NAVIGATE_TO;\n\n  constructor(public payload: {\n    url: string;\n    params?: Params;\n    unGuard?: boolean;\n  }) {}\n}\n\nexport class NavigationEnd implements Action {\n  readonly type = NAVIGATION_ACTIONS.NAVIGATION_END;\n}\n\nexport class SetRouterSegments implements Action {\n  readonly type = NAVIGATION_ACTIONS.SET_ROUTER_SEGMENT;\n\n  constructor(public payload: {\n    url: string;\n    params: Params;\n    queryParams: Params;\n    config: string[];\n  }) {}\n}\n\nexport const setURLParams = createAction(\n  NAVIGATION_PREFIX + 'SET_URL_PARAMS',\n  props<{\n    columns?: string[];\n    orders?: SortMeta[];\n    filters?: { [key: string]: FilterMetadata };\n    isArchived?: boolean;\n    isDeep?: boolean;\n    update?: boolean;\n  }>()\n);\n","import {createAction, props} from '@ngrx/store';\nimport {USERS_PREFIX} from '~/app.constants';\nimport {GetCurrentUserResponseUserObjectCompany} from '~/business-logic/model/users/getCurrentUserResponseUserObjectCompany';\nimport {UsersUpdateRequest} from '~/business-logic/model/users/usersUpdateRequest';\n\nexport const fetchCurrentUser = createAction(USERS_PREFIX +'FETCH_USER');\nexport const updateCurrentUser = createAction(USERS_PREFIX +'UPDATE_USER',\n  props<{user: UsersUpdateRequest}>());\n\nexport const setCurrentUserName = createAction(USERS_PREFIX + 'SET_CURRENT_USER_NAME',\n  props<{name: string}>()\n);\nexport const termsOfUseAccepted = createAction(USERS_PREFIX + '[TOS accepted]');\n\nexport const logout = createAction(USERS_PREFIX + 'LOGOUT', props<{provider?: string}>());\nexport const logoutSuccess = createAction(USERS_PREFIX + 'LOGOUT_SUCCESS');\n\nexport const setPreferences = createAction(USERS_PREFIX +'SET_PREF', props<{payload: any}>());\n\nexport const setActiveWorkspace = createAction(\n  USERS_PREFIX + ' set active workspace',\n  props<{workspace: GetCurrentUserResponseUserObjectCompany; skipRedirect?: boolean}>()\n);\nexport const setSelectedWorkspaceTab = createAction(\n  USERS_PREFIX + ' set selected workspace tab',\n  props<{workspace: GetCurrentUserResponseUserObjectCompany}>()\n);\n\n\nexport const setFilterByUser =  createAction(USERS_PREFIX +'SET_FILTERED_BY_USER', props<{showOnlyUserWork: boolean}>());\n\nexport const setUserWorkspacesFromUser = createAction(USERS_PREFIX + ' set user workspaces from current user');\n\nexport const setAccountAdministrationPage = createAction(`${USERS_PREFIX} route to account-administration`  );\nexport const getApiVersion = createAction(`${USERS_PREFIX} get api version`  );\nexport const setApiVersion = createAction(`${USERS_PREFIX} set api version`, props<{serverVersions: {server: string; api: string}}>());\n\n","import {createSelector, on, ReducerTypes, select, Store} from '@ngrx/store';\nimport {\n  addCredential,\n  cancelS3Credentials,\n  removeCredential, resetCredential,\n  resetDontShowAgainForBucketEndpoint,\n  saveS3Credentials, setSignedUrl,\n  showLocalFilePopUp,\n  updateAllCredentials,\n  updateS3Credential\n} from '../actions/common-auth.actions';\nimport {CredentialKey} from '../../../business-logic/model/auth/credentialKey';\nimport {inBucket} from '@common/settings/admin/base-admin.service';\nimport {filter, map, timeoutWith} from 'rxjs/operators';\n\nexport interface Credentials {\n  Bucket?: string;\n  Endpoint?: string;\n  Key?: string;\n  Secret?: string;\n  Region?: string;\n}\n\nexport interface CredentialKeyExt extends CredentialKey {\n  secret_key?: string;\n  company?: string;\n  access_key?: string;\n}\n\nexport interface AuthState {\n  showLocalFilePopup: boolean;\n  localFilesPopupURLs: Array<string>;\n  revokeSucceed: boolean;\n  credentials: {[workSpaceId: string]: CredentialKeyExt[]};\n  newCredential: CredentialKeyExt;\n  dontShowAgainForBucketEndpoint: string;\n  s3BucketCredentials: { bucketCredentials: Credentials[] };\n  signedUrls: {[url: string]: {signed: string; expires: number}};\n}\n\nexport const initAuth: AuthState = {\n  showLocalFilePopup: false,\n  localFilesPopupURLs: [],\n  revokeSucceed: false,\n  credentials: {},\n  newCredential: null,\n  dontShowAgainForBucketEndpoint: '',\n  s3BucketCredentials: {\n    bucketCredentials: []\n  },\n  signedUrls: {}\n};\n\nexport const selectAuth = state => state.auth as AuthState;\n\n// Auth selectors\nexport const selectRevokeSucceed                  = createSelector(selectAuth, state => state.revokeSucceed);\nexport const selectCredentials                    = createSelector(selectAuth, state => state.credentials);\nexport const selectNewCredential                  = createSelector(selectAuth, state => state.newCredential);\nexport const selectS3BucketCredentials            = createSelector(selectAuth, state => state.s3BucketCredentials);\nexport const selectS3BucketCredentialsBucketCredentials = createSelector(selectAuth, state => state.s3BucketCredentials?.bucketCredentials);\nexport const selectShowLocalFilesPopUp            = createSelector(selectAuth, state => state.showLocalFilePopup);\nexport const selectDontShowAgainForBucketEndpoint = createSelector(selectAuth, state => state.dontShowAgainForBucketEndpoint);\nexport const selectSignedUrls = createSelector(selectAuth, state => state.signedUrls);\nexport const selectSignedUrl = url => createSelector(selectAuth, state => state.signedUrls[url]);\nexport const getSignedUrlOrOrigin$ = (url: string, store: Store) => store.pipe(\n  select(selectSignedUrl(url)),\n  filter(signed => !!signed?.signed),\n  map(signed => signed?.signed || url),\n  timeoutWith(600, store.select(selectSignedUrl(url)).pipe(map(signed => signed?.signed || url))),\n);\n\n\nexport const commonAuthReducer = [\n  on(showLocalFilePopUp, (state, action) => ({...state, showLocalFilePopup: true, localFilesPopupURLs: Array.from(new Set([...state.localFilesPopupURLs, action.url]))})),\n  on(cancelS3Credentials, (state, action) => ({...state, dontShowAgainForBucketEndpoint: action.dontAskAgainForBucketName})),\n  on(updateS3Credential, (state, action) => ({\n    ...state,\n    s3BucketCredentials: action.s3BucketCredentials,\n    dontShowAgainForBucketEndpoint: '',\n    newCredential: initAuth.newCredential,\n    signedUrls: {}\n  })),\n  on(resetDontShowAgainForBucketEndpoint, (state) => ({...state, dontShowAgainForBucketEndpoint: ''})),\n  on(saveS3Credentials, (state, action) => {\n    const credIndex = state.s3BucketCredentials.bucketCredentials.findIndex((creds) =>\n      (creds?.Bucket === action.newCredential.Bucket && creds?.Endpoint === action.newCredential.Endpoint));\n    if (credIndex > -1) {\n      return {\n        ...state,\n        s3BucketCredentials: {\n          bucketCredentials: state.s3BucketCredentials.bucketCredentials.map((creds, index) =>\n            index === credIndex ? action.newCredential : creds)\n        },\n        signedUrls: Object.fromEntries(Object.entries(state.signedUrls).filter(([url]) =>\n          !inBucket(url, action.newCredential.Bucket, action.newCredential.Endpoint)\n        ))\n      };\n    } else {\n      return {...state, s3BucketCredentials: {bucketCredentials: [...state.s3BucketCredentials.bucketCredentials, action.newCredential]}};\n    }\n  }),\n  on(resetCredential, state => ({...state, newCredential: initAuth.newCredential})),\n  on(addCredential, (state, action) => ({        ...state,\n    newCredential: {...action.newCredential, company: action.workspaceId},\n    credentials: {\n      ...state.credentials,\n      [action.workspaceId]: [\n        ...(state.credentials[action.workspaceId] || []),\n        ...(Object.keys(action.newCredential).length > 0 ? [{...action.newCredential, company: action.workspaceId}] : [])\n      ]}})),\n  on(removeCredential, (state, action) => ({        ...state, credentials: {\n      ...state.credentials,\n      [action.workspaceId]: state.credentials[action.workspaceId].filter((cred => cred.access_key !== action.accessKey))\n    }})),\n  on(updateAllCredentials, (state, action) => ({\n    ...state,\n    credentials: {[action.credentials[0]?.company || action.workspace]: action.credentials, ...action.extra}, revokeSucceed: false})),\n  on(setSignedUrl, (state, action) => ({...state, signedUrls: {...state.signedUrls, [action.url]: {signed: action.signed, expires: action.expires}}})),\n] as ReducerTypes<AuthState, any>[];\n","import {createSelector} from '@ngrx/store';\nimport * as projectsActions from '../actions/projects.actions';\nimport {\n  setAllProjects,\n  setCompanyTags,\n  setGraphData,\n  setLastUpdate,\n  setMetricVariant,\n  setTagColors,\n  setTags,\n  setTagsFilterByProject,\n  TagColor\n} from '../actions/projects.actions';\nimport {Project} from '~/business-logic/model/projects/project';\nimport {getSystemTags} from '~/features/experiments/shared/experiments.utils';\nimport {ITableExperiment} from '../../experiments/shared/common-experiment-model.model';\nimport {MetricColumn} from '@common/shared/utils/tableParamEncode';\nimport {sortByField} from '@common/tasks/tasks.utils';\nimport {ProjectsGetAllResponseSingle} from '~/business-logic/model/projects/projectsGetAllResponseSingle';\n\n\nexport interface ProjectStatsGraphData {\n  id: string;\n  x: number;\n  y: number;\n  name: string;\n  type: string;\n  status: string;\n  user: string;\n}\n\nexport interface RootProjects {\n  projects: Project[];\n  selectedProject: Project;\n  archive: boolean;\n  deep: boolean;\n  projectTags: string[];\n  companyTags: string[];\n  systemTags: string[];\n  tagsColors: { [tag: string]: TagColor };\n  tagsFilterByProject: boolean;\n  graphVariant: { [project: string]: MetricColumn };\n  graphData: ProjectStatsGraphData[];\n  lastUpdate: string;\n}\n\nconst initRootProjects: RootProjects = {\n  projects: [],\n  selectedProject: null,\n  archive: false,\n  deep: false,\n  projectTags: [],\n  companyTags: [],\n  systemTags: [],\n  tagsColors: {},\n  tagsFilterByProject: true,\n  graphVariant: {},\n  graphData: null,\n  lastUpdate: null\n};\n\nexport const projects = state => state.rootProjects as RootProjects;\nexport const selectRootProjects = createSelector(projects, (state): Project[] => state.projects);\nexport const selectSelectedProject = createSelector(projects, (state): ProjectsGetAllResponseSingle => state.selectedProject);\nexport const selectSelectedProjectDescription = createSelector(projects, state => state.selectedProject?.description);\nexport const selectSelectedProjectId = createSelector(selectSelectedProject, (selectedProject): string => selectedProject ? selectedProject.id : '');\nexport const selectIsArchivedMode = createSelector(projects, state => state.archive);\nexport const selectIsDeepMode = createSelector(projects, state => state.deep);\nexport const selectTagsFilterByProject = createSelector(projects, state => state.tagsFilterByProject);\nexport const selectProjectTags = createSelector(projects, state => state.projectTags);\nexport const selectCompanyTags = createSelector(projects, state => state.companyTags);\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const selectProjectSystemTags = createSelector(projects, state => getSystemTags({system_tags: state.systemTags} as ITableExperiment));\nexport const selectTagsColors = createSelector(projects, state => state.tagsColors);\nexport const selectLastUpdate = createSelector(projects, (state): string => state.lastUpdate);\nexport const selectTagColors = createSelector(selectTagsColors,\n  (tagsColors, props: { tag: string }) => tagsColors[props.tag]);\nconst selectSelectedProjectsMetricVariant = createSelector(projects, state => state.graphVariant);\n\nexport const selectSelectedMetricVariant = createSelector(selectSelectedProjectsMetricVariant,\n  (projectsVariant, projectId: string) => projectsVariant[projectId]);\n\nexport const selectSelectedMetricVariantForCurrProject = createSelector(\n  selectSelectedProjectsMetricVariant, selectSelectedProjectId,\n  (projectsVariant, projectId) => projectsVariant[projectId]);\n\nexport const selectGraphData = createSelector(projects, state => state.graphData);\n\n\nexport const projectsReducer = (state: RootProjects = initRootProjects, action) => {\n  switch (action.type) {\n    case projectsActions.resetProjects.type:\n      return {...state, projects: [], lastUpdate: null};\n    case projectsActions.setAllProjects.type:\n      const payload = action as ReturnType<typeof setAllProjects>;\n      let newProjects = state.projects;\n      if (payload.updating) {\n        payload.projects.forEach(proj => {\n          const index = state.projects.findIndex(stateProject => stateProject.id === proj.id);\n          if (index > -1) {\n            newProjects = [...newProjects.slice(0, index), proj, ...newProjects.slice(index + 1)];\n          } else {\n            newProjects = [...newProjects, proj];\n          }\n        });\n      } else {\n        newProjects = [...newProjects, ...payload.projects];\n      }\n      return {...state, projects: sortByField(newProjects, 'name')};\n    case projectsActions.setSelectedProjectId.type: {\n      const projectId = (action as ReturnType<typeof projectsActions.setSelectedProjectId>).projectId;\n      return {\n        ...state,\n        ...(state.selectedProject?.id !== projectId && {archive: initRootProjects.archive}),\n        graphData: initRootProjects.graphData,\n      };\n    }\n    case projectsActions.setSelectedProject.type:\n      return {...state, selectedProject: action.project};\n    case projectsActions.resetSelectedProject.type:\n      return {...state, selectedProject: initRootProjects.selectedProject};\n    case projectsActions.updateProject.type: {\n      return {...state, selectedProject: {...state.selectedProject, ...(action as ReturnType<typeof projectsActions.updateProject>).changes}};\n    }\n    case projectsActions.setArchive.type:\n      return {...state, archive: action.archive};\n    case projectsActions.setDeep.type:\n      return {...state, deep: action.deep};\n    case setTags.type:\n      return {...state, projectTags: action.tags};\n    case setTagsFilterByProject.type:\n      return {...state, tagsFilterByProject: action.tagsFilterByProject};\n    case setCompanyTags.type:\n      return {...state, companyTags: action.tags, systemTags: action.systemTags};\n    case setTagColors.type:\n      return {...state, tagsColors: {...state.tagsColors, [action.tag]: action.colors}};\n    case setMetricVariant.type: {\n      const payLoad = action as ReturnType<typeof setMetricVariant>;\n      return {...state, graphVariant: {...state.graphVariant, [payLoad.projectId]: payLoad.col}};\n    }\n    case setGraphData.type:\n      return {...state, graphData: (action as ReturnType<typeof setGraphData>).stats};\n    case setLastUpdate.type:\n      return {...state, lastUpdate: (action as ReturnType<typeof setLastUpdate>).lastUpdate};\n    default:\n      return state;\n  }\n};\n","import {createSelector, Action} from '@ngrx/store';\nimport {NAVIGATION_ACTIONS} from '../../../app.constants';\nimport {SetRouterSegments} from '../actions/router.actions';\nimport {Params} from '@angular/router';\n\nexport interface RouterState {\n  url: string;\n  params: Params;\n  queryParams: Params;\n  config: string[];\n  skipNextNavigation: boolean;\n}\n\nconst initRouter = {\n  url               : window.location.pathname,\n  params            : null,\n  queryParams       : null,\n  config            : null,\n  skipNextNavigation: false\n};\n\nexport const selectRouter       = state => state.router as RouterState;\nexport const selectRouterUrl    = createSelector(selectRouter, router => router && router.url);\nexport const selectRouterParams = createSelector(selectRouter, router => router && router.params);\nexport const selectRouterQueryParams = createSelector(selectRouter, router => router && router.queryParams);\nexport const selectRouterConfig = createSelector(selectRouter, router => router && router.config);\n\nexport function routerReducer(state: RouterState = initRouter, action: Action): RouterState {\n  switch (action.type) {\n    case NAVIGATION_ACTIONS.SET_ROUTER_SEGMENT: {\n      const payload = (action as SetRouterSegments).payload;\n      return {...state, params: payload.params, queryParams: payload.queryParams,\n        url: payload.url, config: payload.config};\n    }\n    default:\n      return state;\n  }\n\n}\n","import {createSelector, on, ReducerTypes} from '@ngrx/store';\nimport {\n  logout,\n  setFilterByUser,\n  setApiVersion,\n  fetchCurrentUser,\n  setCurrentUserName\n} from '../actions/users.actions';\nimport {GetCurrentUserResponseUserObject} from '~/business-logic/model/users/getCurrentUserResponseUserObject';\nimport {GetCurrentUserResponseUserObjectCompany} from '~/business-logic/model/users/getCurrentUserResponseUserObjectCompany';\nimport {OrganizationGetUserCompaniesResponseCompanies} from '~/business-logic/model/organization/organizationGetUserCompaniesResponseCompanies';\n\nexport interface UsersState {\n  currentUser: GetCurrentUserResponseUserObject;\n  activeWorkspace: GetCurrentUserResponseUserObjectCompany;\n  userWorkspaces: OrganizationGetUserCompaniesResponseCompanies[];\n  selectedWorkspaceTab: GetCurrentUserResponseUserObjectCompany;\n  workspaces: GetCurrentUserResponseUserObjectCompany[];\n  showOnlyUserWork: boolean;\n  serverVersions: { server: string; api: string };\n}\n\nexport const initUsers: UsersState = {\n  currentUser: null,\n  activeWorkspace: null,\n  userWorkspaces: [],\n  selectedWorkspaceTab: null,\n  workspaces: [],\n  showOnlyUserWork: false,\n  serverVersions: null,\n};\n\nexport const users = state => state.users as UsersState;\n\nexport const selectCurrentUser = createSelector(users, state  => state.currentUser);\nexport const selectActiveWorkspace = createSelector(users, state => state.activeWorkspace);\nexport const selectUserWorkspaces = createSelector(users, state => state.userWorkspaces);\nexport const selectSelectedWorkspaceTab = createSelector(users, state => state.selectedWorkspaceTab);\nexport const selectWorkspaces = createSelector(users, state => state.workspaces);\nexport const selectShowOnlyUserWork = createSelector(users, state => state.showOnlyUserWork);\nexport const selectServerVersions = createSelector(users, state  => state.serverVersions);\n\nexport const usersReducerFunctions = [\n  on(fetchCurrentUser, state => ({...state})),\n  on(setCurrentUserName, (state, action) => ({\n    ...state,\n    currentUser: {...state.currentUser, name: action.name}\n  })),\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  on(logout, state => ({\n    ...state,\n    currentUser: null\n  })),\n  on(setFilterByUser, (state, action) => ({...state, showOnlyUserWork: action.showOnlyUserWork})),\n  on(setApiVersion, (state, action) => ({...state, serverVersions: action.serverVersions}))\n] as ReducerTypes<UsersState, any>[];\n","import {createReducer, createSelector, on, ReducerTypes} from '@ngrx/store';\nimport * as layoutActions from '../actions/layout.actions';\nimport {apiRequest, requestFailed} from '@common/core/actions/http.actions';\n\nexport interface ViewState {\n  loading: { [endpoint: string]: boolean };\n  dialog: boolean;\n  notification: { title: string; message: string };\n  loggedOut: boolean;\n  backdropActive: boolean;\n  autoRefresh: boolean;\n  compareAutoRefresh: boolean;\n  applicationVisible: boolean;\n  scaleFactor: number;\n  firstLogin: boolean;\n  firstLoginAt: number;\n  neverShowPopupAgain: string[];\n  plotlyReady: boolean;\n  aceReady: boolean;\n  preferencesReady: boolean;\n}\n\nexport const initViewState: ViewState = {\n  loading: {},\n  dialog: false,\n\n  notification: null,\n  loggedOut: false,\n  backdropActive: false,\n  autoRefresh: true,\n  compareAutoRefresh: false,\n  applicationVisible: true,\n  scaleFactor: 100,\n  firstLogin: false,\n  firstLoginAt: +(window?.localStorage?.getItem('firstLogin') || 0),\n  neverShowPopupAgain: [],\n  plotlyReady: false,\n  aceReady: false,\n  preferencesReady: false\n};\n\nexport const views = state => state.views as ViewState;\nexport const selectReady = createSelector(views, state => state.preferencesReady);\nexport const selectLoading = createSelector(views, state => state.loading);\nexport const selectBackdropActive = createSelector(views, state => state.backdropActive);\n\nexport const selectNotification = createSelector(views, state => state.notification);\n\nexport const selectLoggedOut = createSelector(views, state => state.loggedOut);\nexport const selectAutoRefresh = createSelector(views, state => state && state.autoRefresh);\nexport const selectCompareAutoRefresh = createSelector(views, state => state.compareAutoRefresh);\nexport const selectAppVisible = createSelector(views, state => state.applicationVisible);\nexport const selectScaleFactor = createSelector(views, state => state.scaleFactor);\nexport const selectFirstLogin = createSelector(views, state => state.firstLogin);\nexport const selectFirstLoginAt = createSelector(views, state => state.firstLoginAt);\nexport const selectPlotlyReady = createSelector(views, state => state.plotlyReady);\nexport const selectAceReady = createSelector(views, state => state.aceReady);\nexport const selectNeverShowPopups = createSelector(views, (state): string[] => state.neverShowPopupAgain);\n\n\nexport const viewReducers = [\n  on(requestFailed, (state, action) => {\n    const isLoggedOut = action.err && action.err.status === 401;\n    return {...state, loggedOut: isLoggedOut};\n  }),\n  on(layoutActions.deactivateLoader, (state, action) => {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const {[action.endpoint]: removed, ...loading} = state.loading;\n    return {...state, loading};\n  }),\n  on(layoutActions.activeLoader, (state, action) => ({\n    ...state,\n    loading: {...state.loading, [action.endpoint]: true}\n  })),\n  on(layoutActions.visibilityChanged, (state, action) => ({...state, applicationVisible: action.visible})),\n  on(layoutActions.setScaleFactor, (state, action) => ({...state, scaleFactor: action.scale})),\n  on(layoutActions.firstLogin, (state, action) => ({...state, firstLogin: action.first, firstLoginAt: new Date().getTime()})),\n  on(layoutActions.plotlyReady, (state) => ({...state, plotlyReady: true})),\n  on(layoutActions.aceReady, (state) => ({...state, aceReady: true})),\n  on(layoutActions.resetLoader, (state) => ({...state, loading: {}})),\n  on(apiRequest, (state, action) => ({\n    ...state,\n    loading: {...state.loading, [action?.endpoint || 'default']: true}\n  })),\n  on(layoutActions.setNotificationDialog, (state, action) => ({...state, notification: action.notification})),\n  on(layoutActions.setBackdrop, (state, action) => ({...state, backdropActive: action.payload})),\n  on(layoutActions.setAutoRefresh, (state, action) => ({...state, autoRefresh: action.autoRefresh})),\n  on(layoutActions.setCompareAutoRefresh, (state, action) => ({...state, compareAutoRefresh: action.autoRefresh})),\n  on(layoutActions.neverShowPopupAgain, (state, action) => ({\n    ...state,\n    neverShowPopupAgain: action.reset ? state.neverShowPopupAgain.filter(popups => popups !== action.popupId) : Array.from(new Set([...state.neverShowPopupAgain, action.popupId]))\n  })),\n] as ReducerTypes<ViewState, any>[];\n\nexport const viewReducer = createReducer(\n  initViewState,\n  ...viewReducers\n);\n","import {Injectable} from '@angular/core';\nimport {select, Selector, Store} from '@ngrx/store';\nimport {take} from 'rxjs/operators';\n\n@Injectable()\nexport class SmSyncStateSelectorService {\n\n  constructor(private store: Store<any>) {\n  }\n\n  selectSync(selector: Selector<any, any>) {\n    let entity: any;\n    this.store.pipe(\n      select(selector),\n      take(1))\n      .subscribe(o => entity = o);\n\n    return entity;\n  }\n\n}\n","import {Action, createAction, props} from '@ngrx/store';\nimport {ISmAction} from '../core/models/actions';\nimport {SEARCH_ACTIONS} from './dashboard-search.consts';\nimport {Project} from '../../business-logic/model/projects/project';\nimport {Task} from '../../business-logic/model/tasks/task';\nimport {Model} from '../../business-logic/model/models/model';\n\n\nexport const searchSetTerm = createAction(\n  SEARCH_ACTIONS.SET_TERM,\n  props<{query: string; regExp?: boolean; force?: boolean}>()\n);\n\nexport const searchStart = createAction(\n  SEARCH_ACTIONS.SEARCH_START,\n  props<{query: string; regExp?: boolean; force?: boolean}>()\n);\n\nexport class SearchError implements ISmAction {\n  readonly type = SEARCH_ACTIONS.SEARCH_ERROR;\n}\n\nexport class SearchClear implements Action {\n  readonly type = SEARCH_ACTIONS.SEARCH_CLEAR;\n}\n\nexport class SearchActivate implements Action {\n  readonly type = SEARCH_ACTIONS.ACTIVATE;\n}\n\nexport class SearchDeactivate implements Action {\n  readonly type = SEARCH_ACTIONS.DEACTIVATE;\n}\n\nexport const searchProjects = createAction(\n  SEARCH_ACTIONS.SEARCH_PROJECTS,\n  props<{query: string; regExp?: boolean}>()\n);\n\nexport class SetProjectsResults implements ISmAction {\n  public type = SEARCH_ACTIONS.SET_PROJECTS;\n  public payload: { projects: Array<Project> };\n\n  constructor(projects: Array<Project>) {\n    this.payload = {projects};\n  }\n}\n\nexport const searchExperiments= createAction(\n  SEARCH_ACTIONS.SEARCH_EXPERIMENTS,\n  props<{query: string; regExp?: boolean}>()\n);\n\nexport class SetExperimentsResults implements ISmAction {\n  public type = SEARCH_ACTIONS.SET_EXPERIMENTS;\n  public payload: { experiments: Array<Task> };\n\n  constructor(experiments: Array<Task>) {\n    this.payload = {experiments};\n  }\n}\n\nexport const searchModels = createAction(\n  SEARCH_ACTIONS.SEARCH_MODELS,\n  props<{query: string; regExp?: boolean}>()\n);\n\nexport class SetModelsResults implements ISmAction {\n  public type = SEARCH_ACTIONS.SET_MODELS;\n  public payload: { models: Array<Model> };\n\n  constructor(models: Array<Model>) {\n    this.payload = {models};\n  }\n}\n\n","const SEARCH_PREFIX           = 'SEARCH_';\nexport const SEARCH_PAGE_SIZE = 1000;\n\nexport const SEARCH_ACTIONS = {\n  SET_TERM          : SEARCH_PREFIX + 'SET_TERM',\n  SEARCH_START      : SEARCH_PREFIX + 'SEARCH_START',\n  SEARCH_PROJECTS   : SEARCH_PREFIX + 'SEARCH_PROJECTS',\n  SEARCH_EXPERIMENTS: SEARCH_PREFIX + 'SEARCH_EXPERIMENTS',\n  SEARCH_MODELS     : SEARCH_PREFIX + 'SEARCH_MODELS',\n  SEARCH_COMPLETE   : SEARCH_PREFIX + 'SEARCH_COMPLETE',\n  SEARCH_ERROR      : SEARCH_PREFIX + 'SEARCH_ERROR',\n  SEARCH_CLEAR      : SEARCH_PREFIX + 'SEARCH_CLEAR',\n  SET_PROJECTS      : SEARCH_PREFIX + 'SET_PROJECTS',\n  SET_MODELS        : SEARCH_PREFIX + 'SET_MODELS',\n  SET_EXPERIMENTS   : SEARCH_PREFIX + 'SET_EXPERIMENTS',\n  ACTIVATE          : SEARCH_PREFIX + 'ACTIVATE',\n  DEACTIVATE        : SEARCH_PREFIX + 'DEACTIVATE'\n};\n\nexport const EXPERIMENT_SEARCH_ONLY_FIELDS = ['name', 'created', 'status', 'type', 'user.name', 'id', 'company'];\n\n\n","<sm-dialog-template [displayX]=\"true\"\n                    [header]=\"queue? 'NO WORKERS ASSIGNED TO QUEUE': (step === 1 ? 'Welcome to ClearML' : 'GETTING STARTED')\"\n                    (xClicked)=\"closeDialog()\" [closeOnX]=\"false\"\n                    [iconClass]=\"queue?'al-ico-queues': 'i-welcome-researcher'\">\n\n  <div *ngIf=\"step === 1; else configStep\" class=\"welcome-content\">\n    <div class=\"body\">\n      <div class=\"info\">\n        <span class=\"position-relative\">\n          <i class=\"al-ico-card-example foreground\"></i>\n          <span class=\"background\"></span>\n        </span>\n        <div class=\"mt-2\">See the pre-loaded examples to quickly get familiar with ClearML’s various capabilities.</div>\n      </div>\n      <div class=\"info\">\n        <i class=\"al-ico-help-outlined\"></i>\n        <div class=\"mt-2\">Browse \"Pro Tips\" in the Help menu to jump start your work flow.</div>\n      </div>\n      <div class=\"info\">\n        <i class=\"al-ico-documentation\"></i>\n        <div class=\"mt-2\">Check out the <a target=\"_blank\" [href]=\"docsLink\">ClearML docs</a> for advanced information and in depth how-to’s.\n        </div>\n      </div>\n    </div>\n    <div class=\"separator\"></div>\n    <div class=\"d-flex justify-content-center\">\n      <button class=\"btn btn-neon\" (click)=\"nextSteps($event)\">GET STARTED</button>\n    </div>\n  </div>\n  <ng-template #configStep>\n    <div class=\"steps-content\">\n      <div class=\"text\" *ngIf=\"queue\">\n        Tasks have been enqueued on the <b>{{queue?.name}}</b> queue, which is currently not serviced by any worker. They will remain in the 'pending' state until a ClearML worker services this queue.\n      </div>\n      <div *ngFor=\"let step of steps\" class=\"step-container\">\n        <div class=\"step-header\">{{step.header}}</div>\n        <div class=\"step\">{{step.title}}</div>\n        <div class=\"code\">\n          <div class=\"content\" #stepCode>{{step.code}}</div>\n          <sm-copy-clipboard\n            [hideBackground]=\"true\"\n            [label]=\"''\"\n            [copyIcon]=\"'far fa-lg fa-copy'\"\n            [clipboardText]=\"stepCode.innerHTML\"></sm-copy-clipboard>\n        </div>\n        <div *ngIf=\"step.subNote\" class=\"sub-note\"><i class=\"mr-1 fas fa-info-circle info\"></i>{{step.subNote}}</div>\n      </div>\n      <div class=\"step-container\">\n        <div class=\"step-header sub-note\">Complete the clearml configuration information as prompted.</div>\n        <div *ngIf=\"!accessKey ; else config\" class=\"code empty-config\">\n          <div>\n            <button class=\"mb-2 btn btn-neon\" [disabled]=\"creatingCredentials\" (click)=\"createCredentials()\">CREATE NEW\n              CREDENTIALS\n            </button>\n          </div>\n        </div>\n        <ng-template #config>\n          <div class=\"code\">\n<div #content class=\"content\"><span class=\"variable\">api</span> {{ '{' }}<ng-container *ngIf=\"community && workspace.name\">\n  <span class=\"comment\">{{'# ' + workspace.name}}</span></ng-container>\n  <span class=\"variable\">web_server</span><span class=\"operation\">:</span> <span class=\"string\">{{WEB_SERVER_URL}}</span>\n  <span class=\"variable\">api_server</span><span class=\"operation\">:</span> <span class=\"string\">{{API_BASE_URL}}</span>\n<ng-container *ngIf=\"fileBaseUrl\">  <span class=\"variable\">files_server</span><span class=\"operation\">:</span> <span class=\"string\">{{fileBaseUrl}}</span>\n</ng-container>  <span class=\"variable\">credentials</span> {{ '{' }}\n    <span class=\"string\">\"access_key\"</span> <span class=\"operation\">=</span> <span class=\"string\">\"{{accessKey}}\"</span>\n    <span class=\"string\">\"secret_key\"</span> <span class=\"operation\">=</span> <span class=\"string\">\"{{secretKey}}\"</span>\n  }\n}</div>\n            <sm-copy-clipboard\n              [hideBackground]=\"true\"\n              [label]=\"''\"\n              [copyIcon]=\"'far fa-lg fa-copy'\"\n              [clipboardText]=\"content.textContent\"></sm-copy-clipboard>\n          </div>\n        </ng-template>\n        <div class=\"sub-note\"><i class=\"mr-1 fas fa-info-circle info\"></i>Manage your app credentials in the <a target=\"_blank\" href=\"settings/workspace-configuration\">workspace settings page</a></div>\n      </div>\n      <div class=\"step-container\" *ngIf=\"!queue\">\n        <div class=\"step\">3. Integrate</div>\n        <div class=\"step sub-note\">Add the following lines to your code</div>\n        <div class=\"code\">\n          <div #content class=\"content\"><span class=\"variable\">from</span> {{gettingStartedContext?.packageName || 'clearml'}} <span class=\"variable\">import</span> Task\ntask <span class=\"operation\">=</span> Task.<span class=\"variable\">init</span>(project_name<span class=\"operation\">=</span>\"my project\", task_name<span class=\"operation\">=</span>\"my task\")</div>\n          <sm-copy-clipboard\n            [hideBackground]=\"true\"\n            [label]=\"''\"\n            [copyIcon]=\"'far fa-lg fa-copy'\"\n            [clipboardText]=\"content.textContent\"></sm-copy-clipboard>\n        </div>\n      </div>\n      <div *ngIf=\"queue\" class=\"text\">\n        <sm-checkbox-control\n          fieldName=\"orphanedQueue\"\n          [formData]=\"doNotShowAgain\"\n          (formDataChanged)=\"doNotShowThisAgain($event)\"\n          label=\"Don’t show again\"></sm-checkbox-control>\n      </div>\n    </div>\n  </ng-template>\n</sm-dialog-template>\n","import {Component, Inject, OnDestroy, OnInit} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {setSelectedWorkspaceTab} from '@common/core/actions/users.actions';\nimport {Subscription} from 'rxjs';\nimport {selectActiveWorkspace} from '@common/core/reducers/users-reducer';\nimport {filter, tap} from 'rxjs/operators';\nimport {Store} from '@ngrx/store';\nimport {createCredential, resetCredential} from '@common/core/actions/common-auth.actions';\nimport {selectNewCredential} from '@common/core/reducers/common-auth-reducer';\nimport {guessAPIServerURL, HTTP} from '~/app.constants';\nimport {AdminService} from '~/shared/services/admin.service';\nimport {ConfigurationService} from '@common/shared/services/configuration.service';\nimport {GetCurrentUserResponseUserObjectCompany} from '~/business-logic/model/users/getCurrentUserResponseUserObjectCompany';\nimport {Queue} from '~/business-logic/model/queues/queue';\nimport {GettingStartedContext} from '../../../../../environments/base';\n\ninterface StepObject { header?: string; title?: string; code?: string; subNote?: string }\n\n@Component({\n  selector: 'sm-welcome-message',\n  templateUrl: './welcome-message.component.html',\n  styleUrls: ['./welcome-message.component.scss']\n})\nexport class WelcomeMessageComponent implements OnInit, OnDestroy {\n  public step: number = 1;\n  accessKey: string;\n  secretKey: string;\n  creatingCredentials = false;\n\n  private workspacesSub: Subscription;\n  public workspace: GetCurrentUserResponseUserObjectCompany;\n  private newCredentialSub: Subscription;\n\n  API_BASE_URL = HTTP.API_BASE_URL_NO_VERSION;\n  fileBaseUrl = HTTP.FILE_BASE_URL;\n  WEB_SERVER_URL = window.location.origin;\n  GETTING_STARTED_STEPS: StepObject[] = [{\n    header: 'Get started in a jiffy:',\n    title: '1. Install',\n    code: 'pip install clearml',\n  }, {\n    title: '2. Configure',\n    code: 'clearml-init'\n  }];\n  ORPHANED_QUEUE_STEPS: StepObject[] =\n    [{\n      header: null, code: null,\n      subNote: 'See ClearML Documentation for different ways of deploying workers'\n    }, {\n      header: 'To setup a worker',\n      title: '1. Install',\n      code: 'pip install clearml-agent',\n    }, {\n      title: '2. Configure',\n      code: 'clearml-agent init'\n    }\n    ];\n  host: string;\n  community = false;\n  public queue: Queue;\n  steps: StepObject[];\n  doNotShowAgain: boolean;\n  public gettingStartedContext: GettingStartedContext;\n  docsLink: string;\n\n  constructor(\n    private store: Store<any>,\n    private dialogRef: MatDialogRef<any>,\n    @Inject(MAT_DIALOG_DATA) public data,\n    private adminService: AdminService,\n    private configService: ConfigurationService\n  ) {\n    this.dialogRef.beforeClosed().subscribe(() => this.dialogRef.close(this.doNotShowAgain));\n    this.step = data?.step || this.step;\n    this.queue = data?.queue;\n    this.gettingStartedContext = this.configService.getStaticEnvironment().gettingStartedContext;\n    this.docsLink = this.configService.getStaticEnvironment().docsLink;\n\n    this.steps = this.queue ? this.ORPHANED_QUEUE_STEPS : this.GETTING_STARTED_STEPS;\n    if (this.queue) {\n      this.steps[0].code = `clearml-agent daemon --queue ${this.queue.name}`;\n      this.steps[0].header = `To assign a worker to the ${this.queue.name} queue, run:`;\n    } else if (this.gettingStartedContext) {\n      this.steps[0].code = this.gettingStartedContext.install;\n      this.steps[1].code = this.gettingStartedContext.configure;\n    }\n    this.host = `${window.location.protocol}//${window.location.hostname}`;\n    if (this.API_BASE_URL === '/api') {\n      this.API_BASE_URL = guessAPIServerURL();\n    }\n\n    this.workspacesSub = this.store.select(selectActiveWorkspace)\n      .pipe(filter(active => !!active))\n      .subscribe(active => this.workspace = active);\n  }\n\n  ngOnInit(): void {\n    this.community = this.configService.getStaticEnvironment().communityServer;\n\n    this.newCredentialSub = this.store.select(selectNewCredential)\n      .pipe(\n        tap(() => this.creatingCredentials = false),\n        filter(credential => credential && Object.keys(credential).length > 0)\n      ).subscribe(credential => {\n        this.accessKey = credential.access_key;\n        this.secretKey = credential.secret_key;\n        this.store.dispatch(resetCredential());\n      });\n  }\n\n  closeDialog() {\n    this.dialogRef.close(this.doNotShowAgain);\n  }\n\n  nextSteps(event: MouseEvent) {\n    event.preventDefault();\n    this.step++;\n  }\n\n  createCredentials() {\n    this.creatingCredentials = true;\n    this.store.dispatch(setSelectedWorkspaceTab({workspace: {id: this.workspace.id}}));\n    this.store.dispatch(createCredential({workspace: this.workspace}));\n  }\n\n  ngOnDestroy(): void {\n    this.workspacesSub?.unsubscribe();\n    this.newCredentialSub?.unsubscribe();\n  }\n\n  doNotShowThisAgain($event: { field: string; value: any; event: Event }) {\n    this.doNotShowAgain = $event.value;\n  }\n}\n","<ng-container *ngIf=\"(source$ | async) as source\">\n  <div *ngIf=\"!isFailed\" class=\"item snippet\" [ngClass]=\"{'loading' : isLoading}\">\n    <ng-container [ngSwitch]=\"type\">\n      <img\n        *ngSwitchCase=\"'image'\"\n        class=\"pointer\"\n        [src]=\"source\"\n        (error)=\"isFailed = true\"\n        (click)=\"imageClicked.emit()\"\n        (load)=\"loadedMedia()\"\n        [ngClass]=\"{'loading' : isLoading}\"\n      >\n      <video\n        #video\n        *ngSwitchCase=\"'player'\"\n        preload=\"metadata\"\n        class=\"pointer w-100 h-100\"\n        [src]=\"source\"\n        (error)=\"imageError.emit(); isFailed = true\"\n        (loadedmetadata)=\"loadedMedia()\"\n        (click)=\"imageClicked.emit()\"\n      ></video>\n      <div class=\"html-snippet\" *ngSwitchCase=\"'html'\">\n        <div class=\"html-wrap\">\n          <iframe class=\"html-viewer\" width=\"400\" height=\"400\" referrerpolicy=\"origin-when-cross-origin\" [src]=\"source | safe:'url'\"></iframe>\n        </div>\n        <div class=\"toolbar\">\n          <div class=\"clickable-icon d-flex align-items-center justify-content-center pointer mr-2\"\n               ngxClipboard\n               smTooltip=\"Copy URL\"\n               [cbContent]=\"source\"\n               (cbOnSuccess)=\"copyToClipboardSuccess(true)\">\n            <i class=\"fas fa-copy\"></i>\n          </div>\n          <div class=\"clickable-icon d-flex align-items-center justify-content-center pointer\"\n               smTooltip=\"Open URL in a new Tab\"\n               (click)=\"openInNewTab(source)\"\n          >\n            <i class=\"fas fa-external-link-alt\"></i>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n    <div *ngIf=\"!isLoading\" class=\"image-var ellipsis\" [smTooltip]=\"frame?.variant\">{{frame?.variantAndMetric || frame?.variant}}</div>\n  </div>\n</ng-container>\n\n<ng-container *ngIf=\"(source$ | async) as source\">\n  <div *ngIf=\"isFailed\" class=\"item\">\n    <sm-snippet-error\n      [theme]=\"themeEnum.Light\"\n      [copyContent]=\"source?.split('?X-Amz-Date')[0]\"\n      (openImageClicked)=\"openInNewTab(source)\"\n    ></sm-snippet-error>\n  </div>\n</ng-container>\n","import {Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {isHtmlPage, isTextFileURL} from '../../shared/utils/shared-utils';\nimport {IsAudioPipe} from '../../shared/pipes/is-audio.pipe';\nimport {IsVideoPipe} from '../../shared/pipes/is-video.pipe';\nimport {addMessage} from '../../core/actions/layout.actions';\nimport {MESSAGES_SEVERITY} from '../../../app.constants';\nimport {Store} from '@ngrx/store';\nimport {ThemeEnum} from '../../experiments/shared/common-experiments.const';\nimport {getSignedUrlOrOrigin$} from '../../core/reducers/common-auth-reducer';\nimport {tap} from 'rxjs/operators';\nimport {Observable} from 'rxjs/internal/Observable';\n\n@Component({\n  selector: 'sm-debug-image-snippet',\n  templateUrl: './debug-image-snippet.component.html',\n  styleUrls: ['./debug-image-snippet.component.scss']\n})\nexport class DebugImageSnippetComponent implements OnInit {\n  public type: 'image' | 'player' | 'html';\n  public themeEnum = ThemeEnum;\n  public source$: Observable<string>;\n  private _frame: any;\n\n  @Input() set frame(frame) {\n    if (frame.url) {\n      this.source$ = getSignedUrlOrOrigin$(frame.url, this.store).pipe(\n        tap(signed => {\n          if (new IsVideoPipe().transform(signed) ||\n            new IsAudioPipe().transform(signed)) {\n            this.type = 'player';\n          } else if (isHtmlPage(signed) || isTextFileURL(signed)) {\n            this.type = 'html';\n          } else {\n            this.type = 'image';\n          }\n          this.isFailed = !signed?.startsWith('http');\n        }));\n    }\n    this._frame = frame;\n  }\n  get frame() {\n    return this._frame;\n  }\n  @Output() imageError = new EventEmitter();\n  @Output() imageClicked = new EventEmitter();\n  @ViewChild('video') video: ElementRef<HTMLVideoElement>;\n\n  isFailed = false;\n  isLoading = true;\n\n  constructor(private store: Store<any>) {\n  }\n\n  ngOnInit() {\n  }\n\n  openInNewTab(source: string) {\n    window.open(source, '_blank');\n  }\n\n  loadedMedia() {\n    this.isLoading = false;\n    if (this.video?.nativeElement?.videoHeight === 0) {\n      this.video.nativeElement.poster = '/app/webapp-common/assets/icons/audio.svg';\n    }\n  }\n\n  copyToClipboardSuccess(success: boolean) {\n    this.store.dispatch(addMessage(\n      success ? MESSAGES_SEVERITY.SUCCESS : MESSAGES_SEVERITY.ERROR,\n      success ? 'Path copied to clipboard' : 'No path to copy'\n    ));\n  }\n\n  log($event: ErrorEvent) {\n    console.log($event);\n  }\n}\n","import {createAction, props} from '@ngrx/store';\nimport {Task} from '../../business-logic/model/tasks/task';\nimport {TaskMetric} from '../../business-logic/model/events/taskMetric';\nimport {EventsDebugImagesResponse} from '../../business-logic/model/events/eventsDebugImagesResponse';\nimport {EventsGetDebugImageIterationsResponse} from '../../business-logic/model/events/eventsGetDebugImageIterationsResponse';\n\nexport const DEBUG_IMAGES_PREFIX = 'DEBUG_IMAGES_';\n\n\nexport const resetDebugImages = createAction(DEBUG_IMAGES_PREFIX + 'RESET_DEBUG_IMAGES');\n\nexport const setDebugImages = createAction(\n  DEBUG_IMAGES_PREFIX + 'SET_DEBUG_IMAGES',\n  props<{ res: EventsDebugImagesResponse; task: string }>()\n);\nexport const getDebugImagesMetrics = createAction(\n  DEBUG_IMAGES_PREFIX + 'GET_DEBUG_IMAGES_METRICS',\n  props<{ tasks: string[] }>()\n);\n\nexport const refreshDebugImagesMetrics = createAction(\n  DEBUG_IMAGES_PREFIX + 'REFRESH_DEBUG_IMAGES_METRICS',\n  props<{ tasks: string[] }>()\n);\n\nexport const fetchExperiments = createAction(\n  DEBUG_IMAGES_PREFIX + 'FETCH_EXPERIMENTS',\n  props<{ tasks: string[] }>()\n);\n\nexport const setExperimentsNames = createAction(\n  DEBUG_IMAGES_PREFIX + 'SET_EXPERIMENTS_NAMES',\n  props<{ tasks: Partial<Task>[] }>()\n);\n\nexport const setMetrics = createAction(\n  DEBUG_IMAGES_PREFIX + 'SET_DEBUG_IMAGES_METRICS',\n  props<{ metrics: any[] }>()\n);\n\nexport const setSelectedMetric = createAction(\n  DEBUG_IMAGES_PREFIX + 'SET_DEBUG_IMAGES_SELECTED_METRIC',\n  props<{ payload: TaskMetric }>()\n);\n\nexport const refreshMetric = createAction(\n  DEBUG_IMAGES_PREFIX + 'REFRESH_IMAGES_SELECTED_METRIC',\n  props<{ payload: TaskMetric }>()\n);\n\nexport const getNextBatch= createAction(\n  DEBUG_IMAGES_PREFIX + 'GET_NEXT_DEBUG_IMAGES_BATCH',\n  props<{ payload: TaskMetric }>()\n);\n\nexport const getPreviousBatch= createAction(\n  DEBUG_IMAGES_PREFIX + 'GET_PREVIOUS_DEBUG_IMAGES_BATCH',\n  props<{ payload: TaskMetric }>()\n);\n\nexport const setTimeIsNow = createAction(\n  DEBUG_IMAGES_PREFIX + 'SET_TIME_IS_NOW',\n  props<{ task: string; timeIsNow: boolean }>()\n);\n\nexport const setBeginningOfTime = createAction(\n  DEBUG_IMAGES_PREFIX + 'SET_BEGINNING_OF_TIME',\n  props<{ task: string; beginningOfTime: boolean }>()\n);\n\nexport const getDebugImageSample = createAction(DEBUG_IMAGES_PREFIX + 'GET_DEBUG_IMAGES_FOR_ITERATION', props<{ task: string; metric: string; variant: string; iteration: number }>());\nexport const getNextDebugImageSample = createAction(DEBUG_IMAGES_PREFIX + 'GET_NEXT_DEBUG_IMAGE', props<{ task: string; navigateEarlier: boolean }>());\nexport const setCurrentDebugImage = createAction(DEBUG_IMAGES_PREFIX + 'SET_DEBUG_IMAGES_FOR_ITERATION', props<{ event: any }>());\nexport const setDebugImageViewerScrollId = createAction(DEBUG_IMAGES_PREFIX + 'SET_DEBUG_IMAGE_VIEWER_SCROLL_ID', props<{ scrollId: string }>());\nexport const setDebugImageIterations = createAction(DEBUG_IMAGES_PREFIX + 'SET_DEBUG_IMAGE_ITERATIONS', props<EventsGetDebugImageIterationsResponse>());\nexport const setDisplayerEndOfTime = createAction(DEBUG_IMAGES_PREFIX + 'SET_DISPLAYER_END_OF_TIME', props<{ endOfTime: boolean }>());\nexport const setDisplayerBeginningOfTime = createAction(DEBUG_IMAGES_PREFIX + 'SET_DISPLAYER_BEGINNING_OF_TIME', props<{ beginningOfTime: boolean }>());\nexport const resetDisplayer = createAction(DEBUG_IMAGES_PREFIX + 'RESET_DISPLAYER');\n\n\n","import {Injectable} from '@angular/core';\nimport {Actions, createEffect,  ofType} from '@ngrx/effects';\nimport {catchError, mergeMap, map, switchMap, withLatestFrom} from 'rxjs/operators';\nimport * as  debugActions from './debug-images-actions';\nimport {activeLoader, deactivateLoader} from '../core/actions/layout.actions';\nimport {ApiTasksService} from '../../business-logic/api-services/tasks.service';\nimport {ApiEventsService} from '../../business-logic/api-services/events.service';\nimport {requestFailed} from '../core/actions/http.actions';\nimport {refreshExperiments} from '../experiments/actions/common-experiments-view.actions';\nimport {setRefreshing} from '../experiments-compare/actions/compare-header.actions';\nimport {Action, Store} from '@ngrx/store';\nimport {selectDebugImages, selectImageViewerScrollId} from './debug-images-reducer';\nimport {\n  setCurrentDebugImage,\n  setDebugImageIterations,\n  setDebugImageViewerScrollId,\n  setDisplayerBeginningOfTime, setDisplayerEndOfTime\n} from './debug-images-actions';\nimport {EventsDebugImagesResponse} from '../../business-logic/model/events/eventsDebugImagesResponse';\nimport {EventsGetTaskMetricsResponse} from '../../business-logic/model/events/eventsGetTaskMetricsResponse';\n\nexport const ALL_IMAGES = '-- All --';\n\nexport const removeAllImagesFromPayload = (payload) =>\n  ({...payload, metric: payload.metric === ALL_IMAGES ? null : payload.metric});\n\n\n// interface Image {\n//   timestamp: number;\n//   type?: string;\n//   task?: string;\n//   iter?: number;\n//   metric?: string;\n//   variant?: string;\n//   key?: string;\n//   url?: string;\n//   '@timestamp'?: string;\n//   worker?: string;\n// }\n\n\n@Injectable()\nexport class DebugImagesEffects {\n\n  constructor(\n    private actions$: Actions, private apiTasks: ApiTasksService,\n    private eventsApi: ApiEventsService, private store: Store<any>\n  ) {}\n\n  activeLoader = createEffect(() => this.actions$.pipe(\n    ofType(debugActions.fetchExperiments),\n    map(action => activeLoader(action.type))\n  ));\n\n\n  fetchDebugImages$ = createEffect(() => this.actions$.pipe(\n    ofType(debugActions.setSelectedMetric, debugActions.getNextBatch, debugActions.getPreviousBatch, debugActions.refreshMetric),\n    withLatestFrom(this.store.select(selectDebugImages)),\n    mergeMap(([action, debugImages]) =>\n      this.eventsApi.eventsDebugImages({\n        /* eslint-disable @typescript-eslint/naming-convention */\n        metrics: [removeAllImagesFromPayload(action.payload)],\n        iters: 3,\n        scroll_id: debugImages[action.payload.task] ? debugImages[action.payload.task].scroll_id : null,\n        navigate_earlier: action.type !== debugActions.getPreviousBatch.type,\n        refresh: [debugActions.setSelectedMetric.type, debugActions.refreshMetric.type].includes(action.type)\n        /* eslint-enable @typescript-eslint/naming-convention */\n      })\n        .pipe(\n          mergeMap((res: EventsDebugImagesResponse ) => {\n            const actionsToShoot = [deactivateLoader(action.type), setRefreshing({payload: false})] as Action[];\n            if (res.metrics[0].iterations && res.metrics[0].iterations.length > 0) {\n              actionsToShoot.push(debugActions.setDebugImages({res, task: action.payload.task}));\n              switch (action.type) {\n                case debugActions.getNextBatch.type:\n                  actionsToShoot.push(debugActions.setTimeIsNow({task: action.payload.task, timeIsNow: false}));\n                  break;\n                case debugActions.setSelectedMetric.type:\n                  actionsToShoot.push(debugActions.setTimeIsNow({task: action.payload.task, timeIsNow: true}));\n                  break;\n                case debugActions.getPreviousBatch.type:\n                  actionsToShoot.push(debugActions.setBeginningOfTime({\n                    task: action.payload.task,\n                    beginningOfTime: false\n                  }));\n                  break;\n              }\n            } else {\n              switch (action.type) {\n                case debugActions.getNextBatch.type:\n                  actionsToShoot.push(debugActions.setBeginningOfTime({\n                    task: action.payload.task,\n                    beginningOfTime: true\n                  }));\n                  break;\n                case debugActions.getPreviousBatch.type:\n                  actionsToShoot.push(debugActions.setTimeIsNow({task: action.payload.task, timeIsNow: true}));\n                  break;\n              }\n            }\n            return actionsToShoot;\n          }),\n          catchError(error => [\n            requestFailed(error),\n            setRefreshing({payload: false}),\n            deactivateLoader(action.type),\n            deactivateLoader(refreshExperiments.type)\n          ])\n        )\n    )\n  ));\n\n  fetchExperiments$ = createEffect(() => this.actions$.pipe(\n    ofType(debugActions.fetchExperiments),\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    switchMap((action) => this.apiTasks.tasksGetAllEx({id: action.tasks, only_fields: ['id', 'name', 'status']})\n      .pipe(\n        mergeMap(res => [debugActions.setExperimentsNames({tasks: res.tasks}), deactivateLoader(action.type)]),\n        catchError(error => [requestFailed(error), deactivateLoader(action.type)])\n      )\n    )\n  ));\n\n\n  fetchMetrics$ = createEffect(() => this.actions$.pipe(\n    ofType(debugActions.getDebugImagesMetrics, debugActions.refreshDebugImagesMetrics),\n    switchMap((action) => this.eventsApi.eventsGetTaskMetrics({\n      /* eslint-disable @typescript-eslint/naming-convention */\n      tasks: action.tasks,\n      event_type: 'training_debug_image'\n      /* eslint-enable @typescript-eslint/naming-convention */\n    })\n      .pipe(\n        mergeMap((res: EventsGetTaskMetricsResponse) => [debugActions.setMetrics({metrics: res.metrics}), deactivateLoader(action.type)]),\n        catchError(error => [requestFailed(error), deactivateLoader(action.type)])\n      )\n    )\n  ));\n\n  fetchDebugImagesForIter$ = createEffect(() => this.actions$.pipe(\n    ofType(debugActions.getDebugImageSample),\n    withLatestFrom(this.store.select(selectImageViewerScrollId)),\n    switchMap(([action, scrollId]) =>\n      this.eventsApi.eventsGetDebugImageSample({\n        /* eslint-disable @typescript-eslint/naming-convention */\n        task: action.task,\n        iteration: action.iteration,\n        metric: action.metric,\n        variant: action.variant,\n        scroll_id: scrollId\n        /* eslint-enable @typescript-eslint/naming-convention */\n      })\n        .pipe(\n          mergeMap(res => [\n            // eslint-disable-next-line @typescript-eslint/naming-convention\n            setDebugImageIterations({min_iteration: res.min_iteration, max_iteration: res.max_iteration}),\n            setCurrentDebugImage({event: res.event}), deactivateLoader(action.type),\n            setDebugImageViewerScrollId({scrollId: res.scroll_id}),\n          ]),\n          catchError(error => [requestFailed(error), deactivateLoader(action.type)])\n        )\n    )\n  ));\n\n  getNextDebugImagesForIter$ = createEffect(() => this.actions$.pipe(\n    ofType(debugActions.getNextDebugImageSample),\n    withLatestFrom(this.store.select(selectImageViewerScrollId)),\n    switchMap(([action, scrollId]) =>\n      this.eventsApi.eventsNextDebugImageSample({\n        /* eslint-disable @typescript-eslint/naming-convention */\n        task: action.task,\n        scroll_id: scrollId,\n        navigate_earlier: action.navigateEarlier\n        /* eslint-enable @typescript-eslint/naming-convention */\n      })\n        .pipe(\n          mergeMap(res => {\n            if (!res.event) {\n              return [action.navigateEarlier ? setDisplayerBeginningOfTime({beginningOfTime: true}) : setDisplayerEndOfTime({endOfTime: true})];\n            } else {\n              return [\n                // eslint-disable-next-line @typescript-eslint/naming-convention\n                setDebugImageIterations({min_iteration: res.min_iteration, max_iteration: res.max_iteration}),\n                setCurrentDebugImage({event: res.event}), deactivateLoader(action.type),\n                setDebugImageViewerScrollId({scrollId: res.scroll_id}),\n                action.navigateEarlier ? setDisplayerBeginningOfTime({beginningOfTime: false}) : setDisplayerEndOfTime({endOfTime: false})\n              ];\n            }\n          }),\n          catchError(error => [requestFailed(error), deactivateLoader(action.type)])\n        )\n    )\n  ));\n}\n","import {\n  fetchExperiments,\n  getDebugImagesMetrics,\n  resetDebugImages,\n  resetDisplayer,\n  setBeginningOfTime,\n  setCurrentDebugImage,\n  setDebugImageIterations,\n  setDebugImages,\n  setDebugImageViewerScrollId,\n  setDisplayerBeginningOfTime,\n  setDisplayerEndOfTime, setExperimentsNames, setMetrics, setSelectedMetric, setTimeIsNow\n} from './debug-images-actions';\nimport {Task} from '../../business-logic/model/tasks/task';\nimport {createFeatureSelector, createReducer, createSelector, on} from '@ngrx/store';\nimport {omit} from 'lodash/fp';\nimport {EventsGetDebugImageIterationsResponse} from '../../business-logic/model/events/eventsGetDebugImageIterationsResponse';\nimport {EventsDebugImagesResponse} from '../../business-logic/model/events/eventsDebugImagesResponse';\n\n\nexport interface IDebugImagesState {\n  debugImages: {[taskId: string]: EventsDebugImagesResponse};\n  settingsList: Array<IDebugImagesSettings>;\n  tasks: Array<Partial<Task>>;\n  optionalMetrics: Array<ITaskOptionalMetrics>;\n  searchTerm: string;\n  scrollId: any;\n  imageDisplayerScrollId: string;\n  imageDisplayerBeginningOfTime: boolean;\n  imageDisplayerEndOfTime: boolean;\n  noMore: boolean;\n  selectedMetric: any;\n  timeIsNow: any;\n  beginningOfTime: any;\n  minMaxIterations: EventsGetDebugImageIterationsResponse;\n  currentImageViewerDebugImage: any;\n}\n\nexport interface IDebugImagesSettings {\n  id: Task['id'];\n  selectedDebugImages: string;\n}\n\nexport interface ITaskOptionalMetrics {\n  task: string;\n  metrics: Array<string>;\n}\n\nexport const initialState: IDebugImagesState = {\n    debugImages: {},\n    settingsList: [],\n    searchTerm: '',\n    tasks: [],\n    optionalMetrics: [],\n    scrollId: {},\n    imageDisplayerScrollId: null,\n    imageDisplayerBeginningOfTime: null,\n    imageDisplayerEndOfTime: null,\n    noMore: true,\n    selectedMetric: null,\n    timeIsNow: {},\n    beginningOfTime: {},\n    minMaxIterations: {},\n    currentImageViewerDebugImage: null\n  }\n;\n\nexport const debugImages = createFeatureSelector<IDebugImagesState>('debugImages');\nexport const selectDebugImages = createSelector(debugImages, (state) => state.debugImages);\nexport const selectTaskNames = createSelector(debugImages, (state) => state.tasks);\nexport const selectNoMore = createSelector(debugImages, (state) => state.noMore);\nexport const selectOptionalMetrics = createSelector(debugImages, (state) => state.optionalMetrics);\nexport const selectTimeIsNow = createSelector(debugImages, (state) => state.timeIsNow);\nexport const selectBeginningOfTime = createSelector(debugImages, (state) => state.beginningOfTime);\nexport const selectMinMaxIterations = createSelector(debugImages, (state) => state.minMaxIterations);\nexport const selectCurrentImageViewerDebugImage = createSelector(debugImages, (state) => state.currentImageViewerDebugImage);\nexport const selectImageViewerScrollId = createSelector(debugImages, (state) => state.imageDisplayerScrollId);\nexport const selectDisplayerEndOfTime = createSelector(debugImages, (state) => state.imageDisplayerEndOfTime);\nexport const selectDisplayerBeginningOfTime = createSelector(debugImages, (state) => state.imageDisplayerBeginningOfTime);\n\nexport const debugSamplesReducer = createReducer(\n  initialState,\n  on(resetDebugImages, state => ({\n    ...state,\n    debugImages: initialState.debugImages,\n    scrollId: initialState.scrollId,\n    noMore: initialState.noMore\n  })),\n  on(setDebugImages, (state, action) => ({...state, debugImages: {...state.debugImages, [action.task]: action.res}})),\n  on(setExperimentsNames, (state, action) => ({...state, tasks: action.tasks})),\n  on(setMetrics, (state, action) => ({...state, optionalMetrics: action.metrics})),\n  on(getDebugImagesMetrics, state => ({...state, optionalMetrics: initialState.optionalMetrics, debugImages: initialState.debugImages})),\n  on(setSelectedMetric, (state, action) => ({\n        ...state,\n        debugImages: omit(action.payload.task, state.debugImages),\n        timeIsNow: {...state.timeIsNow, [action.payload.task]: true},\n        beginningOfTime: {...state.beginningOfTime, [action.payload.task]: false}\n  })),\n  on(setTimeIsNow, (state, action) => ({...state, timeIsNow: {...state.timeIsNow, [action.task]: action.timeIsNow}})),\n  on(fetchExperiments, () => ({...initialState})),\n  on(setBeginningOfTime, (state, action) => ({\n        ...state,\n        beginningOfTime: {...state.beginningOfTime, [action.task]: action.beginningOfTime}\n  })),\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  on(setDebugImageIterations, (state, action) => ({...state, minMaxIterations: {min_iteration: action.min_iteration, max_iteration: action.max_iteration}})),\n  on(setCurrentDebugImage, (state, action) => ({...state, currentImageViewerDebugImage: action.event})),\n  on(setDebugImageViewerScrollId, (state, action) => ({...state, imageDisplayerScrollId: action.scrollId})),\n  on(setDisplayerEndOfTime, (state, action) => ({...state, imageDisplayerEndOfTime: action.endOfTime})),\n  on(setDisplayerBeginningOfTime, (state, action) => ({...state, imageDisplayerBeginningOfTime: action.beginningOfTime})),\n  on(resetDisplayer, state => ({\n    ...state,\n    imageDisplayerEndOfTime: null,\n    imageDisplayerBeginningOfTime: null,\n    imageDisplayerScrollId: null,\n    minMaxIterations: null,\n    currentImageViewerDebugImage: null\n  })),\n);\n","<mat-expansion-panel *ngFor=\"let iteration of iterations; let first = first; trackBy:trackKey\"\n                     class=\"images-section\" [class.dark-theme]=\"isDarkTheme\" togglePosition=\"before\" [expanded]=\"first\">\n  <mat-expansion-panel-header class=\"debug-header\" [collapsedHeight]=\"null\">\n    <mat-panel-title> {{iteration.iter}}</mat-panel-title>\n  </mat-expansion-panel-header>\n  <ng-template matExpansionPanelContent>\n    <div class=\"d-flex justify-content flex-wrap\">\n      <sm-debug-image-snippet\n        *ngFor=\"let frame of iteration.events; trackBy:trackFrame\"\n        [frame]=\"frame\"\n        (imageError)=\"imageUrlError({frame: frame, experimentId: experimentId})\"\n        (imageClicked)=\"imageClicked.emit({frame: frame, snippetKey: frame.key, frames: iterationEvents})\">\n      </sm-debug-image-snippet>\n    </div>\n  </ng-template>\n</mat-expansion-panel>\n","import {Component, Input, Output} from '@angular/core';\nimport {EventEmitter} from '@angular/core';\n\n@Component({\n  selector: 'sm-debug-images-view',\n  templateUrl: './debug-images-view.component.html',\n  styleUrls: ['./debug-images-view.component.scss']\n})\nexport class DebugImagesViewComponent {\n\n  public trackKey = (index: number, item: any) => item.iter;\n  public trackFrame = (index: number, item: any) => item.key;\n  public iterationEvents;\n\n  @Input() experimentId;\n  @Input() isMergeIterations;\n  @Input() title;\n  private _iterations;\n  @Input() set iterations(iters) {\n    this._iterations = iters;\n    this.iterationEvents = [];\n    iters.forEach(iteration => this.iterationEvents.push(iteration.events));\n  }\n  get iterations() {\n    return this._iterations;\n  }\n  @Input() isDarkTheme = false;\n  @Output() imageClicked = new EventEmitter();\n  @Output() refreshClicked = new EventEmitter();\n  @Output() urlError = new EventEmitter();\n\n  public imageUrlError(data: { frame: string; experimentId: string }) {\n    this.urlError.emit(data);\n  }\n}\n","<div class=\"p-3 images-container\">\n  <div class=\"single-debug-images-container\" *ngFor=\"let experimentId of experimentIds; trackBy: trackExperiment\">\n    <header *ngIf=\"experimentIds?.length > 1\">\n      <div\n        class=\"experiment-name\">\n        <span [smTooltip]=\"experimentNames[experimentId]\" matTooltipPosition=\"above\">{{modifiedExperimentsNames[experimentId]}}</span>\n      </div>\n    </header>\n    <div class=\"d-flex\">\n      <div class=\"metric-bar\" [class.minimized]=\"minimized\" *ngIf=\"!thereAreNoMetrics(experimentId)\">\n        <label>Metric:</label>\n        <mat-form-field appearance=\"outline\" [ngClass]=\"{'dark thin': isDarkTheme}\">\n          <mat-select #metricSelect (selectionChange)=\"selectMetric($event, experimentId)\" [panelClass]=\"isDarkTheme ? 'dark black dark-theme': 'light-theme'\"\n                      [value]=\"selectedMetrics[experimentId]\" name=\"selectedMetric\">\n            <mat-option *ngIf=\"selectedMetrics[experimentId]\" [value]=\"allImages\">{{allImages}}</mat-option>\n            <mat-option *ngFor=\"let metric of optionalMetrics[experimentId]\" [value]=\"metric\">\n              {{metric}}\n            </mat-option>\n          </mat-select>\n        </mat-form-field>\n        <label>Iterations:</label>\n\n        <div [ngClass]=\"{'disabled': (beginningOfTime$| async)[experimentId]}\"\n             (click)=\"nextBatch({task: experimentId, metric: metricSelect.value})\"\n             class=\"al-icon al-ico-next-batch al-color light-grey-blue\"\n             smTooltip=\"Older images\"></div>\n\n        <b\n          class=\"text-right\">{{debugImages && debugImages[experimentId] && debugImages[experimentId][0][debugImages[experimentId][0].length - 1].iter}}</b>\n\n        <div class=\"al-icon al-ico-between al-color light-blue-grey\"></div>\n\n        <b>{{debugImages && debugImages[experimentId] && debugImages[experimentId][0][0].iter}}</b>\n\n        <div [ngClass]=\"{'disabled': (timeIsNow$| async)[experimentId]}\"\n             (click)=\"(!timeIsNow[experimentId]) && previousBatch({task: experimentId, metric: metricSelect.value})\"\n             class=\"al-icon al-ico-prev-batch al-color light-grey-blue\"\n             smTooltip=\"Newer images\"></div>\n\n        <div [ngClass]=\"{'disabled': (timeIsNow$| async)[experimentId] && !allowAutorefresh }\"\n             (click)=\"(!(timeIsNow[experimentId] && !allowAutorefresh)) && backToNow({task: experimentId, metric: metricSelect.value})\"\n             class=\"al-icon al-ico-back-to-top al-color light-grey-blue\"\n             smTooltip=\"Newest images\"></div>\n      </div>\n    </div>\n    <div class=\"no-images no-output\" [class.dark]=\"isDarkTheme\" *ngIf=\"shouldShowNoImagesForExperiment(experimentId)\">\n      <svg class=\"mb-3 w-100\" xmlns=\"http://www.w3.org/2000/svg\" width=\"300\" height=\"150\" viewBox=\"0 0 300 150\">\n        <path opacity=\"0.1\"\n              d=\"M72.67,79.36a5.39,5.39,0,0,1-1.45,4.32,1.17,1.17,0,0,1-.6.34,1.13,1.13,0,0,1-1.31-.88,1.11,1.11,0,0,1,.28-1,3.19,3.19,0,0,0,.89-2.36c-.22-1.09-1.66-1.73-1.68-1.74A1.12,1.12,0,0,1,69.65,76C69.76,76,72.22,77.07,72.67,79.36ZM46.19,78.1a1.38,1.38,0,0,0-1.06,1.61L47.3,90.38a1.38,1.38,0,0,0,1.61,1.06l4-.82L50.19,77.29Zm30.87.39c-.91-4.54-5.23-7.07-5.41-7.18a1.13,1.13,0,1,0-1.16,1.94s3.63,2.13,4.34,5.68-1.8,7-1.82,7a1.12,1.12,0,0,0,.25,1.56,1.11,1.11,0,0,0,.86.2,1.12,1.12,0,0,0,.68-.43C75,87.09,78,83,77.06,78.49Zm-3.57-12a1.12,1.12,0,0,0-1,2,12.48,12.48,0,0,1,2.91,2.24,13.87,13.87,0,0,1,3.88,7.28,14.19,14.19,0,0,1-.78,8.27,13,13,0,0,1-1.83,3.22,1.11,1.11,0,0,0,1.06,1.82h0a1,1,0,0,0,.63-.36,16.47,16.47,0,0,0,3.13-13.38A16.18,16.18,0,0,0,73.49,66.53Zm-9.28,1a1.35,1.35,0,0,0-1.6-1.06h0a1.45,1.45,0,0,0-.71.4L52.2,76.93l2.7,13.24,12.82,5.52a1.36,1.36,0,0,0,1.79-.7,1.33,1.33,0,0,0,.09-.81ZM261.4,76.66l-3.77,21.62-8.28-8.4-.47,2.7a4.13,4.13,0,0,1-4.76,3.35l-25.67-4.48a4.14,4.14,0,0,1-3.35-4.76l2.36-13.51c0-.12,0-.24.08-.35a6.17,6.17,0,1,1,10-3.71,5.62,5.62,0,0,1-.5,1.55l4.49.79a6.37,6.37,0,0,1,.06-1.63,6.15,6.15,0,1,1,11.63,3.65l4.63.81a4,4,0,0,1,3.4,4.53c0,.08,0,.15-.05.23l-.48,2.7ZM225.28,68.1a3.7,3.7,0,0,0-3.52-3.87h-.19a3.79,3.79,0,1,0,3.71,3.87Zm16.29,3A3.7,3.7,0,0,0,238,67.24h-.19a3.79,3.79,0,1,0,3.72,3.86Zm53.2-20.19L281,129.18a17.25,17.25,0,0,1-20,14l-78.27-13.81a17,17,0,0,1-11.13-7.08,17.86,17.86,0,0,1-1-1.69H130.44a17.86,17.86,0,0,1-1,1.69,17,17,0,0,1-11.13,7.08L40.09,143.16a17.25,17.25,0,0,1-20-14L6.26,50.86a17.26,17.26,0,0,1,14-20h0L94.63,17.77A17.24,17.24,0,0,1,110.76,6.58h79.47a17.24,17.24,0,0,1,16.13,11.19l74.38,13.11a17.25,17.25,0,0,1,14,20ZM120.22,119.58h-9.47a17.21,17.21,0,0,1-17.19-17.19V25.1L21.81,37.75a9.55,9.55,0,0,0-7.74,11.06l13.76,78.06a9.57,9.57,0,0,0,11.06,7.71L117,120.81A9.68,9.68,0,0,0,120.22,119.58Zm69.82-7a9.54,9.54,0,0,0,9.52-9.52V24.13a9.53,9.53,0,0,0-9.5-9.55h-79a9.51,9.51,0,0,0-9.51,9.51v79a9.53,9.53,0,0,0,9.51,9.52Zm95.52-70.94a9.49,9.49,0,0,0-6.17-3.93L207.56,25.1v77.33a17.23,17.23,0,0,1-17.21,17.15h-9.49a9.66,9.66,0,0,0,3.28,1.23l78.15,13.77a9.58,9.58,0,0,0,11.07-7.75l13.78-78.06a9.44,9.44,0,0,0-1.58-7.09Zm-109,.43c1.09.64,1,2.34,1,2.34l-.14,37.87a3.33,3.33,0,0,1-3.36,3.3h0l-48.13-.16a3.37,3.37,0,0,1-3.37-3.35l.2-37.39a3.3,3.3,0,0,1,2.11-3l.18-.08h49.68s1.76-.15,1.83.53ZM160.49,53.34a3.8,3.8,0,0,0,7.59,0,3.7,3.7,0,0,0-3.67-3.76h-.12A3.79,3.79,0,0,0,160.49,53.34ZM171.6,74.93l-8.55-9.46-.19-.19a2.49,2.49,0,0,0-3.52.16v0l-4.2,4.63-9.19-10.63a3.05,3.05,0,0,0-1.59-1,2.75,2.75,0,0,0-2.66.95h0l-13.13,15v4.13l43,.14Z\"/>\n      </svg>\n      <h3>NO DEBUG SAMPLES</h3>\n    </div>\n    <sm-debug-images-view\n      *ngFor=\"let debugImages of debugImages[experimentId]\"\n      [iterations]=\"debugImages\"\n      [experimentId]=\"experimentId\"\n      [title]=\"experimentNames && experimentNames[experimentId]\"\n      [isMergeIterations]=\"mergeIterations\"\n      [isDarkTheme]=\"isDarkTheme\"\n      (imageClicked)=\"imageClicked($event)\"\n      (urlError)=\"urlError()\"\n    >\n    </sm-debug-images-view>\n  </div>\n</div>\n\n","import {ChangeDetectorRef, Component, ElementRef, Input, OnDestroy, OnInit} from '@angular/core';\nimport {combineLatest, Observable, Subscription} from 'rxjs';\nimport {select, Store} from '@ngrx/store';\nimport {IExperimentInfoState} from '../../features/experiments/reducers/experiment-info.reducer';\nimport {AdminService} from '~/shared/services/admin.service';\nimport {selectS3BucketCredentials} from '../core/reducers/common-auth-reducer';\nimport {MatDialog} from '@angular/material/dialog';\nimport * as  debugActions from './debug-images-actions';\nimport {fetchExperiments, getDebugImagesMetrics, resetDebugImages} from './debug-images-actions';\nimport {\n  selectBeginningOfTime,\n  selectDebugImages,\n  selectNoMore,\n  selectOptionalMetrics,\n  selectTaskNames,\n  selectTimeIsNow\n} from './debug-images-reducer';\nimport {selectRouterParams} from '../core/reducers/router-reducer';\nimport {distinctUntilChanged, filter, map, withLatestFrom} from 'rxjs/operators';\nimport {Task} from '../../business-logic/model/tasks/task';\nimport {ActivatedRoute} from '@angular/router';\nimport {TaskStatusEnum} from '../../business-logic/model/tasks/taskStatusEnum';\nimport {ImageDisplayerComponent} from '../experiments/dumb/image-displayer/image-displayer.component';\nimport {selectSelectedExperiment} from '../../features/experiments/reducers';\nimport {selectRefreshing} from '../experiments-compare/reducers';\nimport {TaskMetric} from '../../business-logic/model/events/taskMetric';\nimport {get, isEqual} from 'lodash/fp';\nimport {ALL_IMAGES} from './debug-images-effects';\nimport {MatSelectChange} from '@angular/material/select';\nimport {getSignedUrl} from '../core/actions/common-auth.actions';\n\n@Component({\n  selector: 'sm-debug-images',\n  templateUrl: './debug-images.component.html',\n  styleUrls: ['./debug-images.component.scss'],\n})\nexport class DebugImagesComponent implements OnInit, OnDestroy {\n\n  @Input() isDarkTheme = false;\n  private debugImagesSubscription: Subscription;\n  private taskNamesSubscription: Subscription;\n  private selectedExperimentSubscription: Subscription;\n  private routerParamsSubscription: Subscription;\n  private refreshingSubscription: Subscription;\n  private optionalMetricsSubscription: Subscription;\n\n  public debugImages$: Observable<any>;\n  private routerParams$: Observable<any>;\n  private tasks$: Observable<Partial<Task>[]>;\n  public timeIsNow$: Observable<any>;\n  public beginningOfTime$: Observable<any>;\n\n  public mergeIterations: boolean;\n  public debugImages: { [experimentId: string]: any };\n  public experimentNames: { [id: string]: string } = {};\n  public experimentIds: string[];\n  public allowAutorefresh: boolean = false;\n\n  public noMoreData$: Observable<boolean>;\n  public optionalMetrics$: Observable<any>;\n  public optionalMetrics: any;\n  public selectedMetrics: {[taskId: string] : string} = {};\n  public beginningOfTime: any;\n  private beginningOfTimeSubscription: Subscription;\n  public timeIsNow: any;\n  private timeIsNowSubscription: Subscription;\n  minimized: boolean;\n  readonly allImages = ALL_IMAGES;\n  private selectedMetric: string;\n  public modifiedExperimentsNames: { [id: string]: string } = {};\n\n  constructor(\n    private store: Store<IExperimentInfoState>,\n    private adminService: AdminService,\n    private dialog: MatDialog,\n    private changeDetection: ChangeDetectorRef,\n    private activeRoute: ActivatedRoute,\n    private elRef: ElementRef\n  ) {\n    this.tasks$ = this.store.select(selectTaskNames);\n    this.optionalMetrics$ = this.store.select(selectOptionalMetrics);\n    this.noMoreData$ = this.store.select(selectNoMore);\n    this.timeIsNow$ = this.store.select(selectTimeIsNow);\n    this.beginningOfTime$ = this.store.select(selectBeginningOfTime);\n\n    this.debugImagesSubscription = combineLatest([\n      store.pipe(select(selectS3BucketCredentials)),\n      store.pipe(select(selectDebugImages))]).pipe(\n      map(([, debugImages]) => Object.entries(debugImages).reduce(((acc, val: any) => {\n        acc[val[0]] = val[1].metrics.map(metric => metric.iterations.map(iteration => {\n          const events = iteration.events.map(event => {\n            this.store.dispatch(getSignedUrl({url: event.url, config: {disableCache: event.timestamp}}));\n            return {\n              ...event,\n              url: event.url,\n              variantAndMetric: this.selectedMetric === ALL_IMAGES ? `${event.metric}/${event.variant}` : ''\n            };\n          });\n          return {...iteration, events};\n        }));\n        acc[val[0]].metrics = val[1].metrics.map(metric => metric.metric || metric.iterations[0].events[0].metric);\n        acc[val[0]].metric = acc[val[0]].metrics[0];\n        acc[val[0]].scrollId = val[1].scroll_id;\n        return acc;\n      }), {}))\n    ).subscribe(debugImages => {\n      this.debugImages = debugImages;\n      Object.keys(debugImages).forEach(key => {\n        if (!this.selectedMetrics[key]) {\n          this.selectedMetrics[key] = get('metric', debugImages[key]);\n        }\n      });\n      this.changeDetection.markForCheck();\n    });\n\n    this.routerParams$ = this.store.pipe(\n      select(selectRouterParams),\n      filter(params => !!params.ids || !!params.experimentId),\n      distinctUntilChanged()\n    );\n  }\n\n  ngOnInit() {\n    this.mergeIterations = this.activeRoute.snapshot.routeConfig?.data?.mergeIterations;\n    const multipleExperiments = !!this.activeRoute.snapshot.routeConfig?.data?.multiple;\n    this.minimized = this.activeRoute.snapshot.routeConfig?.data?.minimized;\n\n    this.beginningOfTimeSubscription = this.beginningOfTime$.subscribe(beginningOfTime => {\n      this.beginningOfTime = beginningOfTime;\n    });\n\n    this.timeIsNowSubscription = this.timeIsNow$.subscribe(timeIsNow => {\n      this.timeIsNow = timeIsNow;\n    });\n\n    let currentExperiment: string;\n\n    if (multipleExperiments) {\n      this.routerParamsSubscription = this.routerParams$\n        .subscribe(params => {\n          const experiments = params.ids ? params.ids.split(',') : params.experimentId.split(',');\n          if (!isEqual(experiments, this.experimentIds)) {\n            this.experimentIds = experiments;\n            this.store.dispatch(getDebugImagesMetrics({tasks: this.experimentIds}));\n            this.store.dispatch(fetchExperiments({tasks: this.experimentIds}));\n          }\n        });\n\n      this.taskNamesSubscription = this.tasks$\n        .pipe(\n          filter(tasks => tasks?.length > 0)\n        )\n        .subscribe((tasks) => {\n          if (this.isTaskRunning(tasks) && (Object.keys(this.debugImages || {}).length > 0 || this.beginningOfTime[this.experimentIds[0]])) {\n            this.store.dispatch(getDebugImagesMetrics({tasks: this.experimentIds}));\n          }\n\n          this.experimentNames = tasks.reduce((acc, task) => ({\n            ...acc,\n            [task.id]: task.name\n          }), {}) as { [id: string]: string };\n          tasks.forEach(task => {\n              this.modifiedExperimentsNames[task.id] = Object.values(this.experimentNames).filter(name => name === task.name).length > 1 ? `${task.name}.${task.id.substr(0, 6)}` : task.name;\n            }\n          );\n          this.changeDetection.detectChanges();\n        });\n\n      // auto refresh subscription for compare only.\n      this.refreshingSubscription = this.store.select(selectRefreshing).pipe(\n        filter(({refreshing}) => refreshing),\n        withLatestFrom(\n          this.store.select(selectTimeIsNow),\n        )\n      ).subscribe(([, timeIsNow]) => {\n          this.store.dispatch(debugActions.refreshDebugImagesMetrics({tasks: this.experimentIds}));\n          this.experimentIds.forEach(experiment => {\n            this.refresh(experiment, timeIsNow, this.debugImages);\n          });\n        }\n      );\n    } else {\n      this.selectedExperimentSubscription = this.store.select(selectSelectedExperiment)\n        .pipe(\n          filter(experiment => !!experiment),\n          withLatestFrom(\n            this.store.select(selectTimeIsNow),\n          ),\n        ).subscribe(([experiment, timeIsNow]) => {\n          if (currentExperiment === experiment.id && Object.keys(this.debugImages || {}).length > 0) {\n            this.refresh(experiment.id, timeIsNow, this.debugImages);\n          } else {\n            currentExperiment = experiment.id;\n            this.experimentNames = {[experiment.id]: experiment.name};\n            this.experimentIds = [experiment.id];\n            this.store.dispatch(getDebugImagesMetrics({tasks: this.experimentIds}));\n          }\n        });\n    }\n\n    this.optionalMetricsSubscription = this.optionalMetrics$.subscribe(optionalMetrics => {\n      const optionalMetricsDic = {};\n      optionalMetrics.forEach(experimentMetrics => optionalMetricsDic[experimentMetrics.task] = experimentMetrics.metrics);\n      if ((!isEqual(this.optionalMetrics, optionalMetricsDic)) && optionalMetrics.length > 0) {\n        this.optionalMetrics = optionalMetricsDic;\n        optionalMetrics.forEach(optionalMetric => {\n          optionalMetric.metrics[0] && this.store.dispatch(debugActions.setSelectedMetric({\n            payload: {\n              task: optionalMetric.task,\n              metric: optionalMetric.metrics[0]\n            }\n          }));\n        });\n        this.changeDetection.detectChanges();\n      }\n    });\n  }\n\n\n  ngOnDestroy(): void {\n    this.routerParamsSubscription?.unsubscribe();\n    this.taskNamesSubscription?.unsubscribe();\n    this.selectedExperimentSubscription?.unsubscribe();\n    this.refreshingSubscription?.unsubscribe();\n    this.optionalMetricsSubscription?.unsubscribe();\n    this.debugImagesSubscription?.unsubscribe();\n    this.beginningOfTimeSubscription?.unsubscribe();\n    this.timeIsNowSubscription?.unsubscribe();\n    this.store.dispatch(resetDebugImages());\n  }\n\n  public urlError(/*{frame}*/) {\n    // this.adminService.checkImgUrl(frame.oldSrc || frame.src);\n  }\n\n  imageClicked({frame, frames}) {\n    let iterationSnippets = [];\n    Object.entries(frames).map(iteration => {\n      iterationSnippets = iterationSnippets.concat(iteration[1]);\n    });\n    const sources = iterationSnippets.map(img => img.url);\n    const index = iterationSnippets.findIndex(img => img.url === frame.url);\n    this.dialog.open(ImageDisplayerComponent, {\n      data: {imageSources: sources, index, snippetsMetaData: iterationSnippets},\n      panelClass: ['image-displayer-dialog'],\n      height: '100%',\n      maxHeight: 'auto',\n      width: '100%',\n      maxWidth: 'auto'\n    });\n  }\n\n  refresh(experimentId: string, timeIsNow, debugImages) {\n    if (experimentId && timeIsNow?.[experimentId] && debugImages[experimentId] && this.elRef.nativeElement.scrollTop < 40) {\n      this.store.dispatch(debugActions.refreshMetric({\n        payload: {\n          task: experimentId,\n          metric: debugImages[experimentId].metric\n        }\n      }));\n    }\n  }\n\n  private isTaskRunning(tasks: Partial<Task>[]) {\n    return tasks.some(task => [TaskStatusEnum.InProgress, TaskStatusEnum.Queued].includes(task.status));\n  }\n\n  trackExperiment(index: number, experimentID: string) {\n    return experimentID;\n  }\n\n  selectMetric(change: MatSelectChange, task) {\n    this.selectedMetric = change.value;\n    this.store.dispatch(debugActions.setSelectedMetric({payload: {task, metric: change.value}}));\n  }\n\n  nextBatch(taskMetric: TaskMetric) {\n    if (!this.beginningOfTime[taskMetric.task]) {\n      this.store.dispatch(debugActions.getNextBatch({payload: taskMetric}));\n    }\n  }\n\n  previousBatch(taskMetric: TaskMetric) {\n    this.store.dispatch(debugActions.getPreviousBatch({payload: taskMetric}));\n  }\n\n  backToNow(taskMetric: TaskMetric) {\n    this.store.dispatch(debugActions.setSelectedMetric({payload: taskMetric}));\n  }\n\n  thereAreNoMetrics(experiment) {\n    return !(this.optionalMetrics && this.optionalMetrics[experiment] && this.optionalMetrics[experiment].length > 0);\n  }\n\n  thereAreNoDebugImages(experiment) {\n    return !(this.debugImages && this.debugImages[experiment] && this.debugImages[experiment].length > 0);\n  }\n\n  shouldShowNoImagesForExperiment(experiment: string) {\n    return (this.thereAreNoMetrics(experiment) && this.optionalMetrics && this.optionalMetrics[experiment]) || (this.thereAreNoDebugImages(experiment) && this.debugImages && this.debugImages[experiment]);\n  }\n\n}\n","import { ScrollingModule } from '@angular/cdk/scrolling';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { EffectsModule } from '@ngrx/effects';\nimport { StoreModule } from '@ngrx/store';\nimport { ExperimentCompareSharedModule } from '../experiments-compare/shared/experiment-compare-shared.module';\nimport { ImageDisplayerComponent } from '../experiments/dumb/image-displayer/image-displayer.component';\nimport { SMSharedModule } from '../shared/shared.module';\nimport { UiComponentsModule } from '../shared/ui-components/ui-components.module';\nimport { DebugImageSnippetComponent } from './debug-image-snippet/debug-image-snippet.component';\nimport { DebugImagesEffects } from './debug-images-effects';\nimport {debugSamplesReducer} from './debug-images-reducer';\nimport { DebugImagesViewComponent } from './debug-images-view/debug-images-view.component';\nimport { DebugImagesComponent } from './debug-images.component';\nimport {MatSliderModule} from '@angular/material/slider';\nimport {ExperimentGraphsModule} from '../shared/experiment-graphs/experiment-graphs.module';\n\nconst declerations = [DebugImagesComponent, DebugImagesViewComponent, ImageDisplayerComponent, DebugImageSnippetComponent];\n\n@NgModule({\n  declarations   : declerations,\n  exports        : declerations,\n    imports: [\n        UiComponentsModule,\n        SMSharedModule,\n        CommonModule,\n        ExperimentCompareSharedModule,\n        ScrollingModule,\n        StoreModule.forFeature('debugImages', debugSamplesReducer),\n        EffectsModule.forFeature([DebugImagesEffects]),\n        MatSliderModule,\n        ExperimentGraphsModule\n    ]\n})\nexport class DebugImagesModule {\n}\n","import {createAction, props} from '@ngrx/store';\nimport {Task} from '../../../business-logic/model/tasks/task';\nimport {Params} from '@angular/router';\nimport {ISmCol} from '../../shared/ui-components/data/table/table.consts';\nimport {SortMeta} from 'primeng/api';\nimport {TableFilter} from '../../shared/utils/tableParamEncode';\nimport {EXPERIMENTS_PREFIX} from '../../experiments/actions/common-experiments-view.actions';\n\nexport const EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_ = 'EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_';\n\nexport const GET_SELECTED_EXPERIMENTS_FOR_COMPARE = EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_ + 'SEARCH_EXPERIMENTS_FOR_COMPARE';\nexport const SET_SHOW_SEARCH_EXPERIMENTS_FOR_COMPARE = EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_ + 'SET_SHOW_SEARCH_EXPERIMENTS_FOR_COMPARE';\nexport const SET_SELECT_EXPERIMENTS_FOR_COMPARE = EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_ + 'SET_SELECT_EXPERIMENTS_FOR_COMPARE';\nexport const RESET_SELECT_EXPERIMENT_FOR_COMPARE = EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_ + 'RESET_SELECT_EXPERIMENT_FOR_COMPARE';\nexport const TOGGLE_SHOW_SACLARS_OPTIONS = EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_ + 'TOGGLE_SHOW_SACLARS_OPTIONS';\nexport const SET_HIDE_IDENTICAL_ROWS = EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_ + 'SET_HIDE_IDENTICAL_ROWS';\nexport const SET_REFRESHING = EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_ + 'SET_REFRESHING';\nexport const SET_EXPERIMENTS_UPDATE_TIME = EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_ + 'SET_EXPERIMENTS_UPDATE_TIME';\nexport const REFRESH_IF_NEEDED = EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_ + 'REFRESH_IF_NEEDED';\nexport const REFETCH_EXPERIMENT_REQUESTED = EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_ + 'REFETCH_EXPERIMENT_REQUESTED';\nexport const SET_NAVIGATION_PREFERENCES = EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_ + 'SET_NAVIGATION_PREFERENCES';\n\n\nexport const setHideIdenticalFields = createAction(SET_HIDE_IDENTICAL_ROWS, props<{payload: boolean}>());\nexport const setRefreshing = createAction(SET_REFRESHING, props<{ payload: boolean; autoRefresh?: boolean }>());\nexport const setExperimentsUpdateTime = createAction(SET_EXPERIMENTS_UPDATE_TIME, props<{ payload: {[key: string]: Date}}>());\nexport const refreshIfNeeded = createAction(REFRESH_IF_NEEDED, props<{ payload: boolean; autoRefresh?: boolean }>());\nexport const toggleShowScalarOptions = createAction(TOGGLE_SHOW_SACLARS_OPTIONS);\nexport const setSearchExperimentsForCompareResults = createAction(SET_SELECT_EXPERIMENTS_FOR_COMPARE, props<{ payload: Array<Task> }>());\nexport const setShowSearchExperimentsForCompare = createAction(SET_SHOW_SEARCH_EXPERIMENTS_FOR_COMPARE, props<{ payload: boolean }>());\nexport const resetSelectCompareHeader = createAction(RESET_SELECT_EXPERIMENT_FOR_COMPARE);\nexport const getSelectedExperimentsForCompareAddDialog = createAction(GET_SELECTED_EXPERIMENTS_FOR_COMPARE, props<{tasksIds?: string[]}>());\nexport const compareAddDialogTableSortChanged = createAction(\n  EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_ + ' [table sort changed]',\n  props<{ isShift: boolean; colId: ISmCol['id'] }>()\n);\nexport const compareAddTableFilterChanged = createAction(\n  EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_ + '[table filter changed]',\n  props<{filter: TableFilter; projectId: string}>()\n);\n\nexport const compareAddTableFilterInit = createAction(\n  EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_ + '[table filter init]',\n  props<{projectId: string}>()\n);\n\nexport const compareAddTableClearAllFilters = createAction(\n  EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_ + '[clear table filters]',\n  props<{projectId: string}>()\n);\nexport const compareAddDialogSetTableSort = createAction(\n  EXPERIMENTS_COMPARE_SELECT_EXPERIMENT_ + ' [set table sort]',\n  props<{ orders: SortMeta[]; projectId: string; colIds: string[] }>()\n);\nexport const refetchExperimentRequested = createAction(REFETCH_EXPERIMENT_REQUESTED, props<{ autoRefresh: boolean }>());\nexport const setNavigationPreferences = createAction(SET_NAVIGATION_PREFERENCES, props<{ navigationPreferences: Params }>());\n","import {Action, createAction, props} from '@ngrx/store';\nimport {ISmAction} from '../../core/models/actions';\nimport {IExperimentSettings} from '../../experiments/reducers/common-experiment-output.reducer';\nimport {ScalarKeyEnum} from '../../../business-logic/model/events/scalarKeyEnum';\n\n\nexport const EXPERIMENTS_COMPARE_METRICS_CHARTS_ = 'EXPERIMENTS_COMPARE_METRICS_CHARTS_';\n\n// COMMANDS:\nexport const SET_SELECTED_EXPERIMENTS           = EXPERIMENTS_COMPARE_METRICS_CHARTS_ + 'SET_SELECTED_EXPERIMENTS';\nexport const SET_EXPERIMENT_METRICS_SEARCH_TERM = EXPERIMENTS_COMPARE_METRICS_CHARTS_ + 'SET_EXPERIMENT_METRICS_SEARCH_TERM';\nexport const SET_EXPERIMENT_HISTOGRAM           = EXPERIMENTS_COMPARE_METRICS_CHARTS_ + 'SET_EXPERIMENT_HISTOGRAM';\nexport const SET_EXPERIMENT_PLOTS               = EXPERIMENTS_COMPARE_METRICS_CHARTS_ + 'SET_EXPERIMENT_PLOTS';\n\nexport const SET_MULTI_SCALAR_CHARTS            = EXPERIMENTS_COMPARE_METRICS_CHARTS_ + 'SET_MULTI_SCALAR_CHARTS';\nexport const SET_MULTI_PLOT_CHARTS              = EXPERIMENTS_COMPARE_METRICS_CHARTS_ + 'SET_MULTI_PLOT_CHARTS';\n\n// EVENTS:\n\nexport const GET_MULTI_SCALAR_CHARTS            = EXPERIMENTS_COMPARE_METRICS_CHARTS_ + 'GET_MULTI_SCALAR_CHARTS';\nexport const GET_MULTI_PLOT_CHARTS              = EXPERIMENTS_COMPARE_METRICS_CHARTS_ + 'GET_MULTI_PLOT_CHARTS';\n\n\n\nexport const UPDATE_EXPERIMENT_SETTINGS        = EXPERIMENTS_COMPARE_METRICS_CHARTS_ + 'UPDATE_EXPERIMENT_SETTINGS';\nexport const RESET_EXPERIMENT_METRICS          = EXPERIMENTS_COMPARE_METRICS_CHARTS_ + 'RESET_EXPERIMENT_METRICS';\n\n\n\nexport class GetMultiScalarCharts implements ISmAction {\n  public type = GET_MULTI_SCALAR_CHARTS;\n\n  constructor(public payload: { taskIds: string[]; autoRefresh?: boolean; cached?: boolean }) {}\n}\n\nexport class GetMultiPlotCharts implements ISmAction {\n  readonly type = GET_MULTI_PLOT_CHARTS;\n\n  constructor(public payload: { taskIds: Array<string>; autoRefresh?: boolean }) {}\n}\n\nexport class SetSelectedExperiments implements Action {\n  readonly type = SET_SELECTED_EXPERIMENTS;\n\n  constructor(public payload: {selectedExperiments: Array<string>}) {\n  }\n}\nexport class SetExperimentHistogram implements Action {\n  readonly type = SET_EXPERIMENT_HISTOGRAM;\n\n  constructor(public payload: any,  public axisType: ScalarKeyEnum) {\n  }\n}\n\nexport const setAxisCache = createAction(\n  EXPERIMENTS_COMPARE_METRICS_CHARTS_ + '[set scalar axis type cache]',\n  props<{axis: ScalarKeyEnum}>()\n);\n\nexport class SetExperimentPlots implements Action {\n  readonly type = SET_EXPERIMENT_PLOTS;\n\n  constructor(public payload: any) {\n  }\n}\n\n\nexport class SetExperimentSettings implements Action {\n  readonly type = UPDATE_EXPERIMENT_SETTINGS;\n\n  constructor(public payload: { id: Array<string>; changes: Partial<IExperimentSettings>}) {\n  }\n}\n\nexport class SetExperimentMetricsSearchTerm implements Action {\n  readonly type = SET_EXPERIMENT_METRICS_SEARCH_TERM;\n\n  constructor(public payload: { searchTerm: string}) {\n  }\n}\n\nexport class ResetExperimentMetrics implements Action {\n  readonly type = RESET_EXPERIMENT_METRICS;\n}\n\n\n\n","import {createAction, props} from '@ngrx/store';\nimport {IExperimentDetail} from '../../../features/experiments-compare/experiments-compare-models';\n\nexport const resetState = createAction('[experiment compare details] RESET_STATE');\nexport const setExperiments = createAction('[experiment compare details] SET_EXPERIMENTS', props<{experiments: IExperimentDetail[]}>());\nexport const experimentListUpdated = createAction('[experiment compare details] EXPERIMENT_LIST_UPDATED', props<{ids: string[]}>());\n","import {Action} from '@ngrx/store';\nimport {Task} from '../../../business-logic/model/tasks/task';\n\nexport const EXPERIMENTS_COMPARE_METRICS_VALUES_ = 'EXPERIMENTS_COMPARE_METRICS_VALUES_';\n\nexport const GET_COMPARED_EXPERIMENTS_METRICS_VALUES = EXPERIMENTS_COMPARE_METRICS_VALUES_ + 'GET_COMPARED_EXPERIMENTS_METRICS_VALUES';\nexport const SET_COMPARED_EXPERIMENTS                = EXPERIMENTS_COMPARE_METRICS_VALUES_ + 'SET_COMPARED_EXPERIMENTS';\nexport const SET_METRIC_VALUES_SORT_BY               = EXPERIMENTS_COMPARE_METRICS_VALUES_ + 'SET_METRIC_VALUES_SORT_BY';\nexport const RESET_STATE                             = EXPERIMENTS_COMPARE_METRICS_VALUES_ + 'RESET_STATE';\n\n\nexport class GetComparedExperimentsMetricsValues implements Action {\n  readonly type = GET_COMPARED_EXPERIMENTS_METRICS_VALUES;\n\n  constructor(public payload: { taskIds: string[]; autoRefresh?: boolean }) {}\n}\n\nexport class SetComparedExperiments implements Action {\n  readonly type = SET_COMPARED_EXPERIMENTS;\n  public payload: { experiments: Array<Task> };\n\n  constructor(experiments: Array<Task>) {\n    this.payload = {experiments};\n  }\n}\n\nexport class SetMetricValuesSortBy implements Action {\n  readonly type = SET_METRIC_VALUES_SORT_BY;\n  public payload: { metric: string, keyOrValue: string, order: string, keyOrder: Array<string> };\n\n  constructor(metric: string, keyOrValue: string, order: string, keyOrder: Array<string>) {\n    this.payload = {metric, keyOrValue, order, keyOrder};\n  }\n}\n\nexport class ResetState implements Action {\n  readonly type = RESET_STATE;\n\n  constructor() {\n  }\n}\n\n\n","import {createAction, props} from '@ngrx/store';\nimport {ExperimentParams} from '../shared/experiments-compare-details.model';\n\nexport const resetState = createAction('[experiment compare params] RESET_STATE');\nexport const setExperiments = createAction('[experiment compare params] SET_EXPERIMENTS', props<{experiments: ExperimentParams[]}>());\nexport const experimentListUpdated = createAction('[experiment compare params] EXPERIMENT_LIST_UPDATED', props<{ids: string[]}>());\n","import {createAction, props} from '@ngrx/store';\nimport {GroupedHyperParams, HyperParams, MetricOption, MetricValueType} from '../reducers/experiments-compare-charts.reducer';\n\nexport const EXPERIMENTS_COMPARE_SCALARS_GRAPH = 'EXPERIMENTS_COMPARE_SCALARS_GRAPH_';\n\nexport const GET_EXPERIMENTS_PARAMS = EXPERIMENTS_COMPARE_SCALARS_GRAPH + 'GET_EXPERIMENTS_PARAMS';\nexport const SET_METRICS_LIST = EXPERIMENTS_COMPARE_SCALARS_GRAPH + 'SET_METRICS_LIST';\nexport const SET_PARAMS_LIST = EXPERIMENTS_COMPARE_SCALARS_GRAPH + 'SET_PARAMS_LIST';\nexport const SET_TASKS = EXPERIMENTS_COMPARE_SCALARS_GRAPH + 'SET_TASKS';\nexport const SET_HIDE_IDENTICAL_HYPER_PARAMS = EXPERIMENTS_COMPARE_SCALARS_GRAPH + 'SET_HIDE_IDENTICAL_HYPER_PARAMS';\nexport const SET_VALUE_TYPE = EXPERIMENTS_COMPARE_SCALARS_GRAPH + 'SET_VALUE_TYPE';\n\nexport const getExperimentsHyperParams = createAction(GET_EXPERIMENTS_PARAMS, props<{ experimentsIds: string[]; autoRefresh?: boolean }>());\nexport const setMetricsList = createAction(SET_METRICS_LIST, props<{ metricsList: MetricOption[] }>());\nexport const setTasks = createAction(SET_TASKS, props<{ tasks: any }>());\nexport const setvalueType = createAction(SET_VALUE_TYPE, props<{ valueType: MetricValueType }>());\nexport const setHyperParamsList = createAction(SET_PARAMS_LIST, props<{ hyperParams: GroupedHyperParams }>());\nexport const setShowIdenticalHyperParams = createAction(SET_HIDE_IDENTICAL_HYPER_PARAMS);\n","import {ChangeDetectorRef, Component, ElementRef, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {select, Store} from '@ngrx/store';\nimport {\n  compareAddDialogTableSortChanged,\n  compareAddTableClearAllFilters,\n  compareAddTableFilterChanged,\n  compareAddTableFilterInit,\n  getSelectedExperimentsForCompareAddDialog,\n  resetSelectCompareHeader,\n  setShowSearchExperimentsForCompare\n} from '../../actions/compare-header.actions';\nimport {\n  selectCompareAddTableSortFields,\n  selectExperimentsForCompareSearchTerm,\n  selectSelectedExperimentsForCompareAdd\n} from '../../reducers';\nimport {BehaviorSubject, combineLatest, Observable, Subscription} from 'rxjs';\nimport {Task} from '../../../../business-logic/model/tasks/task';\nimport {Params} from '@angular/router';\nimport {selectRouterParams} from '../../../core/reducers/router-reducer';\nimport {distinctUntilChanged, distinctUntilKeyChanged, filter, map} from 'rxjs/operators';\nimport {compareLimitations} from '../../../shared/entity-page/footer-items/compare-footer-item';\nimport {MatDialogRef} from '@angular/material/dialog';\nimport {ITableExperiment} from '../../../experiments/shared/common-experiment-model.model';\nimport {\n  selectActiveParentsFilter,\n  selectExperimentsList,\n  selectExperimentsMetricsColsForProject,\n  selectExperimentsParents,\n  selectExperimentsTableCols,\n  selectExperimentsTableColsOrder,\n  selectExperimentsTags,\n  selectExperimentsTypes,\n  selectExperimentsUsers,\n  selectHyperParamsOptions,\n  selectNoMoreExperiments,\n  selectTableFilters\n} from '../../../experiments/reducers';\nimport {get, isEqual, unionBy} from 'lodash/fp';\nimport {ColHeaderTypeEnum, ISmCol, TableSortOrderEnum} from '../../../shared/ui-components/data/table/table.consts';\nimport {filterArchivedExperiments} from '../../../experiments/shared/common-experiments.utils';\nimport {InitSearch} from '../../../common-search/common-search.actions';\nimport * as experimentsActions from '../../../experiments/actions/common-experiments-view.actions';\nimport {resetExperiments, resetGlobalFilter} from '../../../experiments/actions/common-experiments-view.actions';\nimport {User} from '../../../../business-logic/model/users/user';\nimport {selectProjectSystemTags, selectRootProjects} from '../../../core/reducers/projects.reducer';\nimport {SortMeta} from 'primeng/api';\nimport {Project} from '../../../../business-logic/model/projects/project';\nimport {addMessage} from '../../../core/actions/layout.actions';\nimport {MESSAGES_SEVERITY} from '../../../../app.constants';\nimport {ProjectsGetTaskParentsResponseParents} from '../../../../business-logic/model/projects/projectsGetTaskParentsResponseParents';\n\nexport const allowAddExperiment$ = (selectRouterParams$: Observable<Params>) => selectRouterParams$.pipe(\n  distinctUntilKeyChanged('ids'),\n  map(res => res.ids),\n  distinctUntilChanged(),\n  map(res => res.split(',').length < compareLimitations)\n);\n\n\n@Component({\n  selector: 'sm-select-experiments-for-compare',\n  templateUrl: './select-experiments-for-compare.component.html',\n  styleUrls: ['./select-experiments-for-compare.component.scss']\n})\nexport class SelectExperimentsForCompareComponent implements OnInit, OnDestroy {\n  public experimentsResults$: Observable<Task[]>;\n  public selectedExperimentsIds: string[] = [];\n  private paramsSubscription: Subscription;\n  public searchTerm$: Observable<string>;\n  @ViewChild('searchExperiments', {static: true}) searchExperiments;\n  public allowAddExperiment$: Observable<boolean>;\n  public tableColsOrder$: Observable<string[]>;\n  public tableSortOrder$: Observable<TableSortOrderEnum>;\n  private columns$: Observable<ISmCol[] | undefined>;\n  private metricTableCols$: Observable<ISmCol[]>;\n  public tableCols$: Observable<any>;\n  public experiments$: Observable<any>;\n  private projectId: string;\n  public users$: Observable<User[]>;\n  public tableFilters$: Observable<{ [p: string]: { value: any; matchMode: string } }>;\n  public tags$: Observable<string[]>;\n  public systemTags$: Observable<string[]>;\n  public types$: Observable<string[]>;\n  public noMoreExperiments$: Observable<boolean>;\n  public hyperParamsOptions$: Observable<Record<string, string[]>>;\n  public activeParentsFilter$: Observable<ProjectsGetTaskParentsResponseParents[]>;\n  public parent$: Observable<ProjectsGetTaskParentsResponseParents[]>;\n  public tableSortFields$: Observable<SortMeta[]>;\n  public projects$: Observable<Project[]>;\n  private originalSelectedExperiments: string[];\n  selectedExperiment: any;\n  public reachedCompareLimit: boolean;\n  private _resizedCols = {} as { [colId: string]: string };\n  private resizedCols$ = new BehaviorSubject<{[colId: string]: string }>(this._resizedCols);\n\n  constructor(\n    private store: Store<any>,\n    private eRef: ElementRef,\n    private changedDetectRef: ChangeDetectorRef,\n    public dialogRef: MatDialogRef<SelectExperimentsForCompareComponent>\n  ) {\n    this.resizedCols$.next(this._resizedCols);\n    this.experimentsResults$ = this.store.pipe(select(selectSelectedExperimentsForCompareAdd));\n    this.experiments$ = combineLatest([this.store.select(selectExperimentsList), this.store.select(selectSelectedExperimentsForCompareAdd)]).pipe(\n      map(([experiments, selectedExperiments]) => unionBy('id', selectedExperiments, experiments)),\n      map((experiments) => filterArchivedExperiments(experiments, false))\n    );\n    this.searchTerm$ = this.store.pipe(select(selectExperimentsForCompareSearchTerm));\n    this.tableColsOrder$ = this.store.select(selectExperimentsTableColsOrder);\n    this.columns$ = this.store.select(selectExperimentsTableCols);\n    this.metricTableCols$ = this.store.select(selectExperimentsMetricsColsForProject);\n    this.users$ = this.store.select(selectExperimentsUsers);\n    this.tableFilters$ = this.store.select(selectTableFilters);\n    this.parent$ = this.store.select(selectExperimentsParents);\n    this.projects$ = this.store.select(selectRootProjects);\n\n    this.tags$ = this.store.select(selectExperimentsTags);\n    this.types$ = this.store.select(selectExperimentsTypes);\n    this.systemTags$ = this.store.select(selectProjectSystemTags);\n    this.noMoreExperiments$ = this.store.select(selectNoMoreExperiments);\n    this.tableSortFields$ = this.store.select(selectCompareAddTableSortFields);\n    this.hyperParamsOptions$ = this.store.select(selectHyperParamsOptions);\n    this.activeParentsFilter$ = this.store.select(selectActiveParentsFilter);\n    this.tableCols$ = combineLatest([this.columns$, this.metricTableCols$, this.resizedCols$])\n      .pipe(\n        filter(([tableCols,,]) => !!tableCols),\n        map(([tableCols, metricCols, resizedCols]) =>\n          tableCols\n            .concat(metricCols.map(col => ({...col, metric: true})))\n            .map(col => ({\n              ...col,\n              style: {...col.style, width: resizedCols[col.id] || col.style?.width}\n            }))\n        ),\n        distinctUntilChanged((a, b) => isEqual(a, b)),\n        map(cols => cols.filter(col => (!col.hidden || col.id === 'project.name')).map(col => ({\n            ...col,\n            hidden: false,\n            headerType: col.headerType === ColHeaderTypeEnum.checkBox ? ColHeaderTypeEnum.title : col.headerType,\n            ...(col.id === 'project.name' && {\n              getter: 'project',\n              filterable: true,\n              searchableFilter: true,\n              sortable: false,\n              headerType: ColHeaderTypeEnum.sortFilter,\n            }),\n          })\n        )));\n  }\n\n  public searchTermChanged(term: string) {\n\n    this.store.dispatch(experimentsActions.globalFilterChanged({query: term}));\n  }\n\n  public closeSearch() {\n    this.store.dispatch(setShowSearchExperimentsForCompare({payload: false}));\n  }\n\n  public syncSelectedExperiments() {\n    if (this.selectedExperimentsIds) {\n      this.store.dispatch(getSelectedExperimentsForCompareAddDialog({tasksIds: this.selectedExperimentsIds}));\n    }\n  }\n\n  syncAppSearch() {\n    this.store.dispatch(new InitSearch('Search for experiments'));\n    this.store.dispatch(experimentsActions.getExperiments());\n  }\n\n  refreshTagsList() {\n    this.store.dispatch(experimentsActions.getTags());\n  }\n\n  refreshTypesList() {\n    this.store.dispatch(experimentsActions.getProjectTypes());\n  }\n\n\n  ngOnInit() {\n    this.paramsSubscription = this.store.pipe(\n      select(selectRouterParams),\n      map(params => [params && params['ids'], get('projectId', params)]),\n      filter(([experimentIds,]) => !!experimentIds)\n    ).subscribe(([experimentIds, projectId]) => {\n      if (this.selectedExperimentsIds.length === 0) {\n        this.selectedExperimentsIds = experimentIds.split(',');\n        this.originalSelectedExperiments = this.selectedExperimentsIds;\n      }\n      if (!this.projectId && projectId !== '*') {\n        this.store.dispatch(compareAddTableFilterInit({projectId}));\n      }\n      this.projectId = projectId;\n      this.changedDetectRef.detectChanges();\n    });\n    this.allowAddExperiment$ = allowAddExperiment$(this.store.select(selectRouterParams));\n    this.store.dispatch(experimentsActions.getUsers());\n    this.store.dispatch(experimentsActions.getTags());\n    this.store.dispatch(experimentsActions.getProjectTypes());\n    this.store.dispatch(experimentsActions.getParents());\n    this.store.dispatch(getSelectedExperimentsForCompareAddDialog(null));\n    this.syncAppSearch();\n  }\n\n  ngOnDestroy(): void {\n    this.paramsSubscription.unsubscribe();\n    this.store.dispatch(setShowSearchExperimentsForCompare({payload: false}));\n    this.store.dispatch(resetExperiments());\n    this.store.dispatch(resetGlobalFilter());\n    this.store.dispatch(resetSelectCompareHeader());\n\n  }\n\n\n  experimentsSelectionChanged(experiments: Array<ITableExperiment>) {\n    this.reachedCompareLimit = experiments.length === compareLimitations;\n    if (experiments.length === 0) {\n      this.store.dispatch(addMessage(MESSAGES_SEVERITY.WARN, 'Compare module should include at least one experiment'));\n      return;\n    }\n    if (experiments.length <= compareLimitations) {\n      this.selectedExperimentsIds = experiments.map(ex => ex.id);\n    } else {\n      this.store.dispatch(addMessage(MESSAGES_SEVERITY.WARN, compareLimitations + ' or fewer experiments can be compared'));\n    }\n  }\n\n  getNextExperiments() {\n    this.syncSelectedExperiments();\n    this.store.dispatch(experimentsActions.getNextExperiments());\n  }\n\n  sortedChanged(event: { isShift: boolean; colId: ISmCol['id'] }) {\n    this.syncSelectedExperiments();\n    this.store.dispatch(compareAddDialogTableSortChanged(event));\n  }\n\n  filterChanged({col, value, andFilter}: { col: ISmCol; value: any; andFilter?: boolean }) {\n    this.syncSelectedExperiments();\n    this.store.dispatch(compareAddTableFilterChanged({\n      filter: {\n        col: col.id,\n        value,\n        filterMatchMode: col.filterMatchMode || andFilter ? 'AND' : undefined\n      }, projectId: this.projectId\n    }));\n  }\n\n  clearTableFilters() {\n    this.store.dispatch(compareAddTableClearAllFilters({projectId: this.projectId}));\n  }\n\n  applyChanges() {\n    this.closeDialog(this.selectedExperimentsIds);\n  }\n\n  closeDialog(experimentIds?: string[]) {\n    this.dialogRef.close(experimentIds);\n  }\n\n  resizeCol({columnId, widthPx}: {columnId: string; widthPx: number}) {\n    this._resizedCols[columnId] = `${widthPx}px`;\n    this.resizedCols$.next(this._resizedCols);\n  }\n}\n","<sm-dialog-template [header]=\"'Choose compared experiments'\">\n  <div class=\"select-experiments-container light-theme\" (click)=\"closeSearch()\">\n    <div class=\"search-experiment-for-compare d-flex justify-content-between\">\n      <mat-form-field appearance=\"outline\" class=\"w-50\" smClickStopPropagation>\n        <input\n          #searchExperiments\n          autofocus\n          matInput\n          name=\"search-experiments\"\n          autocomplete=\"off\"\n          smClickStopPropagation\n          placeholder=\"Start typing experiment name or ID to add to your comparison\"\n          (input)=\"searchTermChanged(searchExperiments.value)\"\n        >\n      </mat-form-field>\n      <sm-clear-filters-button\n        [tableFilters]=\"(tableFilters$ | async)\"\n        (clearTableFilters)=\"clearTableFilters()\"\n      ></sm-clear-filters-button>\n    </div>\n    <div class=\"hide-table show-table\">\n      <sm-experiments-table\n        class=\"align-self-stretch\"\n        [selectionReachedLimit]=\"reachedCompareLimit\"\n        [selectionMode]=\"null\"\n        [disableContextMenu]=\"true\"\n        [reorderableColumns]=\"false\"\n        [minimizedView]=\"false\"\n        [colsOrder]=\"(tableColsOrder$ | async)\"\n        [tableCols]=\"tableCols$| async\"\n        [users]=\"users$ | async\"\n        [projects]=\"projects$ | async\"\n        [selectedExperiments]=\"selectedExperimentsIds | idToObjectsArray\"\n        [experiments]=\"experiments$ | async\"\n        [experimentTypes]=\"types$ | async\"\n        [tableFilters]=\"(tableFilters$ | async)\"\n        [tableSortFields]=\"(tableSortFields$ | async)\"\n        [tableSortOrder]=\"(tableSortOrder$ | async)\"\n        [tags]=\"tags$ | async\"\n        [hyperParamsOptions]=\"hyperParamsOptions$ | async\"\n        [activeParentsFilter]=\"activeParentsFilter$ | async\"\n        [parents]=\"parent$ | async\"\n        [noMoreExperiments]=\"noMoreExperiments$ | async\"\n        [systemTags]=\"systemTags$ | async\"\n        (tagsMenuOpened)=\"refreshTagsList()\"\n        (typesMenuOpened)=\"refreshTypesList()\"\n        (experimentsSelectionChanged)=\"experimentsSelectionChanged($event)\"\n        (loadMoreExperiments)=\"getNextExperiments()\"\n        (sortedChanged)=\"sortedChanged($event)\"\n        (filterChanged)=\"filterChanged($event)\"\n        (columnResized)=\"resizeCol($event)\"\n      >\n      </sm-experiments-table>\n    </div>\n  </div>\n  <div class=\"buttons\">\n    <button type=\"submit\"\n            (click)=\"applyChanges()\"\n            class=\"btn btn-neon yes-button\">\n      APPLY\n    </button>\n    <button (click)=\"closeDialog()\" class=\"btn btn-outline-neon\">\n      CANCEL\n    </button>\n  </div>\n\n</sm-dialog-template>\n","<div class=\"header-container\">\n  <div class=\"actions-container\">\n    <span [smTooltip]=\"(allowAddExperiment$ | async) ?\n      'Add/Remove experiments to comparison' :\n      compareLimitations + ' or fewer experiments can be compared'\"\n    >\n        <button class=\"btn btn-secondary btn-add-experiment\"\n                (click)=\"openAddExperimentSearch()\">\n      <i class=\"fas fa-plus mr-2\"></i>\n      <span>Add Experiment</span>\n    </button>\n    </span>\n    <mat-select *ngIf=\"viewMode\"\n                class=\"view-mode\"\n                panelClass=\"light-theme\"\n                [value]=\"queryParamsViewMode || viewMode\"\n                [disableOptionCentering]=\"true\"\n                (selectionChange)=\"changeView($event)\">\n      <mat-select-trigger>\n        <i class=\"fas mr-2\"\n           [ngClass]=\"{'fa-align-left': viewMode === 'values', 'fa-chart-area': viewMode === 'graph'}\"></i>\n        <ng-container [ngSwitch]=\"true\">\n          <span *ngSwitchCase=\"currentPage === 'hyper-params' && viewMode === 'graph'\">Parallel Coordinates</span>\n          <span *ngSwitchCase=\"currentPage === 'scalars' && viewMode === 'graph'\">Graph</span>\n          <span *ngSwitchCase=\"currentPage === 'scalars' && viewMode === 'values' && queryParamsViewMode === 'values'\">Last Values</span>\n          <span *ngSwitchDefault>{{queryParamsViewMode || viewMode | noUnderscore | titlecase}}</span>\n        </ng-container>\n      </mat-select-trigger>\n      <mat-option value=\"values\" class=\"compare-mat-option\">\n        <i class=\"fas fa-align-left mr-2\"></i>\n        <span *ngIf=\"currentPage === 'scalars'\">Last Values</span>\n        <span *ngIf=\"currentPage !== 'scalars'\">Values</span>\n      </mat-option>\n      <mat-option *ngIf=\"currentPage === 'scalars'\" value=\"min_values\" class=\"compare-mat-option\">\n        <i class=\"fas fa-align-left mr-2\"></i>\n        Min Values\n      </mat-option>\n      <mat-option *ngIf=\"currentPage === 'scalars'\" value=\"max_values\" class=\"compare-mat-option\">\n        <i class=\"fas fa-align-left mr-2\"></i>\n        Max Values\n      </mat-option>\n      <mat-option value=\"graph\" class=\"compare-mat-option\">\n        <i class=\"fas fa-chart-area mr-2\"></i>\n        <span *ngIf=\"currentPage === 'hyper-params'\">Parallel Coordinates</span>\n        <span *ngIf=\"currentPage !== 'hyper-params'\">Graph</span>\n      </mat-option>\n    </mat-select>\n\n    <div id=\"nextDiff\"></div>\n\n    <mat-slide-toggle\n      *ngIf=\"['hyper-params', 'details'].includes(currentPage) && viewMode !== 'graph'\"\n      (change)=\"hideIdenticalFieldsToggled($event)\"\n      [checked]=\"selectHideIdenticalFields$ | async\">Hide Identical Fields\n    </mat-slide-toggle>\n\n  </div>\n\n  <div id=\"searchDiff\"></div>\n\n  <div class=\"settings\">\n\n    <sm-refresh-button\n      [autoRefreshState]=\"autoRefreshState$ | async\"\n      [allowAutoRefresh]=\"true\"\n      (refreshList)=\"refreshList($event)\"\n      (setAutoRefresh)=\"setAutoRefresh($event)\"\n      class=\"light-theme\"\n    >\n    </sm-refresh-button>\n  </div>\n</div>\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  OnDestroy,\n  OnInit,\n  Output\n} from '@angular/core';\nimport {MatSelectChange} from '@angular/material/select';\nimport {Store} from '@ngrx/store';\nimport {selectHideIdenticalFields, selectRefreshing} from '../../reducers';\nimport {interval, Observable, Subscription} from 'rxjs';\nimport {\n  refreshIfNeeded,\n  setHideIdenticalFields,\n  setNavigationPreferences,\n  setShowSearchExperimentsForCompare,\n  toggleShowScalarOptions\n} from '../../actions/compare-header.actions';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {selectRouterParams, selectRouterQueryParams, selectRouterUrl} from '../../../core/reducers/router-reducer';\nimport {get} from 'lodash/fp';\nimport {selectAppVisible, selectAutoRefresh} from '../../../core/reducers/view.reducer';\nimport {setAutoRefresh} from '../../../core/actions/layout.actions';\nimport {AUTO_REFRESH_INTERVAL} from '../../../../app.constants';\nimport {filter, withLatestFrom} from 'rxjs/operators';\nimport {MatSlideToggleChange} from '@angular/material/slide-toggle';\nimport {compareLimitations} from '../../../shared/entity-page/footer-items/compare-footer-item';\nimport {\n  allowAddExperiment$,\n  SelectExperimentsForCompareComponent\n} from '../../containers/select-experiments-for-compare/select-experiments-for-compare.component';\nimport {MatDialog} from \"@angular/material/dialog\";\n\n@Component({\n  selector: 'sm-experiment-compare-header',\n  templateUrl: './experiment-compare-header.component.html',\n  styleUrls: ['./experiment-compare-header.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ExperimentCompareHeaderComponent implements OnInit, OnDestroy {\n  private routerSubscription: Subscription;\n  private queryParamsSubscription: Subscription;\n  public selectHideIdenticalFields$: Observable<boolean>;\n\n  public selectRefreshing$: Observable<{ refreshing: boolean; autoRefresh: boolean }>;\n  public viewMode: string;\n  public currentPage: string;\n  public queryParamsViewMode: string;\n  public compareLimitations = compareLimitations;\n  public autoRefreshState$: Observable<boolean>;\n  public allowAddExperiment$: Observable<boolean>;\n  private autorRefreshSub: Subscription;\n  private showMenuSub: Subscription;\n\n  private isAppVisible$: Observable<boolean>;\n\n  @Output() selectionChanged = new EventEmitter<string[]>();\n\n  constructor(private store: Store<any>, private route: ActivatedRoute, private router: Router, private cdr: ChangeDetectorRef, private dialog: MatDialog) {\n    this.selectHideIdenticalFields$ = this.store.select(selectHideIdenticalFields);\n    this.selectRefreshing$ = this.store.select(selectRefreshing);\n    this.autoRefreshState$ = this.store.select(selectAutoRefresh);\n    this.isAppVisible$ = this.store.select(selectAppVisible);\n  }\n\n  ngOnInit() {\n    this.autorRefreshSub = interval(AUTO_REFRESH_INTERVAL).pipe(\n      withLatestFrom(this.autoRefreshState$, this.isAppVisible$),\n      filter(([, autoRefreshState, isAppVisible]) => autoRefreshState && isAppVisible)\n    ).subscribe(() => {\n      this.refreshList(true);\n    });\n    this.routerSubscription = this.store.select(selectRouterUrl).subscribe(() => {\n      this.currentPage = get('snapshot.firstChild.url[0].path', this.route);\n      this.viewMode = get('snapshot.firstChild.url[1].path', this.route);\n      this.cdr.detectChanges();\n    });\n\n    this.allowAddExperiment$ = allowAddExperiment$(this.store.select(selectRouterParams));\n\n    this.queryParamsSubscription = this.store.select(selectRouterQueryParams)\n      .subscribe((queryParams) => this.queryParamsViewMode = queryParams[this.currentPage]);\n  }\n\n  ngOnDestroy(): void {\n    this.routerSubscription.unsubscribe();\n    this.autorRefreshSub.unsubscribe();\n    this.showMenuSub?.unsubscribe();\n  }\n\n  refresh({isAutoRefresh}: { isAutoRefresh: boolean }) {\n    this.store.dispatch(refreshIfNeeded({payload: true, autoRefresh: isAutoRefresh}));\n  }\n\n  changeView($event: MatSelectChange) {\n    const queryParam = {[this.currentPage]: $event.value};\n    const page = $event.value.replace(/.*_/, '');\n    this.store.dispatch(setNavigationPreferences({navigationPreferences: queryParam}));\n    this.router.navigate([`./${this.currentPage}/${page}`], {\n      queryParams: queryParam,\n      relativeTo: this.route,\n      queryParamsHandling: 'merge'\n    });\n  }\n\n  openAddExperimentSearch() {\n    this.dialog.open(SelectExperimentsForCompareComponent, {\n      height: '100vh',\n      width: '100%',\n      maxWidth: '100%'\n    }).afterClosed().pipe(filter(ids => !!ids)).subscribe(ids => this.selectionChanged.emit(ids));\n  }\n\n  hideIdenticalFieldsToggled(event: MatSlideToggleChange) {\n    this.store.dispatch(setHideIdenticalFields({payload: event.checked}));\n  }\n\n  toggleSettings() {\n    this.store.dispatch(toggleShowScalarOptions());\n  }\n\n  refreshList(isAutorefresh: boolean) {\n    this.store.dispatch(refreshIfNeeded({payload: true, autoRefresh: isAutorefresh}));\n  }\n\n  setAutoRefresh($event: boolean) {\n    this.store.dispatch(setAutoRefresh({autoRefresh: $event}));\n  }\n\n  menuClosed() {\n    this.store.dispatch(setShowSearchExperimentsForCompare({payload: false}));\n  }\n}\n","import {ChangeDetectionStrategy, Component, OnDestroy, OnInit} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {selectRouterQueryParams} from '../core/reducers/router-reducer';\nimport {Subscription} from 'rxjs';\nimport {ActivatedRoute, Params, Router} from '@angular/router';\nimport {selectNavigationPreferences} from './reducers';\nimport {debounceTime} from 'rxjs/operators';\nimport {setNavigationPreferences} from './actions/compare-header.actions';\n\n@Component({\n  selector: 'sm-experiments-compare',\n  templateUrl: './experiments-compare.component.html',\n  styleUrls: ['./experiments-compare.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ExperimentsCompareComponent implements OnInit, OnDestroy {\n  private queryParams$: Subscription;\n  private navigationPreferences$: Subscription;\n  private queryParams: Params;\n\n  constructor(private store: Store<any>, private router: Router, private activatedRoute: ActivatedRoute) {\n    // updating URL with store query params\n    this.navigationPreferences$ = this.store.select(selectNavigationPreferences).pipe(debounceTime(10)).subscribe((queryParams) => {\n      this.router.navigate(\n        [],\n        {\n          relativeTo: this.activatedRoute,\n          queryParams,\n          queryParamsHandling: 'merge'\n        });\n    });\n\n    this.queryParams$ = this.store.select(selectRouterQueryParams).subscribe((queryParams) => this.queryParams = queryParams);\n  }\n\n  ngOnDestroy(): void {\n    this.queryParams$.unsubscribe();\n    this.navigationPreferences$.unsubscribe();\n  }\n\n  ngOnInit(): void {\n    // Update store with url query params on load\n    this.store.dispatch(setNavigationPreferences({navigationPreferences: this.queryParams}));\n  }\n\n  updateUrl(ids: string[]) {\n    this.router.navigate(\n      [{ids}],\n      {\n        relativeTo: this.activatedRoute\n      });\n  }\n}\n","<div class=\"experiment-compare-container light-theme\">\n  <nav class=\"d-flex justify-content-center\">\n    <span [routerLink]=\"['details']\" routerLinkActive #rlaDetails=\"routerLinkActive\" queryParamsHandling=\"preserve\">\n      <sm-navbar-item direction=\"bottom\" [header]=\"'details'\" [active]=\"rlaDetails.isActive\"></sm-navbar-item>\n    </span>\n    <span [routerLink]=\"['hyper-params/graph']\" routerLinkActive #rlaHyperParamsGraph=\"routerLinkActive\" queryParamsHandling=\"preserve\"></span>\n    <span [routerLink]=\"['hyper-params/values']\" routerLinkActive #rlaHyperParams=\"routerLinkActive\" queryParamsHandling=\"preserve\">\n      <sm-navbar-item direction=\"bottom\" [header]=\"'hyper parameters'\" [active]=\"rlaHyperParams.isActive || rlaHyperParamsGraph.isActive\"></sm-navbar-item>\n    </span>\n    <span [routerLink]=\"['scalars/values']\" routerLinkActive #rlaScalarsGraph=\"routerLinkActive\" queryParamsHandling=\"preserve\"></span>\n    <span [routerLink]=\"['scalars/graph']\" [queryParams]=\"{scalars: 'graph'}\" routerLinkActive #rlaScalars=\"routerLinkActive\" queryParamsHandling=\"merge\">\n      <sm-navbar-item [active]=\"rlaScalarsGraph.isActive || rlaScalars.isActive\" header=\"Scalars\" direction=\"bottom\"></sm-navbar-item>\n    </span>\n    <span [routerLink]=\"['metrics-plots']\" routerLinkActive #rlaPlots=\"routerLinkActive\" queryParamsHandling=\"preserve\">\n      <sm-navbar-item header=\"Plots\" [active]=\"rlaPlots.isActive\" direction=\"bottom\"></sm-navbar-item>\n    </span>\n    <span #rlaGeneral=\"routerLinkActive\" [routerLink]=\"['debug-images']\" routerLinkActive queryParamsHandling=\"preserve\">\n      <sm-navbar-item [active]=\"rlaGeneral.isActive\" header=\"Debug Samples\" direction=\"bottom\"></sm-navbar-item>\n    </span>\n  </nav>\n  <sm-experiment-compare-header\n    (selectionChanged)=\"updateUrl($event)\"\n  ></sm-experiment-compare-header>\n  <div class=\"experiment-compare-body\">\n    <router-outlet></router-outlet>\n  </div>\n</div>\n\n","import {TreeNode, TreeNodeMetadata} from '../shared/experiments-compare-details.model';\n\nexport type TreeNodeTransformerFn<T = any> = (node: any, key: string, path: Array<string>, extraParams: any) => T;\nexport type TreeNodeMetaTransformerFn = (node: any, key: string, path: Array<string>, extraParams: any) => TreeNodeMetadata;\n\nexport class TreeBuilderService {\n\n  constructor() {\n  }\n\n  buildTreeFromJson<V>(\n    obj: { [key: string]: any },\n    transformer: TreeNodeTransformerFn,\n    metaTransformer?: TreeNodeMetaTransformerFn,\n    transformerExtraParams?: any\n  ): TreeNode<V> {\n    const _metaTransformer = metaTransformer ? metaTransformer : () => ({classStyle: null});\n    return {\n      data    : <any>{},\n      metaData: <any>{},\n      parent  : null,\n      children: isObject(obj) ?\n        this.buildTreeFromJsonRec(obj, transformer, _metaTransformer, transformerExtraParams) :\n        null\n    };\n  }\n\n  private buildTreeFromJsonRec<V>(obj: { [key: string]: any },\n    transformer: TreeNodeTransformerFn<V>,\n    metaTransformer: TreeNodeMetaTransformerFn,\n    transformerExtraParams?: any,\n    level            = 0,\n    parent: TreeNode<V> = null,\n    path             = [],\n  ): Array<TreeNode<V>> {\n    return Object.keys(obj).reduce<Array<TreeNode<V>>>((accumulator, key) => {\n      const _path          = path.concat([key]);\n      const node: TreeNode<V> = {\n        data    : transformer(obj, key, path, transformerExtraParams),\n        metaData: metaTransformer(obj, key, path, transformerExtraParams),\n        parent  : parent\n      };\n      const value          = obj[key];\n      if (value != null) {\n        if (typeof value === 'object' ) {\n          node.children = this.buildTreeFromJsonRec(\n            <any>value, transformer, metaTransformer, transformerExtraParams, level + 1, node, _path\n          );\n        }\n      }\n      accumulator.push(node);\n      return accumulator;\n    }, []);\n  }\n}\n\n// TODO: move to utils.\nfunction isObject(val) {\n  return val && typeof val === 'object';\n}\n\nexport const treeBuilderService = new TreeBuilderService();\n\n","import { EXPERIMENTS_TABLE_COL_FIELDS } from \"../../features/experiments/shared/experiments.const\";\nimport {ColHeaderFilterTypeEnum, ColHeaderTypeEnum, ISmCol} from \"../shared/ui-components/data/table/table.consts\";\n\nexport const RENAME_MAP = {\n  'network_design': 'Network Design',\n  'uncommitted_changes': 'Uncommitted Changes',\n  'installed_packages': 'Installed Packages',\n  'setup_shell_script': 'Setup Shell Script',\n  ' input models': 'Input Models',\n  ' output models': 'Output Models',\n  'model': 'Model',\n  'source': 'Source',\n  ' default': 'Default',\n  'augmentation': 'Augmentation',\n  'filtering': 'Filtering',\n  'iteration': 'Iteration',\n  'labels_enumeration': 'Labels Enumeration',\n  'mapping': 'Mapping',\n  'view': 'View',\n  '_legacy': 'General',\n  'container': 'Container'\n};\n\nexport const MAX_ROWS_FOR_SMART_COMPARE_ARRAYS = 20000;\nexport const COMPARE_DETAILS_ONLY_FIELDS_BASE = [\n  'id',\n  'name',\n  'type',\n  'status',\n  'last_update',\n  'project.name',\n  'models.input.name',\n  'models.output.name',\n  'models.output.model.name',\n  'models.output.model.uri',\n  'models.output.model.framework',\n  'models.output.model.design',\n  'models.input.name',\n  'models.input.model.name',\n  'models.input.model.uri',\n  'models.input.model.framework',\n  'models.input.model.labels',\n  'models.input.model.design',\n  'execution.artifacts',\n  'container',\n  'script',\n  'tags',\n  'published',\n  'last_iteration',\n  'configuration'\n];\nexport const ADD_EXPERIMENT_FOR_COMPARE_TABLE_COLS: ISmCol[] = [\n  {\n    id              : EXPERIMENTS_TABLE_COL_FIELDS.SELECTED,\n    sortable        : false,\n    filterable      : false,\n    headerType      : ColHeaderTypeEnum.checkBox,\n    header          : '',\n    hidden          : false,\n    static          : true,\n    bodyStyleClass  : 'selected-col-body type-col',\n    headerStyleClass: 'selected-col-header',\n    style           : {width: '50px'},\n    disableDrag     : true,\n    disablePointerEvents: true\n  },\n  {\n    id            : EXPERIMENTS_TABLE_COL_FIELDS.TYPE,\n    headerType    : ColHeaderTypeEnum.sortFilter,\n    sortable      : false,\n    filterable    : false,\n    static        : true,\n    header        : 'TYPE',\n    bodyStyleClass: 'type-col',\n    style         : {width: '115px'},\n  },\n  {\n    id          : EXPERIMENTS_TABLE_COL_FIELDS.NAME,\n    headerType  : ColHeaderTypeEnum.sortFilter,\n    sortable    : false,\n    static      : true,\n    header      : 'NAME',\n    style       : {width: '400px'},\n  },\n  {\n    id: EXPERIMENTS_TABLE_COL_FIELDS.TAGS,\n    headerType      : ColHeaderTypeEnum.sortFilter,\n    filterable: false,\n    searchableFilter: false,\n    sortable: false,\n    static: true,\n    header: 'TAGS',\n    style: {width: '300px'},\n    andFilter: true\n  },\n  {\n    id          : EXPERIMENTS_TABLE_COL_FIELDS.STATUS,\n    headerType  : ColHeaderTypeEnum.sortFilter,\n    filterable  : false,\n    static      : false,\n    header      : 'STATUS',\n    style       : {width: '115px'},\n  },\n  {\n    id          : EXPERIMENTS_TABLE_COL_FIELDS.PROJECT,\n    headerType  : ColHeaderTypeEnum.title,\n    static      : true,\n    header      : 'PROJECT',\n    style       : {width: '150px'},\n  },\n  {\n    id              : EXPERIMENTS_TABLE_COL_FIELDS.USER,\n    getter          : 'user.name',\n    headerType      : ColHeaderTypeEnum.sortFilter,\n    searchableFilter: false,\n    filterable      : false,\n    sortable        : false,\n    static          : true,\n    header          : 'USER',\n    style           : {width: '115px'},\n  },\n  {\n    id          : EXPERIMENTS_TABLE_COL_FIELDS.STARTED,\n    headerType  : ColHeaderTypeEnum.sortFilter,\n    sortable  : false,\n    filterType    : ColHeaderFilterTypeEnum.durationDate,\n    filterable: false,\n    searchableFilter: false,\n    static        : true,\n    header      : 'STARTED',\n    style       : {width: '150px'},\n  },\n  {\n    id          : EXPERIMENTS_TABLE_COL_FIELDS.LAST_UPDATE,\n    headerType  : ColHeaderTypeEnum.sortFilter,\n    sortable  : false,\n    filterType    : ColHeaderFilterTypeEnum.durationDate,\n    filterable: false,\n    searchableFilter: false,\n    static        : true,\n    header      : 'UPDATED',\n    label       : 'Updated',\n    style       : {width: '150px'},\n  },\n  {\n    id          : EXPERIMENTS_TABLE_COL_FIELDS.LAST_ITERATION,\n    headerType  : ColHeaderTypeEnum.sortFilter,\n    sortable    : false,\n    filterType    : ColHeaderFilterTypeEnum.durationNumeric,\n    filterable  : false,\n    searchableFilter: false,\n    static        : true,\n    header      : 'ITERATION',\n    label       : 'Iterations:',\n    style       : {width: '115px'},\n  },\n  {\n    id        : EXPERIMENTS_TABLE_COL_FIELDS.COMMENT,\n    headerType: ColHeaderTypeEnum.sortFilter,\n    sortable  : false,\n    header    : 'DESCRIPTION',\n    style     : {width: '300px'}\n  },\n  {\n    id        : EXPERIMENTS_TABLE_COL_FIELDS.ACTIVE_DURATION,\n    headerType: ColHeaderTypeEnum.sortFilter,\n    sortable  : false,\n    filterable: false,\n    filterType    : ColHeaderFilterTypeEnum.duration,\n    searchableFilter: false,\n    static        : true,\n    bodyStyleClass: 'type-col',\n    header    : 'RUN TIME',\n    style     : {width: '150px'}\n  },\n  {\n    id        : EXPERIMENTS_TABLE_COL_FIELDS.PARENT,\n    getter    : [EXPERIMENTS_TABLE_COL_FIELDS.PARENT, 'parent.project.id', 'parent.project.name'],\n    headerType: ColHeaderTypeEnum.sortFilter,\n    searchableFilter: false,\n    filterable      : false,\n    sortable        : false,\n    header    : 'PARENT TASK',\n    style     : {width: '200px'}\n  }\n];\n","import {get, has, isArray, isEqual, mergeWith, isUndefined} from 'lodash/fp';\nimport {IExperimentDetail} from '../../features/experiments-compare/experiments-compare-models';\nimport {treeBuilderService} from './services/tree-builder.service';\nimport {TreeNode} from './shared/experiments-compare-details.model';\nimport {getAlternativeConvertedExperiment, getDisplayTextForTitles} from '../../features/experiments-compare/experiment-compare-utils';\nimport {ConfigurationItem} from '../../business-logic/model/tasks/configurationItem';\nimport * as Diff from 'diff';\nimport {MAX_ROWS_FOR_SMART_COMPARE_ARRAYS} from './experiments-compare.constants';\n\nexport interface TreeNodeJsonData {\n  key: string;\n  value: any;\n  path: string;\n  existOnOrigin: boolean;\n  existOnCompared: boolean;\n  isValueEqualToOrigin: boolean;\n  isArray: boolean;\n  classStyle: string;\n  tooltip: string\n}\n\nfunction arrayOrderIsNotImportant(key) {\n  // List of fields with order important\n  return !['augmentation', 'mapping', 'network_design', 'file content', 'preview'].includes(key);\n}\n\nexport function isArrayOrderNotImportant(val, key, allExperiments = []) {\n  const allIsOne = allExperiments.every(experiment => experiment && experiment[key] && experiment[key].length === 1);\n  return Array.isArray(val) && !allIsOne && (arrayOrderIsNotImportant(key));\n}\n\nfunction customMergeStrategyForArrays(objValue, srcValue, key) {\n  if (isArrayOrderNotImportant(objValue, key)) {\n    return objValue.concat(srcValue);\n  }\n}\n\nfunction isObject(val) {\n  return val && typeof val === 'object';\n}\n\n\nfunction convertToHashItem(item, originItem, path) {\n  const itemHash = getDisplayTextForTitles(item, path);\n  const convertedItemHash = (originItem && isArray(originItem) && originItem.map(element => getDisplayTextForTitles(element, path)).includes(itemHash) ? 'a_hash_' : 'hash_') + itemHash;\n  return convertedItemHash;\n}\n\nfunction convertInstalledPackages(installedPackages: string[]): { [dependecy: string]: string } {\n  if (!installedPackages) {\n    return {};\n  }\n  return Array.isArray(installedPackages) ? installedPackages.reduce((acc, curr) => {\n    const [key, value] = curr.split(/ *== */);\n    // TODO: What happen when duplicate key/dependency\n    acc[`hash_${key}`] = `${key} : ${value || ''}`;\n    return acc;\n  }, {}) : installedPackages;\n}\n\nexport const mutedArray = (\n  array: string[],\n  changes: { [index: number]: number }\n) => {\n  Object.keys(changes)\n    .sort((a, b) => (a > b ? -1 : 1))\n    .forEach((index) => {\n      const amount = changes[index];\n\n      for (let i = 0; i < amount; i++) {\n        array.splice(+index, 0, undefined);\n      }\n    });\n\n  return array;\n};\n\ninterface DiffArraysReturnInterface {\n  base: string[];\n  compared: string[];\n  changes: {\n    base: { [index: string]: number };\n    compare: { [index: string]: number };\n  };\n}\n\nexport function diffArrays<T extends string[]>(compare: T, baseCompare: T): DiffArraysReturnInterface {\n  const base = [];\n  const compared = [];\n  let diff;\n\n  if (baseCompare.length === 0) {\n    diff = [{added: undefined, count: compare.length, removed: true, value: compare}];\n  } else if (compare.length === 0) {\n    diff = [{removed: undefined, count: baseCompare.length, added: true, value: compare}];\n  } else {\n    diff = Diff.diffArrays(compare, baseCompare);\n  }\n  const changes = {base: {}, compare: {}};\n\n  const setLengthsAndChanges = () => {\n    const baseLength = base.length;\n    const comparedLength = compared.length;\n\n    const max = Math.max(base.length, compared.length);\n\n    base.length = max;\n    compared.length = max;\n\n    if (max - baseLength) {\n      changes.base[baseLength] = max - baseLength;\n    }\n\n    if (max - comparedLength) {\n      changes.compare[comparedLength] = max - comparedLength;\n    }\n  };\n\n  diff.forEach((part) => {\n    // added is for the base\n    // remove for the compared one!\n    if (!part.added && !part.removed) {\n      // they are the same for both\n      setLengthsAndChanges();\n      base.push(...part.value);\n      compared.push(...part.value);\n    } else if (part.removed) {\n      // only in the base\n      base.push(...part.value);\n    } else if (part.added) {\n      // only in the compare\n      compared.push(...part.value);\n    }\n  });\n\n  setLengthsAndChanges();\n\n  return {base, compared, changes};\n}\n\n\nfunction convertnetworkDesign(networkDesign: string): any {\n  if (!networkDesign) {\n    return [];\n  }\n  if (typeof networkDesign !== 'string') {\n    return networkDesign;\n  }\n  return networkDesign;\n  // try {\n  //   return hoconParser(networkDesign);\n  // } catch (e) {\n  //   console.log('Network design parsing error: ', e);\n  //   return networkDesign;\n  // }\n}\n\nfunction convertUncommittedChanges(diff: string[]): { [files: string]: string[] } {\n  if (!diff) {\n    return {};\n  }\n  let currKey = null;\n  return Array.isArray(diff) ? diff.reduce((acc, curr, i) => {\n    const newFileDiff = curr.startsWith('diff --git');\n    if (newFileDiff) {\n      currKey = curr;\n      acc[curr] = [];\n    } else {\n      if (currKey === null) {\n        if (curr.startsWith('** Content is too large to display.')) {\n          acc['a_hash_'] = curr;\n        } else {\n          // Hope there won't be a million rows diff\n          acc[`hash_${i.toString().padStart(6, '0')}`] = curr;\n        }\n      } else {\n        acc[currKey].push(curr);\n      }\n    }\n    return acc;\n  }, {}) : diff;\n}\n\nfunction convertHyperParams(hyperParams: { [section: string]: { [name: string]: any } }, originHyperParams): { [section: string]: { [name: string]: any } } {\n  if (!hyperParams) {\n    return {};\n  }\n\n  if (isParamsConverted(hyperParams)) {\n    return hyperParams;\n  }\n\n  return Object.entries(hyperParams).reduce((result, [sectionName, section]) => {\n    result[sectionName] = Object.entries(section).reduce((acc, [paramName, param]) => {\n      const hasInOrigin = has(`${sectionName}.${paramName}`, originHyperParams);\n      acc[(hasInOrigin ? ' ' : '') + paramName] = param.value;\n      return acc;\n    }, {});\n    return result;\n  }, {});\n}\n\nfunction convertConfiguration(confParams: { [name: string]: ConfigurationItem }, originConfParams): { [name: string]: string | string[] } {\n  if (!confParams) {\n    return {};\n  }\n\n  return Object.entries(confParams).reduce((acc, [paramName, {value}]) => {\n    const hasInOrigin = has(paramName, originConfParams.configuration);\n    acc[(hasInOrigin ? ' ' : '') + paramName] = value ? value.split('\\n') : undefined;\n    return acc;\n  }, {});\n}\n\n/**\n * @description Remove undefineds from the end to start util we have defined value\n * @example removeUndefinedFromBackwardUtilValue( [\n *                                                 [1,2,3,undefined,undefined,undefined],\n *                                                 [undefined,undefined,1]\n *                                                ]) =>\n *                                                      [[1,2,3], [undefined,undefined,1]]\n */\nfunction removeUndefinedFromBackwardUtilValue<T extends unknown[]>(_values: T[]): T[] {\n  return _values.map(newValue => {\n    for (let i = newValue.length - 1; i >= 0; i--) {\n      if (isUndefined(newValue[i])) {\n        newValue.pop();\n      } else {\n        return newValue;\n      }\n    }\n    return newValue;\n  });\n}\n\n/**\n * @description\n * Remove duplicated changes for specific change\n * @example removeDuplicated(\n * [\n *  {changes: {base: {1: 2, 0:1}, compare: {1: 2, 0:3}}},\n *  {changes: {base: {1: 3, 0:1}, compare: {1: 2, 0:3}}}\n * ], 'base')      =>     [\n *                          {changes: {base: {1: undefined, 0:1}        , compare: {1: 1, 0:3}}},\n *                          {changes: {base: {1: 1        , 0:undefined}, compare: {1: 1, 0:3}}}\n *                        ]\n * @param compareValues\n * @param change\n */\nexport function removeDuplicated<T extends DiffArraysReturnInterface>(compareValues: T[], change: 'base' | 'compare'): T[] {\n  compareValues.map(c => c.changes[change]).forEach((data, index) => {\n    for (let i = 0; i < compareValues.length; i++) {\n      if (index !== i) {\n        // make sure we are not on the same object\n\n        Object.entries(data).forEach(([position, amount]) => {\n          const _changes = compareValues[i].changes[change];\n\n          // they are the same -> remove it from current\n          if (_changes[position]) {\n            if (_changes[position] === amount) {\n              data[position] = 0;\n            }\n\n            // current is greater then another one -> minus them and the another one remove\n            else if (_changes[position] > amount) {\n              _changes[position] = _changes[position] - amount;\n              data[position] = undefined;\n            } else {\n              //  another one is greater then current -> minus them and the current one remove\n              data[position] = amount - _changes[position];\n              _changes[position] = undefined;\n            }\n          }\n        });\n      }\n    }\n  }, []);\n  return compareValues;\n}\n\nexport function compareArrayOfStrings<T extends Array<string[]>>(values: T): T {\n  const _values = values.map(v => v.filter(v => !isUndefined(v)));\n\n  let mutedValues = [] as T;\n  let compareValuesFromBaseToRest = [] as DiffArraysReturnInterface[];\n  const compareValuesBetweenTheRest = [] as DiffArraysReturnInterface[];\n\n  _values.forEach((experiment, index) => {\n    const isNotLastIndex = index < _values.length - 1;\n\n    // compare the base array to the rest\n    if (isNotLastIndex) {\n      compareValuesFromBaseToRest.push(\n        diffArrays(\n          _values[0],\n          _values[index + 1]\n        )\n      );\n    }\n\n    // compare the rest of the arrays to the rest (and not the base)\n    if (isNotLastIndex && index > 0) {\n      compareValuesBetweenTheRest.push(\n        diffArrays(\n          _values[index],\n          _values[index + 1]\n        )\n      );\n    }\n  });\n\n  // remove duplicated changes if the base/compare are the same;\n  compareValuesFromBaseToRest = removeDuplicated(compareValuesFromBaseToRest, 'base');\n  compareValuesFromBaseToRest = removeDuplicated(compareValuesFromBaseToRest, 'compare');\n\n  // compare base vs rest AND muted the values !!!\n  compareValuesFromBaseToRest.forEach((compare, index) => {\n    mutedValues[0] = mutedArray(_values[0], compare.changes.base);\n    mutedValues[index + 1] = mutedArray(_values[index + 1], compare.changes.compare);\n  });\n\n  // remove unneeded undefined from the end\n  mutedValues = removeUndefinedFromBackwardUtilValue(mutedValues) as T;\n\n  // compare base vs rest the _muted_ values and muted AGAIN!\n  compareValuesFromBaseToRest.forEach((_, index) => {\n    const diff = diffArrays(\n      mutedValues[0],\n      mutedValues[index + 1]\n    );\n    mutedValues[0] = mutedArray(_values[0], diff.changes.base);\n    mutedValues[index + 1] = mutedArray(_values[index + 1], diff.changes.compare);\n  });\n\n  // remove undefined from end to start untill we have\n  return removeUndefinedFromBackwardUtilValue(mutedValues) as T;\n}\n\nexport function convertConfigurationFromExperiments<T extends Array<IExperimentDetail>>(experiments: T, originalExperiments: Record<string, IExperimentDetail>): T {\n  const data = experiments.map(experiment => originalExperiments[experiment.id]?.configuration?.General?.value.split('\\n') || []) || [];\n  if (data.some(experimentData => experimentData.length > MAX_ROWS_FOR_SMART_COMPARE_ARRAYS)) {\n    return experiments;\n  }\n  const values = compareArrayOfStrings(data);\n  experiments.forEach((experiment, index) => {\n    if (' General' in experiment.configuration) {\n      experiment.configuration[' General'] = values[index] as any;\n    } else {\n      experiment.configuration['General'] = values[index] as any;\n    }\n  });\n  return experiments;\n}\n\nexport function convertContainerScriptFromExperiments<T extends Array<IExperimentDetail>>(experiments: T, originalExperiments: Record<string, IExperimentDetail>): T {\n  const data = experiments.map(experiment => originalExperiments[experiment.id]?.execution?.container?.setup_shell_script);\n  if (data.some(experimentData => experimentData.length > MAX_ROWS_FOR_SMART_COMPARE_ARRAYS)) {\n    return experiments;\n  }\n  const values = compareArrayOfStrings(data);\n  experiments.forEach((experiment, index) => experiment.execution.container.setup_shell_script = values[index]);\n  return experiments;\n}\n\nexport function convertNetworkDesignFromExperiments<T extends IExperimentDetail>(experiments: T[], originalExperiments: Record<string, IExperimentDetail>): T[] {\n  const addValuesToNetworkDesign = (model: ' input models' | ' output models', key: string) => {\n\n    const modelNetworkDesignData = experiments.map(experiment => {\n      const values = (get([experiment.id, 'artifacts', model, key, 'network_design'], originalExperiments) || []);\n      return Array.isArray(values) ? values : [];\n    }) as Array<string[]>;\n\n    if (modelNetworkDesignData.some(experimentData => experimentData.length > MAX_ROWS_FOR_SMART_COMPARE_ARRAYS)) {\n      return experiments;\n    }\n    const inputModelNetworkDesignValues = compareArrayOfStrings(modelNetworkDesignData);\n\n    experiments.forEach((experiment, index) => {\n      if (experiment.artifacts[model].hasOwnProperty(key)) {\n        experiment.artifacts[model][key].network_design = inputModelNetworkDesignValues[index];\n      }\n    });\n  };\n\n  const inputModelKeys = Array.from(new Set(Object.values(originalExperiments).map(exp => [...Object.keys(exp.artifacts[' input models'])]).flat()));\n  const outputModelKeys = Array.from(new Set(Object.values(originalExperiments).map(exp => [...Object.keys(exp.artifacts[' output models'])]).flat()));\n  inputModelKeys.forEach(key => addValuesToNetworkDesign(' input models', key));\n  outputModelKeys.forEach(key => addValuesToNetworkDesign(' output models', key));\n  return experiments;\n}\n\nexport function convertExperimentsArrays(experiment, origin, experiments, path = ''): IExperimentDetail {\n  const convertedExperiment: IExperimentDetail = {};\n  let counter = 9999;\n  Object.keys(experiment).forEach(key => {\n      const newPath = `${path}.${key}`;\n      switch (key) {\n        case 'installed_packages':\n          convertedExperiment[key] = convertInstalledPackages(experiment[key]);\n          break;\n        case 'network_design':\n          convertedExperiment[key] = convertnetworkDesign(experiment[key]);\n          break;\n        case 'uncommitted_changes':\n          convertedExperiment[key] = convertUncommittedChanges(experiment[key]);\n          break;\n        case 'tags':\n          convertedExperiment[key] = experiment[key];\n          break;\n        case 'configuration':\n          convertedExperiment[key] = convertConfiguration(experiment[key], origin) as { [key: string]: ConfigurationItem };\n          break;\n        case 'setup_shell_script':\n          convertedExperiment[key] = experiment[key];\n          break;\n        default:\n          const alternativeConvertedExperiment = getAlternativeConvertedExperiment(newPath, experiment[key]);\n          if (alternativeConvertedExperiment) {\n            convertedExperiment[key] = alternativeConvertedExperiment;\n          } else if (isObject(experiment[key]) && (!isArrayOrderNotImportant(experiment[key], key, experiments))) {\n            let newKey = getDisplayTextForTitles(experiment[key], newPath) || key;\n\n            // Makes base/origin rows first\n            if (origin && Array.isArray(origin) && origin.map(item => getDisplayTextForTitles(item, newPath)).includes(newKey)) {\n              newKey = `0${newKey}`;\n            }\n            convertedExperiment[newKey] = convertExperimentsArrays(experiment[key], origin ? origin[key] : null, experiments.map(exp => exp ? exp[key] : null), newPath);\n          } else if (isArrayOrderNotImportant(experiment[key], key, experiments)) {\n            const hashedObj = {};\n            const currentIndex = path.split(/\\.([0-9]+)$/)[1];\n            experiment[key].forEach(item => {\n              let convertedItemHash = convertToHashItem(item, origin && (Array.isArray(origin) ? (origin.map(item => item[key]) as any).flat() : origin[key][currentIndex]), newPath);\n              if (hashedObj[convertedItemHash]) {\n                convertedItemHash = `${counter}${convertedItemHash}`;\n                counter--;\n              }\n              if (isObject(item)) {\n                hashedObj[convertedItemHash] =\n                  convertExperimentsArrays(item, origin ? origin[key] : null, experiments.map(exp => exp ? exp[key] : null), newPath);\n              } else {\n                hashedObj[convertedItemHash] = item;\n              }\n            });\n            convertedExperiment[key] = hashedObj;\n          } else {\n            convertedExperiment[key] = experiment[key];\n          }\n      }\n    }\n  );\n  return convertedExperiment;\n}\n\nexport function convertExperimentsArraysParams(experiment, origin): IExperimentDetail {\n  return Object.keys(experiment).reduce((acc, key) => {\n    acc[key] = key === 'hyperparams' ? convertHyperParams(experiment[key], origin.hyperparams) : experiment[key];\n    return acc;\n  }, {} as IExperimentDetail);\n}\n\nfunction abSort(obj) {\n  return Object.keys(obj).sort(function (a, b) {\n      return a.toLowerCase().localeCompare(b.toLowerCase());\n    }\n  );\n}\n\nfunction sortObject(obj, origin, parentKey: string) {\n  const orderedObj = {};\n  abSort(obj).forEach(key => {\n    if (isObject(obj[key]) || isArrayOrderNotImportant(obj[key], parentKey)) {\n      orderedObj[key] = sortObject(obj[key], origin ? origin[key] : null, key);\n    } else {\n      orderedObj[key] = obj[key];\n    }\n  });\n  return orderedObj;\n}\n\nexport function isDetailsConverted(exp) {\n  return exp.execution?.installed_packages && !Array.isArray(exp.execution?.installed_packages);\n}\n\nexport function isParamsConverted(hyperparams) {\n  const firstKey = hyperparams && Object.keys(hyperparams)[0];\n  const firstParam = firstKey && Object.values(hyperparams[firstKey])[0];\n  return typeof firstParam === 'string';\n}\n\nexport function getAllKeysEmptyObject(jsons) {\n  let obj = {};\n  jsons.forEach(json => obj = mergeWith(customMergeStrategyForArrays, obj, json));\n  const sortedObject = sortObject(obj, jsons[0], '');\n  return sortedObject;\n}\n\nexport function createDiffObjectScalars(AllKeysObject, originObject?, comparedObject?, metaTransformerFunction?, originPath?): Array<TreeNode<TreeNodeJsonData>> {\n  return treeBuilderService.buildTreeFromJson<TreeNodeJsonData>(AllKeysObject, (data, key, path) => {\n\n    const originData = path.length === 0 ? originObject : get(path, originObject);\n    const comparedData = path.length === 0 ? comparedObject : get(path, comparedObject);\n    const originPartial = get(key, originData);\n    const comparedPartial = get(key, comparedData);\n    const existOnOrigin = originData && has(key, originData);\n    const existOnCompared = comparedData && has(key, comparedData);\n\n    return {\n      key,\n      path,\n      existOnOrigin,\n      existOnCompared,\n      value: comparedPartial,\n      isValueEqualToOrigin: (existOnOrigin === existOnCompared) && isEqual(originPartial, comparedPartial),\n      isArray: isArrayOrderNotImportant(comparedPartial, key),\n      originPath,\n      fullPath: originPath.concat(path).concat(key)\n    };\n  }, metaTransformerFunction || null, {comparedObject, originPath, originObject}).children;\n}\n","export function getDisplayTextForTitles(item, path): string {\n  return null;\n}\n\nexport const getAlternativeConvertedExperiment = (newPath, data) => false;\n","import * as detailsActions from '../actions/experiments-compare-details.actions';\nimport * as paramsActions from '../actions/experiments-compare-params.actions';\nimport {ExperimentCompareTree, ExperimentCompareTreeSection, IExperimentDetail} from '../../../features/experiments-compare/experiments-compare-models';\nimport {get, has, isEmpty, isEqual} from 'lodash/fp';\nimport {treeBuilderService} from '../services/tree-builder.service';\nimport {isArrayOrderNotImportant} from '../jsonToDiffConvertor';\nimport {ExperimentParams, TreeNode, TreeNodeMetadata} from '../shared/experiments-compare-details.model';\nimport {MatTreeFlatDataSource, MatTreeFlattener} from '@angular/material/tree';\nimport {activeLoader, addMessage, deactivateLoader} from '../../core/actions/layout.actions';\nimport {ChangeDetectorRef, OnDestroy, QueryList, ViewChildren, Directive} from '@angular/core';\nimport {ExperimentCompareDetailsBase} from '../../../features/experiments-compare/experiments-compare-details.base';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {select, Store} from '@ngrx/store';\nimport {IExperimentInfoState} from '../../../features/experiments/reducers/experiment-info.reducer';\nimport {Observable, Subscription} from 'rxjs';\nimport {FlatTreeControl} from '@angular/cdk/tree';\nimport {CdkVirtualScrollViewport} from '@angular/cdk/scrolling';\nimport {selectRouterParams} from '../../core/reducers/router-reducer';\nimport {distinctUntilChanged, filter, map, tap} from 'rxjs/operators';\nimport {selectHideIdenticalFields, selectRefreshing} from '../reducers';\nimport {refetchExperimentRequested} from '../actions/compare-header.actions';\nimport {RENAME_MAP} from '../experiments-compare.constants';\nimport {selectHasDataFeature} from '../../../core/reducers/users.reducer';\nimport {ListRange} from '@angular/cdk/collections';\n\nexport type NextDiffDirectionEnum = 'down' | 'up';\n\nexport interface FlatNode {\n  data: any;\n  metaData: TreeNodeMetadata;\n  level: number;\n  parent: TreeNode<any>;\n  hasChildren: boolean;\n}\n\n@Directive()\nexport abstract class ExperimentCompareBase extends ExperimentCompareDetailsBase implements OnDestroy {\n  public hasDataFeature$: Observable<boolean>;\n  private hasDataFeature: boolean;\n\n  public renameMap = RENAME_MAP;\n  public experiments$: Observable<any[]>;\n  public taskIds$: Observable<string>;\n\n  public routerParamsSubscription: Subscription;\n  public experimentsSubscription: Subscription;\n  public hideIdenticalFieldsSub: Subscription;\n  public refreshingSubscription: Subscription;\n  private scrollSubscription: Subscription[];\n\n  public tree: ExperimentCompareTree = {};\n  public experiments: Array<IExperimentDetail>;\n  public originalExperiments: { [id: string]: IExperimentDetail | ExperimentParams } = {};\n  public allPathsDiffs: any = {};\n  public selectedPath: string = null;\n  private selectedPathIndex: number = -1;\n  public onlyDiffsPaths: string[];\n\n  public allPaths: any = {};\n  public calculatingTree: boolean;\n  public hideIdenticalFields = false;\n  public experimentsDataControl: { [key: string]: [MatTreeFlatDataSource<TreeNode<any>, FlatNode>, FlatTreeControl<FlatNode>, FlatNode[]] } = {};\n  public compareTabPage: string;\n  public foundPaths: string[] = [];\n  public foundIndex: number = 0;\n  public searchText = '';\n  public experimentsDataSources: { [id: string]: { all: any; onlyDiffs: any } } = {};\n  public previousOpenPaths: string[] = [];\n  public experimentTags: { [experimentId: string]: string[] } = {};\n  private timeoutIndex: number;\n  private originalScrolledElement: EventTarget;\n  private taskIds: string;\n\n  get baseExperiment(): IExperimentDetail {\n    return get('[0]', this.experiments);\n  }\n\n  @ViewChildren('virtualScrollRef') virtualScrollRef: QueryList<CdkVirtualScrollViewport>;\n\n\n  constructor(public router: Router,\n              public store: Store<IExperimentInfoState>,\n              public changeDetection: ChangeDetectorRef,\n              public activeRoute: ActivatedRoute) {\n    super();\n    this.hasDataFeature$ = this.store.pipe(select(selectHasDataFeature));\n\n    this.taskIds$ = this.store.pipe(\n      select(selectRouterParams),\n      map(params => get('ids', params)),\n      distinctUntilChanged(),\n      tap(taskIds => this.taskIds = taskIds),\n      filter(taskIds => !!taskIds && taskIds !== this.getExperimentIdsParams(this.experiments))\n    );\n  }\n\n  onInit() {\n    // todo: remove this\n    this.compareTabPage = get('snapshot.routeConfig.data.mode', this.activeRoute);\n\n    this.hideIdenticalFieldsSub = this.store.select(selectHideIdenticalFields).subscribe(hide => {\n      this.hideIdenticalFields = hide;\n\n      Object.keys(this.experimentsDataControl).forEach(id => {\n        const [dataSource, treeControl] = this.experimentsDataControl[id];\n        const expandedPaths = treeControl.expansionModel.selected.map(node => node.data.path);\n        dataSource.data = this.experimentsDataSources[id][this.hideIdenticalFields ? 'onlyDiffs' : 'all'];\n        const expandedDataNodes = treeControl.dataNodes.filter(node => node.hasChildren).filter(node => expandedPaths.includes(node.data.path));\n        treeControl.expansionModel.select(...expandedDataNodes);\n      });\n      this.find(this.searchText);\n    });\n\n    this.refreshingSubscription = this.store.pipe(select(selectRefreshing))\n      .pipe(filter(({refreshing}) => refreshing))\n      .subscribe(({autoRefresh}) => this.store.dispatch(refetchExperimentRequested({autoRefresh})));\n\n    this.hideIdenticalFieldsSub.add(this.hasDataFeature$.subscribe(hasData => this.hasDataFeature = hasData));\n\n  }\n\n  ngOnDestroy(): void {\n    this.store.dispatch(detailsActions.resetState());\n    this.store.dispatch(paramsActions.resetState());\n    this.routerParamsSubscription.unsubscribe();\n    this.experimentsSubscription.unsubscribe();\n    this.hideIdenticalFieldsSub.unsubscribe();\n    this.refreshingSubscription.unsubscribe();\n  }\n\n  calculateTree(experiments) {\n    this.calculatingTree = true;\n    this.store.dispatch(activeLoader('CALCULATING_DIFF_TREE'));\n    this.changeDetection.detectChanges();\n\n    setTimeout(() => {\n      const experimentTrees = this.buildCompareTree(experiments, this.hasDataFeature);\n      this.tree = experimentTrees;\n      this.clearRemovedExperiment(experiments);\n\n      const treeFlattener = new MatTreeFlattener<TreeNode<any>, FlatNode>(\n        this.nodeTransformer,\n        this.getNodeLevel,\n        this.getIsNodeExpandable,\n        this.getNodeChildren\n      );\n      const expandedsPaths = this.getExpandedPath(experimentTrees);\n\n      Object.keys(experimentTrees).forEach(experimentID => {\n        const sectionTree = experimentTrees[experimentID];\n        let root = Object.keys(sectionTree).map((section: string) => sectionTree[section].children[0]);\n        if (this.compareTabPage === 'hyper-params') {\n          root = root[0].children;\n        }\n        const rootOnlyDiffs = this.filterTreeDiffs(root);\n        const treeControl: FlatTreeControl<FlatNode> = new FlatTreeControl<FlatNode>(this.getNodeLevel, this.getIsNodeExpandable);\n        const dataSource: MatTreeFlatDataSource<TreeNode<any>, FlatNode> = new MatTreeFlatDataSource(treeControl, treeFlattener);\n\n        dataSource.connect({viewChange: new Observable<ListRange>()}).subscribe((nodes: FlatNode[]) =>\n          this.experimentsDataControl[experimentID] = [dataSource, treeControl, nodes]\n        );\n\n        this.experimentsDataControl[experimentID] = [dataSource, treeControl, []];\n        this.experimentsDataSources[experimentID] = {all: root, onlyDiffs: rootOnlyDiffs};\n        dataSource.data = this.experimentsDataSources[experimentID][this.hideIdenticalFields ? 'onlyDiffs' : 'all'];\n        this.setExpandedPaths(expandedsPaths, treeControl);\n        this.selectedPath && window.setTimeout(() => this.exapndAndScrollToPath());\n      });\n      this.calculatingTree = false;\n      this.store.dispatch(deactivateLoader('CALCULATING_DIFF_TREE'));\n      if (!this.changeDetection['destroyed']) {\n        this.changeDetection.detectChanges();\n      }\n      this.onlyDiffsPaths = Object.keys(this.allPathsDiffs).filter(key => !!this.allPathsDiffs[key]);\n      this.syncScrollSubscription();\n      if (this.searchText) {\n        this.findAllOccurrences(this.searchText);\n        if (this.foundIndex >= this.foundPaths.length) {\n          this.foundIndex = this.foundPaths.length;\n          this.findPrev();\n        }\n        if (this.foundPaths.length > 0 && this.foundIndex === -1) {\n          this.findNext();\n        }\n        this.changeDetection.detectChanges();\n      }\n    }, 0);\n  }\n\n  private setExpandedPaths(expandedsPaths: any[], treeControl: FlatTreeControl<FlatNode>) {\n    if (expandedsPaths.length > 0) {\n      const expandedDatanodes = treeControl.dataNodes.filter(node => node.hasChildren).filter(node => expandedsPaths.includes(node.data.path));\n      treeControl.expansionModel.select(...expandedDatanodes);\n    }\n  }\n\n  toggleNode(node) {\n    Object.keys(this.experimentsDataControl).forEach(id => {\n      const [, treeControl] = this.experimentsDataControl[id];\n      const n = treeControl.dataNodes.filter(n1 => n1.hasChildren).find(n2 => n2.data.path === node.data.path);\n      treeControl.toggle(n);\n    });\n  }\n\n  clearRemovedExperiment(experiments) {\n    const expIds = experiments.map(exp => exp.id);\n    Object.keys(this.experimentsDataControl).forEach(expId => {\n      if (!expIds.includes(expId)) {\n        delete this.experimentsDataControl[expId];\n        delete this.experimentsDataSources[expId];\n      }\n    });\n  }\n\n  getExpandedPath(experimentTrees: ExperimentCompareTree) {\n    let expandedsPaths = [];\n    Object.keys(experimentTrees).some(experimentID => {\n      if (this.experimentsDataControl[experimentID]) {\n        expandedsPaths = this.experimentsDataControl[experimentID][1].expansionModel.selected.map(node => node.data.path);\n        return expandedsPaths.length > 0;\n      }\n    });\n    return expandedsPaths;\n  }\n\n  syncScrollSubscription() {\n    this.scrollSubscription && this.scrollSubscription.forEach(sub => sub.unsubscribe());\n    this.scrollSubscription = this.virtualScrollRef.map(kk => kk.elementScrolled().subscribe((event: Event) => {\n        const target = event.target as HTMLElement;\n        if (!this.originalScrolledElement) {\n          this.originalScrolledElement = target;\n        }\n        if (this.originalScrolledElement !== target) {\n          return;\n        }\n\n        clearTimeout(this.timeoutIndex);\n        this.timeoutIndex = window.setTimeout(() => this.originalScrolledElement = null, 500);\n        this.virtualScrollRef.forEach(k => {\n          if (k.elementRef.nativeElement !== kk.elementRef.nativeElement) {\n            k.elementRef.nativeElement.scrollTo({top: target.scrollTop, left: target.scrollLeft});\n          }\n        });\n      })\n    );\n  }\n\n  goToNextDiff(direction: NextDiffDirectionEnum) {\n    if (direction === 'down') {\n      this.selectedPathIndex = this.onlyDiffsPaths.length - 1 > this.selectedPathIndex ? this.selectedPathIndex + 1 : 0;\n    } else if (this.selectedPathIndex > 0) {\n      this.selectedPathIndex -= 1;\n    } else {\n      this.selectedPathIndex = this.onlyDiffsPaths.length - 1;\n    }\n    this.selectedPath = this.onlyDiffsPaths[this.selectedPathIndex];\n    this.exapndAndScrollToPath();\n  }\n\n  exapndAndScrollToPath() {\n    const openPaths = [];\n    let pathPartial = '';\n    const selectedPath = this.selectedPath ? this.selectedPath.split(',') : [];\n    selectedPath.forEach((pathPart, index) => {\n      if (index === 0) {\n        pathPartial = pathPart;\n      } else {\n        pathPartial = pathPartial + ',' + pathPart;\n      }\n      openPaths.push(pathPartial);\n    });\n    let nodeGotExpanded = false;\n    if (!isEqual(openPaths.slice(0, openPaths.length - 1), this.previousOpenPaths)) {\n      Object.keys(this.experimentsDataControl).forEach(id => {\n        const [, treeControl] = this.experimentsDataControl[id];\n        const nodesToOpen = treeControl.dataNodes.filter(node => node.hasChildren).filter(n => {\n          const currentPath = n.data.path;\n          return !treeControl.isExpanded(n) && openPaths.includes(currentPath);\n        });\n        if (nodesToOpen.length > 0) {\n          treeControl.expansionModel.select(...nodesToOpen);\n          nodeGotExpanded = true;\n        }\n      });\n    }\n    this.previousOpenPaths = openPaths.slice(0, openPaths.length - 1);\n    const [, , flatNodes] = Object.values(this.experimentsDataControl)[0];\n    const selectedNodeIndex = this.findRealIndex(flatNodes);\n    const scrollToInPixels = (selectedNodeIndex + 1) * 28 - this.virtualScrollRef.first.getViewportSize() / 2;\n    if (nodeGotExpanded) {\n      // Hack to make multiple scroll work with cdk. Don't change\n      window.setTimeout(() => this.virtualScrollRef.forEach(vs => vs.elementRef.nativeElement.scrollTo({top: scrollToInPixels})), 200);\n      window.setTimeout(() => this.virtualScrollRef.forEach(vs => vs.elementRef.nativeElement.scrollTo({top: scrollToInPixels})), 300);\n    } else {\n      this.virtualScrollRef.forEach(vs => vs.elementRef.nativeElement.scrollTo({top: scrollToInPixels}));\n      window.setTimeout(() => this.virtualScrollRef.forEach(vs => vs.elementRef.nativeElement.scrollTo({top: scrollToInPixels})), 0);\n      // window.setTimeout(() => this.virtualScrollRef.forEach(vs => vs.elementRef.nativeElement.scrollTo({top: scrollToInPixels})), 100);\n    }\n  }\n\n  public find(text: string) {\n    if (text) {\n      this.findAllOccurrences(text);\n      this.foundIndex = -1;\n      this.findNext();\n    } else if (this.searchText !== text) {\n      this.foundPaths = [];\n      this.selectedPath = null;\n    }\n    this.searchText = text;\n  }\n\n  findAllOccurrences(text) {\n    text = text.toLowerCase();\n    const foundPathsPerExpTemp = Object.values(this.experimentsDataControl).map(exp => exp[1].dataNodes\n      .map((node, index) => {\n        const keyWithoutHash = node.data.key.replace(/(a_){0,1}hash_/, '').toLowerCase();\n        if (node.hasChildren) {\n          if (keyWithoutHash.includes(text)) {\n            return {path: node.data.path, index};\n          }\n        } else if (keyWithoutHash.includes(text) || (node.data.value !== undefined && JSON.stringify(node.data.value).toLowerCase().includes(text))) {\n          return {path: node.data.path, index};\n        }\n      })\n      .filter(i => i)\n    );\n\n    const foundPathsPerExp = (foundPathsPerExpTemp as any).flat()\n      .sort((a, b) => (a.index > b.index) ? 1 : -1)\n      .map(found => found.path);\n    this.foundPaths = Array.from(new Set((foundPathsPerExp)));\n  }\n\n  public findNext() {\n    if (this.foundPaths.length === 0) {\n      return;\n    }\n    this.foundIndex = this.foundIndex === (this.foundPaths.length - 1) ? 0 : this.foundIndex + 1;\n    this.selectedPath = this.foundPaths[this.foundIndex];\n    this.exapndAndScrollToPath();\n  }\n\n  public findPrev() {\n    if (this.foundPaths.length === 0) {\n      return;\n    }\n    this.foundIndex = this.foundIndex === 0 ? this.foundPaths.length - 1 : this.foundIndex - 1;\n    this.selectedPath = this.foundPaths[this.foundIndex];\n    this.exapndAndScrollToPath();\n  }\n\n\n  buildSectionTree(experiment, section, mergedExperiment): ExperimentCompareTreeSection {\n    return treeBuilderService.buildTreeFromJson(\n      {[section]: mergedExperiment[section]},\n      this.dataTransformer,\n      this.metaDataTransformer,\n      {experiment}\n    );\n  }\n\n  dataTransformer = (data, key, path, extraParams: { experiment; section: string }) => {\n    const originExperiment: any = this.baseExperiment;\n    const comparedExperiment: any = extraParams.experiment;\n    path.push(key);\n    const fullPath = path;\n    const fullPathJoined = fullPath.join(',');\n\n    const originData = fullPath.length === 0 ? originExperiment : get(fullPath, originExperiment);\n    const comparedData = fullPath.length === 0 ? comparedExperiment : get(fullPath, comparedExperiment);\n    const existOnOrigin = !!has(fullPath, originExperiment);\n    const existOnCompared = !!has(fullPath, comparedExperiment);\n    const isEquals = isEqual(comparedData, originData);\n    const isEmptyObject = isEmpty(comparedData) || (!Array.isArray(comparedData) && Object.values(comparedData).every(val => val === undefined));\n\n    const isPrimitive = this.isPrimitive(originData) || originData === undefined || originData === null;\n    this.allPaths[fullPathJoined] = this.allPaths[fullPathJoined] || !isEquals;\n    if (isPrimitive) {\n      this.setPathDif(fullPathJoined, isEquals, (originExperiment === undefined && comparedExperiment === undefined));\n    }\n    if (originExperiment === undefined && comparedExperiment && !this.isPrimitive(comparedExperiment)) {\n      delete this.allPathsDiffs[fullPathJoined];\n    }\n\n    let tooltip;\n    if (this.compareTabPage === 'hyper-params') {\n      path[path.length - 1] = path[path.length - 1].trim();\n      const hypeParamObject = get(path.join('.'), this.originalExperiments[comparedExperiment.id]);\n      if (hypeParamObject && has('name', hypeParamObject) && has('value', hypeParamObject) && hypeParamObject.type !== 'legacy') {\n        tooltip = (hypeParamObject.type ? `Type: ${hypeParamObject.type}\\n` : '') + (hypeParamObject.description || '');\n      }\n    }\n    path.pop();\n\n    return {\n      key,\n      path: fullPathJoined,\n      existOnOrigin,\n      existOnCompared,\n      value: comparedData,\n      isValueEqualToOrigin: (originExperiment === comparedExperiment) || (isEquals && (existOnOrigin === existOnCompared)),\n      isArray: isArrayOrderNotImportant(comparedExperiment, key),\n      classStyle: `${(originExperiment === comparedExperiment || isEquals) ? '' : 'al-danger '}${isEmptyObject ? 'al-empty-collapse ' : ''}${existOnCompared ? '' : 'hide-field'}`,\n      tooltip: tooltip || undefined\n    };\n  };\n\n  metaDataTransformer = (data, key, path, extraParams): TreeNodeMetadata => {\n    return null;\n  };\n\n  isPrimitive(obj) {\n    return (typeof obj === 'string' || typeof obj === 'boolean' || typeof obj === 'number');\n  }\n\n  private setPathDif(fullPath, isEquals, undefinedOriginFirstRun) {\n    if (!this.allPathsDiffs[fullPath]) {\n      this.allPathsDiffs[fullPath] = !isEquals;\n    }\n    if (undefinedOriginFirstRun && this.allPathsDiffs[fullPath] === undefined) {\n      this.allPathsDiffs[fullPath] = false;\n    }\n  }\n\n  public syncUrl(experiments: Array<IExperimentDetail>) {\n    const newParams = this.getExperimentIdsParams(experiments);\n    if (newParams !== this.taskIds) {\n      this.router.navigateByUrl(this.router.url.replace(this.taskIds, newParams));\n    }\n  }\n\n  public extractTags(experiments) {\n    experiments.map(({tags, ...experiment}) => {\n      if (tags?.length || !this.experimentTags[experiment.id]?.length) {\n        this.experimentTags[experiment.id] = tags;\n      }\n    });\n  }\n\n  public getExperimentIdsParams(experiments: Array<IExperimentDetail>): string {\n    return experiments ? experiments.map(e => e.id).toString() : '';\n  }\n\n  selectedPathClicked(path) {\n    if (this.onlyDiffsPaths.includes(path)) {\n      this.selectedPath = path;\n      this.selectedPathIndex = this.onlyDiffsPaths.indexOf(this.selectedPath);\n    }\n  }\n\n  keyClicked(data) {\n    const path = data.path;\n    this.selectedPathClicked(path);\n  }\n\n  checkIfSelectedPath = (data: any) => this.selectedPath === (data.path);\n\n// checkIfFoundPathPath = (data: any) => this.foundPath === (data.path);\n\n  checkIfIdenticalRow(data: any) {\n    if (this.hideIdenticalFields && this.allPaths) {\n      const currentPath = data.path;\n      return !this.allPaths[currentPath];\n    } else {\n      return false;\n    }\n  }\n\n  filterTreeDiffs(node: any) {\n    if (node.data && this.allPaths[node.data.path] === false) {\n      return false;\n    }\n    if (Array.isArray(node)) {\n      return node.map(item => this.filterTreeDiffs(item)).filter(item => !!item);\n    }\n    if (node.children) {\n      return {...node, children: this.filterTreeDiffs(node.children)};\n    }\n    if (node.data) {\n      return {...node, data: this.filterTreeDiffs(node.data)};\n    }\n    return node;\n  }\n\n  private findRealIndex(flatNodes: FlatNode[]) {\n    return flatNodes.findIndex(node => node.data?.path === this.selectedPath);\n  }\n\n  copyIdToClipboard() {\n    this.store.dispatch(addMessage('success', 'Copied to clipboard'));\n  }\n\n  public resetComponentState(experiments) {\n    this.allPathsDiffs = {};\n    this.onlyDiffsPaths = [];\n    this.experiments = experiments;\n    this.allPaths = [];\n    this.previousOpenPaths = [];\n  }\n\n// Function that maps a nested node to a flat node\n  nodeTransformer(node: TreeNode<any>, level: number) {\n    return {\n      data: node.data,\n      metaData: node.metaData,\n      level,\n      parent: node.parent,\n      hasChildren: !!node.children,\n    };\n  }\n\n// Function that gets a flat node's level\n  getNodeLevel({level}: FlatNode) {\n    return level;\n  }\n\n// Function that determines whether a flat node is expandable or not\n  getIsNodeExpandable({hasChildren}: FlatNode) {\n    return hasChildren;\n  }\n\n// Function that returns a nested node's list of children\n  getNodeChildren(node: TreeNode<any>) {\n    return node.children;\n  }\n}\n","export abstract class ExperimentCompareDetailsBase {\n  public buildExperimentTree(experiment, baseExperiment, mergedExperiment, param) {\n    return {\n      artifacts: this.buildSectionTree(experiment, 'artifacts', mergedExperiment),\n      execution: this.buildSectionTree(experiment, 'execution', mergedExperiment),\n      configuration: this.buildSectionTree(experiment, 'configuration', mergedExperiment),\n    };\n  }\n\n\n  abstract buildCompareTree(experiments, hasDataFeature?);\n  abstract buildSectionTree(experiment: any, execution1: string, mergedExperiment: any);\n}\n","import {Directive} from '@angular/core';\n\n@Directive({\n  selector: '[compareCardBody]'\n})\nexport class CompareCardBodyDirective {\n\n  constructor() {\n  }\n\n}\n","import {Directive} from '@angular/core';\n\n@Directive({\n  selector: '[compareCardExtraHeader]'\n})\nexport class CompareCardExtraHeaderDirective {\n\n  constructor() {\n  }\n\n}\n","import {Directive} from '@angular/core';\n\n@Directive({\n  selector: '[compareCardHeader]'\n})\nexport class CompareCardHeaderDirective {\n\n  constructor() {\n  }\n\n}\n","<div\n  #drawerContainer\n  class='drawer-container'\n  [class.drawer-closed]=\"closed\">\n  <div class=\"c-drawer-toggle\" [class.display-on-hover]=\"displayOnHover && !closed\">\n    <button\n      class=\"pointer drawer-toggle\"\n      [class.display-on-hover]=\"displayOnHover && !closed\"\n      (click)=\"toggleDrawer()\"\n    >\n      <i *ngIf=\"!closed\" class=\"arrows-icon fas fa-angle-double-left\"></i>\n      <div #closedLabel [class.hidden]=\"!closed\" class=\"label\">{{label}}</div>\n    </button>\n  </div>\n  <div class='content-container'>\n    <div #fixedWidth class=\"fixed-width\">\n      <ng-content></ng-content>\n    </div>\n  </div>\n</div>\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  Output,\n  Renderer2,\n  ViewChild\n} from '@angular/core';\n\n@Component({\n  selector       : 'al-drawer',\n  templateUrl    : './drawer.component.html',\n  styleUrls      : ['./drawer.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DrawerComponent {\n\n  public closed              = false;\n\n  @Input() label          = '';\n  @Input() displayOnHover = false;\n  @Output() toggled = new EventEmitter<boolean>();\n\n  @ViewChild('drawerContainer', { static: true }) drawerContainer: ElementRef;\n  @ViewChild('fixedWidth', { static: true }) fixedWidth: ElementRef;\n  @ViewChild('closedLabel', { static: true }) closedLabel: ElementRef;\n\n  constructor(private renderer: Renderer2, private ref: ElementRef) {\n  }\n\n  toggleDrawer() {\n    if (!this.closed) {\n      // 30px padding for 15px padding for label text\n      this.renderer.setStyle(this.closedLabel.nativeElement, 'max-height', this.drawerContainer.nativeElement.clientHeight - 30 + 'px');\n      this.renderer.addClass(this.ref.nativeElement, 'collapsed');\n    } else {\n      this.renderer.removeStyle(this.closedLabel.nativeElement, 'max-height');\n      this.renderer.removeClass(this.ref.nativeElement, 'collapsed');\n    }\n    this.closed = !this.closed;\n    window.setTimeout(() => this.toggled.emit(!this.closed), 330);\n  }\n}\n","<div class=\"al-card\">\n  <div\n       class=\"card-container\"\n       [ngClass]=\"{'bordered': showBorder}\"\n       >\n    <div class=\"extra-header\">\n      <ng-content select=\"[extra-header]\">\n      </ng-content>\n    </div>\n    <header>\n      <div>\n        <h4 *ngIf=\"header\" class=\"al-header\">{{header}}</h4>\n        <ng-content select=\"[header-content]\"></ng-content>\n      </div>\n      <div>\n        <ng-content select=\"[headerButtons]\"></ng-content>\n      </div>\n    </header>\n    <div class=\"card-body\">\n      <ng-content></ng-content>\n      {{text}}\n    </div>\n    <footer>\n      <ng-content select=\"[footer]\">\n      </ng-content>\n    </footer>\n  </div>\n</div>\n","import {ChangeDetectionStrategy, Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector       : 'sm-card2',\n  templateUrl    : './card-component2.component.html',\n  styleUrls      : ['./card-component2.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CardComponent2 implements OnInit {\n\n  @Input() header: string;\n  @Input() text: string;\n  @Input() showBorder      = false;\n  @Input() headerClassName = '';\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n}\n","<div\n  #detailsContainer\n  id=\"experiment-details-container\"\n  cdkDropList\n  cdkDropListOrientation=\"horizontal\"\n  (cdkDropListDropped)=\"drop($event)\"\n>\n  <al-drawer\n    *ngFor=\"let experiment of experiments; let i = index; trackBy: trackByFn\"\n    class=\"light-theme\"\n    cdkDrag\n    cdkDragLockAxis=\"x\"\n    cdkDragPreviewContainer=\"parent\"\n    [displayOnHover]=\"i > 0\"\n    [label]=\"experiments[i].name\"\n    (toggled)=\"toggled.emit($event)\"\n    (mouseenter)=\"changeHovered(i, true)\"\n    (mouseleave)=\"changeHovered(i, false)\">\n    <sm-card2\n      [showBorder]=\"baseExperiment.id === experiment.id || hovered[i]\"\n    >\n      <!--[cdkAutoScroller]=\"detailsContainer\"-->\n      <div extra-header style=\"width: 100%\">\n        <ng-container *ngTemplateOutlet=\"extraHeaderTemplate; context: {$implicit: experiment, index: i}\">\n        </ng-container>\n      </div>\n      <div headerButtons class=\"actions-container\">\n        <div class=\"actions\" [ngClass]=\"{'invisible': ! hovered[i]}\">\n          <!--<div class=\"actions\">-->\n          <i class=\"fas fa-minus-circle pointer\"\n             *ngIf=\"experiments.length > 1\"\n             (click)=\"experimentRemoved(experiment)\"\n             smTooltip=\"Remove from comparison\"></i>\n          <i *ngIf=\"baseExperiment.id !== experiment.id\"\n             class=\"fas fa-adjust pointer\"\n             (click)=\"setAsBase(experiment)\"\n             smTooltip=\"Set as baseline\">\n          </i>\n          <i class=\"fas fa-arrows-alt\"\n             cdkDragHandle\n             smTooltip=\"Click and drag to reposition the experiment\"\n             [ngClass]=\"{'invisible': experiments.length === 1}\"\n          >\n          </i>\n        </div>\n      </div>\n      <div header-content>\n        <ng-container *ngTemplateOutlet=\"headerTemplate; context: {$implicit: experiment, index: i}\">\n        </ng-container>\n      </div>\n        <ng-container *ngTemplateOutlet=\"bodyTemplate; context: {$implicit: experiment, index: i}\">\n        </ng-container>\n    </sm-card2>\n  </al-drawer>\n</div>\n","import {Component, ContentChild, EventEmitter, Input, Output, TemplateRef, ViewChild} from '@angular/core';\nimport {CdkDragDrop, moveItemInArray} from '@angular/cdk/drag-drop';\nimport {Task} from '../../../../business-logic/model/tasks/task';\nimport {CompareCardBodyDirective} from '../compare-card-body.directive';\nimport {CompareCardExtraHeaderDirective} from '../compare-card-extra-header.directive';\nimport {CompareCardHeaderDirective} from '../compare-card-header.directive';\nimport {IExperimentDetail} from '../../../../features/experiments-compare/experiments-compare-models';\n\n@Component({\n  selector   : 'sm-compare-card-list',\n  templateUrl: './compare-card-list.component.html',\n  styleUrls  : ['./compare-card-list.component.scss']\n})\nexport class CompareCardListComponent {\n\n  @Input() experiments: IExperimentDetail[];\n  @Input() baseExperiment: IExperimentDetail;\n  @Output() experimentListChanged = new EventEmitter<IExperimentDetail[]>();\n  @Output() toggled = new EventEmitter<boolean>();\n\n  @ContentChild(CompareCardBodyDirective, { read: TemplateRef }) bodyTemplate;\n  @ContentChild(CompareCardExtraHeaderDirective, { read: TemplateRef }) extraHeaderTemplate;\n  @ContentChild(CompareCardHeaderDirective, { read: TemplateRef }) headerTemplate;\n\n  @ViewChild('detailsContainer', {static: true}) detailsContainer;\n\n  hovered = [];\n\n  constructor() {\n  }\n\n  experimentRemoved(experiment: IExperimentDetail) {\n    this.experimentListChanged.emit(this.experiments.filter(exp => exp !== experiment));\n  }\n\n  setAsBase(experiment: IExperimentDetail) {\n    this.detailsContainer.nativeElement.scrollLeft = 0;\n    this.reorderExperiments(this.experiments.indexOf(experiment), 0);\n  }\n\n  reorderExperiments(prevIndex, currentIndex) {\n    const newExperiments = [].concat(this.experiments);\n    moveItemInArray(newExperiments, prevIndex, currentIndex);\n    this.experimentListChanged.emit(newExperiments);\n  }\n\n  drop(e: CdkDragDrop<Array<Task>>) {\n    if (e.previousIndex === e.currentIndex) { return; }\n    this.reorderExperiments(e.previousIndex, e.currentIndex);\n  }\n\n  trackByFn(index, item) {\n    return item.id;\n  }\n\n  changeHovered(i, val) {\n    this.hovered[i] = val;\n  }\n}\n","<ng-container *cdkPortal>\n  <ng-content></ng-content>\n</ng-container>","import {\n  Component, ViewChild, ApplicationRef, Injector,\n  OnDestroy, AfterViewInit, Inject, ComponentFactoryResolver, EventEmitter, Output, ViewContainerRef, Input\n} from '@angular/core';\nimport {CdkPortal, DomPortalOutlet} from '@angular/cdk/portal';\nimport {DOCUMENT} from '@angular/common';\n\n@Component({\n  selector   : 'sm-portal',\n  templateUrl: './portal.component.html',\n  styleUrls  : ['./portal.component.scss']\n})\nexport class PortalComponent implements AfterViewInit, OnDestroy {\n  @Input() outletId: string;\n\n  @ViewChild(CdkPortal, { static: true }) portal: CdkPortal;\n\n  host: DomPortalOutlet;\n\n  @Output() buttonClicked: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  constructor(\n    @Inject(DOCUMENT) private document: Document,\n    private cfr: ComponentFactoryResolver,\n    private appRef: ApplicationRef,\n    private injector: Injector) {\n  }\n\n  ngAfterViewInit(): void {\n    this.host = new DomPortalOutlet(\n      this.document.getElementById(this.outletId),\n      this.cfr, this.appRef, this.injector\n    );\n\n    this.host.attach(this.portal);\n  }\n\n  ngOnDestroy(): void {\n    this.host.detach();\n  }\n\n}\n","import {ChangeDetectionStrategy, Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {EXPERIMENTS_STATUS_LABELS} from '../../../../features/experiments/shared/experiments.const';\nimport {IExperimentDetail} from '../../../../features/experiments-compare/experiments-compare-models';\nimport {TIME_FORMAT_STRING} from '../../../constants';\n\n@Component({\n  selector: 'sm-experiment-compare-general-data',\n  templateUrl: './experiment-compare-general-data.component.html',\n  styleUrls: ['./experiment-compare-general-data.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ExperimentCompareGeneralDataComponent {\n\n  public EXPERIMENTS_STATUS_LABELS = EXPERIMENTS_STATUS_LABELS;\n\n  @Input() experiment: IExperimentDetail;\n  @Input() isOrigin: boolean = false;\n  @Input() tags: string[];\n  @Output() copyIdClicked = new EventEmitter();\n  TIME_FORMAT_STRING = TIME_FORMAT_STRING;\n\n  copyToClipboard() {\n    this.copyIdClicked.emit();\n  }\n\n  buildUrl() {\n    return `/projects/${this.experiment.project ? this.experiment.project.id : '*'}/experiments/${this.experiment.id}`;\n  }\n}\n","<header>\n  <div class=\"project ellipsis\">{{experiment.project?.name}}</div>\n  <div [smTooltip]=\"experiment.name\" class=\"experiment-name al-header\"><a smEllipsisMiddleDirective [routerLink]=\"buildUrl()\">{{experiment.name}}</a>\n  </div>\n  <i class=\"icon i-id-fix id-icon pointer\"\n     [smTooltip]=\"experiment.id\"\n     ngxClipboard\n     [cbContent]=\"experiment.id\"\n     (cbOnSuccess)=\"copyToClipboard()\"></i>\n</header>\n<sm-tag-list [tags]=\"tags\"></sm-tag-list>\n<div class=\"general-info\">\n  <i [class]=\"'mr-1 icon sm bw i-'+ experiment.status\"></i>\n  <span>{{EXPERIMENTS_STATUS_LABELS[experiment.status]}}</span>\n  <span class=\"dot\"></span>\n  <span class=\"flex-shrink-0\">{{experiment.last_iteration | number | NA}} iterations</span>\n  <span class=\"dot\"></span>\n  <span class=\"flex-shrink-1\" [smTooltip]=\"(experiment.last_update | date : TIME_FORMAT_STRING) || ''\">Last updated {{experiment.last_update | timeAgo | NA}}</span>\n</div>\n","<sm-compare-card-list\n  [experiments]=\"experiments\"\n  [baseExperiment]=\"baseExperiment\"\n  [ngClass]=\"calculatingTree ? 'pending' : ''\"\n  (experimentListChanged)=\"experimentListChanged($event)\"\n  (toggled)=\"afterResize()\"\n>\n  <div *compareCardHeader=\"let experiment; let i = index\">\n    <sm-experiment-compare-general-data\n      [experiment]=\"experiment\"\n      [tags]=\"experimentTags[experiment.id]\"\n      (copyIdClicked)=\"copyIdToClipboard()\">\n    </sm-experiment-compare-general-data>\n  </div>\n  <div #treeCardBody class=\"tree-card-body\" *compareCardBody=\"let experiment; let i = index\">\n    <div class=\"section h-100\" *ngIf=\"experimentsDataControl[experiment.id]\">\n      <!--      TODO: move is-not-origin class outside nodes tree-->\n      <ng-template let-dataSource=\"dataSource\"\n                   let-treeControl=\"treeControl\"\n                   [ngTemplateOutletContext]=\"{dataSource: experimentsDataControl[experiment.id][0],\n                                               treeControl: experimentsDataControl[experiment.id][1]}\"\n                   [ngTemplateOutlet]=\"selfie\" #selfie>\n        <cdk-virtual-scroll-viewport #virtualScrollRef class=\"virtual-scroll-container\" [class.is-not-origin]=\"i > 0\" itemSize=\"28\" minBufferPx=\"280\" maxBufferPx=\"560\">\n          <ng-container *cdkVirtualFor=\"let node of dataSource; let i = index\">\n            <div class=\"node\" [class.parent]=\"node.hasChildren\">\n              <div *ngIf=\"node.hasChildren\" class=\"section\" [ngClass]=\"'depth-' + node.level\">\n                <div class=\"content\"\n                     (click)=\"toggleNode(node)\"\n                     [ngClass]=\"node?.data?.classStyle\"\n                     [class.selected-diff]=\"checkIfSelectedPath(node.data)\"\n                     [class.identical-row]=\"!allPaths[node.data.path]\">\n                  <i class=\"fas\" [style.margin-left.px]=\"2 + node.level * 20\" [ngClass]=\"treeControl.isExpanded(node) ? 'fa-chevron-down' : 'fa-chevron-right'\"></i>\n                  <span\n                    class=\"title-key\"\n                    [class.ellipsis]=\"showEllipsis\"\n                    [style.width.px]=\"showEllipsis ? nativeWidth - 45 - node.level * 20 : null\"\n                  >{{(renameMap[node.data.key] || node.data.key) | hideHashTitle}}</span>\n                  <i *ngIf=\"node.data.tooltip\" class=\"al-icon sm al-ico-description node-icon\" customClass=\"hyper-parameters-tooltip\" [smTooltip]=\"node.data.tooltip\"></i>\n                </div>\n              </div>\n              <div *ngIf=\"!node.hasChildren\" class=\"section\" (click)=\"keyClicked(node.data)\">\n                <div [style.padding-left.px]=\"2 + node.level * 20\" [ngClass]=\"{\n                  'node-item-container': true,\n                  'identical-row': checkIfIdenticalRow(node.data),\n                  'selected-diff': checkIfSelectedPath(node.data),\n                  'not-existing-on-origin': !node.data.existOnOrigin,\n                  'not-existing-on-compared': !node.data.existOnCompared,\n                  'diff-row': !node.data.isValueEqualToOrigin,\n                  'equal-row': node.data.isValueEqualToOrigin,\n                  'hide-identical-mode': hideIdenticalFields\n                }\">\n                  <div>\n                    <pre *ngIf=\"(node.data.value !== undefined) || (node.data.existOnOrigin && node.data.existOnCompared)\"\n                         [class.no-ellipsis]=\"((node.data.key | hideHash) + node.data.value).length < 51\"\n                         [class.with-ellipsis]=\"showEllipsis\"\n                         [style.width.px]=\"showEllipsis ? nativeWidth - 45 - node.level * 20 : null\"\n                    >{{node.data.key | hideHash}}{{node.data.value}}<i class=\"al-icon sm al-ico-line-expand extend-toggle\" [class.fa-rotate-180]=\"!showEllipsis\" (click)=\"toggleEllipsis(); $event.stopPropagation()\"></i>\n                    </pre>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </ng-container>\n        </cdk-virtual-scroll-viewport>\n      </ng-template>\n    </div>\n  </div>\n</sm-compare-card-list>\n\n\n<sm-portal outletId=\"searchDiff\">\n  <div class=\"btn-group mr-2\" role=\"group\">\n    <sm-search [value]=\"searchText\"\n               [minimumChars]=\"1\"\n               [debounceTime]=\"300\"\n               (keydown.enter)=\"findNext()\"\n               (valueChanged)=\"find($event)\"\n    ></sm-search>\n\n    <button class=\"btn btn-secondary prev\" smTooltip=\"Previous occurrence\" [disabled]=\"foundPaths.length === 0 \" (click)=\"findPrev()\">\n      <i class=\"fas fa-chevron-up\"></i>\n    </button>\n\n    <button class=\"btn btn-secondary next\" smTooltip=\"Next occurrence\" [disabled]=\"foundPaths.length === 0 \" (click)=\"findNext()\">\n      <i class=\"fas fa-chevron-down\"></i>\n    </button>\n  </div>\n  <span [class.hidden]=\"searchText.length === 0 \"> Match {{foundPaths.length === 0 ? '0' : foundIndex + 1}} / {{foundPaths.length}}</span>\n</sm-portal>\n\n<sm-portal outletId=\"nextDiff\">\n  <button class=\"btn btn-secondary btn-arrow mr-3\" smTooltip=\"Previous diff\" (click)=\"goToNextDiff('up')\">\n    <i class=\"fas fa-arrow-up\"></i>\n  </button>\n\n  <button class=\"btn btn-secondary btn-arrow\" smTooltip=\"Next diff\" (click)=\"goToNextDiff('down')\">\n    <i class=\"fas fa-arrow-down\"></i>\n  </button>\n</sm-portal>\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef, HostListener,\n  OnInit, QueryList,\n  ViewChildren\n} from '@angular/core';\nimport {select, Store} from '@ngrx/store';\nimport {experimentListUpdated, setExperiments} from '../../actions/experiments-compare-details.actions';\nimport {selectExperimentsDetails} from '../../reducers';\nimport {filter, take, tap} from 'rxjs/operators';\nimport {ExperimentCompareTree, IExperimentDetail} from '../../../../features/experiments-compare/experiments-compare-models';\nimport {\n  convertConfigurationFromExperiments, convertContainerScriptFromExperiments,\n  convertExperimentsArrays, convertNetworkDesignFromExperiments,\n  getAllKeysEmptyObject,\n  isDetailsConverted\n} from '../../jsonToDiffConvertor';\nimport {ExperimentCompareBase} from '../experiment-compare-base';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {IExperimentInfoState} from '../../../../features/experiments/reducers/experiment-info.reducer';\nimport {ConfigurationItem} from '../../../../business-logic/model/tasks/configurationItem';\n\n@Component({\n  selector: 'sm-experiment-compare-details',\n  templateUrl: './experiment-compare-details.component.html',\n  styleUrls: ['./experiment-compare-details.component.scss', '../../cdk-drag.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ExperimentCompareDetailsComponent extends ExperimentCompareBase implements OnInit, AfterViewInit {\n  public showEllipsis: boolean = true;\n  public nativeWidth = 410;\n\n  private treeCardBody: HTMLDivElement;\n  @ViewChildren('treeCardBody') treeCardBodies: QueryList<ElementRef<HTMLDivElement>>;\n\n  @HostListener('window:resize')\n  afterResize() {\n    window.setTimeout(() => {\n      this.nativeWidth = Math.max(this.treeCardBody.getBoundingClientRect().width, 410);\n      this.cdr.detectChanges();\n    });\n  }\n\n  constructor(\n    public router: Router,\n    public store: Store<IExperimentInfoState>,\n    public changeDetection: ChangeDetectorRef,\n    public activeRoute: ActivatedRoute,\n    private cdr: ChangeDetectorRef\n  ) {\n    super(router, store, changeDetection, activeRoute);\n  }\n\n  experiments$ = this.store.pipe(select(selectExperimentsDetails));\n\n  ngOnInit() {\n    this.onInit();\n    this.routerParamsSubscription = this.taskIds$.subscribe((experimentIds: string) => this.store.dispatch(experimentListUpdated({ids: experimentIds.split(',')})));\n\n    this.experimentsSubscription = this.experiments$.pipe(\n      filter(experiments => !!experiments && experiments.length > 0),\n      tap(experiments => {\n        this.syncUrl(experiments);\n        this.extractTags(experiments);\n      }),\n    ).subscribe(experiments => {\n      this.originalExperiments = experiments.reduce((acc, exp) => {\n        acc[exp.id] = isDetailsConverted(exp) ? this.originalExperiments[exp.id] : exp;\n        return acc;\n      }, {} as { [id: string]: ConfigurationItem });\n      experiments = Object.values(this.originalExperiments).map(experiment => convertExperimentsArrays(experiment, this.originalExperiments[experiments[0].id], experiments));\n      experiments = convertConfigurationFromExperiments(experiments, this.originalExperiments);\n      experiments = convertNetworkDesignFromExperiments(experiments, this.originalExperiments);\n      experiments = convertContainerScriptFromExperiments(experiments, this.originalExperiments);\n\n      this.resetComponentState(experiments);\n      this.calculateTree(experiments);\n    });\n  }\n\n\n\n  ngAfterViewInit() {\n    this.treeCardBodies.changes\n      .pipe(filter(list => list.first), take(1))\n      .subscribe((list: QueryList<ElementRef<HTMLDivElement>>) => {\n        this.treeCardBody = list.first.nativeElement;\n        this.nativeWidth = Math.max(this.treeCardBody.getBoundingClientRect().width, 410);\n      });\n  }\n\n  buildCompareTree(experiments: Array<IExperimentDetail>, hasDataFeature?: boolean): ExperimentCompareTree {\n    const mergedExperiment = getAllKeysEmptyObject(experiments);\n    return experiments\n      .reduce((acc, cur) => {\n        acc[cur.id] = this.buildExperimentTree(cur, this.baseExperiment, mergedExperiment, hasDataFeature);\n\n        return acc;\n      }, {} as ExperimentCompareTree);\n  }\n\n  experimentListChanged(experiments: Array<IExperimentDetail>) {\n    this.store.dispatch(setExperiments({experiments}));\n  }\n\n  toggleEllipsis() {\n    this.showEllipsis = !this.showEllipsis;\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {BehaviorSubject, Observable, Subject} from 'rxjs';\nimport {debounceTime} from 'rxjs/operators';\n\ninterface SyncScrollData {\n  scrollTop: number;\n  scrollLeft: number;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SyncScrollService {\n\n  private scrollSubject: Subject<SyncScrollData> = new Subject();\n  private timer: NodeJS.Timer;\n  public  originalTarget: EventTarget;\n\n  setScroll(scroll: SyncScrollData) {\n    this.scrollSubject.next(scroll);\n  }\n\n  getScroll(): Observable<SyncScrollData> {\n    return this.scrollSubject.asObservable();\n  }\n\n  updateOriginalTarget(target: EventTarget) {\n    this.originalTarget = this.originalTarget || target;\n    clearInterval(this.timer);\n    this.timer = setTimeout( () => this.originalTarget = null, 200);\n  }\n}\n","import {Directive, ElementRef, HostListener, OnDestroy, Renderer2} from '@angular/core';\nimport {SyncScrollService} from '../../services/sync-scroll.service';\nimport {Subscription} from 'rxjs';\nimport {filter} from 'rxjs/operators';\n\n@Directive({\n  selector: '[smSyncScroll]'\n})\nexport class SyncScrollDirective implements OnDestroy {\n\n  private subscription: Subscription;\n\n  @HostListener('scroll', ['$event'])\n  public onScroll(event: MouseEvent): void {\n    this.syncScrollService.updateOriginalTarget(event.target);\n    if (this.syncScrollService.originalTarget === event.target) {\n      this.syncScrollService.setScroll({\n        scrollTop : (<HTMLInputElement>event.target).scrollTop,\n        scrollLeft: (<HTMLInputElement>event.target).scrollLeft,\n      });\n    }\n  }\n\n  constructor(private el: ElementRef, private syncScrollService: SyncScrollService, private renderer: Renderer2) {\n    this.subscription = this.syncScrollService.getScroll()\n      .pipe(filter( _ => this.syncScrollService.originalTarget !== this.el.nativeElement))\n      .subscribe(scrollData => {\n      if (this.el.nativeElement.scrollTop !== scrollData.scrollTop) {\n        this.renderer.setProperty(this.el.nativeElement, 'scrollTop', scrollData.scrollTop);\n      }\n      if (this.el.nativeElement.scrollLeft !== scrollData.scrollLeft) {\n        this.renderer.setProperty(this.el.nativeElement, 'scrollLeft', scrollData.scrollLeft);\n\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n}\n","<div class=\"table-diff-row header\">\n  <div (click)=\"sortByClicked('key')\" class=\"pointer\">{{keyTitle}}\n    <i class=\"fas\"\n       [ngClass]=\"{\n       'fa-sort-down': sortConfig.keyOrValue === 'key' && sortConfig.order==='asc',\n       'fa-sort-up': sortConfig.keyOrValue === 'key' && sortConfig.order==='desc',\n       'fa-sort show-only-on-hover': sortConfig.keyOrValue === 'value'}\"></i>\n  </div>\n  <div (click)=\"sortByClicked('value')\" class=\"pointer\">{{valueTitle}}\n    <i class=\"fas\"\n       [ngClass]=\"{\n       'fa-sort-down': sortConfig.keyOrValue === 'value' && sortConfig.order==='asc',\n       'fa-sort-up': sortConfig.keyOrValue === 'value' && sortConfig.order==='desc',\n       'fa-sort show-only-on-hover': sortConfig.keyOrValue === 'key'}\"></i>\n  </div>\n</div>\n<div *ngFor=\"let data of keyValueArray\" class=\"table-diff-row\">\n  <div *ngIf=\"data.value || data.value === 0\">{{data.key}}</div>\n  <div [title]=\"data.value\">\n    <ng-template\n      [ngTemplateOutlet]=\"templateRef\"\n      [ngTemplateOutletContext]=\"{$implicit: data.value}\">\n    </ng-template>\n  </div>\n</div>\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ContentChild,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  TemplateRef\n} from '@angular/core';\n\nexport interface IKeyValue {\n  key: string;\n  value: number;\n}\n\n\nexport interface ITableDiffSortBy {\n  keyOrValue: 'key' | 'value';\n  order: 'asc' | 'desc';\n  keyValueArray: Array<IKeyValue>;\n}\n\n@Component({\n  selector: 'al-table-diff',\n  templateUrl: './table-diff.component.html',\n  styleUrls: ['./table-diff.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n\nexport class TableDiffComponent implements OnInit {\n  @Input() keyTitle: string;\n  @Input() valueTitle: string;\n  @Input() keyValueArray: Array<IKeyValue>;\n  @Input() isOrigin = false;\n  @Input() sortConfig: ITableDiffSortBy;\n\n  @Output() sortByChanged = new EventEmitter<ITableDiffSortBy>();\n  @ContentChild(TemplateRef) templateRef: TemplateRef<any>;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n  sortByClicked(sortBy) {\n    this.sortByChanged.emit({ keyOrValue: sortBy, order: this.toggleSortOrder(this.sortConfig.order), keyValueArray: this.keyValueArray });\n  }\n\n  toggleSortOrder(order) {\n    return order === 'asc' ? 'desc' : 'asc';\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'getKeyValueArrayPipe',\n})\nexport class GetKeyValueArrayPipePipe implements PipeTransform {\n\n  transform(metricNode: any, allKeysEmptyObject, keyOrderSortConfig, valueKey = 'value', args?: any): any {\n    const keyValueObj = {};\n\n    Object.values(allKeysEmptyObject[metricNode.key]).forEach((variantObj: any) => {\n      keyValueObj[variantObj.variant] = '';\n    });\n    if (metricNode.value || metricNode.value === 0) {\n      Object.values(metricNode.value).forEach((variantObj: any) => {\n        keyValueObj[variantObj.variant] = variantObj[valueKey];\n      });\n    }\n    let keyValueArray = [];\n    if (!keyOrderSortConfig) {\n      keyValueArray = Object.keys(keyValueObj).map(key => {\n        return {key, 'value': keyValueObj[key]};\n      });\n      keyValueArray.sort(function (a, b) {\n        return a.key.toLowerCase().localeCompare(b.key.toLowerCase());\n      });\n    } else {\n      keyValueArray = keyOrderSortConfig.keyOrder.map(key => {\n        return {key, 'value': keyValueObj[key]};\n      });\n    }\n    return keyValueArray;\n\n  }\n\n}\n","<sm-compare-card-list\n  *ngIf=\"comparedTasks\"\n  [experiments]=\"experiments\"\n  [baseExperiment]=\"experiments[0]\"\n  (experimentListChanged)=\"experimentListChanged($event)\"\n>\n  <div *compareCardHeader=\"let experiment;\">\n    <sm-experiment-compare-general-data [experiment]=\"experiment\" (copyIdClicked)=\"copyIdToClipboard()\">\n    </sm-experiment-compare-general-data>\n  </div>\n  <div class=\"tree-card-body\" smSyncScroll *compareCardBody=\"let experiment; let i = index;\">\n    <div *ngFor=\"let node of comparedTasks[i]\" class=\"node\" [ngClass]=\"node?.metaData?.classStyle\">\n      <div class=\"content\" (click)=\"collapsedToggled(node)\">\n        <i class=\"fas\" [style.margin-left.px]=\"2 + node.level * 20\" [ngClass]=\"realIsNodeOpen(node) ? 'fa-chevron-down' : 'fa-chevron-right'\"></i>\n        {{node.data.key}}\n      </div>\n      <al-table-diff *ngIf=\"realIsNodeOpen(node)\"\n                     [valueTitle]=\"valuesMode.name | uppercase\" keyTitle=\"VARIANT\"\n                     [isOrigin]=\"i===0\"\n                     (sortByChanged)=\"metricSortChanged($event,node.data)\"\n                     [sortConfig]=\"(sortOrder$| async)[node.data.key] || {order:'asc', keyOrValue: 'key'}\"\n                     [keyValueArray]=\"node.data | getKeyValueArrayPipe:allKeysEmptyObject:(sortOrder$| async)[node.data.key]:valuesMode.key\">\n        <ng-template\n          let-metricValue>\n          {{metricValue}}\n        </ng-template>\n      </al-table-diff>\n    </div>\n  </div>\n</sm-compare-card-list>\n","import {ChangeDetectorRef, Component, OnDestroy, OnInit} from '@angular/core';\nimport {selectRouterParams, selectRouterQueryParams} from '../../../core/reducers/router-reducer';\nimport {select, Store} from '@ngrx/store';\nimport {distinctUntilChanged, filter, map, tap} from 'rxjs/operators';\nimport {get, has} from 'lodash/fp';\nimport {Observable, Subscription} from 'rxjs';\nimport * as metricsValuesActions from '../../actions/experiments-compare-metrics-values.actions';\nimport {selectCompareMetricsValuesExperiments, selectCompareMetricsValuesSortConfig, selectRefreshing} from '../../reducers';\nimport {Router} from '@angular/router';\nimport {addMessage} from '../../../core/actions/layout.actions';\nimport {TreeNode} from '../../shared/experiments-compare-details.model';\nimport {createDiffObjectScalars, getAllKeysEmptyObject} from '../../jsonToDiffConvertor';\n\ninterface ValueMode {\n  key: string;\n  name: string;\n}\n\nconst VALUE_MODES: { [mode: string]: ValueMode } = {\n  'min_values': {\n    key: 'min_value',\n    name: 'Min Value'\n  },\n  'max_values': {\n    key: 'max_value',\n    name: 'Max Value'\n  },\n  'values': {\n    key: 'value',\n    name: 'Last Value'\n  },\n};\n\n@Component({\n  selector: 'sm-experiment-compare-metric-values',\n  templateUrl: './experiment-compare-metric-values.component.html',\n  styleUrls: ['./experiment-compare-metric-values.component.scss', '../../cdk-drag.scss']\n})\nexport class ExperimentCompareMetricValuesComponent implements OnInit, OnDestroy {\n  public sortOrder$: Observable<any>;\n  public comparedTasks$: Observable<any>;\n  private selectRefreshing$: Observable<{ refreshing: boolean; autoRefresh: boolean }>;\n\n  private comparedTasksSubscription: Subscription;\n  private refreshingSubscription: Subscription;\n  private paramsSubscription: Subscription;\n  private queryParamsSubscription: Subscription;\n\n  public comparedTasks: TreeNode<any>;\n  public allKeysEmptyObject = {};\n  public refreshDisabled: boolean = false;\n  private paths = [];\n  public experiments = [];\n  private taskIds: string;\n  public valuesMode: ValueMode;\n\n  constructor(private router: Router, public store: Store<any>, private changeDetection: ChangeDetectorRef) {\n    this.comparedTasks$ = this.store.pipe(select(selectCompareMetricsValuesExperiments));\n    this.sortOrder$ = this.store.pipe(select(selectCompareMetricsValuesSortConfig));\n    this.selectRefreshing$ = this.store.select(selectRefreshing);\n  }\n\n  ngOnInit() {\n    this.queryParamsSubscription = this.store.pipe(\n      select(selectRouterQueryParams),\n      map(params => get('scalars', params)),\n      distinctUntilChanged()\n    ).subscribe((valuesMode) => {\n      this.valuesMode = VALUE_MODES[valuesMode] || VALUE_MODES['values'];\n      this.convertExperimentsToNodes(this.experiments.map(exp => exp.last_metrics));\n    });\n\n    this.paramsSubscription = this.store.pipe(\n      select(selectRouterParams),\n      map(params => get('ids', params)),\n      tap(taskIds => this.taskIds = taskIds),\n      filter(taskIds => !!taskIds && taskIds !== this.getExperimentIdsParams(this.experiments))\n    )\n      .subscribe((experimentIds: string) => {\n        this.store.dispatch(new metricsValuesActions.GetComparedExperimentsMetricsValues({taskIds: experimentIds.split(',')}));\n      });\n\n    this.comparedTasksSubscription = this.comparedTasks$\n      .pipe(\n        filter(exp => !!exp),\n        tap(experiments => this.experiments = experiments),\n        tap(experiments => this.syncUrl(experiments, this.taskIds)),\n        map(experiments => experiments.map(exp => exp.last_metrics)))\n      .subscribe(experimentsLastMetrics => {\n        this.refreshDisabled = false;\n        this.convertExperimentsToNodes(experimentsLastMetrics);\n        this.changeDetection.detectChanges();\n      });\n\n    this.refreshingSubscription = this.selectRefreshing$.pipe(filter(({refreshing}) => refreshing))\n      .subscribe(({autoRefresh}) => this.store.dispatch(\n        new metricsValuesActions.GetComparedExperimentsMetricsValues({taskIds: this.taskIds.split(','), autoRefresh})\n      ));\n  }\n\n  ngOnDestroy(): void {\n    this.store.dispatch(new metricsValuesActions.ResetState());\n    this.paramsSubscription.unsubscribe();\n    this.queryParamsSubscription.unsubscribe();\n    this.comparedTasksSubscription.unsubscribe();\n    this.refreshingSubscription.unsubscribe();\n  }\n\n  convertExperimentsToNodes(experiments) {\n    if (experiments) {\n      experiments = experiments.map(experiment => {\n        if (experiment) {\n          const convertedExperiment = {};\n          Object.keys(experiment).map(key => {\n            convertedExperiment[Object.values(experiment[key])[0]['metric']] = experiment[key];\n          });\n          return convertedExperiment;\n        }\n      });\n      this.allKeysEmptyObject = getAllKeysEmptyObject(experiments);\n      this.comparedTasks = experiments.map(experiment => createDiffObjectScalars(this.allKeysEmptyObject, experiments[0], experiment, this.metaDataTransformer, ''),);\n    }\n  }\n\n  public metaDataTransformer = (data, key, path, extraParams) => {\n    const fullPath = path.concat([key]);\n    const keyExists = has(fullPath, extraParams.comparedObject);\n    return {\n      classStyle: keyExists ? 'key-exists' : 'key-not-exists',\n    };\n  };\n\n  trackByFn(index, item) {\n    return item.id;\n  }\n\n  realIsNodeOpen(node) {\n    return this.paths.includes(node.data.key);\n  }\n\n  collapsedToggled(node) {\n    if (!this.realIsNodeOpen(node)) {\n      this.paths.push(node.data.key);\n    } else {\n      this.paths = this.paths.filter(path => path !== node.data.key);\n    }\n  }\n\n  metricSortChanged(event, nodeData) {\n    const orderedKeys = (this.sortByKeyOrValue(event.keyOrValue, event.keyValueArray, event.order)).map(keyValue => keyValue.key);\n    this.store.dispatch(new metricsValuesActions.SetMetricValuesSortBy(nodeData.key, event.keyOrValue, event.order, orderedKeys));\n  }\n\n  sortByKeyOrValue(sortBy, keyValueArray, order) {\n    if (sortBy === 'key') {\n      return keyValueArray.sort(function (a, b) {\n        if (order === 'asc') {\n          return a.key.toLowerCase().localeCompare(b.key.toLowerCase());\n        } else {\n          return b.key.toLowerCase().localeCompare(a.key.toLowerCase());\n        }\n      });\n    } else {\n      return keyValueArray.sort(function (a, b) {\n        if (order === 'asc') {\n          return a.value - b.value;\n        } else {\n          return b.value - a.value;\n        }\n      });\n    }\n  }\n\n  experimentListChanged(experiments: Array<any>) {\n    this.store.dispatch(new metricsValuesActions.SetComparedExperiments(experiments));\n  }\n\n  private syncUrl(experiments: Array<any>, urlParams: string) {\n    const newParams = this.getExperimentIdsParams(experiments);\n    if (newParams !== urlParams) {\n      this.router.navigateByUrl(this.router.url.replace(urlParams, newParams));\n    }\n  }\n\n  private getExperimentIdsParams(experiments: Array<any>): string {\n    return experiments ? experiments.map(e => e.id).toString() : '';\n  }\n\n  copyIdToClipboard() {\n    this.store.dispatch(addMessage('success', 'Copied to clipboard'));\n  }\n}\n","import {ChangeDetectorRef, Component, OnDestroy, OnInit} from '@angular/core';\nimport {Observable, Subscription} from 'rxjs';\nimport {select, Store} from '@ngrx/store';\nimport {IExperimentInfoState} from '../../../../features/experiments/reducers/experiment-info.reducer';\nimport {distinctUntilChanged, filter, map, tap} from 'rxjs/operators';\nimport {selectRouterParams} from '../../../core/reducers/router-reducer';\nimport {isEqual} from 'lodash/fp';\nimport {mergeMultiMetrics, mergeMultiMetricsGroupedVariant} from '../../../tasks/tasks.utils';\nimport {scrollToElement} from '../../../shared/utils/shared-utils';\nimport {GetMultiScalarCharts, ResetExperimentMetrics, SetExperimentMetricsSearchTerm, SetExperimentSettings, SetSelectedExperiments} from '../../actions/experiments-compare-charts.actions';\nimport {selectCompareSelectedSettingsGroupBy, selectCompareSelectedSettingsSmoothWeight, selectCompareSelectedSettingsxAxisType, selectCompareTasksScalarCharts, selectExperimentMetricsSearchTerm, selectRefreshing, selectSelectedExperimentSettings, selectSelectedSettingsHiddenScalar, selectShowScalarsOptions} from '../../reducers';\nimport {ScalarKeyEnum} from '../../../../business-logic/model/events/scalarKeyEnum';\nimport {toggleShowScalarOptions} from '../../actions/compare-header.actions';\nimport {GroupByCharts} from '../../../experiments/reducers/common-experiment-output.reducer';\nimport {GroupedList} from '../../../shared/ui-components/data/selectable-grouped-filter-list/selectable-grouped-filter-list.component';\nimport {ExtFrame} from '../../../shared/experiment-graphs/single-graph/plotly-graph-base';\n\n\n@Component({\n  selector   : 'sm-experiment-compare-scalar-charts',\n  templateUrl: './experiment-compare-scalar-charts.component.html',\n  styleUrls  : ['./experiment-compare-scalar-charts.component.scss']\n})\nexport class ExperimentCompareScalarChartsComponent implements OnInit, OnDestroy {\n\n  public smoothWeight$: Observable<number>;\n  public xAxisType$: Observable<ScalarKeyEnum>;\n  public groupBy$: Observable<GroupByCharts>;\n  public showSettingsBar$: Observable<boolean>;\n  private selectRefreshing$: Observable<{ refreshing: boolean, autoRefresh: boolean }>;\n  private routerParams$: Observable<any>;\n  public metrics$: Observable<any>;\n  public experimentSettings$: Observable<any>;\n  public searchTerm$: Observable<string>;\n  public listOfHidden: Observable<Array<any>>;\n\n  private metricsSubscription: Subscription;\n  private settingsSubscription: Subscription;\n  private routerParamsSubscription: Subscription;\n  private refreshingSubscription: Subscription;\n  private xAxisSub: Subscription;\n  private groupBySub: Subscription;\n\n  public graphList: GroupedList = {};\n  public selectedGraph: string = null;\n  private taskIds: Array<string>;\n  public graphs: { [key: string]: ExtFrame[] };\n  public refreshDisabled = false;\n  public showSettingsBar: boolean = false;\n  public groupBy: GroupByCharts;\n  private metrics: GroupedList;\n\n  groupByOptions = [\n    {\n      name: 'Metric',\n      value: GroupByCharts.Metric\n    },\n    {\n      name: 'Metric + Variant',\n      value: GroupByCharts.None\n    }\n  ];\n\n  constructor(private store: Store<IExperimentInfoState>, private changeDetection: ChangeDetectorRef) {\n    this.listOfHidden = this.store.pipe(select(selectSelectedSettingsHiddenScalar));\n    this.searchTerm$ = this.store.pipe(select(selectExperimentMetricsSearchTerm));\n    this.showSettingsBar$ = this.store.pipe(select(selectShowScalarsOptions));\n    this.smoothWeight$ = this.store.select(selectCompareSelectedSettingsSmoothWeight);\n    this.xAxisType$ = this.store.select(selectCompareSelectedSettingsxAxisType);\n    this.groupBy$ = this.store.select(selectCompareSelectedSettingsGroupBy);\n    this.selectRefreshing$ = this.store.select(selectRefreshing);\n    this.metrics$ = this.store.pipe(\n      select(selectCompareTasksScalarCharts),\n      filter(metrics => !!metrics),\n      distinctUntilChanged()\n    );\n    this.experimentSettings$ = this.store.pipe(\n      select(selectSelectedExperimentSettings),\n      filter(settings => !!settings),\n      map(settings => settings ? settings.selectedScalar : null),\n      distinctUntilChanged()\n    );\n\n    this.routerParams$ = this.store.pipe(\n      select(selectRouterParams),\n      filter(params => !!params.ids),\n      distinctUntilChanged(),\n      tap(() => this.refreshDisabled = true)\n    );\n\n    this.xAxisSub = this.xAxisType$\n      .pipe(filter((axis) => !!axis))\n      .subscribe((axis) => this.store.dispatch(new GetMultiScalarCharts({taskIds: this.taskIds, cached: true})));\n\n    this.groupBySub = this.groupBy$\n      .subscribe(groupBy => {\n        this.groupBy = groupBy;\n        this.prepareGraphsAndUpdate(this.metrics);\n      });\n  }\n\n  ngOnInit() {\n    this.metricsSubscription = this.metrics$\n      .subscribe((metricsWrapped) => {\n        this.refreshDisabled = false;\n        const metrics = metricsWrapped.metrics || {};\n        this.metrics = metrics;\n        this.prepareGraphsAndUpdate(metrics);\n      });\n\n    this.settingsSubscription = this.experimentSettings$\n      .subscribe((selectedMetric) => {\n        this.selectedGraph = selectedMetric;\n        scrollToElement(this.selectedGraph);\n      });\n\n    this.routerParamsSubscription = this.routerParams$\n      .subscribe(params => {\n        if (!this.taskIds || this.taskIds.join(',') !== params.ids) {\n          this.taskIds = params.ids.split(',');\n          this.store.dispatch(new SetSelectedExperiments({selectedExperiments: this.taskIds}));\n          this.store.dispatch(new GetMultiScalarCharts({taskIds: this.taskIds}));\n        }\n      });\n\n    this.refreshingSubscription = this.selectRefreshing$.pipe(filter(({refreshing}) => refreshing))\n      .subscribe(({autoRefresh}) => this.store.dispatch(new GetMultiScalarCharts({taskIds: this.taskIds, autoRefresh})));\n  }\n\n  private prepareGraphsAndUpdate(metrics) {\n    if (metrics) {\n      const merged = this.groupBy === 'metric' ? mergeMultiMetricsGroupedVariant(metrics) : mergeMultiMetrics(metrics);\n      this.graphList = this.groupBy === 'metric' ? this.buildNestedListWithoutChildren(merged) : metrics;\n      if (!this.graphs || !isEqual(merged, this.graphs)) {\n        this.graphs = merged;\n      }\n      this.changeDetection.detectChanges();\n    }\n  }\n\n  private buildNestedListWithoutChildren(merged: { [p: string]: ExtFrame[] }) {\n    return Object.keys(merged).reduce((acc, metric) => {\n      acc[metric] = {};\n      return acc;\n    }, {});\n  }\n\n  ngOnDestroy() {\n    this.metricsSubscription.unsubscribe();\n    this.settingsSubscription.unsubscribe();\n    this.routerParamsSubscription.unsubscribe();\n    this.xAxisSub.unsubscribe();\n    this.refreshingSubscription.unsubscribe();\n    this.resetMetrics();\n  }\n\n  metricSelected(id) {\n    this.store.dispatch(new SetExperimentSettings({id: this.taskIds, changes: {selectedScalar: id}}));\n  }\n\n  hiddenListChanged(hiddenList) {\n    this.store.dispatch(new SetExperimentSettings({id: this.taskIds, changes: {hiddenMetricsScalar: hiddenList}}));\n  }\n\n  searchTermChanged(searchTerm: string) {\n    this.store.dispatch(new SetExperimentMetricsSearchTerm({searchTerm: searchTerm}));\n  }\n\n  resetMetrics() {\n    this.store.dispatch(new ResetExperimentMetrics());\n  }\n\n  changeSmoothness($event: any) {\n    this.store.dispatch(new SetExperimentSettings({id: this.taskIds, changes: {smoothWeight: $event}}));\n  }\n\n  changeXAxisType($event: ScalarKeyEnum) {\n    this.store.dispatch(new SetExperimentSettings({id: this.taskIds, changes: {xAxisType: $event}}));\n  }\n\n  changeGroupBy($event: GroupByCharts) {\n    this.store.dispatch(new SetExperimentSettings({id: this.taskIds, changes: {groupBy: $event}}));\n  }\n\n  toggleSettingsBar() {\n    this.store.dispatch(toggleShowScalarOptions());\n  }\n}\n","<div class=\"d-flex h-100\">\n  <div class=\"list-container\">\n    <sm-graph-settings-bar\n      [verticalLayout]=\"true\"\n      [smoothWeight]=\"smoothWeight$ | async\"\n      [xAxisType]=\"xAxisType$ | async\"\n      [groupBy]=\"groupBy\"\n      [groupByOptions]=\"groupByOptions\"\n      (changeWeight)=\"changeSmoothness($event)\"\n      (toggleSettings)=\"toggleSettingsBar()\"\n      (changeXAxisType)=\"changeXAxisType($event)\"\n      (changeGroupBy)=\"changeGroupBy($event)\"\n    ></sm-graph-settings-bar>\n    <sm-selectable-grouped-filter-list\n      [list]=\"graphList\"\n      [selected]=\"selectedGraph\"\n      [checkedList]=\"listOfHidden | async\"\n      [searchTerm]=\"searchTerm$ | async\"\n      (itemSelect)=\"metricSelected($event)\"\n      (hiddenChanged)=\"hiddenListChanged($event)\"\n      (searchTermChanged)=\"searchTermChanged($event)\"\n    >\n    </sm-selectable-grouped-filter-list>\n  </div>\n  <div class=\"graphs-container h-100\">\n    <sm-experiment-graphs\n      [metrics]=\"graphs\"\n      [hiddenList]=\"listOfHidden | async\"\n      [isGroupGraphs]=\"false\"\n      [isCompare]=\"true\"\n      [showSettings]=\"showSettingsBar$ | async\"\n      [smoothWeight]=\"(smoothWeight$ | async)\"\n      [xAxisType]=\"xAxisType$ | async\"\n      (resetGraphs)=\"resetMetrics()\"\n      (changeWeight)=\"changeSmoothness($event)\"\n      (changeXAxisType)=\"changeXAxisType($event)\"\n      (toggleSettings)=\"toggleSettingsBar()\"\n    >\n    </sm-experiment-graphs>\n  </div>\n</div>\n","import {ChangeDetectorRef, Component, OnDestroy, OnInit} from '@angular/core';\nimport {SelectableListItem} from '../../../shared/ui-components/data/selectable-list/selectable-list.model';\nimport {Observable, Subscription} from 'rxjs';\nimport {select, Store} from '@ngrx/store';\nimport {IExperimentInfoState} from '../../../../features/experiments/reducers/experiment-info.reducer';\nimport {distinctUntilChanged, filter, map, tap} from 'rxjs/operators';\nimport {selectRouterParams} from '../../../core/reducers/router-reducer';\nimport {convertMultiPlots, prepareMultiPlots, sortMetricsList} from '../../../tasks/tasks.utils';\nimport {isEqual} from 'lodash/fp';\nimport {scrollToElement} from '../../../shared/utils/shared-utils';\nimport {GetMultiPlotCharts, ResetExperimentMetrics, SetExperimentMetricsSearchTerm, SetExperimentSettings, SetSelectedExperiments} from '../../actions/experiments-compare-charts.actions';\nimport {selectCompareTasksPlotCharts, selectExperimentMetricsSearchTerm, selectRefreshing, selectSelectedExperimentSettings, selectSelectedSettingsHiddenPlot} from '../../reducers';\nimport {ExtFrame} from '../../../shared/experiment-graphs/single-graph/plotly-graph-base';\n\n@Component({\n  selector: 'sm-experiment-compare-plots',\n  templateUrl: './experiment-compare-plots.component.html',\n  styleUrls: ['./experiment-compare-plots.component.scss']\n})\nexport class ExperimentComparePlotsComponent implements OnInit, OnDestroy {\n\n  private routerParams$: Observable<any>;\n  public listOfHidden: Observable<Array<any>>;\n  public plots$: Observable<any>;\n  public experimentSettings$: Observable<any>;\n  public searchTerm$: Observable<string>;\n  private selectRefreshing$: Observable<{refreshing: boolean, autoRefresh: boolean}>;\n\n  private plotsSubscription: Subscription;\n  private settingsSubscription: Subscription;\n  private routerParamsSubscription: Subscription;\n  private refreshingSubscription: Subscription;\n\n  public graphList: SelectableListItem[] = [];\n  public selectedGraph: string = null;\n  private experimentId: string;\n  private taskIds: Array<string>;\n  public graphs: { [key: string]: ExtFrame[] };\n  public refreshDisabled: boolean;\n\n\n  constructor(private store: Store<IExperimentInfoState>, private changeDetection: ChangeDetectorRef) {\n    this.listOfHidden = this.store.pipe(select(selectSelectedSettingsHiddenPlot));\n    this.searchTerm$ = this.store.pipe(select(selectExperimentMetricsSearchTerm));\n    this.selectRefreshing$ = this.store.select(selectRefreshing);\n    this.plots$ = this.store.pipe(\n      select(selectCompareTasksPlotCharts),\n      filter(metrics => !!metrics),\n      distinctUntilChanged()\n    );\n    this.experimentSettings$ = this.store.pipe(\n      select(selectSelectedExperimentSettings),\n      filter(settings => !!settings),\n      map(settings => settings ? settings.selectedPlot : null),\n      distinctUntilChanged()\n    );\n\n    this.routerParams$ = this.store.pipe(\n      select(selectRouterParams),\n      filter(params => !!params.ids),\n      distinctUntilChanged(),\n      tap(() => this.refreshDisabled = true)\n    );\n\n  }\n\n  ngOnInit() {\n    this.plotsSubscription = this.plots$\n      .subscribe((metricsPlots) => {\n        this.refreshDisabled = false;\n        const merged = prepareMultiPlots(metricsPlots);\n        this.graphList = this.prepareList(merged);\n        const newGraphs = convertMultiPlots(merged);\n        if (!this.graphs || !isEqual(newGraphs, this.graphs)) {\n          this.graphs = newGraphs;\n        }\n        this.changeDetection.detectChanges();\n      });\n\n    this.settingsSubscription = this.experimentSettings$\n      .subscribe((selectedPlot) => {\n        this.selectedGraph = selectedPlot;\n        scrollToElement(this.selectedGraph);\n      });\n\n    this.routerParamsSubscription = this.routerParams$\n      .subscribe(params => {\n        if (!this.taskIds || this.taskIds.join(',') !== params.ids) {\n          this.taskIds = params.ids.split(',');\n          this.store.dispatch(new SetSelectedExperiments({selectedExperiments: this.taskIds}));\n          this.store.dispatch(new GetMultiPlotCharts({taskIds: this.taskIds}));\n        }\n      });\n\n    this.refreshingSubscription = this.selectRefreshing$.pipe(filter(({refreshing}) => refreshing))\n    .subscribe(({autoRefresh}) => this.store.dispatch(new GetMultiPlotCharts({taskIds: this.taskIds, autoRefresh})));\n  }\n\n  ngOnDestroy() {\n    this.plotsSubscription.unsubscribe();\n    this.settingsSubscription.unsubscribe();\n    this.routerParamsSubscription.unsubscribe();\n    this.refreshingSubscription.unsubscribe();\n    this.resetMetrics();\n  }\n\n  private prepareList(metricsScalar: Object): Array<SelectableListItem> {\n    const list = metricsScalar ? Object.keys(metricsScalar) : [];\n    const sortedList = sortMetricsList(list);\n    return sortedList.map((item) => ({name: item, value: item}));\n  }\n\n  metricSelected(id) {\n    this.store.dispatch(new SetExperimentSettings({id: this.taskIds, changes: {selectedPlot: id}}));\n  }\n\n  hiddenListChanged(hiddenList) {\n    this.store.dispatch(new SetExperimentSettings({id: this.taskIds, changes: {hiddenMetricsPlot: hiddenList}}));\n  }\n\n\n  searchTermChanged(searchTerm: string) {\n    this.store.dispatch(new SetExperimentMetricsSearchTerm({searchTerm: searchTerm}));\n  }\n\n  resetMetrics() {\n    this.store.dispatch(new ResetExperimentMetrics());\n  }\n}\n","<div class=\"d-flex h-100\">\n  <div class=\"list-container\">\n    <sm-selectable-filter-list\n      checkAllIcon=\"fa-eye\"\n      placeholder=\"Find plots\"\n      [list]=\"graphList\"\n      [selected]=\"selectedGraph\"\n      [checkedList]=\"listOfHidden | async\"\n      [searchTerm]=\"searchTerm$ | async\"\n      (itemSelect)=\"metricSelected($event)\"\n      (hiddenChanged)=\"hiddenListChanged($event)\"\n      (searchTermChanged)=\"searchTermChanged($event)\"\n    >\n    </sm-selectable-filter-list>\n  </div>\n  <div class=\"graphs-container h-100\">\n    <sm-experiment-graphs\n      [metrics]=\"graphs\"\n      [isCompare]=\"true\"\n      [isGroupGraphs]=\"true\"\n      [hiddenList]=\"listOfHidden | async\"\n      (resetGraphs)=\"resetMetrics()\"\n    >\n    </sm-experiment-graphs>\n  </div>\n</div>\n\n","<div class=\"graph-container\">\n  <div class=\"graph-title\">Hyper Parameters Impact on {{metric.name}}</div>\n  <div #parallelGraph>\n  </div>\n  <div class=\"d-flex legend-container\">\n    <div *ngFor=\"let experiment of experiments\" class=\"experiment-name\">\n      <span class=\"dot-container\">\n        <span #dot class=\"dot pallete-cursor\"\n              [style.background-color]=\"experimentsColors[experiment.id]\"\n              smChooseColor [colorButtonRef]=\"dot\"\n              [defaultColor]=\"experimentsColors[getExperimentNameForColor(experiment)]\"\n              [stringToColor]=\"getExperimentNameForColor(experiment)\">\n        </span>\n      </span>\n      <span\n        class=\"task-name pointer\"\n        (click)=\"toggleHideExperiment(experiment.id)\"\n        (mouseover)=\"highlightExperiment(experiment)\"\n        (mouseout)=\"removeHighlightExperiment()\"\n        [class.hide]=\"experiment.hidden\">\n        {{experiment.name + (experiment.duplicateName ? ('.' + (experiment.id|slice:0:5)) : '')}}\n      </span>\n    </div>\n  </div>\n</div>\n","import {Component, ElementRef, HostListener, Input, OnInit, ViewChild} from '@angular/core';\nimport {PlotlyGraphBase} from '../../../shared/experiment-graphs/single-graph/plotly-graph-base';\nimport {debounceTime, filter} from 'rxjs/operators';\nimport {ColorHashService} from '../../../shared/services/color-hash/color-hash.service';\nimport {get, getOr, isEqual, max, min, uniq, cloneDeep} from 'lodash/fp';\nimport {MetricValueType, SelectedMetric} from '../../reducers/experiments-compare-charts.reducer';\nimport {Task} from '../../../../business-logic/model/tasks/task';\nimport {select} from 'd3-selection';\nimport {sortCol} from '../../../shared/utils/tableParamEncode';\nimport {Store} from '@ngrx/store';\nimport {Axis, Color, ColorScale} from 'plotly.js';\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\ndeclare let Plotly;\n\ninterface ExtraTask extends Task {\n  duplicateName: boolean;\n  hidden: boolean;\n}\n\ninterface Dimension extends Partial<Axis> {\n  label: string;\n  values: number[];\n  constraintrange;\n}\n\ninterface ParaPlotData {\n  type: string;\n  dimensions: Dimension[];\n  line: {\n    color: Color;\n    colorscale?: ColorScale;\n  };\n}\n\n@Component({\n  selector: 'sm-parallel-coordinates-graph',\n  templateUrl: './parallel-coordinates-graph.component.html',\n  styleUrls: ['./parallel-coordinates-graph.component.scss']\n})\nexport class ParallelCoordinatesGraphComponent extends PlotlyGraphBase implements OnInit {\n\n  private data: ParaPlotData[];\n  private _experiments: ExtraTask[];\n  private _metric: SelectedMetric;\n  public experimentsColors = {};\n  public filteredExperiments = [];\n  private timer: NodeJS.Timer;\n  private _parameters: string[];\n\n  @ViewChild('parallelGraph', {static: true}) parallelGraph: ElementRef;\n  private graphWidth: any;\n  private _metricValueType: MetricValueType;\n  private highlighted: ExtraTask;\n  private dimensionsOrder: string[];\n\n  @HostListener('window:resize')\n  redrawChart() {\n    clearTimeout(this.timer);\n    this.timer = setTimeout(() => this.drawChart(), 75);\n  }\n\n  @Input() set metricValueType(metricValueType: MetricValueType) {\n    this._metricValueType = metricValueType;\n    if (this.experiments) {\n      clearTimeout(this.timer);\n      this.timer = setTimeout(() => this.prepareGraph(), 200);\n    }\n  }\n\n  get metricValueType() {\n    return this._metricValueType;\n  }\n\n  @Input() set metric(metric) {\n    if (metric != this.metric) {\n      this._metric = metric;\n      if (this.experiments) {\n        clearTimeout(this.timer);\n        this.timer = setTimeout(() => this.prepareGraph(), 200);\n      }\n    }\n  }\n\n  get metric(): SelectedMetric {\n    return this._metric;\n  }\n\n  @Input() set parameters(parameters) {\n    if (!isEqual(parameters, this.parameters)) {\n      this._parameters = parameters;\n      if (this.experiments) {\n        clearTimeout(this.timer);\n        this.timer = setTimeout(() => this.prepareGraph(), 200);\n      }\n    }\n  }\n\n  get parameters(): string[] {\n    return this._parameters;\n  }\n\n\n  @Input() set experiments(experiments) {\n    let experimentsCopy = cloneDeep(experiments);\n    if (experimentsCopy && (!this.experiments || !isEqual(experimentsCopy.map(experiment => experiment.id), this.experiments.map(experiment => experiment.id)))) {\n\n      const experimentsNames = experimentsCopy.map(experiment => experiment.name);\n      experimentsCopy = experimentsCopy.map(experiment => ({\n        ...experiment,\n        duplicateName: experimentsNames.filter(name => name === experiment.name).length > 1,\n        hidden: this.filteredExperiments.includes(experiment.id)\n      }));\n      this._experiments = experimentsCopy;\n      if (experimentsCopy) {\n        this.prepareGraph();\n      }\n    }\n  }\n\n\n  get experiments(): ExtraTask[] {\n    return this._experiments;\n  }\n\n  private initColorSubscription(forceRedraw = false): void {\n    if (this.colorSub) {\n      // Subscription is already running\n      if (forceRedraw) {\n        this.colorSub.unsubscribe();\n      } else {\n        return;\n      }\n    }\n    this.colorSub = this.colorHash.getColorsObservable()\n      .pipe(\n        filter(colorObj => !!colorObj),\n        debounceTime(100)\n      )\n      .subscribe(() => {\n        this.prepareGraph();\n      });\n  }\n\n  constructor(\n    private colorHash: ColorHashService,\n    protected store: Store\n  ) {\n    super(store);\n  }\n\n  ngOnInit(): void {\n    this.initColorSubscription();\n  }\n\n  toggleHideExperiment(experimentId): void {\n    if (this.filteredExperiments.includes(experimentId)) {\n      this.filteredExperiments = this.filteredExperiments.filter(id => id !== experimentId);\n    } else {\n      this.filteredExperiments.push(experimentId);\n    }\n    this._experiments = this.experiments.map(experiment => ({...experiment, hidden: this.filteredExperiments.includes(experiment.id)}));\n    this.prepareGraph();\n  }\n\n  getStringColor(experiment: ExtraTask): string {\n    const colorArr = this.colorHash.initColor(this.getExperimentNameForColor(experiment));\n    return `rgb(${colorArr[0]},${colorArr[1]},${colorArr[2]})`;\n  }\n\n  getExperimentNameForColor(experiment): string {\n    return `${experiment.name}-${experiment.id}`;\n  }\n\n  getColorsArray(experiments): number[] {\n    return experiments.map((experiment, index) => index / (experiments.length - 1));\n  }\n\n  private prepareGraph(): void {\n    this.experiments.forEach(experiment => this.experimentsColors[experiment.id] = this.getStringColor(experiment));\n    const filteredExperiments = this.experiments.filter(experiment => !experiment.hidden);\n    if (this.parameters && filteredExperiments.length > 0) {\n      const trace = {\n        type: 'parcoords',\n        dimensions: this.parameters.map((parameter) => {\n          parameter = `${parameter}.value`;\n          const allValuesIncludingNull = this.experiments.map(experiment => get(parameter, experiment.hyperparams));\n          const allValues = allValuesIncludingNull.filter(value => (value !== undefined)).filter(value => (value !== ''));\n          const textVal: any = {};\n          let ticktext = this.naturalCompare(uniq(allValues).filter(text => text !== ''));\n          (allValuesIncludingNull.length > allValues.length) && (ticktext = ['N/A'].concat(ticktext));\n          const tickvals = ticktext.map((text, index) => {\n            textVal[text] = index;\n            return index;\n          });\n          let constraintrange;\n          if (this.parallelGraph.nativeElement?.data?.[0]?.dimensions) {\n            const currDimention = this.parallelGraph.nativeElement.data[0].dimensions.find(d => d.label === parameter);\n            if (currDimention?.constraintrange) {\n              constraintrange = currDimention.constraintrange;\n            }\n          }\n          return {\n            label: parameter,\n            ticktext,\n            tickvals,\n            values: filteredExperiments.map((experiment) => (textVal[['', undefined].includes(get(parameter, experiment.hyperparams)) ? 'N/A' : get(parameter, experiment.hyperparams)])),\n            range: [0, max(tickvals)],\n            constraintrange\n          };\n        })\n      } as ParaPlotData ;\n      if (filteredExperiments.length > 1) {\n        trace.line = {\n          color: this.getColorsArray(filteredExperiments),\n          colorscale: filteredExperiments.map((experiment, index) =>\n            [index / (filteredExperiments.length - 1), this.getStringColor(experiment)] as [number, string]),\n        };\n      } else {\n        trace.line = {\n          color: this.getStringColor(filteredExperiments[0])\n        };\n      }\n\n      // this is to keep the metric last in html so that bold scss will take place.\n      // this.data = [trace];\n      // this.drawChart();\n\n      if (this.metric) {\n        const allValuesIncludingNull = this.experiments.map(experiment => get(`${this.metric.path}.${this.metricValueType}`, experiment.last_metrics));\n        const allValues = allValuesIncludingNull.filter(value => value !== undefined);\n        const naVal = this.getNAValue(allValues);\n        const ticktext = uniq(allValuesIncludingNull.map(value => value !== undefined ? value : 'N/A'));\n        const tickvals = ticktext.map(text => text === 'N/A' ? naVal : text);\n        let constraintrange;\n        if (this.parallelGraph.nativeElement?.data?.[0]?.dimensions) {\n          const currDimention = this.parallelGraph.nativeElement.data[0].dimensions.find(d => d.label === this.metric.name);\n          if (currDimention?.constraintrange) {\n            constraintrange = currDimention.constraintrange;\n          }\n        }\n        trace.dimensions.push({\n          label: this.metric.name,\n          ticktext,\n          tickvals,\n          values: filteredExperiments.map((experiment) =>\n            parseFloat(getOr(naVal, `${this.metric.path}.${this.metricValueType}`, experiment.last_metrics))\n          ),\n          range: [min(tickvals), max(tickvals)],\n          constraintrange\n        });\n      }\n      this.data = [trace];\n      if (this.dimensionsOrder) {\n        this.data[0].dimensions.sort((a, b) => sortCol(a.label, b.label, this.dimensionsOrder));\n      }\n      this.drawChart();\n    }\n  }\n\n  private getNAValue(values: Array<number>): number {\n    if (!(values.length > 0)) {\n      return 0;\n    }\n    const valuesMax = max(values);\n    const valuesMin = min(values);\n    return valuesMax === valuesMin ? (valuesMin - 1) : valuesMin - ((valuesMax - valuesMin) / values.length);\n  }\n\n  private drawChart() {\n    Plotly.react(this.parallelGraph.nativeElement, this.data, {\n      margin: {l: 120, r: 120},\n      height: 500,\n      width: this.parallelGraph.nativeElement.offsetWidth\n    }, {\n      'displaylogo': false,\n      'displayModeBar': false,\n      modeBarButtonsToRemove: ['toggleHover']\n    });\n    this.postRenderingGraphManipulation();\n  }\n\n  private postRenderingGraphManipulation() {\n    if (this.parameters) {\n      const graph = select(this.parallelGraph.nativeElement);\n      this.graphWidth = graph.node().getBoundingClientRect().width;\n      graph.selectAll('.y-axis').each((d, index, element) => {\n        if ((d as any).key === this.metric.name) {\n          select(element[index]).attr('class', 'y-axis metric-column');\n        }\n      });\n      graph.selectAll('.axis-title').text((d: any) => this.wrap(d.key)).append('title').text(d => (d as any).key);\n      graph.selectAll('.axis .tick text').text((d: string) => this.wrap(d)).append('title').text((d: string) => d);\n      graph.selectAll('.axis .tick text').style('pointer-events', 'auto');\n      graph.selectAll('.tick').on('mouseover', (event, d) => {\n        const tick = d as unknown as SVGGElement;\n        const axis = tick.parentNode as SVGGElement;\n        if (axis.lastChild !== tick) {\n          axis.removeChild(tick);\n          axis.appendChild(tick);\n        }\n      });\n    }\n  }\n\n  wrap(key) {\n    key = key.toString();\n    const short = (key.slice(0, ((this.graphWidth / this.parameters.length) - 20) / 6));\n    return short + (key.length > short.length ? '...' : '');\n  }\n\n  private naturalCompare(myArray) {\n    const collator = new Intl.Collator(undefined, {numeric: true, sensitivity: 'base'});\n    const compare = (a: string, b: string) => {\n      const aFloat = parseFloat(a);\n      const bFloat = parseFloat(b);\n      if (!Number.isNaN(a) && !Number.isNaN(b)) {\n        return aFloat - bFloat;\n      }\n      return collator.compare(a, b);\n    };\n\n    return (myArray.sort(compare));\n\n  }\n\n  highlightExperiment(experiment: ExtraTask) {\n    if (this.highlighted?.id != experiment?.id) {\n      this.highlighted = experiment;\n      this.dimensionsOrder = this.parallelGraph.nativeElement.data?.[0].dimensions.map(d => d.label);\n      this._experiments = this.experiments.map(exp => ({...exp, hidden: exp.id !== experiment.id}));\n      this.prepareGraph();\n    }\n  }\n\n  removeHighlightExperiment() {\n    this.highlighted = null;\n    this._experiments = this.experiments.map(experiment => ({...experiment, hidden: this.filteredExperiments.includes(experiment.id)}));\n    this.prepareGraph();\n    this.dimensionsOrder = null;\n  }\n}\n","<div class=\"list-container light-theme\">\n\n  <!--#######  Metrics Autocomplete  ######-->\n  <div smClickStopPropagation class=\"metrics-container\">\n    <div class=\"metric-title\">Performance Metric</div>\n    <div class=\"metrics-search\" (click)=\"openList()\">\n      <input #searchMetric\n             type=\"text\"\n             (keydown.escape)=\"clearMetricSearch(); searchMetric.value= ''\"\n             placeholder=\"Search metric\"\n             [smTooltip]=\"selectedMetric?.name\"\n             [showDelay]=\"500\"\n             [value]=\"(!metrics || listOpen) ? '' : selectedMetric?.name\"\n             (input)=\"updateMetricsList($event)\"\n      >\n      <i *ngIf=\"searchMetric.value.length === 0\" class=\"fa fa-search pr-2\"></i>\n      <i *ngIf=\"searchMetric.value.length > 0\" class=\"fa fa-times pointer pr-2\" (click)=\"clearMetricSearchAndSelected(); searchMetric.value= ''\"></i>\n    </div>\n  <mat-radio-group\n    *ngIf=\"!listOpen\"\n    class=\"value-types\"\n    [value]=\"metricValueType$ | async\"\n    [disabled]=\"searchMetric.value=== ''\"\n    (change)=\"valueTypeChange($event)\">\n    <mat-radio-button class=\"sm\" [value]=\"'value'\">LAST</mat-radio-button>\n    <mat-radio-button class=\"sm\" [value]=\"'min_value'\">MIN</mat-radio-button>\n    <mat-radio-button class=\"sm\" [value]=\"'max_value'\">MAX</mat-radio-button>\n  </mat-radio-group>\n    <div class=\"metric-list\" [ngClass]=\"{'metric-list--show': listOpen}\">\n      <mat-expansion-panel *ngFor=\"let metricGroup of metricsOptions; trackBy: trackMetricByFn\"\n                           class=\"metric-list__panel\"\n                           [expanded]=\"listOpen && searchMetric.value.length > 0\">\n        <mat-expansion-panel-header (click)=\"searchMetric.focus()\" class=\"metric-list__header\" expandedHeight=\"40px\" collapsedHeight=\"40px\">\n          <mat-panel-title class=\"metric-list__title\">\n            {{metricGroup.metricName}}\n          </mat-panel-title>\n        </mat-expansion-panel-header>\n        <ng-template matExpansionPanelContent>\n          <div *ngFor=\"let variant of metricGroup.variants; trackBy: trackVariantByFn\"\n               class=\"metric-list__item\"\n               [class.selected]=\"$any(variant).value.name === selectedMetric?.name\"\n               (click)=\"metricSelected($any(variant))\">\n            <span class=\"ellipsis\">{{$any(variant).name}}</span>\n          </div>\n        </ng-template>\n      </mat-expansion-panel>\n    </div>\n\n  </div>\n  <hr class=\"separate-margins\">\n\n  <!--#######  Hyper Params Checked List  ######-->\n  <sm-grouped-checked-filter-list\n    titleText=\"Parameters\"\n    [itemsList]=\"hyperParams\"\n    [selectedItemsList]=\"selectedHyperParams\"\n    [selectFilteredItems]=\"selectShowIdenticalHyperParams$ | async\"\n    [selectedItemsListMapper]=\"selectedItemsListMapper\"\n    selectedItemsListPrefix=\"\"\n    [limitSelection]=\"10\"\n    (selectedItems)=\"selectedParamsChanged($event)\"\n    (clearSelection)=\"clearSelection()\"\n  >\n    <mat-slide-toggle\n      (change)=\"showIdenticalParamsToggled()\"\n      [checked]=\"!showIdenticalParamsActive\">Hide identical fields\n    </mat-slide-toggle>\n  </sm-grouped-checked-filter-list>\n\n</div>\n<div class=\"graphs-container h-100\">\n  <div *ngIf=\"plotlyReady$ | async\" class=\"graph-container\">\n    <sm-parallel-coordinates-graph *ngIf=\"(experiments$ | async).length > 1 && selectedHyperParams.length > 0 && !!selectedMetric; else no_data\"\n                                   [experiments]=\"experiments$ | async\"\n                                   [parameters]=\"selectedHyperParams\"\n                                   [metric]=\"selectedMetric\"\n                                   [metricValueType]=\"metricValueType$ | async\"\n    ></sm-parallel-coordinates-graph>\n    <ng-template #no_data>\n      <div class=\"d-flex align-items-center justify-content-center flex-column h-100 no-data\">\n        <div class=\"al-icon al-ico-no-data-graph\"></div>\n        <div class=\"no-data-title\">No data to show</div>\n        <div>Please select parameters & metric</div>\n      </div>\n    </ng-template>\n  </div>\n</div>\n","import {Component, HostListener, OnDestroy, OnInit, ElementRef, ViewChild} from '@angular/core';\nimport {combineLatest, Observable, Subscription} from 'rxjs';\nimport {select, Store} from '@ngrx/store';\nimport {IExperimentInfoState} from '../../../../features/experiments/reducers/experiment-info.reducer';\nimport {distinctUntilChanged, filter, map} from 'rxjs/operators';\nimport {selectRouterParams} from '../../../core/reducers/router-reducer';\nimport {get, has} from 'lodash/fp';\nimport {SetExperimentSettings, SetSelectedExperiments} from '../../actions/experiments-compare-charts.actions';\nimport {selectRefreshing, selectScalarsGraphHyperParams, selectScalarsGraphMetrics, selectScalarsGraphShowIdenticalHyperParams, selectScalarsGraphTasks, selectMetricValueType, selectSelectedSettigsHyperParams, selectSelectedSettigsMetric} from '../../reducers';\nimport {getExperimentsHyperParams, setShowIdenticalHyperParams, setvalueType} from '../../actions/experiments-compare-scalars-graph.actions';\nimport {GroupedHyperParams, MetricOption, MetricValueType, SelectedMetric, VariantOption} from '../../reducers/experiments-compare-charts.reducer';\nimport {MatRadioChange} from '@angular/material/radio';\nimport {selectPlotlyReady} from '../../../core/reducers/view.reducer';\nimport {ExtFrame} from '../../../shared/experiment-graphs/single-graph/plotly-graph-base';\n\n\nexport const _filter = (opt: VariantOption[], value: string): VariantOption[] => {\n  const filterValue = value.toLowerCase();\n\n  return opt.filter(item => item.name.toLowerCase().includes(filterValue));\n};\n\n@Component({\n  selector: 'sm-experiment-compare-hyper-params-graph',\n  templateUrl: './experiment-compare-hyper-params-graph.component.html',\n  styleUrls: ['./experiment-compare-hyper-params-graph.component.scss']\n})\nexport class ExperimentCompareHyperParamsGraphComponent implements OnInit, OnDestroy {\n  private routerParamsSubscription: Subscription;\n  private hyperParamsSubscription: Subscription;\n  private metricSubscription: Subscription;\n  private selectMetricSubscription: Subscription;\n  private refreshingSubscription: Subscription;\n\n  public selectShowIdenticalHyperParams$: Observable<boolean>;\n  public hyperParams$: Observable<GroupedHyperParams>;\n  public metrics$: Observable<MetricOption[]>;\n  public selectedHyperParams$: Observable<string[]>;\n  private selectedMetric$: Observable<SelectedMetric>;\n  private selectRefreshing$: Observable<{ refreshing: boolean, autoRefresh: boolean }>;\n  public experiments$: Observable<any[]>;\n\n  public graphs: { [key: string]: ExtFrame };\n  public selectedHyperParams: string[];\n  public selectedMetric: SelectedMetric;\n  public hyperParams: { [section: string]:  any};\n  public showIdenticalParamsActive: boolean;\n  public plotlyReady$ = this.store.select(selectPlotlyReady);\n\n  public metrics: MetricOption[];\n  public metricsOptions: MetricOption[];\n  public listOpen = true;\n  private initView = true;\n  private taskIds: string[];\n\n  public metricValueType$: Observable<MetricValueType>;\n  public selectedItemsListMapper(data) {\n    return data\n  }\n  @ViewChild('searchMetric') searchMetricRef: ElementRef;\n\n  @HostListener('document:click', [])\n  clickOut() {\n    if (!this.initView) {\n      this.listOpen = false;\n    }\n  }\n\n  constructor(private store: Store<IExperimentInfoState>) {\n    this.metrics$ = this.store.pipe(select(selectScalarsGraphMetrics));\n    this.hyperParams$ = this.store.pipe(select(selectScalarsGraphHyperParams));\n    this.selectedHyperParams$ = this.store.pipe(select(selectSelectedSettigsHyperParams));\n    this.selectedMetric$ = this.store.pipe(select(selectSelectedSettigsMetric));\n    this.selectShowIdenticalHyperParams$ = this.store.pipe(select(selectScalarsGraphShowIdenticalHyperParams));\n    this.selectRefreshing$ = this.store.select(selectRefreshing);\n    this.experiments$ = this.store.pipe(select(selectScalarsGraphTasks));\n    this.metricValueType$ = this.store.pipe(select(selectMetricValueType));\n\n  }\n\n  ngOnInit() {\n    this.selectMetricSubscription = this.selectedMetric$.pipe(\n      distinctUntilChanged((x, y) => x?.path === y?.path)\n    ).subscribe((selectedMetric: SelectedMetric) => this.selectedMetric = selectedMetric?.name? {...selectedMetric} : null);\n\n    this.metricSubscription = this.metrics$.pipe(filter(metrics => !!metrics)).subscribe(metrics => {\n      this.metrics = metrics;\n      this.metricsOptions = [...metrics];\n\n      if (this.selectedMetric && this.metrics.every(metric => metric.variants.every(variant => this.selectedMetric.name !== variant.value.name))) {\n        this.selectedMetric = null;\n      }\n    });\n\n    this.hyperParamsSubscription = combineLatest([this.selectedHyperParams$, this.hyperParams$, this.selectShowIdenticalHyperParams$])\n      .pipe(\n        filter(([selectedParams, allParams, filterActive]) => !!allParams),\n      )\n      .subscribe(([selectedParams, allParams, showIdentical]) => {\n        this.showIdenticalParamsActive = showIdentical;\n        this.hyperParams = Object.entries(allParams)\n          .reduce((acc, [sectionKey, params]) => {\n            const section = Object.keys(params)\n              .sort((a, b) => a.toLowerCase() > b.toLowerCase() ? 1 : -1)\n              .reduce((acc2, paramKey) => {\n                if (showIdentical || params[paramKey]) {\n                  acc2[paramKey] = true;\n                }\n                return acc2;\n              }, {});\n            if (Object.keys(section).length > 0) {\n              acc[sectionKey] = section;\n            }\n            return acc;\n          }, {});\n        this.selectedHyperParams = selectedParams.filter(selectedParam => has(selectedParam, this.hyperParams));\n      });\n\n    this.routerParamsSubscription = this.store.pipe(\n      select(selectRouterParams),\n      map(params => get('ids', params)),\n      distinctUntilChanged(),\n      filter(ids => !!ids),\n    )\n      .subscribe(ids => {\n        this.taskIds = ids.split(',');\n        this.store.dispatch(new SetSelectedExperiments({selectedExperiments: ['hyper-param-graph']}));\n        this.store.dispatch(getExperimentsHyperParams({experimentsIds: this.taskIds}));\n      });\n\n    this.refreshingSubscription = this.selectRefreshing$.pipe(filter(({refreshing}) => refreshing)).subscribe(({autoRefresh}) =>\n      this.store.dispatch(getExperimentsHyperParams({experimentsIds: this.taskIds, autoRefresh})));\n\n    this.listOpen = true;\n    window.setTimeout(() => {\n      this.searchMetricRef.nativeElement.focus();\n      this.initView = false;\n    }, 200);\n  }\n\n  ngOnDestroy() {\n    this.routerParamsSubscription.unsubscribe();\n    this.hyperParamsSubscription.unsubscribe();\n    this.metricSubscription.unsubscribe();\n    this.selectMetricSubscription.unsubscribe();\n    this.refreshingSubscription.unsubscribe();\n  }\n\n  private _filterGroup(value: string): MetricOption[] {\n    if (value) {\n      return this.metrics\n        .map(group => ({metricName: group.metricName, variants: _filter(group.variants, value)}))\n        .filter(group => group.variants.length > 0);\n    }\n\n    return this.metrics;\n  }\n\n  metricSelected(metric: VariantOption) {\n    this.updateServer(metric.value, this.selectedHyperParams);\n    this.listOpen = false;\n  }\n\n  selectedParamsChanged({param, value}) {\n    const newSelectedParamsList = this.selectedHyperParams.includes(param) ? this.selectedHyperParams.filter(i => i !== param) : [...this.selectedHyperParams, param];\n    this.updateServer(this.selectedMetric, newSelectedParamsList);\n  }\n\n  clearSelection() {\n    this.updateServer(null, this.selectedHyperParams);\n    this.updateServer(this.selectedMetric, []);\n  }\n\n  showIdenticalParamsToggled() {\n    this.store.dispatch(setShowIdenticalHyperParams());\n  }\n\n  updateServer(selectedMetric, selectedParams) {\n    this.store.dispatch(new SetExperimentSettings({id: ['hyper-param-graph'], changes: {selectedMetric: selectedMetric, selectedHyperParams: selectedParams}}));\n\n  }\n\n  updateMetricsList(event: Event) {\n    this.metricsOptions = this._filterGroup((event.target as HTMLInputElement).value);\n  }\n\n  clearMetricSearchAndSelected() {\n    this.updateServer(null, this.selectedHyperParams);\n    this.selectedMetric = null;\n    this.metricsOptions = this._filterGroup('');\n  }\n\n  clearMetricSearch() {\n    this.metricsOptions = this._filterGroup('');\n  }\n\n  openList() {\n    this.listOpen = true;\n  }\n\n  trackMetricByFn(index: number, item: MetricOption): string {\n    return item.metricName;\n  }\n\n  trackVariantByFn(index: number, item: VariantOption): string {\n    // TODO: validate with @nirla\n    return item.value.path;\n  }\n\n  valueTypeChange($event: MatRadioChange) {\n    this.store.dispatch(setvalueType({valueType: $event.value}));\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot} from '@angular/router';\nimport {Store} from '@ngrx/store';\n\n@Injectable({providedIn: 'root'})\nexport class RouterHelperGuard implements CanActivate {\n\n  constructor(public router: Router, public store: Store<any>) {\n  }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    const viewMode = (route.url[0] && route.queryParams[route.url[0].path] || 'values').replace(/.*_/, '') || 'values'; // i.e: graph, min_values\n    const defaultViewMode = route.url[1].path; // usually 'values'\n    if (viewMode !== defaultViewMode) {\n      this.router.navigateByUrl(state.url.replace(defaultViewMode, viewMode), /* Removed unsupported properties by Angular migration: queryParamsHandling. */ {});\n      return false;\n    }\n    return true;\n  }\n}\n","<sm-compare-card-list\n  [experiments]=\"experiments\"\n  [baseExperiment]=\"baseExperiment\"\n  [ngClass]=\"calculatingTree ? 'pending' : ''\"\n  (experimentListChanged)=\"experimentListChanged($event)\"\n>\n  <div *compareCardHeader=\"let experiment; let i = index\">\n    <sm-experiment-compare-general-data\n      [experiment]=\"experiment\"\n      [tags]=\"experimentTags[experiment.id]\"\n      (copyIdClicked)=\"copyIdToClipboard()\">\n    </sm-experiment-compare-general-data>\n  </div>\n  <div class=\"tree-card-body\" *compareCardBody=\"let experiment; let i = index\">\n    <div #section class=\"section h-100\" *ngIf=\"experimentsDataControl[experiment.id]\">\n      <!--      TODO: move is-not-origin class outside nodes tree-->\n      <ng-template let-dataSource=\"dataSource\"\n                   let-treeControl=\"treeControl\"\n                   [ngTemplateOutletContext]=\"{dataSource: experimentsDataControl[experiment.id][0],\n                                               treeControl: experimentsDataControl[experiment.id][1]}\"\n                   [ngTemplateOutlet]=\"selfie\" #selfie>\n        <cdk-virtual-scroll-viewport #virtualScrollRef class=\"virtual-scroll-container\" [class.is-not-origin]=\"i > 0\" itemSize=\"28\" minBufferPx=\"280\" maxBufferPx=\"560\">\n          <ng-container *cdkVirtualFor=\"let node of dataSource; let i = index\">\n            <div class=\"node\" [class.parent]=\"node.hasChildren\">\n              <div *ngIf=\"node.hasChildren\" class=\"section\" [ngClass]=\"'depth-' + node.level\">\n                <div class=\"content\"\n                     (click)=\"toggleNode(node)\"\n                     [ngClass]=\"node?.data?.classStyle\"\n                     [class.selected-diff]=\"checkIfSelectedPath(node.data)\"\n                     [class.identical-row]=\"!allPaths[node.data.path]\">\n                  <i class=\"fas\" [style.margin-left.px]=\"2 + node.level * 20\" [ngClass]=\"treeControl.isExpanded(node) ? 'fa-chevron-down' : 'fa-chevron-right'\"></i>\n                  <span class=\"title-key\" [class.ellipsis]=\"showEllipsis\">{{(renameMap[node.data.key] || node.data.key)}}</span>\n                </div>\n              </div>\n              <div *ngIf=\"!node.hasChildren\" class=\"section\" (click)=\"keyClicked(node.data)\">\n                <div [style.padding-left.px]=\"2 + node.level * 20\" [ngClass]=\"{\n                  'node-item-container': true,\n                  'identical-row': checkIfIdenticalRow(node.data),\n                  'selected-diff': checkIfSelectedPath(node.data),\n                  'not-existing-on-origin': !node.data.existOnOrigin,\n                  'not-existing-on-compared': !node.data.existOnCompared,\n                  'diff-row': !node.data.isValueEqualToOrigin,\n                  'equal-row': node.data.isValueEqualToOrigin,\n                  'hide-identical-mode': hideIdenticalFields\n                }\">\n                  <div *ngIf=\"(node.data.value !== undefined) || (node.data.existOnOrigin && node.data.existOnCompared)\" #row class=\"node-row\">\n                    <pre class=\"node-key\"\n                         [class.no-ellipsis]=\"node.data.key.length < 15\"\n                         [class.ellipsis]=\"showEllipsis\"\n                    >{{node.data.key}}<i  class=\"al-icon sm al-ico-line-expand extend-toggle\" [class.fa-rotate-180]=\"!showEllipsis\" (click)=\"toggleEllipsis(); $event.stopPropagation()\"></i>\n                    </pre>\n                    <pre class=\"node-val\"\n                         [style.width]=\"showEllipsis ? (section.clientWidth - 250) + 'px' : null\"\n                         [class.no-ellipsis]=\"node.data.value.length < 15\"\n                         [class.ellipsis]=\"showEllipsis\">{{node.data.value}}<i  class=\"al-icon sm al-ico-line-expand extend-toggle\" [class.fa-rotate-180]=\"!showEllipsis\" (click)=\"toggleEllipsis(); $event.stopPropagation()\"></i>\n                    </pre>\n                    <i *ngIf=\"node.data.tooltip\" class=\"al-icon sm al-ico-description node-icon\" customClass=\"hyper-parameters-tooltip\" [smTooltip]=\"node.data.tooltip\"></i>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </ng-container>\n        </cdk-virtual-scroll-viewport>\n      </ng-template>\n    </div>\n  </div>\n</sm-compare-card-list>\n\n\n<sm-portal outletId=\"searchDiff\">\n  <div class=\"btn-group mr-2\" role=\"group\">\n    <sm-search [value]=\"searchText\"\n               [minimumChars]=\"1\"\n               [debounceTime]=\"300\"\n               (keydown.enter)=\"findNext()\"\n               (valueChanged)=\"find($event)\"\n    ></sm-search>\n\n    <button class=\"btn btn-secondary prev\" smTooltip=\"Previous occurrence\" [disabled]=\"foundPaths.length === 0 \" (click)=\"findPrev()\">\n      <i class=\"fas fa-chevron-up\"></i>\n    </button>\n\n    <button class=\"btn btn-secondary next\" smTooltip=\"Next occurrence\" [disabled]=\"foundPaths.length === 0 \" (click)=\"findNext()\">\n      <i class=\"fas fa-chevron-down\"></i>\n    </button>\n  </div>\n  <span [class.hidden]=\"searchText.length === 0 \"> Match {{foundPaths.length === 0 ? '0' : foundIndex + 1}} / {{foundPaths.length}}</span>\n</sm-portal>\n\n<sm-portal outletId=\"nextDiff\">\n  <button class=\"btn btn-secondary btn-arrow mr-3\" smTooltip=\"Previous diff\" (click)=\"goToNextDiff('up')\">\n    <i class=\"fas fa-arrow-up\"></i>\n  </button>\n\n  <button class=\"btn btn-secondary btn-arrow\" smTooltip=\"Next diff\" (click)=\"goToNextDiff('down')\">\n    <i class=\"fas fa-arrow-down\"></i>\n  </button>\n</sm-portal>\n","import {ExperimentsCompareComponent} from './experiments-compare.component';\nimport {RouterModule, Routes} from '@angular/router';\nimport {NgModule} from '@angular/core';\nimport {SMSharedModule} from '../shared/shared.module';\nimport {ExperimentCompareDetailsComponent} from './containers/experiment-compare-details/experiment-compare-details.component';\nimport {ExperimentCompareMetricValuesComponent} from './containers/experiment-compare-metric-values/experiment-compare-metric-values.component';\nimport {ExperimentCompareScalarChartsComponent} from './containers/experiment-compare-metric-charts/experiment-compare-scalar-charts.component';\nimport {ExperimentComparePlotsComponent} from './containers/experiment-compare-plots/experiment-compare-plots.component';\nimport {DebugImagesComponent} from '../debug-images/debug-images.component';\nimport {ExperimentCompareHyperParamsGraphComponent} from './containers/experiment-compare-hyper-params-graph/experiment-compare-hyper-params-graph.component';\nimport {RouterHelperGuard} from './experiment-compare-router-helper.guard';\nimport {ExperimentCompareParamsComponent} from './containers/experiment-compare-params/experiment-compare-params.component';\n\n\nexport const routes: Routes = [\n  {\n    path: '',\n    component: ExperimentsCompareComponent,\n    data: {search: false},\n    children: [\n      {path: '', redirectTo: 'details', pathMatch: 'full'},\n      {path: 'metrics-values', redirectTo: 'scalars/values', pathMatch: 'full'},\n      {path: 'metrics-charts', redirectTo: 'scalars/graph', pathMatch: 'full'},\n\n      {path: 'details', component: ExperimentCompareDetailsComponent, data: {mode: 'details'}},\n      {path: 'hyper-params/values', component: ExperimentCompareParamsComponent, canActivate: [RouterHelperGuard], data: {mode: 'hyper-params'}},\n      {path: 'hyper-params/graph', component: ExperimentCompareHyperParamsGraphComponent},\n      {path: 'scalars/values', component: ExperimentCompareMetricValuesComponent, canActivate: [RouterHelperGuard]},\n      {path: 'scalars/graph', component: ExperimentCompareScalarChartsComponent},\n      {path: 'metrics-plots', component: ExperimentComparePlotsComponent},\n      {path: 'debug-images', component: DebugImagesComponent, data: {mergeIterations: true, multiple: true}},\n    ]\n  },\n];\n\n@NgModule({\n  imports: [\n    SMSharedModule,\n    RouterModule.forChild(routes),\n\n  ],\n  exports: [\n    RouterModule\n  ]\n})\nexport class ExperimentsCompareRoutingModule {\n}\n\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit} from '@angular/core';\nimport {select, Store} from '@ngrx/store';\nimport {get} from 'lodash/fp';\nimport {selectExperimentsParams} from '../../reducers';\nimport {filter, tap} from 'rxjs/operators';\nimport {\n  ExperimentCompareTree,\n  IExperimentDetail\n} from '../../../../features/experiments-compare/experiments-compare-models';\nimport {ExperimentParams} from '../../shared/experiments-compare-details.model';\nimport {convertExperimentsArraysParams, getAllKeysEmptyObject, isParamsConverted} from '../../jsonToDiffConvertor';\nimport {ExperimentCompareBase} from '../experiment-compare-base';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {IExperimentInfoState} from '../../../../features/experiments/reducers/experiment-info.reducer';\nimport {experimentListUpdated, setExperiments} from '../../actions/experiments-compare-params.actions';\n\n@Component({\n  selector: 'sm-experiment-compare-params',\n  templateUrl: './experiment-compare-params.component.html',\n  styleUrls: ['./experiment-compare-params.component.scss', '../../cdk-drag.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ExperimentCompareParamsComponent extends ExperimentCompareBase implements OnInit {\n  public showEllipsis: boolean = true;\n\n  constructor(public router: Router,\n              public store: Store<IExperimentInfoState>,\n              public changeDetection: ChangeDetectorRef,\n              public activeRoute: ActivatedRoute) {\n    super(router, store, changeDetection, activeRoute);\n  }\n\n  experiments$ = this.store.pipe(select(selectExperimentsParams));\n\n  ngOnInit() {\n    this.onInit();\n\n    this.compareTabPage = get('snapshot.routeConfig.data.mode', this.activeRoute);\n\n    this.routerParamsSubscription = this.taskIds$.subscribe((experimentIds: string) => this.store.dispatch(experimentListUpdated({ids: experimentIds.split(',')})));\n\n    this.experimentsSubscription = this.experiments$.pipe(\n      filter(experiments => !!experiments && experiments.length > 0),\n      tap(experiments => {\n        this.syncUrl(experiments);\n        this.extractTags(experiments);\n      }),\n    ).subscribe(experiments => {\n      this.originalExperiments = experiments.reduce((acc, exp) => {\n        acc[exp.id] = isParamsConverted(exp.hyperparams) ? this.originalExperiments[exp.id] : exp;\n        return acc;\n      }, {} as { [id: string]: IExperimentDetail | ExperimentParams });\n      const experimentList = Object.values(this.originalExperiments).map(experiment => convertExperimentsArraysParams(experiment, this.originalExperiments[experiments[0].id]));\n      this.resetComponentState(experimentList);\n      this.calculateTree(experimentList);\n    });\n  }\n\n  buildCompareTree(experiments: Array<ExperimentParams>): ExperimentCompareTree {\n    const mergedExperiment = getAllKeysEmptyObject(experiments);\n    return experiments\n      .reduce((acc, cur) => {\n        acc[cur.id] = {\n          'hyper-params': this.buildSectionTree(cur, 'hyperparams', mergedExperiment)\n        };\n\n        return acc;\n      }, {} as ExperimentCompareTree);\n  }\n\n  experimentListChanged(experiments: IExperimentDetail[]) {\n    this.store.dispatch(setExperiments({experiments: experiments as ExperimentParams[]}));\n  }\n\n  toggleEllipsis() {\n    this.showEllipsis = !this.showEllipsis;\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {ExperimentReverterService} from '../../../features/experiments/shared/services/experiment-reverter.service';\nimport {get} from 'lodash/fp';\nimport {ExecutionDetails, ModelDetails} from '../shared/experiments-compare-details.model';\nimport {Task} from '../../../business-logic/model/tasks/task';\nimport {ExperimentDetailsReverterServiceBase} from '../../../features/experiments-compare/experiment-details-reverter-service.base';\nimport {ARTIFACTS_TYPES} from '../../tasks/tasks.constants';\nimport {Artifact} from '../../../business-logic/model/tasks/artifact';\nimport {crc32} from '../../shared/utils/shared-utils';\nimport {TaskModelItem} from '../../../business-logic/model/tasks/taskModelItem';\nimport {IModelInfo} from '../../experiments/shared/common-experiment-model.model';\nimport {ITask} from '../../../business-logic/model/al-task';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ExperimentDetailsReverterService extends ExperimentDetailsReverterServiceBase {\n\n  constructor(public experimentReverter: ExperimentReverterService) {\n    super(experimentReverter);\n  }\n\n  revertArtifacts(experiment: ITask): any {\n    const result = {\n      ' input models': this.revertModels(experiment.models.input),\n      ' output models': this.revertModels(experiment.models.output)\n    };\n    experiment.execution.artifacts.forEach(artifact => result[artifact.key] = this.revertArtifact(artifact));\n    return result;\n  }\n\n  revertArtifact(artifact: Artifact): any {\n    if (artifact.type === ARTIFACTS_TYPES.AUDIT_LOG) {\n      return this.revertAuditLog(artifact);\n    }\n\n    // Currently we have only audit_log so:\n    return this.revertAuditLog(artifact);\n  }\n\n  revertAuditLog(artifact: Artifact): any {\n    const {uri, content_size, hash, timestamp, display_data, mode, key, type_data, ...restArtifact} = artifact;\n    const result = {\n      ...restArtifact,\n      'file size': content_size,\n      'file hash': hash,\n    };\n\n    if (type_data) {\n      const preview  = type_data.preview && type_data.preview.trim().split('\\n') || [];\n      result['content type'] = type_data['content_type'] || '';\n      result['preview'] = (preview.length < 3000 && preview[0]?.length < 3000) ? preview : [`** Content is too large to display. Hash: ${crc32(type_data.preview)}`];\n      result['data hash'] = type_data.data_hash || '';\n    }\n    display_data.forEach(pair => result[pair[0]] = pair[1]);\n\n    return result;\n  }\n\n  revertModels(models: TaskModelItem[]) {\n    return models.reduce((acc, model) => {\n      acc[model.name] = this.revertModel(model);\n      return acc;\n    }, {});\n  }\n\n  revertModel(model: TaskModelItem): ModelDetails {\n    return {\n      model: this.revertModelInput(model),\n      network_design: this.revertNetworkDesign(model.model),\n    };\n  }\n\n  revertNetworkDesign(model): string {\n    let networkDesign = model?.design?.design || model?.design;\n    networkDesign = typeof networkDesign === 'string' ? networkDesign.split('\\n') : {};\n    return networkDesign;\n  }\n\n  revertExecution(experiment: ITask): ExecutionDetails {\n    let pip = get('script.requirements.pip', experiment);\n    pip = (pip === undefined || Array.isArray(pip)) ? pip : pip.split('\\n');\n    pip = pip?.filter(row => !row.startsWith('#') && row.length > 0); // Should we remove comments????\n\n    let diff = get('script.diff', experiment);\n    if (diff) {\n      diff = (Array.isArray(diff)) ? diff : diff.split('\\n');\n      diff = (diff.length < 3000 && diff[0]?.length < 3000) ? diff : [`** Content is too large to display. Hash: ${crc32(get('script.diff', experiment))}`];\n    }\n\n    return {\n      source: experiment.script ? this.revertExecutionSource(experiment.script) : undefined,\n      uncommitted_changes: diff,\n      installed_packages: pip,\n      container: {\n        image: experiment.container?.image || '',\n        arguments: experiment.container?.arguments || '',\n        setup_shell_script: experiment.container?.setup_shell_script?.split('\\n') || []\n      }\n    };\n  }\n\n\n  public revertModelInput(model: TaskModelItem): IModelInfo {\n    return {\n      id: get('model.id', model),\n      name: get('model.name', model),\n      // taskName: get('name', model),\n      uri: get('model.uri', model),\n      framework: get('framework', model) || get('model.framework', model)\n    };\n  }\n\n  public revertExecutionSource(script: Task['script']) {\n    return {\n      binary: script.binary,\n      repository: script.repository,\n      working_dir: script.working_dir,\n      script_path: script.entry_point,\n      branch: script.branch,\n      commit_id: script.version_num,\n      tag_name: script.tag || '' // In tag_name we want undefined == null == \"\"\n    };\n  }\n\n}\n","import {ISelectedExperiment} from '../experiments/shared/experiment-info.model';\nimport {ConfigurationItem} from '../../business-logic/model/tasks/configurationItem';\nimport {ITask} from '../../business-logic/model/al-task';\n\nexport abstract class ExperimentDetailsReverterServiceBase {\n  public experimentReverter;\n\n  constructor(experimentReverter) {\n    this.experimentReverter = experimentReverter;\n  }\n\n\n  revertExperiments(experimentIds: Array<string>, experiments: ITask[]) {\n    // map the experiment ids to keep the user order.\n    return experimentIds.map(id => {\n      const exp = experiments.find(ex => ex.id === id);\n      return {\n        id: exp.id,\n        name: exp.name,\n        status: exp.status,\n        last_iteration: exp.last_iteration,\n        last_update: exp.last_update,\n        project: exp.project,\n        completed: exp.completed,\n        tags: exp.tags,\n        execution: this.revertExecution(exp),\n        artifacts: this.revertArtifacts(exp),\n        configuration: this.revertconfiguration(exp.configuration)\n      };\n    });\n  }\n\n  protected sortObjectByKey(obj) {\n    const orderedLabels = {};\n    Object.keys(obj).sort().forEach((key) => {\n      orderedLabels[key] = typeof obj[key] === 'string' ? obj[key] : this.sortObjectByKey(obj[key]);\n    });\n\n    return orderedLabels;\n  }\n\n  private revertconfiguration(configuration: {[p: string]: ConfigurationItem}) {\n    if (!configuration) {\n      return {};\n    }\n    return Object.entries(configuration).reduce((acc, [key, value]) => {\n      if (key === 'design' && value.type === 'legacy') {\n        acc['General'] = value;\n      } else {\n        acc[key] = value;\n      }\n      return acc;\n    }, {});\n  }\n\n  abstract revertArtifacts(exp: ITask);\n\n  abstract revertExecution(exp: ITask);\n}\n","import {COMPARE_DETAILS_ONLY_FIELDS_BASE} from '../../webapp-common/experiments-compare/experiments-compare.constants';\n\nexport const getCompareDetailsOnlyFields = param => COMPARE_DETAILS_ONLY_FIELDS_BASE;\n\nexport const COMPARE_PARAMS_ONLY_FIELDS = [\n  'id',\n  'name',\n  'type',\n  'status',\n  'last_update',\n  'project.name',\n  'tags',\n  'published',\n  'last_iteration',\n  'hyperparams'\n];\n","import {Injectable} from '@angular/core';\nimport {Actions, createEffect, ofType} from '@ngrx/effects';\nimport {select, Store} from '@ngrx/store';\nimport {activeLoader, deactivateLoader, setServerError} from '../../core/actions/layout.actions';\nimport {catchError, mergeMap, map, switchMap, withLatestFrom} from 'rxjs/operators';\nimport {ApiTasksService} from '../../../business-logic/api-services/tasks.service';\nimport {ExperimentDetailsReverterService} from '../services/experiment-details-reverter.service';\nimport {requestFailed} from '../../core/actions/http.actions';\nimport {selectExperimentIdsDetails, selectExperimentsDetails} from '../reducers';\nimport {Observable, of} from 'rxjs';\nimport {IExperimentDetail} from '../../../features/experiments-compare/experiments-compare-models';\nimport {REFETCH_EXPERIMENT_REQUESTED, refetchExperimentRequested, setRefreshing} from '../actions/compare-header.actions';\nimport {ExperimentCompareDetailsState} from '../reducers/experiments-compare-details.reducer';\nimport {experimentListUpdated, setExperiments} from '../actions/experiments-compare-details.actions';\nimport {getCompareDetailsOnlyFields} from '../../../features/experiments-compare/experiments-compare-consts';\nimport {selectHasDataFeature} from '../../../core/reducers/users.reducer';\n\n@Injectable()\nexport class ExperimentsCompareDetailsEffects {\n\n  constructor(private actions$: Actions, private tasksApi: ApiTasksService, private store: Store<ExperimentCompareDetailsState>,\n              private experimentDetailsReverter: ExperimentDetailsReverterService\n  ) {\n  }\n\n\n  activeLoader$ = createEffect(() => this.actions$.pipe(\n    ofType(experimentListUpdated, REFETCH_EXPERIMENT_REQUESTED),\n    map(action => activeLoader(action.type))\n  ));\n\n  updateExperimentsDetail$ = createEffect(() => this.actions$.pipe(\n    ofType(experimentListUpdated),\n    withLatestFrom(\n      this.store.pipe(select(selectExperimentIdsDetails)),\n      this.store.select(selectHasDataFeature)\n    ),\n    switchMap(([action, oldExperimentIds, hasDataFeature]) => {\n      const newExperimentIds = action.ids.filter(id => !oldExperimentIds.includes(id));\n      return this.fetchExperimentDetails$(newExperimentIds, hasDataFeature)\n        .pipe(\n          withLatestFrom(this.store.pipe(select(selectExperimentsDetails))),\n          // get only the relevant experiments\n          map(([experiments, oldExperiments]) => oldExperiments.filter(exp => action.ids.includes(exp.id)).concat(experiments)),\n          mergeMap(experiments => [\n            deactivateLoader(action.type),\n            setExperiments({experiments})\n          ]),\n          catchError(error => [\n            requestFailed(error),\n            deactivateLoader(action.type),\n            setServerError(error, null, 'The attempt to retrieve your experiment data failed. Refresh your browser and try again.')\n          ])\n        );\n    })\n  ));\n\n  refetchExperimentEffect$ = createEffect(() => this.actions$.pipe(\n    ofType(refetchExperimentRequested),\n    withLatestFrom(this.store.select(selectExperimentIdsDetails), this.store.select(selectHasDataFeature)),\n    switchMap(([action, newExperimentIds, hasDataFeature]) => this.fetchExperimentDetails$(newExperimentIds, hasDataFeature).pipe(\n        mergeMap(experiments => [\n          deactivateLoader(action.type),\n          setRefreshing({payload: false}),\n          setExperiments({experiments})\n        ]),\n        catchError(error => [\n          requestFailed(error),\n          deactivateLoader(action.type),\n          setRefreshing({payload: false}),\n          setServerError(\n            error, null,\n            'The attempt to retrieve your experiment data failed. Refresh your browser and try again.',\n            action.autoRefresh\n          )\n        ])\n      )),\n  ));\n\n  fetchExperimentDetails$(ids, hasDataFeature: boolean): Observable<Array<IExperimentDetail>> {\n    return ids.length > 0 ?\n      this.tasksApi.tasksGetAllEx({\n        id: ids,\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        only_fields: getCompareDetailsOnlyFields(hasDataFeature)\n      }).pipe(\n        map(res => this.experimentDetailsReverter.revertExperiments(ids, res.tasks))\n      )\n      : of([]);\n  }\n}\n\n","import {Injectable} from '@angular/core';\nimport {Actions, Effect, ofType} from '@ngrx/effects';\nimport {Store} from '@ngrx/store';\nimport {IExperimentCompareDebugImagesState} from '../reducers/experiments-compare-debug-images.reducer';\nimport * as debugImagesActions from '../actions/experiments-compare-debug-images.actions';\nimport {activeLoader} from '../../../webapp-common/core/actions/layout.actions';\nimport {map} from 'rxjs/operators';\n\n\n@Injectable()\nexport class ExperimentsCompareDebugImagesEffects {\n\n  constructor(private actions$: Actions, private store: Store<IExperimentCompareDebugImagesState>) {\n  }\n\n  @Effect()\n  activeLoader = this.actions$.pipe(\n    ofType(debugImagesActions.SET_SOMETHING),\n    map(action => activeLoader(action.type))\n  );\n}\n","import {Action} from '@ngrx/store';\n\nexport const EXPERIMENTS_COMPARE_DEBUG_IMAGES_ = 'EXPERIMENTS_COMPARE_DEBUG_IMAGES_';\n\nexport const SET_SOMETHING = EXPERIMENTS_COMPARE_DEBUG_IMAGES_ + 'SET_SOMETHING';\n\n\nexport class SetSomething implements Action {\n  readonly type = SET_SOMETHING;\n}\n","import {Injectable} from '@angular/core';\nimport {act, Actions, Effect, ofType} from '@ngrx/effects';\nimport {Store} from '@ngrx/store';\nimport {IExperimentCompareChartsState} from '../reducers/experiments-compare-charts.reducer';\nimport * as chartActions from '../actions/experiments-compare-charts.actions';\nimport {GetMultiPlotCharts, GetMultiScalarCharts, setAxisCache} from '../actions/experiments-compare-charts.actions';\nimport {activeLoader, deactivateLoader, setServerError} from '../../core/actions/layout.actions';\nimport {catchError, debounceTime, mergeMap, map, withLatestFrom} from 'rxjs/operators';\nimport {ApiTasksService} from '../../../business-logic/api-services/tasks.service';\nimport {ApiAuthService} from '../../../business-logic/api-services/auth.service';\nimport {BlTasksService} from '../../../business-logic/services/tasks.service';\nimport {ApiEventsService} from '../../../business-logic/api-services/events.service';\nimport {requestFailed} from '../../core/actions/http.actions';\nimport {selectCompareHistogramCacheAxisType, selectCompareSelectedSettingsxAxisType} from '../reducers';\nimport {setRefreshing} from '../actions/compare-header.actions';\nimport {ScalarKeyEnum} from '../../../business-logic/model/events/scalarKeyEnum';\n\n\n@Injectable()\nexport class ExperimentsCompareChartsEffects {\n\n  constructor(private actions$: Actions, private store: Store<IExperimentCompareChartsState>, private apiTasks: ApiTasksService,\n              private authApi: ApiAuthService, private taskBl: BlTasksService, private eventsApi: ApiEventsService) {\n  }\n\n  @Effect()\n  activeLoader = this.actions$.pipe(\n    ofType(chartActions.GET_MULTI_SCALAR_CHARTS, chartActions.GET_MULTI_PLOT_CHARTS),\n    map(action => activeLoader(action.type))\n  );\n\n  @Effect()\n  getMultiScalarCharts = this.actions$.pipe(\n    ofType<GetMultiScalarCharts>(chartActions.GET_MULTI_SCALAR_CHARTS),\n    debounceTime(200),\n    withLatestFrom(this.store.select(selectCompareSelectedSettingsxAxisType), this.store.select(selectCompareHistogramCacheAxisType)),\n    mergeMap(([action, axisType, prevAxisType]) => {\n      if ([ScalarKeyEnum.IsoTime, ScalarKeyEnum.Timestamp].includes(prevAxisType) &&\n        [ScalarKeyEnum.IsoTime, ScalarKeyEnum.Timestamp].includes(axisType) &&\n        prevAxisType !== axisType\n      ) {\n        return [setRefreshing({payload: false}), deactivateLoader(action.type), setAxisCache({axis: axisType})];\n      }\n      return this.eventsApi.eventsMultiTaskScalarMetricsIterHistogram({\n        tasks: action.payload.taskIds,\n        key: !axisType || axisType === ScalarKeyEnum.IsoTime ? ScalarKeyEnum.Timestamp : axisType\n      }).pipe(\n        mergeMap(res => [\n          // also here\n          new chartActions.SetExperimentHistogram(res, axisType),\n          setRefreshing({payload: false}),\n          deactivateLoader(action.type)]\n        ),\n        catchError(error => [\n          requestFailed(error), deactivateLoader(action.type), setRefreshing({payload: false}),\n          setServerError(error, null, 'Failed to get Scalar Charts', action.payload.autoRefresh)\n        ])\n      );\n    })\n  );\n\n  @Effect()\n  getMultiPlotCharts = this.actions$.pipe(\n    ofType<GetMultiPlotCharts>(chartActions.GET_MULTI_PLOT_CHARTS),\n    debounceTime(200),\n    mergeMap((action) =>\n      this.eventsApi.eventsGetMultiTaskPlots({tasks: action.payload.taskIds, iters: 1, no_scroll: true})\n        .pipe(\n          map(res => res.plots),\n          mergeMap(res => [\n            new chartActions.SetExperimentPlots(res),\n            setRefreshing({payload: false}),\n            deactivateLoader(action.type)]),\n          catchError(error => [\n            requestFailed(error), deactivateLoader(action.type), setRefreshing({payload: false}),\n            setServerError(error, null, 'Failed to get Plot Charts', action.payload.autoRefresh)\n          ])\n        )\n    )\n  );\n\n}\n","import {Injectable} from '@angular/core';\nimport {Actions, Effect, ofType} from '@ngrx/effects';\nimport {Store} from '@ngrx/store';\nimport {IExperimentCompareMetricsValuesState} from '../reducers/experiments-compare-metrics-values.reducer';\nimport * as metricsValuesActions from '../actions/experiments-compare-metrics-values.actions';\nimport {activeLoader, deactivateLoader, setServerError} from '../../../webapp-common/core/actions/layout.actions';\nimport {catchError, mergeMap, map} from 'rxjs/operators';\nimport {requestFailed} from '../../core/actions/http.actions';\nimport {ApiTasksService} from '../../../business-logic/api-services/tasks.service';\nimport {setRefreshing} from '../actions/compare-header.actions';\n\n\n@Injectable()\nexport class ExperimentsCompareMetricsValuesEffects {\n\n  constructor(private actions$: Actions, private store: Store<IExperimentCompareMetricsValuesState>, public tasksApiService: ApiTasksService) {\n  }\n\n  @Effect()\n  activeLoader = this.actions$.pipe(\n    ofType(metricsValuesActions.GET_COMPARED_EXPERIMENTS_METRICS_VALUES),\n    map(action => activeLoader(action.type))\n  );\n\n  @Effect()\n  getComparedExperimentsMetricsValues = this.actions$.pipe(\n    ofType<metricsValuesActions.GetComparedExperimentsMetricsValues>(metricsValuesActions.GET_COMPARED_EXPERIMENTS_METRICS_VALUES),\n    mergeMap((action) => this.tasksApiService.tasksGetAllEx({id: action.payload.taskIds, only_fields: ['last_metrics', 'name', 'status', 'completed', 'last_update', 'last_iteration', 'project.name']})\n      .pipe(\n        map(res => action.payload.taskIds.map(id => res.tasks.find(ex => ex.id === id))),\n        mergeMap(experiments => [\n          new metricsValuesActions.SetComparedExperiments(experiments),\n          setRefreshing({payload: false}),\n          deactivateLoader(action.type)]),\n        catchError(error => [\n          requestFailed(error), deactivateLoader(action.type), setRefreshing({payload: false}),\n          setServerError(error, null, 'Failed to get Compared Experiments', action.payload.autoRefresh)\n        ])\n      )\n    )\n  );\n}\n","import {Injectable} from '@angular/core';\nimport {Actions, createEffect, Effect, ofType} from '@ngrx/effects';\nimport {debounceTime, filter, map, mergeMap, switchMap, withLatestFrom} from 'rxjs/operators';\nimport {activeLoader, deactivateLoader} from '../../core/actions/layout.actions';\nimport {ApiTasksService} from '../../../business-logic/api-services/tasks.service';\nimport {\n  compareAddDialogSetTableSort,\n  compareAddDialogTableSortChanged,\n  GET_SELECTED_EXPERIMENTS_FOR_COMPARE,\n  getSelectedExperimentsForCompareAddDialog,\n  refreshIfNeeded,\n  setExperimentsUpdateTime,\n  setRefreshing,\n  setSearchExperimentsForCompareResults\n} from '../actions/compare-header.actions';\nimport {select, Store} from '@ngrx/store';\nimport {flatten, get, isEmpty} from 'lodash/fp';\nimport {selectCompareAddTableSortFields, selectExperimentsUpdateTime} from '../reducers';\nimport {EmptyAction} from '../../../app.constants';\nimport {selectRouterParams} from '../../core/reducers/router-reducer';\nimport {selectAppVisible} from '../../core/reducers/view.reducer';\nimport {MINIMUM_ONLY_FIELDS} from '../../experiments/experiment.consts';\nimport * as exSelectors from '../../experiments/reducers';\nimport {selectExperimentsMetricsCols, selectExperimentsTableCols} from '../../experiments/reducers';\nimport {selectSelectedProjectId} from '../../core/reducers/projects.reducer';\nimport {addMultipleSortColumns} from '../../shared/utils/shared-utils';\n\n@Injectable()\nexport class SelectCompareHeaderEffects {\n\n  constructor(private actions: Actions, public experimentsApi: ApiTasksService, private store: Store<any>) {\n  }\n\n  @Effect()\n  activeLoader = this.actions.pipe(\n    ofType(GET_SELECTED_EXPERIMENTS_FOR_COMPARE),\n    map(action => activeLoader(action.type))\n  );\n\n  @Effect()\n  refreshIfNeeded = this.actions.pipe(\n    ofType(refreshIfNeeded),\n    withLatestFrom(\n      this.store.select(selectAppVisible),\n      this.store.select(selectRouterParams).pipe(map(params => get('ids', params)?.split(','))),\n      this.store.pipe(select(selectExperimentsUpdateTime)),\n    ),\n    filter(([, isAppVisible, ,]) => isAppVisible),\n    switchMap(([action, , experimentsIds, experimentsUpdateTime]) =>\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      this.experimentsApi.tasksGetAllEx({id: experimentsIds, only_fields: ['last_update']}).pipe(\n        mergeMap((res) => {\n          const updatedExperimentsUpdateTime: { [key: string]: Date } = {};\n          res.tasks.forEach(task => {\n            updatedExperimentsUpdateTime[task.id] = task.last_update;\n          });\n          const experimentsWhereUpdated = !!(experimentsIds.find((id) =>\n            (new Date(experimentsUpdateTime[id]).getTime()) < new Date(updatedExperimentsUpdateTime[id]).getTime()\n          ));\n          const shouldUpdate = ((!action.payload) || (!action.autoRefresh) || experimentsWhereUpdated) && !(isEmpty(experimentsUpdateTime));\n          return [\n            setExperimentsUpdateTime({payload: updatedExperimentsUpdateTime}),\n            (shouldUpdate) ? setRefreshing({\n              payload: action.payload,\n              autoRefresh: action.autoRefresh\n            }) : new EmptyAction()];\n        }))\n    )\n  );\n  tableSortChange = createEffect(() => this.actions.pipe(\n    ofType(compareAddDialogTableSortChanged),\n    withLatestFrom(\n      this.store.select(selectCompareAddTableSortFields),\n      this.store.select(selectSelectedProjectId),\n      this.store.select(selectExperimentsTableCols),\n      this.store.select(selectExperimentsMetricsCols),\n    ),\n    switchMap(([action, oldOrders, projectId, tableCols, metricsCols]) => {\n      const orders = addMultipleSortColumns(oldOrders, action.colId, action.isShift);\n      const colIds = tableCols.map(col => col.id).concat(metricsCols.map(col => col.id));\n      return [compareAddDialogSetTableSort({orders, projectId, colIds})];\n    })\n  ));\n\n  @Effect()\n  searchExperimentsForCompare = this.actions.pipe(\n    ofType(getSelectedExperimentsForCompareAddDialog),\n    withLatestFrom(this.store.select(selectRouterParams).pipe(map(params => get('ids', params)?.split(','))),\n      this.store.select(exSelectors.selectExperimentsTableCols),\n      this.store.select(exSelectors.selectExperimentsMetricsColsForProject)),\n    debounceTime(500),\n    switchMap(([action, tasksIds, cols, metricCols]) => this.experimentsApi.tasksGetAllEx({\n        id: action.tasksIds ? action.tasksIds : tasksIds,\n        only_fields: [...new Set([...MINIMUM_ONLY_FIELDS,\n          ...flatten(cols.filter(col => col.id !== 'selected' && !col.hidden).map(col => col.getter || col.id)),\n          ...(metricCols ? flatten(metricCols.map(col => col.getter || col.id)) : [])])]\n      }).pipe(\n      mergeMap((res) => [setSearchExperimentsForCompareResults({payload: [...res?.tasks]}), deactivateLoader(action.type)]),\n      )\n    ));\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {TableDiffComponent} from './table-diff.component';\n\n@NgModule({\n  declarations: [TableDiffComponent],\n  imports     : [\n    CommonModule\n  ],\n  exports     : [TableDiffComponent]\n})\nexport class TableDiffModule {\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {CardComponent2} from './card-component2.component';\nimport {SyncScrollDirective} from '../../directives/sync-scroll.directive';\n\n@NgModule({\n  declarations: [CardComponent2, SyncScrollDirective],\n  imports     : [\n    CommonModule\n  ],\n  exports: [CardComponent2, SyncScrollDirective],\n})\nexport class CardModule {\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {DrawerComponent} from './drawer.component';\n\n@NgModule({\n  declarations: [DrawerComponent],\n  imports     : [\n    CommonModule\n  ],\n  exports     : [DrawerComponent]\n})\nexport class DrawerModule {\n}\n","import {Injectable} from '@angular/core';\nimport {Actions, createEffect, Effect, ofType} from '@ngrx/effects';\nimport {Store} from '@ngrx/store';\nimport {IExperimentCompareMetricsValuesState} from '../reducers/experiments-compare-metrics-values.reducer';\nimport {activeLoader, deactivateLoader, setServerError} from '../../core/actions/layout.actions';\nimport {catchError, mergeMap, map} from 'rxjs/operators';\nimport {requestFailed} from '../../core/actions/http.actions';\nimport {ApiTasksService} from '../../../business-logic/api-services/tasks.service';\nimport {getExperimentsHyperParams, setHyperParamsList, setMetricsList, setTasks} from '../actions/experiments-compare-scalars-graph.actions';\nimport {setRefreshing} from '../actions/compare-header.actions';\nimport {GroupedHyperParams, HyperParams} from '../reducers/experiments-compare-charts.reducer';\n\n@Injectable()\nexport class ExperimentsCompareScalarsGraphEffects {\n\n  constructor(private actions$: Actions, private store: Store<IExperimentCompareMetricsValuesState>, public tasksApiService: ApiTasksService) {\n  }\n\n  @Effect()\n  activeLoader = createEffect(() => this.actions$.pipe(\n    ofType(getExperimentsHyperParams),\n    map(action => activeLoader(action.type))\n    )\n  );\n\n  loadMovies$ = createEffect(() => this.actions$.pipe(\n    ofType(getExperimentsHyperParams),\n    mergeMap((action) => this.tasksApiService.tasksGetAllEx({\n      id: action.experimentsIds,\n      only_fields: ['last_metrics', 'name', 'last_iteration', 'hyperparams']\n    })\n      .pipe(\n        // map(res => res.tasks)),\n        mergeMap(res => {\n          const metricsList = this.getMetricOptions(res.tasks);\n          const paramsHasDiffs = this.getParametersHasDiffs(res.tasks);\n          return [\n            setTasks({tasks: res.tasks}),\n            setMetricsList({metricsList: metricsList}),\n            setHyperParamsList({hyperParams: paramsHasDiffs}),\n            setRefreshing({payload: false}),\n            deactivateLoader(action.type)];\n        }),\n        catchError(error => [\n          requestFailed(error), deactivateLoader(action.type), setRefreshing({payload: false}),\n          setServerError(error, null, 'Failed to get Compared Experiments')\n        ])\n      )\n    ))\n  );\n\n  getMetricOptions(tasks) {\n    const metrics = {};\n    for (const task of tasks) {\n      for (const metric in task.last_metrics) {\n        for (const variant in task.last_metrics[metric]) {\n          const metricName = task.last_metrics[metric][variant].metric;\n          const variantName = task.last_metrics[metric][variant].variant;\n          !metrics[metricName] && (metrics[metricName] = {});\n          if (!metrics[metricName][variantName]) {\n            metrics[metricName][variantName] = {};\n            metrics[metricName][variantName]['name'] = `${metricName}/${variantName}`;\n            metrics[metricName][variantName]['path'] = `${metric}.${variant}`;\n          }\n        }\n      }\n    }\n    const metricsList = Object.keys(metrics).sort((a, b) => a.toLowerCase() > b.toLowerCase() ? 1 : -1).map(metricName => ({\n      metricName,\n      variants: Object.keys(metrics[metricName]).sort().map(variant => ({\n        name: variant,\n        value: metrics[metricName][variant]\n      }))\n    }));\n    return metricsList;\n  }\n\n  private getParametersHasDiffs(tasks): GroupedHyperParams {\n    const numberOfTasks = tasks.length;\n    let paramsValues: { [section: string]: { [param: string]: any[] } } = {};\n    tasks.forEach(task => {\n      paramsValues = task.hyperparams ? Object.values(task.hyperparams).reduce((acc, paramsObj) => {\n        Object.values(paramsObj).forEach((paramObj) => {\n          acc[paramObj.section] = acc[paramObj.section] || {};\n          acc[paramObj.section][paramObj.name] = acc[paramObj.section][paramObj.name] || [];\n          acc[paramObj.section][paramObj.name].push(paramObj.value);\n        });\n        return acc;\n      }, paramsValues) as { [section: string]: { [param: string]: any[] } } : paramsValues;\n    });\n\n    const paramsValuesHasDiff: { [section: string]: HyperParams } = {};\n    Object.entries(paramsValues).forEach(([section, params]) => {\n      paramsValuesHasDiff[section] = Object.entries(params).reduce((acc, [paramKey, values]) => {\n        acc[paramKey] = values.every(value => value !== '') && (numberOfTasks != values.length || values.some(val => val !== values[0]));\n        return acc;\n      }, {});\n    });\n    return paramsValuesHasDiff;\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {get} from 'lodash/fp';\nimport {ITask} from '../../../business-logic/model/al-task';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ExperimentParamsReverterService {\n\n  constructor() {\n  }\n\n  revertExperiments(experimentIds: string[], experiments: ITask[]) {\n    // map the experiment ids to keep the user order.\n    return experimentIds.map(id => {\n      const exp = experiments.find(ex => ex.id === id);\n      return {\n        id: exp.id,\n        name: exp.name,\n        status: exp.status,\n        last_iteration: exp.last_iteration,\n        last_update: exp.last_update,\n        project: exp.project,\n        completed: exp.completed,\n        tags: exp.tags,\n        hyperparams: get('hyperparams', exp) ? exp.hyperparams : {},\n      };\n    });\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {Actions, Effect, ofType} from '@ngrx/effects';\nimport {select, Store} from '@ngrx/store';\nimport * as paramsActions from '../actions/experiments-compare-params.actions';\nimport {activeLoader, deactivateLoader, setServerError} from '../../core/actions/layout.actions';\nimport {catchError, map, mergeMap, switchMap, withLatestFrom} from 'rxjs/operators';\nimport {ApiTasksService} from '../../../business-logic/api-services/tasks.service';\nimport {ExperimentParamsReverterService} from '../services/experiment-params-reverter.service';\nimport {requestFailed} from '../../core/actions/http.actions';\nimport {selectExperimentIdsParams, selectExperimentsParams} from '../reducers';\nimport {Observable, of} from 'rxjs';\nimport {COMPARE_PARAMS_ONLY_FIELDS} from '../../../features/experiments-compare/experiments-compare-consts';\nimport {IExperimentDetail} from '../../../features/experiments-compare/experiments-compare-models';\nimport {REFETCH_EXPERIMENT_REQUESTED, refetchExperimentRequested, setRefreshing} from '../actions/compare-header.actions';\nimport {ExperimentCompareParamsState} from '../reducers/experiments-compare-params.reducer';\nimport {setExperiments} from '../actions/experiments-compare-params.actions';\nimport {ExperimentDetailBase, ExperimentParams} from '../shared/experiments-compare-details.model';\n\n@Injectable()\nexport class ExperimentsCompareParamsEffects {\n\n  constructor(private actions$: Actions, private tasksApi: ApiTasksService, private store: Store<ExperimentCompareParamsState>,\n              private experimentParamsReverter: ExperimentParamsReverterService\n  ) {\n  }\n\n  @Effect()\n  activeLoader$ = this.actions$.pipe(\n    ofType(paramsActions.experimentListUpdated, REFETCH_EXPERIMENT_REQUESTED),\n    map(action => activeLoader(action.type))\n  );\n\n  @Effect()\n  UpdateExperimentsDetail$ = this.actions$.pipe(\n    ofType(paramsActions.experimentListUpdated),\n    withLatestFrom(this.store.pipe(select(selectExperimentIdsParams))),\n    switchMap(([action, oldExperimentIds]) => {\n      const newExperimentIds = action.ids.filter(id => !oldExperimentIds.includes(id));\n      return this.fetchExperimentParams$(newExperimentIds)\n        .pipe(\n          withLatestFrom(this.store.pipe(select(selectExperimentsParams))),\n          // get only the relevant experiments\n          map(([experiments, oldExperiments]: [ExperimentDetailBase[], ExperimentParams[]]) =>\n            oldExperiments.filter(exp => action.ids.includes(exp.id)).concat(experiments as ExperimentParams[])),\n          mergeMap(experiments => [\n            deactivateLoader(action.type),\n            setExperiments({experiments})\n          ]),\n          catchError(error => [\n            requestFailed(error),\n            deactivateLoader(action.type),\n            setServerError(error, null, 'The attempt to retrieve your experiment data failed. Refresh your browser and try again.')\n          ]\n          )\n        );\n    }\n    )\n  );\n\n  @Effect()\n  RefetchExperiment$ = this.actions$.pipe(\n    ofType(refetchExperimentRequested),\n    withLatestFrom(this.store.select(selectExperimentIdsParams)),\n    switchMap(([action, newExperimentIds]) =>\n      this.fetchExperimentParams$(newExperimentIds).pipe(\n        mergeMap(experiments => [\n          deactivateLoader(action.type),\n          setRefreshing({payload: false}),\n          setExperiments({experiments : experiments as ExperimentParams[]})\n        ]),\n        catchError(error => [\n          requestFailed(error),\n          deactivateLoader(action.type),\n          setRefreshing({payload: false}),\n          setServerError(\n            error, null,\n            'The attempt to retrieve your experiment data failed. Refresh your browser and try again.',\n            action.autoRefresh\n          )\n        ])\n      )),\n  );\n\n  fetchExperimentParams$(ids): Observable<Array<IExperimentDetail>> {\n    return ids.length > 0 ?\n      this.tasksApi.tasksGetAllEx({\n        id: ids,\n        only_fields: COMPARE_PARAMS_ONLY_FIELDS\n      })\n        .pipe(map(res => this.experimentParamsReverter.revertExperiments(ids, res.tasks)))\n      : of([]);\n  }\n}\n\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {ExperimentsCompareComponent} from './experiments-compare.component';\nimport {ExperimentsCompareRoutingModule} from './experiments-compare-routing.module';\nimport {StoreModule} from '@ngrx/store';\nimport {EffectsModule} from '@ngrx/effects';\nimport {experimentsCompareReducers} from './reducers';\nimport {ExperimentsCompareDetailsEffects} from './effects/experiments-compare-details.effects';\nimport {ExperimentsCompareDebugImagesEffects} from './effects/experiments-compare-debug-images.effects';\nimport {ExperimentsCompareChartsEffects} from './effects/experiments-compare-charts.effects';\nimport {ExperimentsCompareMetricsValuesEffects} from './effects/experiments-compare-metrics-values.effects';\nimport {SMSharedModule} from '../shared/shared.module';\nimport {ExperimentCompareDetailsComponent} from './containers/experiment-compare-details/experiment-compare-details.component';\nimport {ExperimentCompareMetricValuesComponent} from './containers/experiment-compare-metric-values/experiment-compare-metric-values.component';\nimport {ExperimentCompareScalarChartsComponent} from './containers/experiment-compare-metric-charts/experiment-compare-scalar-charts.component';\nimport {ExperimentCompareHeaderComponent} from './dumbs/experiment-compare-header/experiment-compare-header.component';\nimport {ExperimentSharedModule} from '~/features/experiments/shared/experiment-shared.module';\nimport {ExperimentComparePlotsComponent} from './containers/experiment-compare-plots/experiment-compare-plots.component';\nimport {ExperimentGraphsModule} from '../shared/experiment-graphs/experiment-graphs.module';\n\nimport {DebugImagesModule} from '../debug-images/debug-images.module';\nimport {ExperimentCompareSharedModule} from './shared/experiment-compare-shared.module';\nimport {ExperimentCompareGeneralDataComponent} from './dumbs/experiment-compare-general-data/experiment-compare-general-data.component';\nimport {GetKeyValueArrayPipePipe} from './get-key-value-array-pipe.pipe';\nimport {SelectCompareHeaderEffects} from './effects/select-experiment-for-compare-effects.service';\nimport {SelectExperimentsForCompareComponent} from './containers/select-experiments-for-compare/select-experiments-for-compare.component';\nimport {DragDropModule} from '@angular/cdk/drag-drop';\nimport {CompareCardListComponent} from './dumbs/compare-card-list/compare-card-list.component';\nimport {CompareCardBodyDirective} from './dumbs/compare-card-body.directive';\nimport {CompareCardExtraHeaderDirective} from './dumbs/compare-card-extra-header.directive';\nimport {CompareCardHeaderDirective} from './dumbs/compare-card-header.directive';\nimport {CommonExperimentSharedModule} from '../experiments/shared/common-experiment-shared.module';\nimport {TableDiffModule} from '../shared/ui-components/data/table-diff/table-diff.module';\nimport {CardModule} from '../shared/ui-components/panel/card2';\nimport {DrawerModule} from '../shared/ui-components/panel/drawer';\nimport {ParallelCoordinatesGraphComponent} from './dumbs/parallel-coordinates-graph/parallel-coordinates-graph.component';\nimport {ExperimentCompareHyperParamsGraphComponent} from './containers/experiment-compare-hyper-params-graph/experiment-compare-hyper-params-graph.component';\nimport {ExperimentsCompareScalarsGraphEffects} from './effects/experiments-compare-scalars-graph.effects';\nimport {ScrollingModule} from '@angular/cdk/scrolling';\nimport {MatRadioModule} from '@angular/material/radio';\nimport {ExperimentCompareParamsComponent} from './containers/experiment-compare-params/experiment-compare-params.component';\nimport {ExperimentsCompareParamsEffects} from './effects/experiments-compare-params.effects';\nimport {FormsModule} from \"@angular/forms\";\nimport {UiComponentsModule} from \"../shared/ui-components/ui-components.module\";\nimport {SMMaterialModule} from \"../shared/material/material.module\";\nimport {ExperimentsCommonModule} from \"../experiments/common-experiments.module\";\n\nexport const compareSyncedKeys = [\n  'charts.settingsList',\n];\n\n\n@NgModule({\n  declarations: [\n    ExperimentsCompareComponent,\n    ExperimentCompareDetailsComponent,\n    ExperimentCompareParamsComponent,\n    ExperimentCompareMetricValuesComponent,\n    ExperimentCompareScalarChartsComponent,\n    ExperimentComparePlotsComponent,\n    ExperimentCompareHeaderComponent,\n    ExperimentCompareGeneralDataComponent,\n    GetKeyValueArrayPipePipe,\n    SelectExperimentsForCompareComponent,\n    CompareCardListComponent,\n    CompareCardBodyDirective,\n    CompareCardExtraHeaderDirective,\n    CompareCardHeaderDirective,\n    ParallelCoordinatesGraphComponent,\n    ExperimentCompareHyperParamsGraphComponent\n  ],\n  exports: [\n    GetKeyValueArrayPipePipe\n  ],\n  imports: [\n    CommonModule,\n    DragDropModule,\n    DebugImagesModule,\n    SMSharedModule,\n    SMMaterialModule,\n    UiComponentsModule,\n    TableDiffModule,\n    ScrollingModule,\n    CardModule,\n    DrawerModule,\n    ExperimentSharedModule,\n    ExperimentsCompareRoutingModule,\n    ExperimentGraphsModule,\n    ExperimentCompareSharedModule,\n    CommonExperimentSharedModule,\n    ExperimentsCommonModule,\n    StoreModule.forFeature('experimentsCompare', experimentsCompareReducers),\n    EffectsModule.forFeature([\n      ExperimentsCompareDetailsEffects,\n      ExperimentsCompareParamsEffects,\n      ExperimentsCompareDebugImagesEffects,\n      ExperimentsCompareChartsEffects,\n      ExperimentsCompareMetricsValuesEffects,\n      SelectCompareHeaderEffects,\n      ExperimentsCompareScalarsGraphEffects]),\n    MatRadioModule,\n    FormsModule,\n  ]\n})\nexport class ExperimentsCompareModule {\n}\n\n","import {resetState, setExperiments} from '../actions/experiments-compare-details.actions';\nimport {IExperimentDetail} from '../../../features/experiments-compare/experiments-compare-models';\nimport {createReducer, on} from '@ngrx/store';\n\nexport interface ExperimentCompareDetailsState {\n  experiments: Array<IExperimentDetail>;\n}\n\nexport const initialState: ExperimentCompareDetailsState = {\n  experiments  : []\n};\n\nconst _experimentsCompareDetailsReducer = createReducer(initialState,\n  on(setExperiments, (state: ExperimentCompareDetailsState, {experiments}) => ({...state, experiments})),\n  on(resetState, () => ({...initialState}))\n);\n\nexport const experimentsCompareDetailsReducer = (state, action) => _experimentsCompareDetailsReducer(state, action);\n\n\n","import {Task} from '../../../business-logic/model/tasks/task';\nimport {\n  RESET_EXPERIMENT_METRICS,\n  SET_EXPERIMENT_HISTOGRAM,\n  SET_EXPERIMENT_METRICS_SEARCH_TERM,\n  SET_EXPERIMENT_PLOTS,\n  SET_SELECTED_EXPERIMENTS,\n  setAxisCache,\n  UPDATE_EXPERIMENT_SETTINGS\n} from '../actions/experiments-compare-charts.actions';\nimport {ScalarKeyEnum} from '../../../business-logic/model/events/scalarKeyEnum';\nimport {GroupByCharts} from '../../experiments/reducers/common-experiment-output.reducer';\nimport {IMultiplot} from '@common/tasks/tasks.utils';\n\nexport type MetricValueType = 'min_value' | 'max_value' | 'value';\n\nexport interface SelectedMetric {\n  name: string;\n  path: string;\n}\n\nexport interface GroupedHyperParams {\n  [section: string]: HyperParams;\n}\n\nexport interface HyperParams {\n  [name: string]: boolean;\n}\n\nexport interface VariantOption {\n  name: string;\n  value: SelectedMetric;\n}\n\nexport interface MetricOption {\n  metricName: string;\n  variants: VariantOption[];\n}\n\nexport interface IExperimentCompareChartsState {\n  metricsMultiScalarsCharts: any;\n  metricsHistogramCharts: any;\n  cachedAxisType: ScalarKeyEnum;\n  metricsPlotsCharts: IMultiplot;\n  settingsList: Array<IExperimentCompareSettings>;\n  searchTerm: string;\n  showSettingsBar: boolean;\n  selectedExperiments: Array<string>;\n}\n\nexport interface IExperimentCompareSettings {\n  id: Array<Task['id']>;\n  hiddenMetricsScalar: Array<string>;\n  hiddenMetricsPlot: Array<string>;\n  selectedHyperParams: Array<string>;\n  selectedMetric: SelectedMetric;\n  selectedScalar: string;\n  selectedPlot: string;\n  smoothWeight: number;\n  xAxisType: ScalarKeyEnum;\n  groupBy: GroupByCharts;\n}\n\nexport const initialState: IExperimentCompareChartsState = {\n  metricsMultiScalarsCharts: null,\n  metricsHistogramCharts: null,\n  cachedAxisType: null,\n  metricsPlotsCharts: null,\n  settingsList: [],  // TODO, Make this an object with ID's as key YK\n  searchTerm: '',\n  showSettingsBar: false,\n  selectedExperiments: [], // TODO: Move this to the general compare reducer\n};\n\nexport function experimentsCompareChartsReducer(state: IExperimentCompareChartsState = initialState, action): IExperimentCompareChartsState {\n  switch (action.type) {\n    case SET_SELECTED_EXPERIMENTS:\n      return {...state, selectedExperiments: action.payload.selectedExperiments};\n    case SET_EXPERIMENT_METRICS_SEARCH_TERM:\n      return {...state, searchTerm: action.payload.searchTerm};\n    case SET_EXPERIMENT_HISTOGRAM:\n      return {...state, metricsHistogramCharts: action.payload, cachedAxisType: action.axisType};\n    case setAxisCache.type:\n      return {...state, cachedAxisType: (action as ReturnType<typeof setAxisCache>).axis};\n    case SET_EXPERIMENT_PLOTS:\n      return {...state, metricsPlotsCharts: action.payload};\n    case UPDATE_EXPERIMENT_SETTINGS: {\n      let newSettings;\n      const isExperimentExists = state.settingsList.find((setting) => setting.id.join() === action.payload.id.join());\n      if (isExperimentExists) {\n        newSettings = state.settingsList.map(setting => setting.id.join() === action.payload.id.join() ? {...setting, ...action.payload.changes} : setting);\n      } else {\n        newSettings = state.settingsList.slice();\n        newSettings.push({id: action.payload.id, ...action.payload.changes});\n      }\n      return {...state, settingsList: newSettings};\n    }\n    case RESET_EXPERIMENT_METRICS:\n      return {\n        ...state,\n        metricsMultiScalarsCharts: initialState.metricsMultiScalarsCharts,\n        metricsHistogramCharts: initialState.metricsHistogramCharts,\n        metricsPlotsCharts: initialState.metricsPlotsCharts,\n        cachedAxisType: initialState.cachedAxisType\n      };\n    default:\n      return state;\n  }\n}\n","import * as actions from '../actions/experiments-compare-metrics-values.actions';\nimport {Task} from '../../../business-logic/model/tasks/task';\n\nexport interface MetricSortBy {\n  keyOrValue?: 'key' | 'value';\n  order?: 'asc' | 'desc';\n  keyOrder?: Array<string>;\n}\n\nexport interface IExperimentCompareMetricsValuesState {\n  experiments: Array<Task>;\n  metricSortBy: MetricSortBy;\n}\n\nexport const initialState: IExperimentCompareMetricsValuesState = {\n  experiments : null,\n  metricSortBy: {}\n};\n\n\nexport function experimentsCompareMetricsValuesReducer(state: IExperimentCompareMetricsValuesState = initialState, action): IExperimentCompareMetricsValuesState {\n  switch (action.type) {\n    case actions.SET_COMPARED_EXPERIMENTS:\n      return {...state, experiments: action.payload.experiments};\n    case actions.RESET_STATE:\n      return {...initialState};\n    case actions.SET_METRIC_VALUES_SORT_BY:\n      return {\n        ...state, metricSortBy: {\n          ...state.metricSortBy,\n          [action.payload.metric]: {keyOrValue: action.payload.keyOrValue, order: action.payload.order, keyOrder: action.payload.keyOrder}\n        }\n      };\n    default:\n      return state;\n  }\n}\n","export interface IExperimentCompareDebugImagesState {\n  bla: string;\n}\n\nexport const initialState: IExperimentCompareDebugImagesState = {\n  bla: null,\n};\n\n\nexport function experimentsCompareDebugImagesReducer(state: IExperimentCompareDebugImagesState = initialState, action): IExperimentCompareDebugImagesState {\n  switch (action.type) {\n    // case SET_EXPERIMENT:\n    //   return { ...state, selectedExperiment: action.payload };\n    default:\n      return state;\n  }\n}\n","import {\n  compareAddDialogSetTableSort, compareAddTableClearAllFilters, compareAddTableFilterChanged, compareAddTableFilterInit,\n  resetSelectCompareHeader,\n  setExperimentsUpdateTime,\n  setHideIdenticalFields,\n  setNavigationPreferences,\n  setRefreshing,\n  setSearchExperimentsForCompareResults,\n  setShowSearchExperimentsForCompare,\n  toggleShowScalarOptions\n} from '../actions/compare-header.actions';\nimport {createReducer, on} from '@ngrx/store';\nimport {Params} from '@angular/router';\nimport {ITableExperiment} from '../../experiments/shared/common-experiment-model.model';\nimport {commonExperimentsInitialState} from '../../experiments/reducers/common-experiments-view.reducer';\nimport {SortMeta} from 'primeng/api';\n\nexport interface CompareHeaderState {\n  searchResultsExperiments: ITableExperiment[];\n  searchTerm: string;\n  showSearch: boolean;\n  hideIdenticalRows: boolean;\n  viewMode: string;\n  showScalarOptions: boolean;\n  refreshing: boolean;\n  autoRefresh: boolean;\n  navigationPreferences: Params;\n  experimentsUpdateTime: { [key: string]: Date };\n  projectColumnsSortOrder: { [projectId: string]: SortMeta[] };\n  projectColumnFilters: { [projectId: string]: { [columnId: string]: { value: any; matchMode: string } } };\n};\n\n\nexport const initialState: CompareHeaderState = {\n  searchResultsExperiments: [],\n  searchTerm: null,\n  showSearch: false,\n  hideIdenticalRows: false,\n  viewMode: 'values',\n  showScalarOptions: false,\n  refreshing: false,\n  autoRefresh: false,\n  navigationPreferences: {},\n  experimentsUpdateTime: {},\n  projectColumnsSortOrder: {},\n  projectColumnFilters: {},\n};\n\nconst _compareHeader = createReducer(initialState,\n  on(setHideIdenticalFields, (state: CompareHeaderState, {payload}) => ({...state, hideIdenticalRows: payload})),\n  on(setSearchExperimentsForCompareResults, (state: CompareHeaderState, {payload}) => ({\n    ...state,\n    searchResultsExperiments: payload\n  })),\n  on(setExperimentsUpdateTime, (state: CompareHeaderState, {payload}) => ({...state, experimentsUpdateTime: payload})),\n  on(setShowSearchExperimentsForCompare, (state: CompareHeaderState, {payload}) => ({...state, showSearch: payload})),\n  on(toggleShowScalarOptions, (state: CompareHeaderState) => ({...state, showScalarOptions: !state.showScalarOptions})),\n  on(setRefreshing, (state: CompareHeaderState, {payload, autoRefresh}) => ({\n    ...state,\n    refreshing: payload,\n    autoRefresh\n  })),\n  on(setNavigationPreferences, (state: CompareHeaderState, {navigationPreferences}) => ({\n    ...state,\n    navigationPreferences: {...state.navigationPreferences, ...navigationPreferences}\n  })),\n  on(resetSelectCompareHeader, () => ({...initialState})),\n  on(compareAddDialogSetTableSort, (state, action) => {\n    let orders = action.orders.filter(order => action.colIds.includes(order.field));\n    orders = orders.length > 0 ? orders : commonExperimentsInitialState.tableOrders;\n    return {...state, projectColumnsSortOrder: {...state.projectColumnsSortOrder, [action.projectId]: orders}};\n  }),\n  on(compareAddTableFilterInit, (state, action) => ({\n    ...state,\n    projectColumnFilters: {\n      ...state.projectColumnFilters,\n      [action.projectId]: {['project.name']: {value: [action.projectId], matchMode: undefined}}\n    }})),\n  on(compareAddTableClearAllFilters, (state, action) => ({\n    ...state,\n    projectColumnFilters: {\n      ...state.projectColumnFilters,\n      [action.projectId]: {}\n    }\n  })),\n  on(compareAddTableFilterChanged, (state, action) => ({\n    ...state,\n    // activeParentsFilter: action.filter.col === EXPERIMENTS_TABLE_COL_FIELDS.PARENT ?\n    //   action.filter.value.map(parentId => state.parents.find(parent => parent.id === parentId)).filter(p => !!p) : [],\n    projectColumnFilters: {\n      ...state.projectColumnFilters,\n      [action.projectId]: {\n        ...state.projectColumnFilters[action.projectId],\n        [action.filter.col]: {value: action.filter.value, matchMode: action.filter.filterMatchMode}\n      }\n    }\n  })),\n);\n\nexport function compareHeader(state, action) {\n  return _compareHeader(state, action);\n}\n","import {createReducer, on} from '@ngrx/store';\nimport {setHyperParamsList, setMetricsList, setShowIdenticalHyperParams, setTasks, setvalueType} from '../actions/experiments-compare-scalars-graph.actions';\nimport {GroupedHyperParams, HyperParams, MetricOption, MetricValueType} from './experiments-compare-charts.reducer';\n\nexport interface ScalarsGraphState {\n  showIdenticalHyperParams: boolean;\n  metrics: MetricOption[];\n  hyperParams: GroupedHyperParams;\n  tasks: any;\n  valueType: MetricValueType;\n}\n\nexport const initialState: ScalarsGraphState = {\n  showIdenticalHyperParams: true,\n  metrics: null,\n  hyperParams: null,\n  tasks: [],\n  valueType: 'value'\n};\n\nconst _scalarsGraphReducer = createReducer(initialState,\n  on(setShowIdenticalHyperParams, (state: ScalarsGraphState) => ({...state, showIdenticalHyperParams: !state.showIdenticalHyperParams})),\n  on(setMetricsList, (state: ScalarsGraphState, {metricsList}) => ({...state, metrics: metricsList})),\n  on(setHyperParamsList, (state: ScalarsGraphState, {hyperParams}) => ({...state, hyperParams: hyperParams})),\n  on(setTasks, (state: ScalarsGraphState, {tasks}) => ({...state, tasks: tasks})),\n  on(setvalueType, (state: ScalarsGraphState, {valueType}) => ({...state, valueType})),\n);\n\nexport function scalarsGraphReducer(state, action) {\n  return _scalarsGraphReducer(state, action);\n}\n","import {ExperimentParams} from '../shared/experiments-compare-details.model';\nimport {resetState, setExperiments} from '../actions/experiments-compare-params.actions';\nimport {createReducer, on} from '@ngrx/store';\n\nexport interface ExperimentCompareParamsState {\n  experiments: Array<ExperimentParams>;\n}\n\nexport const initialState: ExperimentCompareParamsState = {\n  experiments: []\n};\n\n\n\nconst _experimentsCompareParamsReducer = createReducer(initialState,\n  on(setExperiments, (state: ExperimentCompareParamsState, {experiments}) => ({...state, experiments: experiments})),\n  on(resetState, (state: ExperimentCompareParamsState) => ({...initialState}))\n);\n\nexport function experimentsCompareParamsReducer(state, action) {\n  return _experimentsCompareParamsReducer(state, action);\n}\n\n\n","import {ActionReducerMap, createSelector} from '@ngrx/store';\nimport {ExperimentCompareDetailsState, experimentsCompareDetailsReducer} from './experiments-compare-details.reducer';\nimport {experimentsCompareChartsReducer, GroupedHyperParams, IExperimentCompareChartsState, IExperimentCompareSettings, MetricOption, MetricValueType} from './experiments-compare-charts.reducer';\nimport {experimentsCompareMetricsValuesReducer, IExperimentCompareMetricsValuesState, MetricSortBy} from './experiments-compare-metrics-values.reducer';\nimport {experimentsCompareDebugImagesReducer} from './experiments-compare-debug-images.reducer';\nimport {get} from 'lodash/fp';\nimport {Task} from '../../../business-logic/model/tasks/task';\nimport {compareHeader, CompareHeaderState} from './compare-header.reducer';\nimport {IExperimentDetail} from '../../../features/experiments-compare/experiments-compare-models';\nimport {ScalarKeyEnum} from '../../../business-logic/model/events/scalarKeyEnum';\nimport {scalarsGraphReducer, ScalarsGraphState} from './experiments-compare-scalars-graph.reducer';\nimport {ExperimentParams} from '../shared/experiments-compare-details.model';\nimport {ExperimentCompareParamsState, experimentsCompareParamsReducer} from './experiments-compare-params.reducer';\nimport {GroupByCharts} from '../../experiments/reducers/common-experiment-output.reducer';\nimport {ITableExperiment} from '../../experiments/shared/common-experiment-model.model';\nimport {selectSelectedProjectId} from '../../core/reducers/projects.reducer';\nimport {selectRouterConfig} from '../../core/reducers/router-reducer';\nimport {TABLE_SORT_ORDER} from '../../shared/ui-components/data/table/table.consts';\nimport { EXPERIMENTS_TABLE_COL_FIELDS } from '../../../features/experiments/shared/experiments.const';\n\nexport const experimentsCompareReducers: ActionReducerMap<any, any> = {\n  details      : experimentsCompareDetailsReducer,\n  params       : experimentsCompareParamsReducer,\n  metricsValues: experimentsCompareMetricsValuesReducer,\n  charts       : experimentsCompareChartsReducer,\n  debugImages  : experimentsCompareDebugImagesReducer,\n  compareHeader,\n  scalarsGraph : scalarsGraphReducer\n};\n\nexport const experimentsCompare = state => state.experimentsCompare;\n\n// Details\nexport const experimentsDetails = createSelector(experimentsCompare, (state): ExperimentCompareDetailsState => state ? state.details : {});\nexport const selectExperimentsDetails = createSelector(experimentsDetails, (state): Array<IExperimentDetail> => state.experiments);\nexport const selectExperimentIdsDetails = createSelector(selectExperimentsDetails,\n  (experiments): Array<IExperimentDetail['id']> => experiments.map(exp => exp.id));\n\n// Params\nexport const experimentsParams = createSelector(experimentsCompare, (state): ExperimentCompareParamsState => state ? state.params : {});\nexport const selectExperimentsParams = createSelector(experimentsParams, (state): Array<ExperimentParams> => state.experiments);\nexport const selectExperimentIdsParams = createSelector(selectExperimentsParams,\n  (experiments): Array<IExperimentDetail['id']> => experiments.map(exp => exp.id));\n\n\n// select experiments for compare and header\nexport const selectCompareHeader = createSelector(experimentsCompare, (state): CompareHeaderState => state ? state.compareHeader : {});\nexport const selectIsCompare = createSelector(selectRouterConfig, (config): boolean => config?.includes('compare-experiments'));\n\nexport const selectCompareAddTableSortFields = createSelector(selectCompareHeader, selectSelectedProjectId,\n  (state, projectId) => state.projectColumnsSortOrder?.[projectId] ||  [{field: EXPERIMENTS_TABLE_COL_FIELDS.LAST_UPDATE, order: TABLE_SORT_ORDER.DESC}]);\nexport const selectCompareAddTableFilters = createSelector(selectCompareHeader, selectSelectedProjectId,\n  (state, projectId) => state.projectColumnFilters?.[projectId] || {});\nexport const selectSelectedExperimentsForCompareAdd = createSelector(selectCompareHeader, (state): ITableExperiment[] => state ? state.searchResultsExperiments : []);\nexport const selectExperimentsForCompareSearchTerm = createSelector(selectCompareHeader, (state) => state?.searchTerm);\nexport const selectShowAddExperimentsForCompare = createSelector(selectCompareHeader, (state) => state?.showSearch);\nexport const selectHideIdenticalFields = createSelector(selectCompareHeader, (state) => state?.hideIdenticalRows);\nexport const selectShowScalarsOptions = createSelector(selectCompareHeader, (state) => state?.showScalarOptions);\nexport const selectRefreshing = createSelector(selectCompareHeader, (state) => state ? {refreshing: state.refreshing, autoRefresh: state.autoRefresh} : {refreshing: false, autoRefresh: false});\nexport const selectExperimentsUpdateTime = createSelector(selectCompareHeader, (state) => state ? state.experimentsUpdateTime : {});\nexport const selectNavigationPreferences = createSelector(selectCompareHeader, (state) => state ? state.navigationPreferences : {});\n\n// Metric Values\nexport const compareMetricsValues = createSelector(experimentsCompare, (state): IExperimentCompareMetricsValuesState => state ? state.metricsValues : {});\nexport const selectCompareMetricsValuesExperiments = createSelector(compareMetricsValues, (state): Array<Task> => state.experiments);\nexport const selectCompareMetricsValuesSortConfig = createSelector(compareMetricsValues, (state): MetricSortBy => state.metricSortBy);\n\n// Charts\nexport const compareCharts = createSelector(experimentsCompare, (state): IExperimentCompareChartsState => state ? state.charts : {});\nexport const selectSelectedExperiments = createSelector(compareCharts, (state): Array<string> => state ? state.selectedExperiments : []);\nexport const selectCompareHistogramCacheAxisType = createSelector(compareCharts, (state) => state.cachedAxisType);\nexport const selectCompareTasksPlotCharts = createSelector(compareCharts, state => state.metricsPlotsCharts);\n\nexport const selectSelectedExperimentSettings = createSelector(compareCharts, selectSelectedExperiments,\n  (output, currentExperiments): IExperimentCompareSettings => output.settingsList && output.settingsList.find((setting) => currentExperiments && setting.id.join() === currentExperiments.join()));\n\nexport const selectSelectedSettingsHiddenPlot = createSelector(selectSelectedExperimentSettings,\n  (settings): Array<string> => get('hiddenMetricsPlot', settings) || []);\n\nexport const selectSelectedSettigsHyperParams = createSelector(selectSelectedExperimentSettings,\n  (settings): Array<string> => get('selectedHyperParams', settings) || []);\n\nexport const selectSelectedSettigsMetric = createSelector(selectSelectedExperimentSettings,\n  (settings) => get('selectedMetric', settings) || null);\n\nexport const selectSelectedSettingsHiddenScalar = createSelector(selectSelectedExperimentSettings,\n  (settings): Array<string> => get('hiddenMetricsScalar', settings) || []);\n\nexport const selectExperimentMetricsSearchTerm = createSelector(compareCharts, (state) => state.searchTerm);\nexport const selectCompareSelectedSettingsSmoothWeight = createSelector(selectSelectedExperimentSettings,\n  (settings): number => get('smoothWeight', settings) || 0);\n\nexport const selectCompareSelectedSettingsxAxisType = createSelector(selectSelectedExperimentSettings,\n  (settings): ScalarKeyEnum => get('xAxisType', settings) || ScalarKeyEnum.Iter);\n\nexport const selectCompareSelectedSettingsGroupBy = createSelector(selectSelectedExperimentSettings,\n  (settings): GroupByCharts => settings?.groupBy || GroupByCharts.None);\n\n\nexport const selectScalarsGraph = createSelector(experimentsCompare, (state): ScalarsGraphState => state ? state.scalarsGraph : {});\nexport const selectScalarsGraphShowIdenticalHyperParams = createSelector(selectScalarsGraph, (state): boolean => state ? state.showIdenticalHyperParams : true);\nexport const selectScalarsGraphMetrics = createSelector(selectScalarsGraph, (state): MetricOption[] => state.metrics);\nexport const selectScalarsGraphHyperParams = createSelector(selectScalarsGraph, (state): GroupedHyperParams => state ? state.hyperParams : {});\nexport const selectScalarsGraphTasks = createSelector(selectScalarsGraph, (state): any[] => state ? state.tasks : []);\nexport const selectMetricValueType = createSelector(selectScalarsGraph, (state): MetricValueType => state ? state.valueType : 'value');\n\nexport const selectCompareTasksScalarCharts = createSelector(\n  selectCompareSelectedSettingsxAxisType,\n  compareCharts,\n  (axisType, state) => {\n    if (state?.metricsHistogramCharts?.metrics && (!axisType || axisType === ScalarKeyEnum.IsoTime)) {\n      return  {\n        metrics: Object.keys(state.metricsHistogramCharts.metrics).reduce((metricAcc, metricName) => {\n          const metric = state.metricsHistogramCharts.metrics[metricName];\n          metricAcc[metricName] = Object.keys(metric).reduce((groupAcc, groupName) => {\n            const group = metric[groupName];\n            groupAcc[groupName] = Object.keys(group).reduce((graphAcc, graphName) => {\n              const graph = group[graphName];\n              graphAcc[graphName] = {...graph, x: graph.x.map(ts => new Date(ts))};\n              return graphAcc;\n            }, {});\n            return groupAcc;\n          }, {});\n          return metricAcc;\n        }, {})\n      };\n    }\n    return state.metricsHistogramCharts;\n  });\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {ExperimentSettingsComponent} from '../../shared/components/experiment-settings/experiment-settings';\nimport {SMSharedModule} from '../../shared/shared.module';\n\nconst _declerations = [\n  ExperimentSettingsComponent,\n];\n\n@NgModule({\n  imports        : [\n    CommonModule,\n    SMSharedModule\n  ],\n  declarations   : [_declerations],\n  exports        : [..._declerations]\n})\nexport class ExperimentCompareSharedModule {\n}\n","import {Action, createAction, props} from '@ngrx/store';\nimport {ISelectedExperiment} from '../../../features/experiments/shared/experiment-info.model';\nimport {IExperimentSettings} from '../reducers/common-experiment-output.reducer';\nimport {ScalarKeyEnum} from '../../../business-logic/model/events/scalarKeyEnum';\nimport {MetricsPlotEvent} from '../../../business-logic/model/events/metricsPlotEvent';\nimport {EventsScalarMetricsIterRawRequest} from '../../../business-logic/model/events/eventsScalarMetricsIterRawRequest';\nimport {EventsScalarMetricsIterRawResponse} from '../../../business-logic/model/events/eventsScalarMetricsIterRawResponse';\n\nexport const EXPERIMENTS_OUTPUT_PREFIX = 'EXPERIMENTS_OUTPUT_';\n\n\nexport const GET_EXPERIMENT_LOG = EXPERIMENTS_OUTPUT_PREFIX + 'GET_EXPERIMENT_LOG';\nexport const SET_EXPERIMENT_LOG = EXPERIMENTS_OUTPUT_PREFIX + 'SET_EXPERIMENT_LOG';\nexport const SET_EXPERIMENT_METRICS_SEARCH_TERM = EXPERIMENTS_OUTPUT_PREFIX + 'SET_EXPERIMENT_METRICS_SEARCH_TERM';\nexport const SET_EXPERIMENT_HISTOGRAM = EXPERIMENTS_OUTPUT_PREFIX + 'SET_EXPERIMENT_HISTOGRAM';\nexport const SET_EXPERIMENT_PLOTS = EXPERIMENTS_OUTPUT_PREFIX + 'SET_EXPERIMENT_PLOTS';\nexport const RESET_OUTPUT = EXPERIMENTS_OUTPUT_PREFIX + 'RESET_OUTPUT';\n\n\n// EVENTS:\n\nexport const EXPERIMENT_METRICS_REQUESTED = EXPERIMENTS_OUTPUT_PREFIX + 'EXPERIMENT_METRICS_REQUESTED';\nexport const EXPERIMENT_PLOTS_REQUESTED = EXPERIMENTS_OUTPUT_PREFIX + 'EXPERIMENT_PLOTS_REQUESTED';\nexport const EXPERIMENT_SCALAR_REQUESTED = EXPERIMENTS_OUTPUT_PREFIX + 'EXPERIMENT_SCALAR_REQUESTED';\n\nexport const CHANGE_PROJECT_REQUESTED = EXPERIMENTS_OUTPUT_PREFIX + 'CHANGE_PROJECT_REQUESTED';\nexport const UPDATE_EXPERIMENT_SETTINGS = EXPERIMENTS_OUTPUT_PREFIX + 'UPDATE_EXPERIMENT_SETTINGS';\nexport const RESET_EXPERIMENT_METRICS = EXPERIMENTS_OUTPUT_PREFIX + 'RESET_EXPERIMENT_METRICS';\nexport const RESET_EXPERIMENT_SCALARS = EXPERIMENTS_OUTPUT_PREFIX + 'RESET_EXPERIMENT_SCALARS';\nexport const RESET_EXPERIMENT_PLOTS = EXPERIMENTS_OUTPUT_PREFIX + 'RESET_EXPERIMENT_PLOTS';\n\nexport const SET_LOG_FILTER = EXPERIMENTS_OUTPUT_PREFIX + 'SET_LOG_FILTER';\nexport const RESET_LOG_FILTER = EXPERIMENTS_OUTPUT_PREFIX + 'RESET_LOG_FILTER';\n\n\nexport class ResetOutput implements Action {\n  readonly type = RESET_OUTPUT;\n}\n\n\nexport class ExperimentMetricsRequested implements Action {\n  readonly type = EXPERIMENT_METRICS_REQUESTED;\n\n  constructor(public payload: ISelectedExperiment) {\n  }\n}\n\nexport const experimentPlotsRequested = createAction(\n  EXPERIMENT_PLOTS_REQUESTED,\n  props<{ task: string }>()\n);\n\nexport const getGraphDisplayFullDetailsScalars = createAction(\n  EXPERIMENTS_OUTPUT_PREFIX + 'GET_FULL_DETAILS_SCALAR',\n  props<EventsScalarMetricsIterRawRequest>()\n);\n\nexport const convertXtypeGraphDisplayFullDetailsScalars = createAction(\n  EXPERIMENTS_OUTPUT_PREFIX + 'convertXtype_FULL_DETAILS_SCALAR',\n  props<{xAxisType: ScalarKeyEnum}>()\n);\n\nexport const setXtypeGraphDisplayFullDetailsScalars = createAction(\n  EXPERIMENTS_OUTPUT_PREFIX + 'SET_Xtype_FULL_DETAILS_SCALAR',\n  props<{xAxisType: ScalarKeyEnum}>()\n);\n\nexport const setGraphDisplayFullDetailsScalars = createAction(\n  EXPERIMENTS_OUTPUT_PREFIX + 'SET_FULL_DETAILS_SCALAR',\n  props<{ data }>()\n);\n\nexport const setGraphDisplayFullDetailsScalarsIsOpen = createAction(\n  EXPERIMENTS_OUTPUT_PREFIX + 'SET_FULL_DETAILS_SCALAR_IS_OPEN',\n  props<{ isOpen: boolean }>()\n);\n\nexport const mergeGraphDisplayFullDetailsScalars = createAction(\n  EXPERIMENTS_OUTPUT_PREFIX + 'MERGE_FULL_DETAILS_SCALAR',\n  props<{ data: EventsScalarMetricsIterRawResponse }>()\n);\n\nexport class ExperimentScalarRequested implements Action {\n  readonly type = EXPERIMENT_SCALAR_REQUESTED;\n\n  constructor(public payload: string) {\n  }\n}\n\nexport class SetExperimentHistogram implements Action {\n  readonly type = SET_EXPERIMENT_HISTOGRAM;\n\n  constructor(public payload: { [metric: string]: { [variant: string]: unknown } }, public axisType: ScalarKeyEnum) {\n  }\n}\n\nexport class SetExperimentPlots implements Action {\n  readonly type = SET_EXPERIMENT_PLOTS;\n\n  constructor(public payload: MetricsPlotEvent[]) {\n  }\n}\n\nexport const getExperimentLog = createAction(\n  GET_EXPERIMENT_LOG,\n  props<{ id: string; direction?: string; refresh?: boolean; from?: number }>()\n);\n\nexport const setExperimentLog = createAction(\n  SET_EXPERIMENT_LOG,\n  props<{ events: any[]; direction?: string; total: number; refresh?: boolean }>()\n);\n\nexport class SetExperimentSettings implements Action {\n  readonly type = UPDATE_EXPERIMENT_SETTINGS;\n\n  constructor(public payload: { id: string; changes: Partial<IExperimentSettings> }) {\n  }\n}\n\nexport class SetExperimentMetricsSearchTerm implements Action {\n  readonly type = SET_EXPERIMENT_METRICS_SEARCH_TERM;\n\n  constructor(public payload: { searchTerm: string }) {\n  }\n}\n\nexport class ResetExperimentMetrics implements Action {\n  readonly type = RESET_EXPERIMENT_METRICS;\n}\n\nexport class SetLogFilter implements Action {\n  readonly type = SET_LOG_FILTER;\n\n  constructor(public filterString: string) {\n  }\n}\n\nexport class ResetLogFilter implements Action {\n  readonly type = RESET_LOG_FILTER;\n\n}\n\nexport const downloadFullLog = createAction(EXPERIMENTS_OUTPUT_PREFIX + 'DOWNLOAD_FULL_LOG', props<{ experimentId: string }>());\nexport const toggleSettings = createAction(EXPERIMENTS_OUTPUT_PREFIX + 'TOGGLE_SETTINGS');\n\n","import {Action, createAction, props} from '@ngrx/store';\nimport {Task} from '../../../business-logic/model/tasks/task';\nimport {IExperimentInfo, ISelectedExperiment} from '../../../features/experiments/shared/experiment-info.model';\nimport {Model} from '../../../business-logic/model/models/model';\nimport {ITableExperiment} from '../shared/common-experiment-model.model';\nimport {ParamsItem} from '../../../business-logic/model/tasks/paramsItem';\nimport {ConfigurationItem} from '../../../business-logic/model/tasks/configurationItem';\nimport {IExperimentInfoState} from '../../../features/experiments/reducers/experiment-info.reducer';\nimport {experimentSectionsEnum} from '../../../features/experiments/shared/experiments.const';\nimport {ActivatedRoute} from '@angular/router';\nimport {ITask} from '../../../business-logic/model/al-task';\n\nexport const EXPERIMENTS_INFO_PREFIX = 'EXPERIMENTS_INFO_';\nexport const GET_EXPERIMENT_INFO = EXPERIMENTS_INFO_PREFIX + 'GET_EXPERIMENT_INFO';\nexport const AUTO_REFRESH_EXPERIMENT_INFO = EXPERIMENTS_INFO_PREFIX + 'AUTO_REFRESH_EXPERIMENT_INFO';\nexport const SET_EXPERIMENT = EXPERIMENTS_INFO_PREFIX + 'SET_EXPERIMENT';\nexport const EXPERIMENT_UPDATED_SUCCESSFULLY = EXPERIMENTS_INFO_PREFIX + 'EXPERIMENT_UPDATED_SUCCESSFULLY';\nexport const SET_EXPERIMENT_INFO_DATA = EXPERIMENTS_INFO_PREFIX + 'SET_EXPERIMENT_INFO_DATA';\nexport const RESET_EXPERIMENT_INFO = EXPERIMENTS_INFO_PREFIX + 'RESET_EXPERIMENT_INFO';\nexport const UPDATE_EXPERIMENT_INFO_DATA = EXPERIMENTS_INFO_PREFIX + 'UPDATE_EXPERIMENT_INFO_DATA';\nexport const MODEL_SELECTED = EXPERIMENTS_INFO_PREFIX + 'MODEL_SELECTED';\n\nexport const SET_EXPERIMENT_FORM_ERRORS = EXPERIMENTS_INFO_PREFIX + 'SET_EXPERIMENT_FORM_ERRORS';\nexport const SET_EXPERIMENT_ERRORS = EXPERIMENTS_INFO_PREFIX + 'SET_EXPERIMENT_ERRORS';\nexport const ACTIVATE_EDIT = EXPERIMENTS_INFO_PREFIX + 'ACTIVATE_EDIT';\nexport const DEACTIVATE_EDIT = EXPERIMENTS_INFO_PREFIX + 'DEACTIVATE_EDIT';\nexport const RESET_STATE = EXPERIMENTS_INFO_PREFIX + 'RESET_STATE';\n// EVENTS:\nexport const EXPERIMENT_DATA_UPDATED = EXPERIMENTS_INFO_PREFIX + 'EXPERIMENT_DATA_UPDATED';\nexport const EXPERIMENT_SAVE = EXPERIMENTS_INFO_PREFIX + 'EXPERIMENT_SAVE';\nexport const EXPERIMENT_SAVE_SECTION = EXPERIMENTS_INFO_PREFIX + 'EXPERIMENT_SAVE_SECTION';\nexport const EXPERIMENT_CANCEL_EDIT = EXPERIMENTS_INFO_PREFIX + 'EXPERIMENT_CANCEL_EDIT';\nexport const EXPERIMENT_DETAILS_UPDATED = EXPERIMENTS_INFO_PREFIX + 'EXPERIMENT_DETAILS_UPDATED';\n\nexport class GetExperimentInfo implements Action {\n  readonly type = GET_EXPERIMENT_INFO;\n  constructor(public payload: Task['id']) {\n  }\n}\n\nexport class ResetExperimentInfo implements Action {\n  readonly type = RESET_EXPERIMENT_INFO;\n}\n\nexport class AutoRefreshExperimentInfo implements Action {\n  readonly type = AUTO_REFRESH_EXPERIMENT_INFO;\n\n  constructor(public payload: Task['id']) {\n  }\n}\n\nexport class SetExperiment implements Action {\n  readonly type = SET_EXPERIMENT;\n\n  constructor(public payload: ISelectedExperiment) {\n  }\n}\n\nexport class ExperimentUpdatedSuccessfully implements Action {\n  readonly type = EXPERIMENT_UPDATED_SUCCESSFULLY;\n\n  constructor(public payload: string) {\n  }\n}\n\nexport class SetExperimentInfoData implements Action {\n  readonly type = SET_EXPERIMENT_INFO_DATA;\n\n  constructor(public payload: IExperimentInfo) {\n  }\n}\n\nexport const getExperiment = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[set experiment]',\n  props<{ experimentId: string }>()\n);\n\nexport const getExperimentUncommittedChanges = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[get uncommitted change]',\n  props<{ experimentId: string; autoRefresh?: boolean }>()\n);\n\nexport const setExperimentUncommittedChanges = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[set uncommitted change]',\n  props<{ diff: string }>()\n);\n\nexport class UpdateExperimentInfoData implements Action {\n  readonly type = UPDATE_EXPERIMENT_INFO_DATA;\n\n  constructor(public payload: { id: ITableExperiment['id']; changes: Partial<IExperimentInfo> }) {\n  }\n}\nexport const saveExperimentInputModel = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[save input model]', props<{ modelId: string; modelName: string; route: ActivatedRoute}>());\n\nexport const saveHyperParamsSection = createAction(\n  EXPERIMENTS_INFO_PREFIX + 'SAVE_HYPERPARAMS', props<{ hyperparams: ParamsItem[] }>());\n\nexport const saveExperimentConfigObj = createAction(\n  EXPERIMENTS_INFO_PREFIX + 'SAVE_CONFIG_OBJ', props<{ configuration: ConfigurationItem[] }>());\n\nexport const deleteHyperParamsSection = createAction(\n  EXPERIMENTS_INFO_PREFIX + 'DELETE_HYPERPARAMS_SECTION', props<{ section: string }>());\n\nexport const hyperParamsSectionUpdated = createAction(\n  EXPERIMENTS_INFO_PREFIX + 'UPDATE_HYPERPARAMS', props<{ section: string; hyperparams: ParamsItem[] }>());\n\nexport const getExperimentConfigurationNames = createAction(\n  EXPERIMENTS_INFO_PREFIX + 'GET_CONFIGURATION', props<{ experimentId: string }>());\n\nexport const setExperimentSaving = createAction(\n  EXPERIMENTS_INFO_PREFIX + 'SET_SAVING', props<{ saving: boolean }>());\n\nexport const getExperimentConfigurationObj = createAction(\n  EXPERIMENTS_INFO_PREFIX + 'GET_CONFIGURATION_OBJ');\n\nexport const updateExperimentAtPath = createAction(\n  EXPERIMENTS_INFO_PREFIX + 'UPDATE_EXPERIMENT_AT_PATH',\n  props<{ path: string; value: any }>()\n);\n\n// COMMANDS:\n\nexport class ExperimentDataUpdated implements Action {\n  readonly type = EXPERIMENT_DATA_UPDATED;\n\n  constructor(public payload: { id: Task['id']; changes: Partial<IExperimentInfo> }) {\n  }\n}\n\nexport class SaveExperiment implements Action {\n  readonly type = EXPERIMENT_SAVE;\n}\n\nexport const saveExperimentSection = createAction(EXPERIMENT_SAVE_SECTION, props<Task>());\n\nexport class CancelExperimentEdit implements Action {\n  readonly type = EXPERIMENT_CANCEL_EDIT;\n}\n\nexport class ExperimentDetailsUpdated implements Action {\n  readonly type = EXPERIMENT_DETAILS_UPDATED;\n\n  constructor(public payload: { id: Task['id']; changes: any }) {\n  }\n}\n\nexport class SetExperimentErrors implements Action {\n  readonly type = SET_EXPERIMENT_ERRORS;\n\n  constructor(public payload: { [key: string]: IExperimentInfoState['errors'] }) {\n  }\n}\n\nexport class ActivateEdit implements Action {\n  readonly type = ACTIVATE_EDIT;\n\n  constructor(public payload: string) {\n  }\n}\n\nexport class DeactivateEdit implements Action {\n  readonly type = DEACTIVATE_EDIT;\n\n}\n\nexport class SetExperimentFormErrors implements Action {\n  readonly type = SET_EXPERIMENT_FORM_ERRORS;\n\n  constructor(public payload: { [key: string]: any } | null) {\n  }\n}\n","import {Action, createAction, props} from '@ngrx/store';\nimport {ISelectedExperiment} from '../../../features/experiments/shared/experiment-info.model';\nimport {Project} from '../../../business-logic/model/projects/project';\nimport {Queue} from '../../../business-logic/model/queues/queue';\nimport {CloneExperimentPayload, ITableExperiment} from '../shared/common-experiment-model.model';\n\nexport const EXPERIMENTS_INFO_PREFIX = 'EXPERIMENTS_INFO_';\n\n// EVENTS:\nexport const CLONE_EXPERIMENT_CLICKED = EXPERIMENTS_INFO_PREFIX + 'CLONE_EXPERIMENT_CLICKED';\n\n\nexport const publishClicked = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[publish experiments]',\n  props<{ selectedEntities: ISelectedExperiment[] }>()\n);\n\nexport const stopClicked = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[stop experiments]',\n  props<{ selectedEntities: ISelectedExperiment[] }>()\n);\n\nexport const changeProjectRequested = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[change project requested]',\n  props<{ selectedEntities: ISelectedExperiment[]; project: Project }>()\n);\n\nexport const dequeueClicked = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[dequeue experiments]',\n  props<{ selectedEntities: ISelectedExperiment[] }>()\n);\n\nexport class CloneExperimentClicked implements Action {\n  readonly type = CLONE_EXPERIMENT_CLICKED;\n\n  constructor(public payload: { originExperiment: ISelectedExperiment; cloneData: CloneExperimentPayload }) {\n  }\n}\n\nexport const addTag = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[add tag to experiment]',\n  props<{ experiments: Partial<ITableExperiment>[]; tag: string }>()\n);\n\nexport const getAllTasksChildren = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[get all tasks children]',\n  props<{ experiments: string[]}>()\n);\n\nexport const setAllTasksChildren = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[set all tasks children]',\n  props<{ experiments: ITableExperiment[]}>()\n);\n\nexport const removeTag = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[remove tag from experiment]',\n  props<{ experiments: Partial<ITableExperiment>[]; tag: string }>()\n);\nexport const shareSelectedExperiments = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[share experiments]',\n  props<{ share: boolean; task: string }>()\n);\n\nexport const navigateToQueue = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[navigate to queue]',\n  props<{ experimentId: string }>()\n);\n\nexport const resetClicked = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[reset experiments]',\n  props<{ selectedEntities: ISelectedExperiment[] }>()\n);\n\nexport const enqueueClicked = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[enqueue experiments]',\n  props<{ selectedEntities: ISelectedExperiment[]; queue: Queue }>()\n);\n\nexport const archiveSelectedExperiments = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[archive selected experiments]',\n  props<{ selectedEntities: ISelectedExperiment[]; skipUndo?: boolean }>()\n);\n\nexport const restoreSelectedExperiments = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[restore selected experiments]',\n  props<{ selectedEntities: ISelectedExperiment[]; skipUndo?: boolean }>()\n);\n","import {createAction, props} from '@ngrx/store';\nimport {ITableExperiment} from '../shared/common-experiment-model.model';\nimport {ISmCol} from '../../shared/ui-components/data/table/table.consts';\nimport {MetricVariantResult} from '../../../business-logic/model/projects/metricVariantResult';\nimport {TableFilter} from '../../shared/utils/tableParamEncode';\nimport {User} from '../../../business-logic/model/users/user';\nimport {ProjectsGetTaskParentsResponseParents} from '../../../business-logic/model/projects/projectsGetTaskParentsResponseParents';\nimport {SortMeta} from 'primeng/api';\nimport {CountAvailableAndIsDisableSelectedFiltered} from '@common/shared/entity-page/items.utils';\nimport {TasksEnqueueManyResponseSucceeded} from '../../../business-logic/model/tasks/tasksEnqueueManyResponseSucceeded';\nimport {EXPERIMENTS_INFO_PREFIX} from '@common/experiments/actions/common-experiments-menu.actions';\n\nexport const EXPERIMENTS_PREFIX = 'EXPERIMENTS_';\n\n// COMMANDS:\nexport const getExperiments = createAction(EXPERIMENTS_PREFIX + ' [get experiments]');\nexport const getExperimentsWithPageSize = createAction(EXPERIMENTS_PREFIX + ' [get experiments with size]',\n  props<{pageSize: number}>());\nexport const getNextExperiments = createAction(EXPERIMENTS_PREFIX + '[get next experiments]');\n\nexport const refreshExperiments = createAction(\n  EXPERIMENTS_PREFIX + ' [refresh experiment]',\n  props<{ hideLoader: boolean; autoRefresh?: boolean}>()\n);\n\nexport const setExperiments = createAction(\n  EXPERIMENTS_PREFIX + ' [set experiments]',\n  props<{experiments: ITableExperiment[]}>()\n);\n\nexport const setExperimentInPlace = createAction(\n  EXPERIMENTS_PREFIX + '[set experiment in place]',\n  props<{ experiments: ITableExperiment[] }>()\n);\n\nexport const setNoMoreExperiments =createAction(\n  EXPERIMENTS_PREFIX + ' [set no more experiments]',\n  props<{payload: boolean}>()\n);\n\nexport const addExperiments = createAction(\n  EXPERIMENTS_PREFIX + ' [add many experiments]',\n  props<{experiments: ITableExperiment[]}>()\n);\n\nexport const removeExperiments = createAction(\n  EXPERIMENTS_PREFIX + ' [remove many experiments]',\n  props<{experiments: string[]}>()\n);\n\nexport const updateExperiment = createAction(\n  EXPERIMENTS_PREFIX + ' [update experiment]',\n  props<{id: string; changes: Partial<ITableExperiment>}>()\n);\n\nexport const updateManyExperiment = createAction(\n  EXPERIMENTS_PREFIX + 'update many experiments',\n  props<{changeList: TasksEnqueueManyResponseSucceeded[] }>()\n);\n\nexport const setSelectedExperiments = createAction(\n  EXPERIMENTS_PREFIX + ' [set selected experiments]',\n  props<{experiments: ITableExperiment[]}>()\n);\n\nexport const setSelectedExperiment = createAction(\n  EXPERIMENTS_PREFIX + ' [set selected experiment]',\n  props<{experiment: ITableExperiment}>()\n);\n\nexport const experimentSelectionChanged = createAction(\n  EXPERIMENTS_PREFIX + ' [experiment selection changed]',\n  props<{experiment: {id?: string}; project?: string}>()\n);\n\nexport const selectAllExperiments = createAction(\n  EXPERIMENTS_PREFIX + ' [select all experiments]',\n  props<{filtered: boolean}>()\n);\n\nexport const toggleColHidden = createAction(\n  EXPERIMENTS_PREFIX + ' [toggle column hidden state]',\n  props<{columnId: string; projectId: string}>()\n);\n\nexport const setHiddenColumns = createAction(\n  EXPERIMENTS_PREFIX + 'SET_HIDDEN_COLS',\n  props<{ visibleColumns: string[]; projectId: string }>()\n);\n\nexport const setUsers = createAction(\n  EXPERIMENTS_PREFIX + 'SET_USERS',\n  props<{ users: User[] }>()\n);\n\nexport const setParents = createAction(\n  EXPERIMENTS_PREFIX + '[set project experiment parents]',\n  props<{ parents: ProjectsGetTaskParentsResponseParents[]}>()\n);\n\nexport const setActiveParentsFilter = createAction(\n  EXPERIMENTS_PREFIX + '[set active parents filter]',\n  props<{ parents: ProjectsGetTaskParentsResponseParents[]}>()\n);\n\nexport const getUsers = createAction(EXPERIMENTS_PREFIX + 'GET_USERS');\nexport const getParents = createAction(EXPERIMENTS_PREFIX + '[get project experiments parents]');\nexport const getFilteredUsers = createAction(EXPERIMENTS_PREFIX + 'GET_FILTERED_USERS');\n\nexport const tableFilterChanged = createAction(\n  EXPERIMENTS_PREFIX + '[table filter changed]',\n  props<{filter: TableFilter; projectId: string}>()\n);\n\nexport const tableSortChanged = createAction(\n  EXPERIMENTS_PREFIX + ' [table sort changed]',\n  props<{ isShift: boolean; colId: ISmCol['id'] }>()\n);\n\nexport const setTableSort = createAction(\n  EXPERIMENTS_PREFIX + ' [set table sort]',\n  props<{ orders: SortMeta[]; projectId: string }>()\n);\n\nexport const setTableFilters = createAction(\n  EXPERIMENTS_PREFIX + ' [set table filters]',\n  props<{ filters: TableFilter[]; projectId: string }>()\n);\n\nexport const setProjectsTypes = createAction(\n  EXPERIMENTS_PREFIX + 'SET_PROJECT_TYPES',\n  props<{ types?: Array<string> }>()\n);\n\nexport const getProjectTypes = createAction(EXPERIMENTS_PREFIX + 'GET_PROJECT_TYPES');\n\nexport const showOnlySelected = createAction(\n  EXPERIMENTS_PREFIX + ' [show only selected]',\n  props<{active: boolean; projectId: string}>()\n);\n\nexport const globalFilterChanged = createAction(\n  EXPERIMENTS_PREFIX + 'GLOBAL_FILTER_CHANGED',\n  props<{query: string; regExp?: boolean}>()\n);\n\nexport const resetGlobalFilter = createAction(EXPERIMENTS_PREFIX + 'RESET_GLOBAL_FILTER');\n\nexport const setCurrentScrollId = createAction(\n  EXPERIMENTS_PREFIX + ' [set current scrollId]',\n  props<{scrollId: string}>()\n);\n\nexport const resetExperiments = createAction(EXPERIMENTS_PREFIX + ' [reset experiments]');\nexport const getCustomMetrics = createAction(EXPERIMENTS_PREFIX + ' [get custom metrics]');\nexport const getCustomHyperParams = createAction(EXPERIMENTS_PREFIX + ' [get custom hyper parameter]');\n\nexport const setCustomMetrics = createAction(\n  EXPERIMENTS_PREFIX + ' [set custom metrics]',\n  props<{metrics: MetricVariantResult[]}>()\n);\nexport const setCustomHyperParams = createAction(\n  EXPERIMENTS_PREFIX + ' [set custom hyper params]',\n  props<{params: any[]}>()\n);\n\nexport const setExtraColumns = createAction(\n  EXPERIMENTS_PREFIX + 'SET_EXTRA_COLUMNS',\n  props<{ columns: any[] ; projectId: string }>()\n);\n\nexport const addColumn = createAction(\n  EXPERIMENTS_PREFIX + ' [ add column]',\n  props<{col: ISmCol}>()\n);\n\nexport const removeCol = createAction(\n  EXPERIMENTS_PREFIX + ' [remove column]',\n  props<{ id: string; projectId: string }>()\n);\n\nexport const setColumnWidth = createAction(\n  EXPERIMENTS_PREFIX + ' [set column width]',\n  props<{projectId: string; columnId: string; widthPx: number}>()\n);\n\nexport const setColsOrderForProject = createAction(\n  EXPERIMENTS_PREFIX + ' [set cols order]',\n  props<{ cols: string[]; project: string; fromUrl?: boolean }>()\n);\n\nexport const clearHyperParamsCols = createAction(\n  EXPERIMENTS_PREFIX + ' [Clear HyperParam Cols]',\n  props<{projectId: string}>()\n);\n\nexport const resetSortOrder = createAction(\n  EXPERIMENTS_PREFIX + 'RESET_SORT_ORDER',\n  props<{sortIndex: number; projectId: string}>()\n);\n\nexport const setArchive = createAction(\n  EXPERIMENTS_PREFIX + 'SET_ARCHIVE',\n  props<{ archive: boolean }>()\n);\n\nexport const afterSetArchive = createAction(EXPERIMENTS_PREFIX + 'AFTER_SET_ARCHIVE');\n\nexport const setSplitSize = createAction(EXPERIMENTS_PREFIX + 'SET_SPLIT_SIZE', props<{ splitSize: number }>());\n\nexport const hyperParamSelectedInfoExperiments = createAction(\n  EXPERIMENTS_PREFIX + '[hyper param option add filter experiments]',\n  props<{ col: ISmCol; values: string[] }>()\n);\n\nexport const hyperParamSelectedExperiments = createAction(\n  EXPERIMENTS_INFO_PREFIX + '[hyper param selected in the menu filter experiments]',\n  props<{ col: ISmCol }>()\n);\n\nexport const getTags = createAction(EXPERIMENTS_PREFIX + ' [get experiments tags]');\n\nexport const setTags = createAction(\n  EXPERIMENTS_PREFIX + 'SET_TAGS',\n  props<{ tags: string[] }>()\n);\nexport const setSelectedExperimentsDisableAvailable = createAction(\n  EXPERIMENTS_PREFIX + 'setSelectedExperimentsDisableAvailable',\n  props<{ selectedExperimentsDisableAvailable: Record<string, CountAvailableAndIsDisableSelectedFiltered> }>()\n);\n","import {Injectable} from '@angular/core';\nimport {Actions, createEffect, ofType} from '@ngrx/effects';\nimport {Store} from '@ngrx/store';\nimport {catchError, filter, map, mergeMap, shareReplay, switchMap, take, tap, withLatestFrom} from 'rxjs/operators';\nimport {ApiTasksService} from '../../../business-logic/api-services/tasks.service';\nimport {getExperimentInfoOnlyFields} from '../../../features/experiments/experiments.consts';\nimport {selectExperimentFormValidity, selectExperimentInfoData, selectExperimentInfoDataFreeze, selectSelectedExperiment} from '../../../features/experiments/reducers';\nimport {IExperimentInfoState} from '../../../features/experiments/reducers/experiment-info.reducer';\nimport {ExperimentReverterService} from '../../../features/experiments/shared/services/experiment-reverter.service';\nimport {requestFailed} from '../../core/actions/http.actions';\nimport {activeLoader, deactivateLoader, setBackdrop, setServerError} from '../../core/actions/layout.actions';\nimport {selectAppVisible} from '../../core/reducers/view.reducer';\nimport * as commonInfoActions from '../actions/common-experiments-info.actions';\nimport {\n  CancelExperimentEdit, deleteHyperParamsSection, EXPERIMENT_DETAILS_UPDATED, EXPERIMENT_SAVE,\n  ExperimentDetailsUpdated, getExperimentConfigurationNames, getExperimentConfigurationObj,\n  SaveExperiment, saveExperimentConfigObj, saveHyperParamsSection, saveExperimentSection,\n  DeactivateEdit, setExperimentSaving\n} from '../actions/common-experiments-info.actions';\nimport {updateExperiment} from '../actions/common-experiments-view.actions';\nimport {\n  selectExperimentConfiguration, selectExperimentHyperParamsSelectedSectionFromRoute, selectExperimentSelectedConfigObjectFromRoute, selectExperimentsList, selectSelectedExperimentFromRouter,\n  selectSelectedTableExperiment\n} from '../reducers';\nimport {convertStopToComplete} from '../shared/common-experiments.utils';\nimport {ExperimentConverterService} from '../../../features/experiments/shared/services/experiment-converter.service';\nimport {of} from 'rxjs';\nimport {EmptyAction} from '../../../app.constants';\nimport {ReplaceHyperparamsEnum} from '../../../business-logic/model/tasks/replaceHyperparamsEnum';\nimport {Router} from '@angular/router';\nimport {selectRouterParams} from '../../core/reducers/router-reducer';\nimport {cloneDeep, get} from 'lodash/fp';\nimport {CommonExperimentReverterService} from '../shared/services/common-experiment-reverter.service';\nimport {setExperimentLog} from '../actions/common-experiment-output.actions';\nimport {HttpErrorResponse} from '@angular/common/http';\nimport {selectHasDataFeature} from '../../../core/reducers/users.reducer';\nimport {selectSelectedProject} from '../../core/reducers/projects.reducer';\n\n\n@Injectable()\nexport class CommonExperimentsInfoEffects {\n  private previousSelectedLastUpdate: Date = null;\n  private previousSelectedId: string;\n\n\n  constructor(\n    private actions$: Actions,\n    private store: Store<IExperimentInfoState>,\n    private apiTasks: ApiTasksService,\n    private reverter: ExperimentReverterService,\n    private converter: ExperimentConverterService,\n    private router: Router,\n    private commonExperimentReverterService: CommonExperimentReverterService\n  ) {\n  }\n\n  activeLoader = createEffect(() => this.actions$.pipe(\n    ofType(commonInfoActions.GET_EXPERIMENT_INFO),\n    map(action => activeLoader(action.type))\n  ));\n\n  getExperimentConfigurationNames$ = createEffect(() => this.actions$.pipe(\n    ofType(getExperimentConfigurationNames),\n    withLatestFrom(\n      this.store.select(selectSelectedExperimentFromRouter),\n      this.store.select(selectExperimentConfiguration),\n      this.store.select(selectExperimentSelectedConfigObjectFromRoute)\n    ),\n    filter(([action, experimentId, configuration, selectedConfiguration]) => !!experimentId),\n    switchMap(([action, experimentId, configuration, selectedConfiguration]) => this.apiTasks.tasksGetConfigurationNames({tasks: [experimentId]})\n      .pipe(\n        mergeMap(res => {\n          let configurations = cloneDeep(configuration);\n          if (configurations) {\n            Object.keys(configurations).forEach(name => {\n              if (!res.configurations[0]?.names.includes(name)) {\n                delete configurations.name;\n              }\n            });\n          } else {\n            configurations = {};\n          }\n          res.configurations[0]?.names.forEach(name => {\n            if (!(name in configurations)) {\n              configurations[name] = null;\n            }\n          });\n          return [\n            new commonInfoActions.UpdateExperimentInfoData({id: experimentId, changes: {configuration: configurations}}),\n            selectedConfiguration ? getExperimentConfigurationObj() : new EmptyAction(),\n            deactivateLoader(action.type),\n          ];\n        }),\n        catchError(error => {\n          console.log(error);\n          return [\n            requestFailed(error),\n            deactivateLoader(action.type),\n            setServerError(error, null, 'Fetch configuration names failed',\n              action.type === commonInfoActions.AUTO_REFRESH_EXPERIMENT_INFO)\n          ];\n        })\n      )\n    )\n  ));\n\n  getExperimentConfigurationObj$ = createEffect(() => this.actions$.pipe(\n    ofType(getExperimentConfigurationObj),\n    withLatestFrom(\n      this.store.select(selectSelectedExperimentFromRouter),\n      this.store.select(selectExperimentConfiguration),\n      this.store.select(selectExperimentSelectedConfigObjectFromRoute)\n    ),\n    filter(([action, experimentId, configuration, configObj]) => configuration && configObj && (configObj in configuration)),\n    switchMap(([action, experimentId, configuration, configObj]) => this.apiTasks.tasksGetConfigurations({tasks: [experimentId], names: [configObj]})\n      .pipe(\n        mergeMap((res: any) => {\n          const configurationObj = {\n            ...configuration,\n            [configObj]: res.configurations[0].configuration[0]\n          };\n          return [\n            new commonInfoActions.UpdateExperimentInfoData({id: experimentId, changes: {configuration: configurationObj}}),\n            deactivateLoader(action.type),\n            setBackdrop({payload: false}),\n            new DeactivateEdit(),\n            setExperimentSaving({saving: false})\n          ];\n        }),\n        catchError(error => {\n          console.log(error);\n          return [\n            requestFailed(error),\n            deactivateLoader(action.type),\n            setBackdrop({payload: false}),\n            new DeactivateEdit(),\n            setExperimentSaving({saving: false}),\n            setServerError(error, null, 'Fetch configuration failed',\n              action.type === commonInfoActions.AUTO_REFRESH_EXPERIMENT_INFO)\n          ];\n        })\n      )\n    )\n  ));\n\n  getExperimentInfo$ = createEffect(() => this.actions$.pipe(\n    ofType<commonInfoActions.GetExperimentInfo>(commonInfoActions.GET_EXPERIMENT_INFO, commonInfoActions.AUTO_REFRESH_EXPERIMENT_INFO, commonInfoActions.EXPERIMENT_UPDATED_SUCCESSFULLY),\n    withLatestFrom(\n      this.store.select(selectSelectedTableExperiment),\n      this.store.select(selectSelectedExperiment),\n      this.store.select(selectExperimentsList),\n      this.store.select(selectExperimentInfoData),\n      this.store.select(selectAppVisible),\n    ),\n    switchMap(([action, tableSelected, selected, experiments, infoData, visible]) => {\n      const currentSelected = tableSelected || selected;\n      if (this.previousSelectedId && currentSelected?.id != this.previousSelectedId) {\n        this.previousSelectedLastUpdate = null;\n      }\n      this.previousSelectedId = currentSelected?.id;\n\n      if (!infoData || !currentSelected || !visible) {\n        return of([action, null, tableSelected, selected]);\n      }\n\n      const listed = experiments.find(e => e.id === currentSelected?.id);\n      return (listed ? of(listed) :\n        this.apiTasks.tasksGetByIdEx({id: [selected.id], only_fields: ['last_change']}).pipe(map(res => res.tasks[0])))\n        .pipe(map(task => [action, task?.last_change ?? task?.last_update, task, selected]));\n    }),\n    filter(([action, , tableSelected, selected]) => (action.type !== commonInfoActions.AUTO_REFRESH_EXPERIMENT_INFO || (!tableSelected) || (tableSelected?.id === selected?.id))),\n    // Can't have filter here because we need to deactivate loader\n    // filter(([action, selected, updateTime]) => !selected || new Date(selected.last_change) < new Date(updateTime)),\n    switchMap(([action, updateTime, tableSelected, selected]) => {\n      // else will deactivate loader\n      if (!updateTime || (new Date(this.previousSelectedLastUpdate) < new Date(updateTime)) || action.type === commonInfoActions.EXPERIMENT_UPDATED_SUCCESSFULLY) {\n        return [\n          commonInfoActions.getExperiment({experimentId: action.payload}),\n          commonInfoActions.getExperimentUncommittedChanges({\n            experimentId: action.payload,\n            autoRefresh: action.type === commonInfoActions.AUTO_REFRESH_EXPERIMENT_INFO\n          }),\n          // clear log data if experiment was restarted\n          ...(selected?.started && tableSelected?.started && selected.started != tableSelected?.started ? [setExperimentLog({direction: null, events: [], total: 0})] : [])\n        ];\n      } else {\n        return [deactivateLoader(action.type)];\n      }\n    })\n  ));\n\n  fetchExperiment$ = createEffect(() => this.actions$.pipe(\n    ofType(commonInfoActions.getExperiment),\n    switchMap(action => this.store.select(selectSelectedProject).pipe(\n      filter(project => !!project),\n      take(1),\n      map(() => action))),\n    withLatestFrom(this.store.select(selectHasDataFeature)),\n    switchMap(([action, hasDataFeature]) =>\n      this.apiTasks.tasksGetByIdEx({id: [action.experimentId], only_fields: getExperimentInfoOnlyFields(hasDataFeature)})\n        .pipe(\n          mergeMap((res: any) => {\n            let experiment = res.tasks[0];\n            if (experiment) {\n              this.previousSelectedLastUpdate = experiment.last_change;\n              experiment = convertStopToComplete([experiment])[0];\n              experiment = this.commonExperimentReverterService.revertReadOnly(experiment);\n              return [\n                new commonInfoActions.SetExperimentInfoData(this.reverter.revertExperiment(experiment)),\n                new commonInfoActions.SetExperiment(experiment),\n                updateExperiment({id: action.experimentId, changes: experiment}),\n                deactivateLoader(action.type),\n                deactivateLoader(commonInfoActions.GET_EXPERIMENT_INFO),\n                setBackdrop({payload: false}),\n                new DeactivateEdit(),\n                setExperimentSaving({saving: false})\n              ];\n            } else {\n              this.router.navigate(['dashboard']);\n              return [deactivateLoader(action.type)];\n            }\n          }),\n          catchError(error => [\n            requestFailed(error),\n            deactivateLoader(action.type),\n            deactivateLoader(commonInfoActions.GET_EXPERIMENT_INFO),\n            setServerError(error, null, 'Fetch experiment failed',\n              action.type === commonInfoActions.AUTO_REFRESH_EXPERIMENT_INFO)\n          ])\n        )\n    )\n  ));\n\n  fetchDiff$ = createEffect(() => this.actions$.pipe(\n    ofType(commonInfoActions.getExperimentUncommittedChanges),\n    switchMap((action) =>\n      this.apiTasks.tasksGetByIdEx({id: [action.experimentId], only_fields: ['script.diff']})\n        .pipe(\n          mergeMap(res => {\n            const experiment = res.tasks[0];\n            return [commonInfoActions.setExperimentUncommittedChanges({diff: experiment?.script?.diff})];\n          }),\n          catchError(() => [commonInfoActions.setExperimentUncommittedChanges({diff: ''})])\n        )\n    )\n  ));\n\n  // Changes fields which can be applied regardless of experiment draft state i.e name, comments, tags\n  updateExperimentDetails$ = createEffect(() => this.actions$.pipe(\n    ofType<ExperimentDetailsUpdated>(EXPERIMENT_DETAILS_UPDATED),\n    withLatestFrom(\n      this.store.select(selectExperimentInfoData),\n      this.store.select(selectSelectedExperiment),\n      this.store.select(selectExperimentFormValidity)\n    ),\n    filter(([action, infoData, selectedExperiment, valid]) => valid),\n    mergeMap(([action, infoData, selectedExperiment]) =>\n      this.apiTasks.tasksUpdate({task: action.payload.id, ...action.payload.changes})\n        .pipe(\n          mergeMap((res) => {\n            const changes = res?.fields || action.payload.changes;\n            return [\n              new commonInfoActions.ExperimentUpdatedSuccessfully(action.payload.id),\n              updateExperiment({id: action.payload.id, changes}),\n              selectedExperiment?.id === action.payload.id ? new commonInfoActions.UpdateExperimentInfoData({id: action.payload.id, changes}) : new EmptyAction()\n            ];\n          }),\n          catchError((err: HttpErrorResponse) => [\n            requestFailed(err),\n            setServerError(err, null, 'Update Experiment failed'),\n            new commonInfoActions.GetExperimentInfo(action.payload.id)\n          ])\n        )\n    )\n  ));\n\n  saveExperimentData$ = createEffect(() => this.actions$.pipe(\n    ofType<SaveExperiment>(EXPERIMENT_SAVE),\n    // Changes fields which can be applied Only on draft mode experiment\n    withLatestFrom(\n      this.store.select(selectExperimentInfoData),\n      this.store.select(selectSelectedExperiment),\n      this.store.select(selectExperimentInfoDataFreeze),\n      this.store.select(selectExperimentFormValidity),\n    ),\n    filter(([action, infoData, selectedExperiment, infoFreeze, valid]) => valid),\n    switchMap(([action, infoData, selectedExperiment, infoFreeze]) =>\n      this.apiTasks.tasksEdit(this.converter.convertExperiment(infoData, selectedExperiment, infoFreeze))\n        .pipe(\n          mergeMap(() => [\n            new commonInfoActions.ExperimentUpdatedSuccessfully(selectedExperiment.id),\n          ]),\n          catchError(err => [\n            requestFailed(err),\n            setServerError(err),\n            new commonInfoActions.ExperimentUpdatedSuccessfully(selectedExperiment.id),\n            new CancelExperimentEdit(),\n            setBackdrop({payload: false})\n          ])\n        )\n    ),\n    shareReplay(1)\n  ));\n\n  saveExperimentSectionData$ = createEffect(() => this.actions$.pipe(\n    ofType(saveExperimentSection),\n    withLatestFrom(this.store.select(selectSelectedExperiment)),\n    switchMap(([action, selectedExperiment]) => {\n      const {type, parent, ...changes} = action;\n      return this.apiTasks.tasksEdit({task: selectedExperiment.id, ...changes, ...(parent && {parent: parent.id})})\n        .pipe(\n          mergeMap(() => [\n            new commonInfoActions.ExperimentUpdatedSuccessfully(selectedExperiment.id),\n          ]),\n          catchError(err => [\n            requestFailed(err),\n            setServerError(err),\n            new commonInfoActions.ExperimentUpdatedSuccessfully(selectedExperiment.id),\n            new CancelExperimentEdit(),\n            setBackdrop({payload: false})\n          ])\n        );\n    }),\n  ));\n\n  saveExperimentHyperParams$ = createEffect(() => this.actions$.pipe(\n    ofType(saveHyperParamsSection),\n    withLatestFrom(\n      this.store.select(selectSelectedExperiment),\n      this.store.select(selectExperimentFormValidity),\n      this.store.select(selectExperimentHyperParamsSelectedSectionFromRoute)\n    ),\n    filter(([action, selectedExperiment, valid, section]) => valid),\n    switchMap(([action, selectedExperiment, valid, section]) =>\n      this.apiTasks.tasksEditHyperParams({\n        task: selectedExperiment.id,\n        hyperparams: action.hyperparams.length > 0 ? action.hyperparams : [{section}],\n        replace_hyperparams: ReplaceHyperparamsEnum.Section\n      })\n        .pipe(\n          mergeMap(() => [\n            new commonInfoActions.ExperimentUpdatedSuccessfully(selectedExperiment.id),\n          ]),\n          catchError(err => [\n            requestFailed(err),\n            setServerError(err),\n            new commonInfoActions.ExperimentUpdatedSuccessfully(selectedExperiment.id),\n            new CancelExperimentEdit(),\n            setBackdrop({payload: false})\n          ])\n        )\n    ),\n  ));\n\n  saveExperimentConfigObj$ = createEffect(() => this.actions$.pipe(\n    ofType(saveExperimentConfigObj),\n    withLatestFrom(\n      this.store.select(selectSelectedExperimentFromRouter),\n    ),\n    switchMap(([action, selectedExperiment]) =>\n      this.apiTasks.tasksEditConfiguration({task: selectedExperiment, configuration: action.configuration})\n        .pipe(\n          mergeMap(() => [\n            commonInfoActions.getExperimentConfigurationObj(),\n            // commonInfoActions.setExperimentSaving({saving: false}),\n          ]),\n          catchError(err => [\n            requestFailed(err),\n            setServerError(err),\n            commonInfoActions.getExperimentConfigurationObj(),\n            commonInfoActions.setExperimentSaving({saving: false}),\n            new CancelExperimentEdit(),\n            setBackdrop({payload: false})\n          ])\n        )\n    ),\n  ));\n\n  deleteExperimentHyperParamsSection$ = createEffect(() => this.actions$.pipe(\n    ofType(deleteHyperParamsSection),\n    withLatestFrom(\n      this.store.select(selectExperimentInfoData),\n      this.store.select(selectSelectedExperiment),\n      this.store.select(selectExperimentInfoDataFreeze),\n      this.store.select(selectExperimentFormValidity),\n      this.store.select(selectRouterParams).pipe(map(params => get('projectId', params))),\n      this.store.select(selectExperimentHyperParamsSelectedSectionFromRoute)\n    ),\n    filter(([action, infoData, selectedExperiment, infoFreeze, valid, projectId, section]) => valid),\n    switchMap(([action, infoData, selectedExperiment, infoFreeze, valid, projectId, section]) =>\n      this.apiTasks.tasksDeleteHyperParams({task: selectedExperiment.id, hyperparams: [{section: action.section}]})\n        .pipe(\n          tap(() => this.router.navigateByUrl(this.router.url.replace('/hyper-param/' + section, ''))),\n          mergeMap((res) => [\n            new commonInfoActions.ExperimentUpdatedSuccessfully(selectedExperiment.id),\n          ]),\n          catchError(err => [\n            requestFailed(err),\n            setServerError(err),\n            new commonInfoActions.ExperimentUpdatedSuccessfully(selectedExperiment.id),\n            new CancelExperimentEdit(),\n            setBackdrop({payload: false})\n          ])\n        )\n    ),\n  ));\n\n}\n","/**\n * tasks\n * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\n *\n * OpenAPI spec version: 2.14\n *\n *\n * NOTE: This class is auto generated by the swagger code generator program.\n * https://github.com/swagger-api/swagger-codegen.git\n * Do not edit the class manually.\n */\n\n\n\nexport type ReplaceHyperparamsEnum = 'none' | 'section' | 'all';\n\nexport const ReplaceHyperparamsEnum = {\n    None: 'none' as ReplaceHyperparamsEnum,\n    Section: 'section' as ReplaceHyperparamsEnum,\n    All: 'all' as ReplaceHyperparamsEnum\n}\n","import {Injectable} from '@angular/core';\nimport {Actions, createEffect, ofType} from '@ngrx/effects';\nimport {Store} from '@ngrx/store';\nimport {ApiTasksService} from '../../../business-logic/api-services/tasks.service';\nimport {ApiAuthService} from '../../../business-logic/api-services/auth.service';\nimport {BlTasksService} from '../../../business-logic/services/tasks.service';\nimport {ApiEventsService} from '../../../business-logic/api-services/events.service';\nimport {catchError, expand, filter, map, mergeMap, reduce, switchMap, withLatestFrom} from 'rxjs/operators';\nimport {activeLoader, deactivateLoader, setServerError} from '../../core/actions/layout.actions';\nimport {requestFailed} from '../../core/actions/http.actions';\nimport * as outputActions from '../actions/common-experiment-output.actions';\nimport {\n  mergeGraphDisplayFullDetailsScalars,\n  setXtypeGraphDisplayFullDetailsScalars\n} from '../actions/common-experiment-output.actions';\nimport {ExperimentOutputState} from '../../../features/experiments/reducers/experiment-output.reducer';\nimport {LOG_BATCH_SIZE} from '../shared/common-experiments.const';\nimport {\n  selectFullScreenChart,\n  selectFullScreenChartIsOpen,\n  selectFullScreenChartXtype,\n  selectSelectedSettingsxAxisType\n} from '../reducers';\nimport {refreshExperiments} from '../actions/common-experiments-view.actions';\nimport {EventsGetTaskLogResponse} from '../../../business-logic/model/events/eventsGetTaskLogResponse';\nimport {HTTP} from '../../../app.constants';\nimport {ScalarKeyEnum} from '../../../business-logic/model/events/scalarKeyEnum';\nimport {EMPTY} from 'rxjs';\nimport {getOr} from 'lodash/fp';\nimport {selectCompareHistogramCacheAxisType} from '../../experiments-compare/reducers';\n\n\n@Injectable()\nexport class CommonExperimentOutputEffects {\n\n  constructor(\n    private actions$: Actions, private store: Store<ExperimentOutputState>, private apiTasks: ApiTasksService,\n    private authApi: ApiAuthService, private taskBl: BlTasksService, private eventsApi: ApiEventsService\n  ) {\n  }\n\n  activeLoader = createEffect(() => this.actions$.pipe(\n    ofType(outputActions.CHANGE_PROJECT_REQUESTED, outputActions.getExperimentLog, outputActions.EXPERIMENT_SCALAR_REQUESTED, outputActions.experimentPlotsRequested),\n    filter(action => !action?.['from']),\n    map(action => activeLoader(action.type))\n  ));\n\n  getLog$ = createEffect(() => this.actions$.pipe(\n    ofType(outputActions.getExperimentLog),\n    switchMap((action) =>\n      this.eventsApi.eventsGetTaskLog({\n        /* eslint-disable @typescript-eslint/naming-convention */\n        task: action.id,\n        batch_size: LOG_BATCH_SIZE,\n        navigate_earlier: action.direction !== 'next',\n        from_timestamp: action.refresh ? null : action.from,\n        /* eslint-enable @typescript-eslint/naming-convention */\n      }).pipe(\n        mergeMap((res: EventsGetTaskLogResponse) => [\n          outputActions.setExperimentLog({\n            events: res.events,\n            total: res.total,\n            direction: action.direction,\n            refresh: action.refresh\n          }),\n          deactivateLoader(action.type),\n          deactivateLoader(refreshExperiments.type)\n        ]),\n        catchError(error => [\n          requestFailed(error),\n          deactivateLoader(action.type),\n          deactivateLoader(refreshExperiments.type),\n          setServerError(error, null, 'Failed to fetch log')\n        ])\n      )\n    )\n  ));\n\n  fetchExperimentScalarFullDetails$ = createEffect(() => this.actions$.pipe(\n    ofType(outputActions.getGraphDisplayFullDetailsScalars),\n    withLatestFrom(this.store.select(selectFullScreenChart), this.store.select(selectFullScreenChartXtype)),\n    switchMap(([action, fullScreenData, chartType]) => this.eventsApi.eventsScalarMetricsIterRaw({\n      task: action.task,\n      metric: action.metric,\n      key: action.key? action.key : chartType,\n      count_total: true,\n      batch_size: 200000,\n    })\n      .pipe(\n        withLatestFrom(this.store.select(selectFullScreenChartIsOpen)),\n        map(([res, isOpen]) => [res.returned, res, isOpen]),\n        expand(([returnedTillNow, data, isOpen]) => (returnedTillNow < data.total) && isOpen ? this.eventsApi.eventsScalarMetricsIterRaw({\n            task: action.task,\n            metric: action.metric,\n            scroll_id: data.scroll_id,\n            key: action.key? action.key : chartType,\n            count_total: true,\n            batch_size: 200000,\n          }).pipe(\n          withLatestFrom(this.store.select(selectFullScreenChartIsOpen)),\n          map(([res, isOpen]) => [returnedTillNow + res.returned, res, isOpen])\n          )\n          : EMPTY\n        ),\n        reduce((acc, [, data]) => {\n            const graphData = acc ? acc : fullScreenData.data;\n            return graphData.map((item) => ({\n                ...item,\n                y: !acc ? getOr([], `variants[${item.name}].y`, data) : (item.y).concat(getOr([], `variants[${item.name}].y`, data)),\n                x: !acc ? getOr([], `variants[${item.name}][${action.key? action.key : chartType}]`, data) : (item.x).concat(getOr([], `variants[${item.name}][${action.key? action.key : chartType}]`, data))\n              }));\n          }\n          , null)\n      ,\n    mergeMap( (data: any) => [\n        ... action.key ? [setXtypeGraphDisplayFullDetailsScalars({xAxisType: action.key})]:[],\n      mergeGraphDisplayFullDetailsScalars({data}),\n      deactivateLoader(outputActions.getGraphDisplayFullDetailsScalars.type),\n    ]),\n    catchError(error => [\n      requestFailed(error),\n      deactivateLoader(outputActions.getGraphDisplayFullDetailsScalars.type),\n      setServerError(error, null, 'Failed to get full detailed Chart')\n    ])))\n  ));\n\n  fetchExperimentPlots$ = createEffect(() => this.actions$.pipe(\n    ofType(outputActions.experimentPlotsRequested),\n    switchMap(action => this.eventsApi.eventsGetTaskPlots({task: action.task, iters: 5}).pipe(\n      map(res => [res.plots.length, res]),\n      expand(([plotsLength, data]) => plotsLength < data.total\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        ? this.eventsApi.eventsGetTaskPlots({task: action.task, iters: 5, scroll_id: data.scroll_id}).pipe(\n          map(res => [plotsLength + res.plots.length, res])\n        )\n        : EMPTY\n      ),\n      reduce((acc, [, data]) => acc.concat(data.plots), [])\n    )),\n    mergeMap((allPlots: any) => [\n      new outputActions.SetExperimentPlots(allPlots),\n      deactivateLoader(refreshExperiments.type),\n      deactivateLoader(outputActions.experimentPlotsRequested.type),\n    ]),\n    catchError(error => [\n      requestFailed(error),\n      deactivateLoader(outputActions.experimentPlotsRequested.type),\n      deactivateLoader(refreshExperiments.type),\n      setServerError(error, null, 'Failed to get Plot Charts')\n    ])\n  ));\n\n  fetchExperimentScalar$ = createEffect(() => this.actions$.pipe(\n    ofType<outputActions.ExperimentScalarRequested>(outputActions.EXPERIMENT_SCALAR_REQUESTED),\n    withLatestFrom(this.store.select(selectSelectedSettingsxAxisType), this.store.select(selectCompareHistogramCacheAxisType)),\n    switchMap(([action, axisType, prevAxisType]) => {\n        if ([ScalarKeyEnum.IsoTime, ScalarKeyEnum.Timestamp].includes(prevAxisType) &&\n          [ScalarKeyEnum.IsoTime, ScalarKeyEnum.Timestamp].includes(axisType)) {\n          return [\n            deactivateLoader(refreshExperiments.type),\n            deactivateLoader(action.type)\n          ];\n        }\n\n        return this.eventsApi.eventsScalarMetricsIterHistogram({\n          task: action.payload,\n          key: axisType === ScalarKeyEnum.IsoTime ? ScalarKeyEnum.Timestamp : axisType\n        })\n          .pipe(\n            mergeMap(res => [\n              new outputActions.SetExperimentHistogram(res, axisType),\n              deactivateLoader(refreshExperiments.type),\n              deactivateLoader(action.type)\n            ]),\n            catchError(error => [\n              requestFailed(error),\n              deactivateLoader(action.type),\n              deactivateLoader(refreshExperiments.type),\n              setServerError(error, null, 'Failed to get Scalar Charts')\n            ])\n          );\n      }\n    )\n  ));\n\n  downloadFullLog$ = createEffect(() => this.actions$.pipe(\n    ofType(outputActions.downloadFullLog),\n    filter(action => !!action.experimentId),\n    map(action => {\n      const a = document.createElement('a');\n      a.href = `${HTTP.API_BASE_URL}/events.download_task_log?line_type=text&task=${action.experimentId}`;\n      a.target = '_blank';\n      a.download = 'Log';\n      a.click();\n    })\n  ), {dispatch: false});\n}\n","import {Injectable} from '@angular/core';\nimport {Actions, createEffect, ofType} from '@ngrx/effects';\nimport {Action, Store} from '@ngrx/store';\nimport {ApiTasksService} from '../../../business-logic/api-services/tasks.service';\nimport {ApiAuthService} from '../../../business-logic/api-services/auth.service';\nimport {BlTasksService} from '../../../business-logic/services/tasks.service';\nimport {ApiEventsService} from '../../../business-logic/api-services/events.service';\nimport {Router} from '@angular/router';\nimport {catchError, map, mergeMap, switchMap, tap, withLatestFrom} from 'rxjs/operators';\nimport {activeLoader, addMessage, deactivateLoader, setServerError} from '../../core/actions/layout.actions';\nimport * as menuActions from '../actions/common-experiments-menu.actions';\nimport {of} from 'rxjs';\nimport {requestFailed} from '../../core/actions/http.actions';\nimport {IExperimentInfoState} from '../../../features/experiments/reducers/experiment-info.reducer';\nimport {ExperimentConverterService} from '../../../features/experiments/shared/services/experiment-converter.service';\nimport * as exSelectors from '../reducers';\nimport {selectSelectedExperiments} from '../reducers';\nimport {selectSelectedExperiment} from '../../../features/experiments/reducers';\nimport * as infoActions from '../actions/common-experiments-info.actions';\nimport {AutoRefreshExperimentInfo, ExperimentDetailsUpdated} from '../actions/common-experiments-info.actions';\nimport {EmptyAction, MESSAGES_SEVERITY} from '../../../app.constants';\nimport * as viewActions from '../actions/common-experiments-view.actions';\nimport {IExperimentInfo, ISelectedExperiment} from '../../../features/experiments/shared/experiment-info.model';\nimport {ResetOutput} from '../actions/common-experiment-output.actions';\nimport {ApiProjectsService} from '../../../business-logic/api-services/projects.service';\nimport {TasksGetAllExResponse} from '../../../business-logic/model/tasks/tasksGetAllExResponse';\nimport {ITask} from '../../../business-logic/model/al-task';\nimport {TasksResetManyResponse} from '../../../business-logic/model/tasks/tasksResetManyResponse';\nimport {RouterState, selectRouterConfig, selectRouterParams} from '../../core/reducers/router-reducer';\nimport {TasksArchiveManyResponse} from '../../../business-logic/model/tasks/tasksArchiveManyResponse';\nimport {EntityTypeEnum} from '../../../shared/constants/non-common-consts';\nimport {TasksEnqueueManyResponse} from '../../../business-logic/model/tasks/tasksEnqueueManyResponse';\nimport {getNotificationAction, MenuItems, MoreMenuItems} from '../../shared/entity-page/items.utils';\nimport {getAllSystemProjects} from '../../core/actions/projects.actions';\nimport { TaskStatusEnum } from '../../../business-logic/model/tasks/taskStatusEnum';\nimport {setAllTasksChildren} from '../actions/common-experiments-menu.actions';\n\n\n@Injectable()\nexport class CommonExperimentsMenuEffects {\n  private selectedExperiment: IExperimentInfo;\n\n  constructor(private actions$: Actions, private store: Store<IExperimentInfoState>, private apiTasks: ApiTasksService,\n              private authApi: ApiAuthService, private taskBl: BlTasksService, private eventsApi: ApiEventsService,\n              private projectApi: ApiProjectsService,\n              private converter: ExperimentConverterService,\n              private router: Router\n  ) {\n    store.select(selectSelectedExperiment).subscribe(exp => this.selectedExperiment = exp);\n  }\n\n  activeLoader = createEffect(() => this.actions$.pipe(\n    ofType(\n      menuActions.restoreSelectedExperiments,\n      menuActions.archiveSelectedExperiments,\n      menuActions.resetClicked,\n      menuActions.publishClicked,\n      menuActions.stopClicked,\n      menuActions.changeProjectRequested,\n      menuActions.getAllTasksChildren,\n      ),\n    map(action => activeLoader(action.type))));\n\n  enqueueExperiment$ = createEffect(() => this.actions$.pipe(\n    ofType(menuActions.enqueueClicked),\n    withLatestFrom(this.store.select(selectSelectedExperiment)),\n    switchMap(([action, selectedEntity]: [ReturnType<typeof menuActions.enqueueClicked>, IExperimentInfo]) => {\n        const ids = action.selectedEntities.map(exp => exp.id);\n        return this.apiTasks.tasksEnqueueMany({ids, queue: action.queue.id, validate_tasks: true})\n          .pipe(\n            mergeMap(res => this.updateExperimentsSuccess(action, MenuItems.enqueue, ids, selectedEntity, res)),\n            catchError(error => this.updateExperimentFailed(action.type, error))\n          );\n      }\n    )\n  ));\n\n\n  dequeueExperiment$ = createEffect(() => this.actions$.pipe(\n    ofType(menuActions.dequeueClicked),\n    withLatestFrom(this.store.select(selectSelectedExperiment)),\n    switchMap(([action, selectedEntity]) => {\n        const ids = action.selectedEntities.map(exp => exp.id);\n        return this.apiTasks.tasksDequeueMany({ids})\n          .pipe(\n            mergeMap(res => this.updateExperimentsSuccess(action, MenuItems.dequeue, ids, selectedEntity, res)),\n            catchError(error => this.updateExperimentFailed(action.type, error))\n          );\n      }\n    )\n  ));\n\n\n  cloneExperimentRequested$ = createEffect(() => this.actions$.pipe(\n    ofType<menuActions.CloneExperimentClicked>(menuActions.CLONE_EXPERIMENT_CLICKED),\n    switchMap(action => this.apiTasks.tasksClone({\n        task: action.payload.originExperiment.id,\n        new_task_project: action.payload.cloneData.project,\n        new_task_comment: action.payload.cloneData.comment,\n        new_task_name: action.payload.cloneData.name,\n        new_project_name: action.payload.cloneData.newProjectName\n      })\n        .pipe(\n          mergeMap(res => [\n            viewActions.getExperiments(),\n            viewActions.setSelectedExperiments({experiments: []}),\n            deactivateLoader(action.type),\n            ...action.payload.cloneData.newProjectName ? [getAllSystemProjects()] : [],\n            viewActions.experimentSelectionChanged({\n              experiment: {id: res.id},\n              project: action.payload.cloneData.project ? action.payload.cloneData.project : res?.new_project?.id\n            }),\n          ]),\n          catchError(error => [\n            deactivateLoader(action.type),\n            setServerError(error, null, 'Clone Experiment failed'),\n            requestFailed(error)\n          ])\n        )\n    )\n  ));\n\n  resetExperiment$ = createEffect(() => this.actions$.pipe(\n    ofType(menuActions.resetClicked),\n    withLatestFrom(this.store.select(selectSelectedExperiment)),\n    switchMap(\n      ([action, selectedExp]) => {\n        const ids = action.selectedEntities.map(exp => exp.id);\n        return this.apiTasks.tasksResetMany({ids})\n          .pipe(\n            mergeMap((res: TasksResetManyResponse) =>\n              [new ResetOutput(), ...this.updateExperimentsSuccess(action, MenuItems.reset, ids, selectedExp, res)]),\n            catchError(error => this.updateExperimentFailed(action.type, error))\n          );\n      }\n    )\n  ));\n\n  publishExperiment$ = createEffect(() => this.actions$.pipe(\n    ofType(menuActions.publishClicked),\n    withLatestFrom(this.store.select(selectSelectedExperiment)),\n    switchMap(([action, selectedEntity]) => {\n      const ids = action.selectedEntities.map(exp => exp.id);\n      return this.apiTasks.tasksPublishMany({ids})\n        .pipe(\n          mergeMap(res => this.updateExperimentsSuccess(action, MenuItems.publish, ids, selectedEntity, res)),\n          catchError(error => this.updateExperimentFailed(action.type, error))\n        );\n    })\n  ));\n\n\n  getAllTasksChildren$ = createEffect(() => this.actions$.pipe(\n    ofType(menuActions.getAllTasksChildren),\n    switchMap((action) => this.apiTasks.tasksGetAllEx({only_fields: ['name', 'status'], parent: action.experiments, status:[TaskStatusEnum.InProgress, TaskStatusEnum.Queued]})\n      .pipe(\n        mergeMap((res) => [setAllTasksChildren({experiments: res.tasks}), deactivateLoader(action.type)]),\n        catchError(error => [deactivateLoader(action.type), requestFailed(error),\n          addMessage(MESSAGES_SEVERITY.ERROR, 'Failed to fetch tasks running children')])\n\n      ))\n  ));\n\n\n  stopExperiment$ = createEffect(() => this.actions$.pipe(\n    ofType(menuActions.stopClicked),\n    withLatestFrom(this.store.select(selectSelectedExperiment)),\n    switchMap(([action, selectedEntity]) => {\n        const ids = action.selectedEntities.map(exp => exp.id);\n        return this.apiTasks.tasksStopMany({ids})\n          .pipe(\n            mergeMap(res => this.updateExperimentsSuccess(action, MenuItems.abort, ids, selectedEntity, res)),\n            catchError(error => this.updateExperimentFailed(action.type, error))\n          );\n      }\n    )\n  ));\n\n\n  changeProject$ = createEffect(() => this.actions$.pipe(\n    ofType(menuActions.changeProjectRequested),\n    switchMap(\n      action => this.apiTasks.tasksMove({\n        ids: action.selectedEntities.map(exp => exp.id),\n        project: action.project.id,\n        project_name: action.project.name\n      })\n        .pipe(\n          tap((res) => this.router.navigate([`projects/${action.project.id ? action.project.id : res.project_id}/experiments/${action.selectedEntities.length === 1 ? action.selectedEntities[0].id : ''}`], {queryParamsHandling: 'merge'})),\n          mergeMap(() => [\n            viewActions.resetExperiments(),\n            viewActions.setSelectedExperiments({experiments: []}),\n            ...action.selectedEntities.map(exp => this.setExperimentIfSelected(exp.id, {project: action.project})),\n            deactivateLoader(action.type),\n            viewActions.getExperiments()\n          ]),\n          catchError(error => [requestFailed(error), deactivateLoader(action.type)])\n        )\n    )\n  ));\n\n  private updateExperimentsSuccess(action, operationName: MenuItems, ids: string[], selectedEntity, res: TasksEnqueueManyResponse): Action[] {\n    const actions = [\n      // new RefreshExperiments({autoRefresh: false, hideLoader: true}),\n      viewActions.updateManyExperiment({changeList: res.succeeded}),\n      deactivateLoader(action.type)] as Action[];\n    if (ids.includes(selectedEntity?.id)) {\n      actions.push(new AutoRefreshExperimentInfo(selectedEntity.id));\n    }\n    actions.push(getNotificationAction(res, action, operationName, EntityTypeEnum.experiment));\n    return actions;\n  }\n\n  updateExperimentFailed(actionType, error) {\n    return [\n      requestFailed(error),\n      deactivateLoader(actionType),\n      setServerError(error)\n    ];\n  }\n\n  setExperimentIfSelected(experimentId, payload) {\n    if (this.selectedExperiment?.id === experimentId) {\n      return new infoActions.SetExperiment({...this.selectedExperiment, ...payload});\n    }\n    return new EmptyAction();\n  }\n\n  addTag$ = createEffect(() => this.actions$.pipe(\n    ofType(menuActions.addTag),\n    withLatestFrom(this.store.select(selectSelectedExperiments), this.store.select(selectSelectedExperiment)),\n    switchMap(([action, selectedExperiments, selectedExperimentInfo]) => {\n      const experimentsFromState = selectedExperimentInfo ? selectedExperiments.concat(selectedExperimentInfo) as ISelectedExperiment[] : selectedExperiments;\n      return action.experiments.map(experiment => {\n        const experimentFromState = experimentsFromState.find(exp => exp.id === experiment.id);\n        return new ExperimentDetailsUpdated({\n          id: experiment.id,\n          changes: {tags: Array.from(new Set((experimentFromState?.tags || experiment.tags || []).concat([action.tag]))).sort()}\n        });\n      });\n    })\n  ));\n\n\n  removeTag$ = createEffect(() => this.actions$.pipe(\n    ofType(menuActions.removeTag),\n    switchMap((action) =>\n      action.experiments.filter(experiment => experiment.tags.includes(action.tag)).map(experiment =>\n        new ExperimentDetailsUpdated({\n          id: experiment.id,\n          changes: {tags: experiment.tags.filter(tag => tag !== action.tag)}\n        })\n      ).concat(addMessage('success', `“${action.tag}” tag has been removed from “${action.experiments[0]?.name}” experiment`, [\n        {\n          name: 'Undo',\n          actions: [\n            addMessage('success', `“${action.tag}” tag has been restored`),\n            ...action.experiments.map(() => menuActions.addTag({\n              experiments: action.experiments,\n              tag: action.tag\n            }))\n          ]\n        }]\n      ) as any)\n    )\n  ));\n\n\n  archiveExperiments = createEffect(() => this.actions$.pipe(\n    ofType(menuActions.archiveSelectedExperiments),\n    withLatestFrom(\n      this.store.select(selectRouterParams),\n      this.store.select(exSelectors.selectSelectedTableExperiment)),\n    tap(([action, routerParams, selectedExperiment]) => {\n      if (this.isSelectedExpInCheckedExps(action.selectedEntities, selectedExperiment)) {\n        this.router.navigate([`projects/${routerParams.projectId}/experiments/`]);\n      }\n    }),\n    switchMap(([action, routerParams]) => this.apiTasks.tasksArchiveMany({ids: action.selectedEntities.map(exp => exp.id)})\n      .pipe(\n        withLatestFrom(this.store.select(selectRouterConfig)),\n        mergeMap(([res, routerConfig]: [TasksArchiveManyResponse, RouterState['config']]) => {\n          const experiments = action.selectedEntities;\n          const allFailed = res.failed.length === experiments.length;\n          const undoAction = [\n            {\n              name: 'Undo', actions: [\n                viewActions.setSelectedExperiments({experiments}),\n                menuActions.restoreSelectedExperiments({selectedEntities: experiments, skipUndo: true})\n              ]\n            }\n          ];\n          let actions: Action[] = [\n            deactivateLoader(action.type),\n            viewActions.setSelectedExperiments({experiments: []}),\n            getNotificationAction(res, action, MenuItems.archive, EntityTypeEnum.experiment, (action.skipUndo || allFailed) ? [] : undoAction)\n          ];\n          if (routerConfig.includes('experiments')) {\n            const failedIds = res.failed.map(fail => fail.id);\n            const successExperiments = experiments.map(exp => exp.id).filter(id => !failedIds.includes(id));\n            actions = actions.concat([\n              viewActions.removeExperiments({experiments: successExperiments}),\n              viewActions.getExperiments()\n            ]);\n          }\n          if (routerConfig.includes('output') && routerParams?.experimentId === experiments[0].id) {\n            actions.push(new ExperimentDetailsUpdated({\n              id: experiments[0].id,\n              changes: {system_tags: [...experiments[0]?.system_tags.filter(t => t !== 'shared'), 'archived'].sort()}\n            }));\n          }\n          return actions;\n        }),\n        catchError(error => [\n          requestFailed(error),\n          deactivateLoader(action.type),\n          setServerError(error, null, 'Failed To Archive Experiments')\n        ])\n      )\n    )\n  ));\n\n\n  restoreExperiments = createEffect(() => this.actions$.pipe(\n    ofType(menuActions.restoreSelectedExperiments),\n    withLatestFrom(\n      this.store.select(selectRouterParams),\n      this.store.select(exSelectors.selectSelectedTableExperiment)),\n    tap(([action, routerParams, selectedExperiment]) => {\n      if (this.isSelectedExpInCheckedExps(action.selectedEntities, selectedExperiment)) {\n        this.router.navigate([`projects/${routerParams.projectId}/experiments/`]);\n      }\n    }),\n    switchMap(([action, routerParams]) => this.apiTasks.tasksUnarchiveMany({ids: action.selectedEntities.map(exp => exp.id)})\n      .pipe(\n        withLatestFrom(this.store.select(selectRouterConfig)),\n        mergeMap(([res, routerConfig]: [TasksArchiveManyResponse, RouterState['config']]) => {\n          const experiments = action.selectedEntities;\n          const allFailed = res.failed.length === experiments.length;\n          const undoAction = [\n            {\n              name: 'Undo', actions: [\n                viewActions.setSelectedExperiments({experiments}),\n                menuActions.archiveSelectedExperiments({selectedEntities: experiments, skipUndo: true})\n              ]\n            }\n          ];\n          let actions: Action[] = [\n            deactivateLoader(action.type),\n            viewActions.setSelectedExperiments({experiments: []}),\n            getNotificationAction(res, action, MoreMenuItems.restore, EntityTypeEnum.experiment, (action.skipUndo || allFailed) ? [] : undoAction)\n          ];\n          if (routerConfig.includes('experiments')) {\n            const failedIds = res.failed.map(fail => fail.id);\n            const successExperiments = experiments.map(exp => exp.id).filter(id => !failedIds.includes(id));\n            actions = actions.concat([\n              viewActions.removeExperiments({experiments: successExperiments}),\n              viewActions.getExperiments(),\n            ]);\n          }\n          if (routerConfig.includes('output') && routerParams?.experimentId === experiments[0].id) {\n            actions.push(new ExperimentDetailsUpdated({\n              id: experiments[0].id,\n              changes: {system_tags: experiments[0]?.system_tags.filter(tag => tag !== 'archived')}\n            }));\n          }\n          return actions;\n        }),\n        catchError(error => [\n          requestFailed(error),\n          deactivateLoader(action.type),\n          setServerError(error, null, 'Failed To Restore Experiments')\n        ])\n      )\n    )\n  ));\n\n\n  navigateToQueue = createEffect(() => this.actions$.pipe(\n    ofType(menuActions.navigateToQueue),\n    withLatestFrom(this.store.select(selectSelectedExperiment)),\n    switchMap(([action, info]) => {\n      if (action.experimentId === info?.id && info?.execution?.queue?.id) {\n        return of({tasks: [info]});\n      } else {\n        return this.apiTasks.tasksGetAllEx({\n          id: [action.experimentId],\n          only_fields: ['execution.queue.id']\n        });\n      }\n    }),\n    map((res: TasksGetAllExResponse) => {\n      const queue = (res.tasks[0] as unknown as ITask).execution.queue;\n      return this.router.navigate(['/workers-and-queues/queues'], {queryParams: {id: queue.id}});\n    })\n  ), {dispatch: false});\n\n\n  isSelectedExpInCheckedExps(checked: ISelectedExperiment[], selected: ISelectedExperiment): boolean {\n    return selected && checked.some(exp => exp.id === selected.id);\n  }\n}\n","<div class=\"row\">\n  <div class=\"col-1 d-flex align-items-start justify-content-around content-row\">\n    <sm-experiment-type-icon-label [type]=\"experiment?.type\" [showLabel]=\"false\"></sm-experiment-type-icon-label>\n  </div>\n  <div class=\"col-23\">\n    <div class=\"row d-flex content-row justify-content-between\">\n      <div class=\"ellipsis name\">\n        {{experiment.name}}\n      </div>\n      <i *ngIf=\"experiment?.system_tags.includes('shared')\" class=\"fas fa-link p-1 ml-1\"></i>\n      <sm-experiment-status-icon-label [status]=\"experiment?.status\"></sm-experiment-status-icon-label>\n    </div>\n    <div class=\"row content-row justify-content-between\">\n      {{experiment?.user?.name}}\n    </div>\n    <div class=\"row d-flex content-row justify-content-between\">\n      <div>\n        {{experiment.created | date : TIME_FORMAT_STRING}}\n      </div>\n      <div>\n        {{experiment.completed | date : TIME_FORMAT_STRING}} {{experimentDuration(experiment.created, experiment.completed) | msToHours}}\n      </div>\n    </div>\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {ITask} from '../../../../business-logic/model/al-task';\nimport {TIME_FORMAT_STRING} from '../../../constants';\n\n@Component({\n  selector   : 'sm-experiment-table-card',\n  templateUrl: './experiment-table-card.component.html',\n  styleUrls  : ['./experiment-table-card.component.scss']\n})\nexport class ExperimentTableCardComponent implements OnInit {\n  @Input() experiment: ITask;\n  TIME_FORMAT_STRING = TIME_FORMAT_STRING;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n  experimentDuration(created, completed) {\n\n    const createdDate = new Date(created).getTime();\n    const completedDate = new Date(completed).getTime();\n\n    return completed ? (completedDate - createdDate) : '';\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {ExperimentOutputLogComponent} from '../../containers/experiment-output-log/experiment-output-log.component';\nimport {ExperimentLogInfoComponent} from '../../dumb/experiment-log-info/experiment-log-info.component';\nimport {SMSharedModule} from '../../../shared/shared.module';\nimport {UiComponentsModule} from '../../../shared/ui-components/ui-components.module';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport {SharedPipesModule} from '../../../shared/pipes/shared-pipes.module';\n\n\n\n@NgModule({\n  declarations: [ExperimentOutputLogComponent, ExperimentLogInfoComponent],\n  exports: [ExperimentOutputLogComponent],\n  imports: [\n    CommonModule,\n    SMSharedModule,\n    MatProgressSpinnerModule,\n    UiComponentsModule,\n    SharedPipesModule\n  ]\n})\nexport class ExperimentOutputLogModule { }\n","import {NgModule} from '@angular/core';\nimport {CommonModule, TitleCasePipe} from '@angular/common';\nimport {ExperimentTypeIconLabelComponent} from './dumb/experiment-type-icon-label/experiment-type-icon-label.component';\nimport {SharedPipesModule} from '../shared/pipes/shared-pipes.module';\nimport {EffectsModule} from '@ngrx/effects';\nimport {CommonExperimentsViewEffects} from './effects/common-experiments-view.effects';\nimport {CommonExperimentsInfoEffects} from './effects/common-experiments-info.effects';\nimport {CommonExperimentOutputEffects} from './effects/common-experiment-output.effects';\nimport {CommonExperimentsMenuEffects} from './effects/common-experiments-menu.effects';\nimport {ExperimentHeaderComponent} from './dumb/experiment-header/experiment-header.component';\nimport {ExperimentInfoHeaderComponent} from './dumb/experiment-info-header/experiment-info-header.component';\nimport {ExperimentInfoGeneralComponent} from './containers/experiment-info-general/experiment-info-general.component';\nimport {ExperimentGeneralInfoComponent} from './dumb/experiment-general-info/experiment-general-info.component';\nimport {ExperimentNetworkDesignFormComponent} from './dumb/experiment-network-design-form/experiment-network-design-form.component';\nimport {ExperimentModelsFormViewComponent} from './dumb/experiment-models-form-view/experiment-models-form-view.component';\nimport {ExperimentExecutionSourceCodeComponent} from './dumb/experiment-execution-source-code/experiment-execution-source-code.component';\nimport {ExperimentExecutionParametersComponent} from './dumb/experiment-execution-parameters/experiment-execution-parameters.component';\nimport {ExperimentOutputPlotsComponent} from './containers/experiment-output-plots/experiment-output-plots.component';\nimport {ExperimentOutputScalarsComponent} from './containers/experiment-output-scalars/experiment-output-scalars.component';\nimport {ModelAutoPopulateDialogComponent} from './dumb/model-auto-populate-dialog/model-auto-populate-dialog.component';\nimport {ExperimentTableCardComponent} from './dumb/experiment-table-card/experiment-table-card.component';\nimport {SMSharedModule} from '../shared/shared.module';\nimport {CommonLayoutModule} from '../layout/layout.module';\nimport {ExperimentSharedModule} from '../../features/experiments/shared/experiment-shared.module';\nimport {CommonExperimentSharedModule} from './shared/common-experiment-shared.module';\nimport {RouterModule} from '@angular/router';\nimport {SMMaterialModule} from '../shared/material/material.module';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {ExperimentGraphsModule} from '../shared/experiment-graphs/experiment-graphs.module';\nimport {ExperimentsComponent} from './experiments.component';\nimport {AngularSplitModule} from 'angular-split';\nimport {ExperimentCompareSharedModule} from '../experiments-compare/shared/experiment-compare-shared.module';\nimport {ExperimentCustomColsMenuComponent} from './dumb/experiment-custom-cols-menu/experiment-custom-cols-menu.component';\nimport {SelectMetricForCustomColComponent} from './dumb/select-metric-for-custom-col/select-metric-for-custom-col.component';\nimport {ExperimentInfoHyperParametersComponent} from './containers/experiment-info-hyper-parameters/experiment-info-hyper-parameters.component';\nimport {SelectHyperParamsForCustomColComponent} from './dumb/select-hyper-params-for-custom-col/select-hyper-params-for-custom-col.component';\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\nimport {ExperimentArtifactsNavbarComponent} from './dumb/experiment-artifacts-navbar/experiment-artifacts-navbar.component';\nimport {ExperimentOutputModelViewComponent} from './dumb/experiment-output-model-view/experiment-output-model-view.component';\nimport {ExperimentInfoArtifactsComponent} from './containers/experiment-info-aritfacts/experiment-info-artifacts.component';\nimport {ExperimentInfoArtifactItemComponent} from './containers/experiment-info-artifact-item/experiment-info-artifact-item.component';\nimport {ExperimentArtifactItemViewComponent} from './dumb/experiment-artifact-item-view/experiment-artifact-item-view.component';\nimport {ExperimentInfoModelComponent} from './containers/experiment-info-model/experiment-info-model.component';\nimport {ScrollingModule} from '@angular/cdk/scrolling';\nimport {BaseClickableArtifactComponent} from './dumb/base-clickable-artifact.component';\nimport {NoUnderscorePipe} from '../shared/pipes/no-underscore.pipe';\nimport {ExperimentHyperParamsNavbarComponent} from './dumb/experiment-hyper-params-navbar/experiment-hyper-params-navbar.component';\nimport {ExperimentInfoTaskModelComponent} from './containers/experiment-info-task-model/experiment-info-task-model.component';\nimport {ExperimentInfoHyperParametersFormContainerComponent} from './containers/experiment-info-hyper-parameters-form-container/experiment-info-hyper-parameters-form-container.component';\nimport {SharedModule} from '../../shared/shared.module';\nimport {CommonDeleteDialogModule} from '../shared/entity-page/entity-delete/common-delete-dialog.module';\nimport {ExperimentInfoEditDescriptionComponent} from './dumb/experiment-info-edit-description/experiment-info-edit-description.component';\nimport {ExperimentOutputLogModule} from './shared/experiment-output-log/experiment-output-log.module';\nimport {MatRadioModule} from '@angular/material/radio';\nimport {ExperimentsTableComponent} from \"./dumb/experiments-table/experiments-table.component\";\nimport { HyperParamMetricColumnComponent } from './dumb/experiments-table/hyper-param-metric-column/hyper-param-metric-column.component';\nimport { GetParamMetricValuePipe } from './dumb/experiments-table/hyper-param-metric-column/get-param-metric-value.pipe';\nimport { GetVariantWithoutRoundPipe } from './dumb/experiments-table/hyper-param-metric-column/get-variant-without-round.pipe';\n\n@NgModule({\n  declarations: [\n    SelectMetricForCustomColComponent,\n    SelectHyperParamsForCustomColComponent,\n    BaseClickableArtifactComponent,\n    ExperimentsComponent,\n    ExperimentTypeIconLabelComponent,\n    ExperimentHeaderComponent,\n    ExperimentInfoHeaderComponent,\n    ExperimentsTableComponent,\n    ExperimentInfoModelComponent,\n    ExperimentInfoTaskModelComponent,\n    ExperimentInfoGeneralComponent,\n    ExperimentGeneralInfoComponent,\n    ExperimentNetworkDesignFormComponent,\n    ExperimentModelsFormViewComponent,\n    ExperimentOutputModelViewComponent,\n    ExperimentExecutionSourceCodeComponent,\n    ExperimentExecutionParametersComponent,\n    ExperimentOutputPlotsComponent,\n    ExperimentOutputScalarsComponent,\n    ModelAutoPopulateDialogComponent,\n    ExperimentCustomColsMenuComponent,\n    ExperimentTableCardComponent,\n    ExperimentInfoHyperParametersComponent,\n    ExperimentInfoHyperParametersFormContainerComponent,\n    ExperimentArtifactsNavbarComponent,\n    ExperimentInfoArtifactsComponent,\n    ExperimentHyperParamsNavbarComponent,\n    ExperimentInfoArtifactItemComponent,\n    ExperimentArtifactItemViewComponent,\n    ExperimentInfoEditDescriptionComponent,\n    HyperParamMetricColumnComponent,\n    GetParamMetricValuePipe,\n    GetVariantWithoutRoundPipe\n  ],\n  exports: [ExperimentTypeIconLabelComponent,\n    ExperimentsComponent,\n    ExperimentInfoHeaderComponent,\n    ExperimentExecutionSourceCodeComponent,\n    SelectMetricForCustomColComponent,\n    ExperimentExecutionParametersComponent,ExperimentsTableComponent],\n  imports: [\n    AngularSplitModule,\n    ScrollingModule,\n    ExperimentGraphsModule,\n    CommonDeleteDialogModule,\n    SMMaterialModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ExperimentCompareSharedModule,\n    CommonExperimentSharedModule,\n    CommonLayoutModule,\n    ExperimentSharedModule,\n    SMSharedModule,\n    SharedPipesModule,\n    RouterModule,\n    CommonModule,\n    EffectsModule.forFeature([CommonExperimentsViewEffects, CommonExperimentsInfoEffects, CommonExperimentOutputEffects, CommonExperimentsMenuEffects]),\n    MatProgressSpinnerModule,\n    SharedModule,\n    ExperimentOutputLogModule,\n    MatRadioModule,\n  ],\n  providers: [ExperimentTableCardComponent, NoUnderscorePipe, TitleCasePipe]\n})\nexport class ExperimentsCommonModule {\n}\n","<i class=\"al-icon\" [class]=\"iconClass + ' al-ico-type-' + (type ? (type.toString()).replace('_', '-') : 'training')\"></i>\n<span class=\"ml-2 ellipsis\" [ngClass]=\"type\" *ngIf=\"showLabel\">\n  {{type?.length < 4 ? type.toUpperCase() : (type | noUnderscore | titlecase)}}\n</span>\n\n","import {Component, Input, OnInit} from '@angular/core';\nimport {TaskTypeEnum} from '../../../../business-logic/model/tasks/taskTypeEnum';\n\n\n@Component({\n  selector: 'sm-experiment-type-icon-label',\n  templateUrl: './experiment-type-icon-label.component.html',\n  styleUrls: ['./experiment-type-icon-label.component.scss']\n})\nexport class ExperimentTypeIconLabelComponent implements OnInit {\n  @Input() type: TaskTypeEnum;\n  @Input() iconClass = 'md';\n  @Input() showLabel = true;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport {get} from 'lodash/fp';\n\n@Pipe({\n  name: 'getVariantWithoutRound'\n})\nexport class GetVariantWithoutRoundPipe implements PipeTransform {\n\n  transform(col, metrics): number {\n    return get(`${col.metric_hash}.${col.variant_hash}.${col.valueType}`, metrics);\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport {get} from 'lodash/fp';\nimport {ISmCol} from '../../../../shared/ui-components/data/table/table.consts';\nimport {ITask} from '../../../../../business-logic/model/al-task';\nimport {GetVariantWithoutRoundPipe} from './get-variant-without-round.pipe';\nimport {getRoundedNumber} from '../../../shared/common-experiments.utils';\n\n@Pipe({\n  name: 'getParamMetricValue'\n})\nexport class GetParamMetricValuePipe implements PipeTransform {\n\n  transform(col: ISmCol, experiment: ITask, roundedMetricValue: any): string {\n    return col.isParam ? this.getHyperParam(experiment?.hyperparams, col) : (col.metric_hash ? this.getVariant(experiment?.last_metrics, col, roundedMetricValue) : experiment[col.id]);\n  }\n\n  getHyperParam(params, col) {\n\n    if (params && col.isParam) {\n      const param = col.id.replace('hyperparams.', '');\n      return get(`${param}.value`, params);\n    }\n    return '';\n  }\n\n  getVariant(metrics, col, roundedMetricValue) {\n    return (roundedMetricValue?.noRound ? new GetVariantWithoutRoundPipe().transform(col, metrics) : this.getVariantRound(metrics, col)) || '';\n  }\n\n  getVariantRound(metrics, col) {\n    const value = new GetVariantWithoutRoundPipe().transform(col, metrics);\n    return value ? getRoundedNumber(value) : value;\n  }\n}\n\n\n","<span matTooltipPosition=\"above\" class=\"metric-cell ellipsis\"\n      [smTooltip]=\"roundedMetricValue?.[experiment.id] && !roundedMetricValue?.noRound ? (col | getVariantWithoutRound:experiment?.last_metrics) : ''\">\n            {{col | getParamMetricValue:experiment:roundedMetricValue}}\n</span>\n<i *ngIf=\"roundedMetricValue && roundedMetricValue[experiment.id]\"\n   class=\"al-icon sm ml-2 al-ico-line-expand\"\n   [class.fa-rotate-180]=\"roundedMetricValue.noRound\"\n   (click)=\"expandColToggle($event, col)\"></i>\n","import {ChangeDetectionStrategy, Component, EventEmitter, Input, Output} from '@angular/core';\nimport {ISmCol} from '@common/shared/ui-components/data/table/table.consts';\n\n@Component({\n  selector: 'sm-hyper-param-metric-column',\n  templateUrl: './hyper-param-metric-column.component.html',\n  styleUrls: ['./hyper-param-metric-column.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class HyperParamMetricColumnComponent {\n\n  @Input() roundedMetricValue: { [expId: string]: boolean } = {};\n  @Input() col: any;\n  @Input() experiment: any;\n  @Output() expandClicked = new EventEmitter<{ columnId: string; width: number }>();\n\n  expandColToggle(event, col: ISmCol) {\n    event.stopPropagation();\n    this.roundedMetricValue.noRound = !this.roundedMetricValue.noRound;\n    const cellCurrentWidth = event.target.parentElement.parentElement.clientWidth || 0;\n    this.expandClicked.emit({columnId: col.id, width: this.roundedMetricValue.noRound ? Math.max(cellCurrentWidth + 1, 200) : 110});\n  }\n\n}\n","<script src=\"../../../models/shared/models-table/models-table.component.ts\"></script>\n<sm-experiment-menu-extended #contextMenuExtended\n                    *ngIf=\"!disableContextMenu\"\n                    [experiment]=\"contextExperiment\"\n                    [selectedExperiment]=\"selectedExperiment\"\n                    [selectedExperiments]=\"selectedExperiments\"\n                    [selectedDisableAvailable]=\"selectedExperimentsDisableAvailable\"\n                    [numSelected]=\"selectedExperiments.length\"\n                    [tagsFilterByProject]=\"tagsFilterByProject$ | async\"\n                    [projectTags]=\"projectTags$ | async\"\n                    [companyTags]=\"companyTags$ | async\"\n                    (tagSelected)=\"addTag($event)\"\n                    (menuOpened)=\"setContextMenuStatus(true)\"\n                    (menuClosed)=\"setContextMenuStatus(false)\"\n                    [activateFromMenuButton]=\"false\"\n                    [minimizedView]=\"true\"\n></sm-experiment-menu-extended>\n<div class=\"table-container\" [class.card-view]=\"minimizedView\" #tableContainer>\n  <sm-table\n    [selectionMode]=\"selectionMode\"\n    [tableData]=\"experiments\"\n    [columnsOrder]=\"colsOrder\"\n    [reorderableColumns]=\"reorderableColumns\"\n    [resizableColumns]=\"true\"\n    [columns]=\"tableCols\"\n    [lazyLoading]=\"true\"\n    [minimizedView]=\"minimizedView\"\n    [minimizedTableHeader]=\"'EXPERIMENT LIST'\"\n    [noMoreData]=\"noMoreExperiments\"\n    [selection]=\"selectedExperiment\"\n    [activeContextRow]=\"contextExperiment\"\n    [contextMenuOpen]=\"contextMenuActive\"\n    [checkedItems]=\"selectedExperiments\"\n    [keyboardControl]=\"true\"\n    [sortFields]=\"tableSortFields\"\n    (rowSelectionChanged)=\"onRowSelectionChanged($event)\"\n    (loadMoreClicked)=\"onLoadMoreClicked()\"\n    (onRowRightClick)=\"onContextMenu($event)\"\n    (colReordered)=\"columnsReordered.emit($event)\"\n    (sortChanged)=\"onSortChanged($event.isShift, $event.field)\"\n    (columnResized)=\"columnResized.emit($event)\"\n  >\n    <!--HEADER TEMPLATE-->\n    <ng-template let-col pTemplate=\"cardFilter\">\n      <sm-table-card-filter-template [options]=\"filtersOptions\"\n                                     [filterMatch]=\"filtersMatch\"\n                                     [value]=\"filtersValues\"\n                                     [subValue]=\"filtersSubValues[EXPERIMENTS_TABLE_COL_FIELDS.TAGS]\"\n                                     [columns]=\"initialColumns\"\n                                     fixedOptionsSubheader=\"System tags\"\n                                     (subFilterChanged)=\"tableFilterChanged({id:'system_tags'}, $event)\"\n                                     (filterChanged)=\"tableAllFiltersChanged($event)\"\n                                     (menuOpened)=\"columnFilterOpened($event)\"\n                                     (menuClosed)=\"columnFilterClosed($event)\"\n      ></sm-table-card-filter-template>\n    </ng-template>\n\n    <ng-template let-col pTemplate=\"checkbox\">\n      <sm-checkbox-control\n        *ngIf=\"col.headerType === colHeaderTypeEnum.checkBox\"\n        class=\"checkbox-col header\"\n        fieldName=\"selected\"\n        [formData]=\"selectionState\"\n        (formDataChanged)=\"headerCheckboxClicked()\"\n        inputClassName=\"table-check-box select-col-checkbox\"\n      ></sm-checkbox-control>\n      <div class=\"al-icon al-ico-dropdown-arrow sm drop-down\" [matMenuTriggerFor]=\"selectionMenu\"></div>\n      <mat-menu class=\"light-theme\" #selectionMenu=\"matMenu\">\n        <div class=\"menu-title\">Select from project</div>\n        <button mat-menu-item (click)=\"selectAll()\">All</button>\n        <button mat-menu-item (click)=\"emitSelection([])\">None</button>\n        <button mat-menu-item (click)=\"selectAll(true)\">All matching filter</button>\n      </mat-menu>\n    </ng-template>\n    <!--FILTER TEMPLATE-->\n\n    <ng-template let-col pTemplate=\"sort-filter\">\n      <sm-table-filter-sort-template\n        [column]=\"col\"\n        [value]=\"filtersValues[col.id]\"\n        [searchValue]=\"searchValues[col.id]\"\n        [options]=\"filtersOptions[col.id] | filter:searchValues[col.id]:'label'\"\n        [sortOrder]=\"tableSortFieldsObject[col.id]\"\n        [tooltip]=\"col.metric_hash || col.isParam\"\n        [fixedOptionsSubheader]=\"col.id === EXPERIMENTS_TABLE_COL_FIELDS.TAGS ? 'System tags' : ''\"\n        [andFilter]=\"col.andFilter ? filtersMatch[col.id] === 'AND' : null\"\n        (sortOrderChanged)=\"onSortChanged($event, col.id)\"\n        (filterChanged)=\"tableFilterChanged(col, $event);\"\n        (searchValueChanged)=\"searchValueChanged($event, col.id)\"\n        (menuOpened)=\"columnFilterOpened(col)\"\n        (menuClosed)=\"columnFilterClosed(col)\"\n      >\n      </sm-table-filter-sort-template>\n    </ng-template>\n\n    <!--BODY TEMPLATE-->\n\n    <ng-template let-col\n                 let-experiment=\"rowData\"\n                 pTemplate=\"body\">\n      <ng-container [ngSwitch]=\"col.id\">\n        <ng-container *ngSwitchCase=\"EXPERIMENTS_TABLE_COL_FIELDS.TYPE\">\n          <sm-experiment-type-icon-label class=\"w-100\" [type]=\"experiment?.type\"></sm-experiment-type-icon-label>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"EXPERIMENTS_TABLE_COL_FIELDS.NAME\">\n          <div class=\"d-flex align-items-center pr-3\">\n            <div\n              class=\"experiment-name\"\n              [class.italic]=\"isDevelopment(experiment)\"\n              matTooltipPosition=\"above\"\n              [smTooltip]=\"experiment.name\">\n              {{experiment.name}}\n            </div>\n            <i *ngIf=\"experiment?.system_tags.includes('shared')\" class=\"fas fa-link p-1 ml-1\"></i>\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"EXPERIMENTS_TABLE_COL_FIELDS.TAGS\">\n          <sm-tag-list [tags]=\"experiment.tags\" [sysTags]=\"getSystemTags(experiment)\"></sm-tag-list>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"EXPERIMENTS_TABLE_COL_FIELDS.USER\">\n          {{experiment.user?.name ? experiment.user?.name : 'Unknown User'}}\n        </ng-container>\n        <span *ngSwitchCase=\"EXPERIMENTS_TABLE_COL_FIELDS.PROJECT\"\n              matTooltipPosition=\"above\"\n              [smTooltip]=\"experiment.project?.name\">\n          {{experiment.project?.name}}\n        </span>\n        <ng-container *ngSwitchCase=\"EXPERIMENTS_TABLE_COL_FIELDS.STARTED\">\n          <span matTooltipPosition=\"above\"\n                [smTooltip]=\"experiment.started | date : TIME_FORMAT_STRING\">{{experiment.started | timeAgo}}</span>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"EXPERIMENTS_TABLE_COL_FIELDS.LAST_UPDATE\">\n          <span matTooltipPosition=\"above\"\n                [smTooltip]=\"experiment.last_update | date : TIME_FORMAT_STRING\">{{experiment.last_update | timeAgo}}</span>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"EXPERIMENTS_TABLE_COL_FIELDS.ACTIVE_DURATION\">\n          {{experiment.active_duration | duration}}\n        </ng-container>\n        <ng-container *ngSwitchCase=\"EXPERIMENTS_TABLE_COL_FIELDS.COMMENT\">\n          <span matTooltipPosition=\"above\" [smTooltip]=\"experiment.comment\">{{experiment.comment}}</span>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"EXPERIMENTS_TABLE_COL_FIELDS.SELECTED\">\n          <sm-checkbox-control\n            class=\"checkbox-col\"\n            fieldName=\"selected\"\n            [smTooltip]=\"selectionReachedLimit && !isRowSelected(experiment)? 'Reached selection limit': null\"\n            [disabled]=\"selectionReachedLimit && !isRowSelected(experiment)\"\n            [formData]=\"isRowSelected(experiment)\"\n            (formDataChanged)=\"rowSelectedChanged($event, experiment)\"\n            inputClassName=\"table-check-box table-body\">\n          </sm-checkbox-control>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"EXPERIMENTS_TABLE_COL_FIELDS.STATUS\">\n          <sm-experiment-status-icon-label [status]=\"experiment?.status\"></sm-experiment-status-icon-label>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"EXPERIMENTS_TABLE_COL_FIELDS.PARENT\">\n          <span\n            class=\"parent-name\"\n            *ngIf=\"experiment?.parent?.id\"\n            matTooltipPosition=\"above\"\n            [smTooltip]=\"experiment.parent.project?.name? experiment.parent.project.name + ' / ' + experiment.parent.name : experiment.parent.name\"\n          >{{experiment.parent.name}}</span>\n        </ng-container>\n        <!--  Case for hyper params and custom metrics/variants  -->\n        <ng-container *ngSwitchDefault>\n          <sm-hyper-param-metric-column [roundedMetricValue]=\"roundedMetricValues[col.id]\"\n                                        [col]=\"col\"\n                                        [experiment]=\"experiment\"\n                                        (expandClicked)=\"columnsWidthChanged($event)\">\n          </sm-hyper-param-metric-column>\n        </ng-container>\n      </ng-container>\n    </ng-template>\n\n    <ng-template let-experiment=\"rowData\" let-selected=\"selected\" let-rowNumber=\"rowNumber\" pTemplate=\"card\">\n      <sm-table-card class=\"flex-grow-1\" [selected]=\"selected\"\n                     [rowNumber]=\"rowNumber\"\n                     [cardName]=\"experiment.name\"\n                     [columns]=\"tableCols\"\n                     [rowData]=\"experiment\"\n                     [checked]=\"isRowSelected(experiment)\"\n                     [activeContextRow]=\"contextExperiment\"\n                     [contextMenuOpen]=\"contextMenuActive\"\n      >\n        <div sm-name-icon><i *ngIf=\"experiment?.system_tags.includes('shared')\" class=\"fas fa-link p-1 ml-1\"></i></div>\n        <sm-tag-list class=\"mb-2\" [sysTags]=\"getSystemTags(experiment)\" [tags]=\"experiment?.tags\"></sm-tag-list>\n        <div class=\"d-flex justify-content-between compact-columns-data\" compact-columns-data>\n          <span class=\"ellipsis\">Updated {{experiment.last_update | timeAgo}}<span class=\"dot\">●</span>Created by {{experiment.user?.name || 'Unknown User'}}\n          </span>\n          <ng-container *ngIf=\"experiment.last_iteration\">\n            <span>{{experiment.last_iteration}} Iterations</span>\n          </ng-container>\n        </div>\n        <sm-experiment-type-icon-label [type]=\"experiment?.type\" [showLabel]=\"false\"></sm-experiment-type-icon-label>\n        <sm-experiment-status-icon-label [status]=\"experiment?.status\"></sm-experiment-status-icon-label>\n        <sm-checkbox-control fieldName=\"selected\" [formData]=\"isRowSelected(experiment)\" class=\"checkbox-align-top\"\n                             (formDataChanged)=\"rowSelectedChanged($event, experiment)\"\n                             [inputClassName]=\"'table-check-box table-body' + (selected ? ' row-selected' : '')\"></sm-checkbox-control>\n      </sm-table-card>\n    </ng-template>\n  </sm-table>\n</div>\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Output,\n  ViewChild,\n} from '@angular/core';\nimport {ICONS, TIME_FORMAT_STRING} from '../../../constants';\nimport {ColHeaderTypeEnum, ISmCol} from '../../../shared/ui-components/data/table/table.consts';\nimport {FILTERED_EXPERIMENTS_STATUS_OPTIONS} from '../../shared/common-experiments.const';\nimport {get, uniq} from 'lodash/fp';\nimport {FilterMetadata} from 'primeng/api/filtermetadata';\nimport {ITableExperiment} from '../../shared/common-experiment-model.model';\nimport {EXPERIMENTS_TABLE_COL_FIELDS,} from '../../../../features/experiments/shared/experiments.const';\nimport {BaseTableView} from '../../../shared/ui-components/data/table/base-table-view';\nimport {getSystemTags, isDevelopment} from '../../../../features/experiments/shared/experiments.utils';\nimport {User} from '../../../../business-logic/model/users/user';\nimport {sortByArr} from '../../../shared/pipes/show-selected-first.pipe';\nimport {Observable} from 'rxjs';\nimport {Store} from '@ngrx/store';\nimport {selectCompanyTags, selectProjectTags, selectTagsFilterByProject} from '../../../core/reducers/projects.reducer';\nimport {addTag} from '../../actions/common-experiments-menu.actions';\nimport {NoUnderscorePipe} from '../../../shared/pipes/no-underscore.pipe';\nimport {TitleCasePipe} from '@angular/common';\nimport {INITIAL_EXPERIMENT_TABLE_COLS} from '../../experiment.consts';\nimport {ProjectsGetTaskParentsResponseParents} from '../../../../business-logic/model/projects/projectsGetTaskParentsResponseParents';\nimport {Router} from '@angular/router';\nimport {IOption} from '../../../shared/ui-components/inputs/select-autocomplete-for-template-forms/select-autocomplete-for-template-forms.component';\nimport {createFiltersFromStore} from '../../effects/common-experiments-view.effects';\nimport {CountAvailableAndIsDisableSelectedFiltered} from '../../../shared/entity-page/items.utils';\nimport {hyperParamSelectedExperiments, selectAllExperiments} from '../../actions/common-experiments-view.actions';\nimport {excludedKey, uniqueFilterValueAndExcluded} from '../../../shared/utils/tableParamEncode';\nimport {getRoundedNumber} from '../../shared/common-experiments.utils';\nimport {isReadOnly} from '../../../shared/utils/shared-utils';\nimport {ExperimentMenuExtendedComponent} from '../../../../features/experiments/containers/experiment-menu-extended/experiment-menu-extended.component';\n\n@Component({\n  selector: 'sm-experiments-table',\n  templateUrl: './experiments-table.component.html',\n  styleUrls: ['./experiments-table.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ExperimentsTableComponent extends BaseTableView implements OnDestroy {\n  readonly EXPERIMENTS_TABLE_COL_FIELDS = EXPERIMENTS_TABLE_COL_FIELDS;\n  readonly FILTERED_EXPERIMENTS_STATUS_OPTIONS = FILTERED_EXPERIMENTS_STATUS_OPTIONS;\n  public filtersOptions: { [colId: string]: IOption[] } = {\n    [EXPERIMENTS_TABLE_COL_FIELDS.STATUS]: this.FILTERED_EXPERIMENTS_STATUS_OPTIONS,\n    [EXPERIMENTS_TABLE_COL_FIELDS.TYPE]: [],\n    [EXPERIMENTS_TABLE_COL_FIELDS.USER]: [],\n    [EXPERIMENTS_TABLE_COL_FIELDS.TAGS]: [],\n    [EXPERIMENTS_TABLE_COL_FIELDS.PARENT]: [],\n    [EXPERIMENTS_TABLE_COL_FIELDS.PROJECT]: [],\n  };\n  readonly ICONS = ICONS;\n  readonly getSystemTags = getSystemTags;\n  public isDevelopment = isDevelopment;\n  private _selectedExperiments: ITableExperiment[] = [];\n  readonly colHeaderTypeEnum = ColHeaderTypeEnum;\n  public readonly initialColumns = INITIAL_EXPERIMENT_TABLE_COLS;\n  @Input() disableContextMenu = false;\n\n  @Input() tableCols: ISmCol[];\n  private _experiments: Array<ITableExperiment> = [];\n  private _selectedExperiment: ITableExperiment;\n  public searchValues: { [colId: string]: string } = {};\n  public roundedMetricValues: { [colId: string]: { [expId: string]: boolean } } = {};\n\n  @Input() set experiments(experiments: Array<ITableExperiment>) {\n    this._experiments = experiments;\n\n    this.tableCols?.filter(tableCol => tableCol.id.startsWith('last_metrics')).forEach(col => experiments.forEach(exp => {\n      const value = get(col.id, exp);\n      this.roundedMetricValues[col.id] = this.roundedMetricValues[col.id] || {};\n      this.roundedMetricValues[col.id][exp.id] = value && getRoundedNumber(value) !== value;\n    }));\n\n    if (this.contextExperiment) {\n      this.contextExperiment = this._experiments.find(experiment => experiment.id === this.contextExperiment.id);\n    }\n  }\n\n  get experiments(): Array<ITableExperiment> {\n    return this._experiments;\n  }\n\n  public contextExperiment: ITableExperiment;\n  public tagsFilterByProject$: Observable<boolean>;\n  public projectTags$: Observable<string[]>;\n  public companyTags$: Observable<string[]>;\n  public filtersValues: { [colId: string]: any } = {};\n  public filtersMatch: { [colId: string]: string } = {};\n  public filtersSubValues: { [colId: string]: any } = {};\n  @Input() selectedExperimentsDisableAvailable: Record<string, CountAvailableAndIsDisableSelectedFiltered>;\n\n  @Input() set users(users: User[]) {\n    this.filtersOptions[EXPERIMENTS_TABLE_COL_FIELDS.USER] = users?.map(user => ({\n      label: user.name ? user.name : 'Unknown User',\n      value: user.id\n    }));\n    this.sortOptionalUsersList();\n  }\n\n  @Input() set hyperParamsOptions(hyperParamsOptions: Record<ISmCol['id'], string[]>) {\n    Object.entries(hyperParamsOptions).forEach(([id, values]) => {\n      this.filtersOptions[id] = [{label: '(No Value)', value: null}].concat(values.map(value => ({\n        label: value,\n        value\n      })));\n    });\n  }\n\n  @Input() activeParentsFilter: ProjectsGetTaskParentsResponseParents[];\n\n\n\n  @Input() set parents(parents: ProjectsGetTaskParentsResponseParents[]) {\n    const parentsAndActiveFilter = Array.from(new Set(parents.concat(this.activeParentsFilter || [])));\n    this.filtersOptions[EXPERIMENTS_TABLE_COL_FIELDS.PARENT] = parentsAndActiveFilter.map(parent => ({\n      label: parent.name ? parent.name : 'Unknown Experiment',\n      value: parent.id,\n      tooltip: `${parent.project?.name} / ${parent.name}`\n    }));\n    this.sortOptionalParentsList();\n  }\n\n  @Input() set selectedExperiments(experiments: ITableExperiment[]) {\n    this._selectedExperiments = experiments;\n    this.updateSelectionState();\n  }\n\n  get selectedExperiments(): ITableExperiment[] {\n    return this._selectedExperiments;\n  }\n\n  @Input() set selectedExperiment(experiment: ITableExperiment) {\n    if (this._selectedExperiment?.id !== experiment?.id) {\n      window.setTimeout(() => !this.contextMenuActive && this.table?.focusSelected());\n    }\n    this._selectedExperiment = experiment;\n  }\n\n  get selectedExperiment() {\n    return this._selectedExperiment;\n  }\n\n  @Input() noMoreExperiments: boolean;\n\n  @Input() set tags(tags) {\n    const tagsAndActiveFilter = uniqueFilterValueAndExcluded(tags, this.filtersValues[EXPERIMENTS_TABLE_COL_FIELDS.TAGS]);\n    this.filtersOptions[EXPERIMENTS_TABLE_COL_FIELDS.TAGS] = tagsAndActiveFilter.map(tag => ({\n      label: tag === null ? '(No tags)' : tag,\n      value: tag\n    }) as IOption);\n    this.sortOptionalTagsList();\n  }\n\n  @Input() set experimentTypes(types: string[]) {\n    const typesAndActiveFilter = uniq(types.concat(this.filtersValues[EXPERIMENTS_TABLE_COL_FIELDS.TYPE]));\n    // under 4 letters assume an acronym and capitalize.\n    this.filtersOptions[EXPERIMENTS_TABLE_COL_FIELDS.TYPE] = typesAndActiveFilter.map((type: string) =>\n      ({\n        label: (type?.length < 4 ? type.toUpperCase() : this.titleCasePipe.transform(this.noUnderscorePipe.transform(type))),\n        value: type\n      })\n    );\n  }\n\n  @Input() systemTags = [] as string[];\n  @Input() reorderableColumns: boolean = true;\n  @Input() selectionReachedLimit: boolean;\n\n  get validSystemTags() {\n    return this.systemTags.filter(tag => tag !== 'archived');\n  }\n\n  @Input() set tableFilters(filters: { [s: string]: FilterMetadata }) {\n    this.filtersValues[EXPERIMENTS_TABLE_COL_FIELDS.STATUS] = get([EXPERIMENTS_TABLE_COL_FIELDS.STATUS, 'value'], filters) || [];\n    this.filtersValues[EXPERIMENTS_TABLE_COL_FIELDS.TYPE] = get([EXPERIMENTS_TABLE_COL_FIELDS.TYPE, 'value'], filters) || [];\n    this.filtersValues[EXPERIMENTS_TABLE_COL_FIELDS.USER] = get([EXPERIMENTS_TABLE_COL_FIELDS.USER, 'value'], filters) || [];\n    this.filtersValues[EXPERIMENTS_TABLE_COL_FIELDS.TAGS] = get([EXPERIMENTS_TABLE_COL_FIELDS.TAGS, 'value'], filters) || [];\n    this.filtersMatch[EXPERIMENTS_TABLE_COL_FIELDS.TAGS] = filters?.[EXPERIMENTS_TABLE_COL_FIELDS.TAGS]?.matchMode || '';\n    this.filtersSubValues[EXPERIMENTS_TABLE_COL_FIELDS.TAGS] = (get(['system_tags', 'value'], filters) || []);\n    this.filtersValues[EXPERIMENTS_TABLE_COL_FIELDS.PARENT] = get([EXPERIMENTS_TABLE_COL_FIELDS.PARENT, 'value'], filters) || [];\n    this.filtersValues[EXPERIMENTS_TABLE_COL_FIELDS.PROJECT] = get([EXPERIMENTS_TABLE_COL_FIELDS.PROJECT, 'value'], filters) || [];\n    this.sortOptionalProjectsList();\n\n    // handle dynamic filters;\n    const filtersValues = createFiltersFromStore(filters || {}, false);\n    this.filtersValues = Object.assign({}, {...this.filtersValues}, {...filtersValues});\n  }\n  @Input() set projects(projects) {\n    this.filtersOptions[EXPERIMENTS_TABLE_COL_FIELDS.PROJECT] = projects.map(project => ({\n      label: project.name,\n      value: project.id,\n      tooltip: `${project.name}`\n    }));\n    this.sortOptionalProjectsList();\n  }\n\n  @Output() experimentSelectionChanged = new EventEmitter<ITableExperiment>();\n  @Output() experimentsSelectionChanged = new EventEmitter<Array<ITableExperiment>>();\n  @Output() loadMoreExperiments = new EventEmitter();\n  @Output() sortedChanged = new EventEmitter<{ isShift: boolean; colId: ISmCol['id'] }>();\n  @Output() tagsMenuOpened = new EventEmitter();\n  @Output() typesMenuOpened = new EventEmitter();\n  @Output() columnResized = new EventEmitter<{ columnId: string; widthPx: number }>();\n  @ViewChild('contextMenuExtended') contextMenuExtended: ExperimentMenuExtendedComponent;\n  TIME_FORMAT_STRING = TIME_FORMAT_STRING;\n\n  constructor(\n    private changeDetector: ChangeDetectorRef,\n    private store: Store<any>,\n    private noUnderscorePipe: NoUnderscorePipe,\n    private titleCasePipe: TitleCasePipe,\n    private router: Router\n  ) {\n    super();\n    this.tagsFilterByProject$ = this.store.select(selectTagsFilterByProject);\n    this.projectTags$ = this.store.select(selectProjectTags);\n    this.companyTags$ = this.store.select(selectCompanyTags);\n    this.entitiesKey = 'experiments';\n    this.selectedEntitiesKey = 'selectedExperiments';\n  }\n\n  ngOnDestroy(): void {\n    super.ngOnDestroy();\n    if (this.contextMenuExtended?.contextMenu) {\n      this.contextMenuExtended.contextMenu = null;\n    }\n  }\n\n  onRowSelectionChanged(event) {\n    this.experimentSelectionChanged.emit(event.data);\n  }\n\n  sortOptionalUsersList() {\n    this.filtersOptions[EXPERIMENTS_TABLE_COL_FIELDS.USER]\n      .sort((a, b) => sortByArr(a.value, b.value, this.filtersValues[EXPERIMENTS_TABLE_COL_FIELDS.USER]));\n  }\n\n  sortOptionalParentsList() {\n    this.filtersOptions[EXPERIMENTS_TABLE_COL_FIELDS.PARENT]\n      .sort((a, b) => sortByArr(a.value, b.value, this.filtersValues[EXPERIMENTS_TABLE_COL_FIELDS.PARENT]));\n  }\n\n  sortOptionalProjectsList() {\n    this.filtersOptions[EXPERIMENTS_TABLE_COL_FIELDS.PROJECT]\n      .sort((a, b) => sortByArr(a.value, b.value, this.filtersValues[EXPERIMENTS_TABLE_COL_FIELDS.PROJECT]));\n  }\n\n  sortOptionalTagsList() {\n    const selectedTags = (this.filtersValues[EXPERIMENTS_TABLE_COL_FIELDS.TAGS] || [])\n      .map(tag => typeof tag === 'string' ? tag.replace(excludedKey, '') : tag);\n    const tagsWithNull = [null].concat(selectedTags);\n    this.filtersOptions[EXPERIMENTS_TABLE_COL_FIELDS.TAGS].sort((a, b) => sortByArr(a.value, b.value, tagsWithNull));\n    this.filtersOptions = {\n      ...this.filtersOptions,\n      [EXPERIMENTS_TABLE_COL_FIELDS.TAGS]: [...this.filtersOptions[EXPERIMENTS_TABLE_COL_FIELDS.TAGS]]\n    };\n  }\n\n  scrollTableToTop() {\n    this.table?.table?.scrollTo({top: 0});\n  }\n\n  onLoadMoreClicked() {\n    this.loadMoreExperiments.emit();\n  }\n\n  onSortChanged(isShift: boolean, colId: ISmCol['id']) {\n    this.sortedChanged.emit({isShift, colId});\n    this.scrollTableToTop();\n  }\n\n  rowSelectedChanged(change: { field: string; value: boolean; event: Event }, experiment: ITableExperiment) {\n    if (change.value) {\n      const addList = this.getSelectionRange<ITableExperiment>(change, experiment);\n      this.experimentsSelectionChanged.emit([...this.selectedExperiments, ...addList]);\n    } else {\n      this.experimentsSelectionChanged.emit(this.selectedExperiments.filter((selectedExperiment) => selectedExperiment.id !== experiment.id));\n    }\n  }\n\n  emitSelection(selection: any[]) {\n    this.experimentsSelectionChanged.emit(selection);\n  }\n\n  searchValueChanged($event: string, colId) {\n    this.searchValues[colId] = $event;\n    if (colId === EXPERIMENTS_TABLE_COL_FIELDS.TAGS) {\n      this.sortOptionalTagsList();\n    }\n  }\n\n  addTag(tag: string) {\n    this.store.dispatch(addTag({\n      tag,\n      experiments: this.selectedExperiments.length > 1 ? this.selectedExperiments.filter(_selected => !isReadOnly(_selected)) : [this.contextExperiment]\n    }));\n    this.filtersOptions[EXPERIMENTS_TABLE_COL_FIELDS.TAGS] = [];\n  }\n\n  onContextMenu(data) {\n    this.contextExperiment = this._experiments.find(experiment => experiment.id === data.rowData.id);\n    if (!this.selectedExperiments.map(exp => exp.id).includes(this.contextExperiment.id)) {\n      this.prevSelected = this.contextExperiment;\n      this.emitSelection([this.contextExperiment]);\n    }\n    const event = data.e as MouseEvent;\n    event.preventDefault();\n    this.contextMenuExtended?.contextMenu?.openMenu({x: event.clientX, y: event.clientY});\n  }\n\n\n  navigateToParent(event: MouseEvent, experiment: ITableExperiment) {\n    event.stopPropagation();\n    return this.router.navigate(['projects', experiment.parent.project?.id || '*', 'experiments', experiment.parent.id],\n      {queryParams: {filter: []}});\n  }\n\n  columnsWidthChanged({columnId, width}) {\n    const colIndex = this.tableCols.findIndex(col => col.id === columnId);\n    const delta = width - parseInt(this.tableCols[colIndex].style.width, 10);\n    this.table?.updateColumnsWidth(columnId, width, delta);\n  }\n\n  columnFilterOpened(col: ISmCol) {\n    if (col.id === EXPERIMENTS_TABLE_COL_FIELDS.TAGS) {\n      if (!this.filtersOptions[EXPERIMENTS_TABLE_COL_FIELDS.TAGS]?.length) {\n        this.tagsMenuOpened.emit();\n      }\n    } else if (col.id.includes('hyperparams')) {\n      this.store.dispatch(hyperParamSelectedExperiments({col}));\n    }\n  }\n\n  columnFilterClosed(col: ISmCol) {\n    switch (col.id) {\n      case EXPERIMENTS_TABLE_COL_FIELDS.TAGS:\n        this.sortOptionalTagsList();\n        break;\n      case EXPERIMENTS_TABLE_COL_FIELDS.USER:\n        this.sortOptionalUsersList();\n        break;\n      case EXPERIMENTS_TABLE_COL_FIELDS.PROJECT:\n        this.sortOptionalProjectsList();\n        break;\n    }\n  }\n\n  selectAll(filtered?: boolean) {\n    this.store.dispatch(selectAllExperiments({filtered}));\n  }\n}\n","<div class=\"modal-container\">\n  <div class=\"viewer-header\">\n    <div class=\"image-title third\">\n      {{currentDebugImage?.metric? (currentDebugImage?.metric + ' - ' + currentDebugImage?.variant) : ''}}\n      <input #fakeInput name=\"Don't remove - it take the autofocus from slider\" width=\"0\" height=\"0\" style=\"opacity: 0\">\n    </div>\n    <div class=\"third iteration\">\n      <div *ngIf=\"minMaxIterations$| async as minMaxIterations\">\n        Iteration <span class=\"number\">{{iteration}}</span>\n        <mat-slider\n          [invert]=\"!(minMaxIterations.max_iteration > minMaxIterations.min_iteration)\"\n          thumbLabel\n          [value]=\"iteration\"\n          [max]=\"minMaxIterations.max_iteration\"\n          [min]=\"minMaxIterations.min_iteration\"\n          [step]=\"1\"\n          (input)=\"changeIteration($event.value)\"\n          (mouseup)=\"fakeInput.focus()\"\n        >\n        </mat-slider>\n      </div>\n    </div>\n    <div class=\"d-flex third\">\n      <div (click)=\"downloadImage()\" smTooltip=\"Download\" class=\"download icon-container\"\n           [style.visibility]=\"(url | isVideo) ? 'hidden' : 'visible'\">\n        <i class=\"al-icon al-ico-download al-color light-grey-blue\"></i>\n      </div>\n      <div (click)=\"closeImageDisplayer()\" smTooltip=\"Close\" class=\"icon-container\">\n        <i class=\"al-icon al-ico-dialog-x al-color blue-400 light-grey-blue\"></i>\n      </div>\n    </div>\n  </div>\n  <div class=\"debug-image-container\" #imageContainer>\n    <div #sizeCont class=\"sizeable-container\"\n         (dragstart)=\"disableNativeDrag()\"\n         (mousemove)=\"dragImage($event)\"\n         (wheel)=\"wheelZoom($event)\"\n         [style.height.px]=\"imageHeight\"\n         [style.transform]=\"'translate(' +imageTranslateX +'px, '+ imageTranslateY + 'px)'\"\n         [style.width.px]=\"imageWidth\" [style.top.px]=\"this.imageTop\" [style.left.px]=\"this.imageLeft\"\n         [style.visibility]=\"isPlayer || !imageLoaded ? 'hidden' : 'visible'\">\n      <img #debugImage [src]=\"url\" (mousemove)=\"changeCords($event)\"\n           (load)=\"fitToScreen(); resetDrag(); showImage()\" (mousedown)=\"setDragging(true)\"\n           (mouseup)=\"setDragging(false)\" (mouseout)=\"setDragging(false); resetCords()\" [class.dragging]=\"dragging\">\n    </div>\n    <video #debugVideo [src]=\"url\" autoplay controls\n           [style.visibility]=\"isPlayer ? 'visible' : 'hidden'\"></video>\n    <div class=\"d-flex flex-column controllers\"\n         [style.visibility]=\"isPlayer ? 'hidden' : 'visible'\">\n      <div (click)=\"fitToScreen()\"\n           class=\"fit-to-screen d-flex flex-column justify-content-around align-items-center controller icon-container\"\n           smTooltip=\"Fit to window\" matTooltipPosition=\"left\"\n           [class.disabled]=\"scale===autoFitScale\">\n        <i class=\"al-icon al-ico-fit al-color light-grey-blue\"></i>\n      </div>\n\n      <div class=\"zoom controller d-flex flex-column justify-content-around align-items-center\">\n        <div class=\"icon-container\">\n          <i class=\"al-icon al-ico-plus al-color light-grey-blue\" (click)=\"calculateNewScale(true)\" smTooltip=\"Zoom in\"\n             matTooltipPosition=\"left\"></i>\n        </div>\n        <div class=\"d-flex flex-column justify-content-around align-items-center icon-container\" (click)=\"resetScale()\"\n             smTooltip=\"Zoom to 1:1\" matTooltipPosition=\"left\"\n             [class.disabled]=\"scale===1\">\n          <i class=\"al-icon al-ico-zoom-1-to-1 al-color light-grey-blue sm-md\"></i>\n        </div>\n        <div class=\"icon-container\">\n          <div class=\"al-icon al-ico-minus al-color light-grey-blue\" (click)=\"calculateNewScale(false)\"\n               smTooltip=\"Zoom out\" matTooltipPosition=\"left\"></div>\n        </div>\n      </div>\n    </div>\n    <div class=\"navigation\">\n      <div class=\"icon-container controller d-flex flex-column justify-content-around align-items-center next\"\n           (click)=\"canGoNext() && next()\" [class.disabled]=\"endOfTime$ | async\">\n        <i class=\"al-icon al-ico-next al-color light-grey-blue\"></i></div>\n      <div class=\"icon-container controller d-flex flex-column justify-content-around align-items-center previous\"\n           (click)=\"canGoBack() && previous()\" [class.disabled]=\"beginningOfTime$ | async\">\n        <i class=\"al-icon al-ico-previous al-color light-grey-blue\"></i></div>\n    </div>\n  </div>\n\n  <div class=\"footer-info d-flex align-items-center justify-content-between\"\n       [style.visibility]=\"isPlayer ? 'hidden' : 'visible'\">\n    <div class=\"d-flex justify-content-center params\" smTooltip=\"Image Width & Height in pixels\">\n      <div class=\"single-parameter\"><label>w: </label>{{debugImage.naturalWidth}}</div>\n      <div class=\"single-parameter\"><label>h: </label>{{debugImage.naturalHeight}}</div>\n    </div>\n    <div class=\"d-flex justify-content-center params\" smTooltip=\"Tracks cursor coordinates\">\n      <div class=\"single-parameter\"><label>x: </label> <span\n        [style.visibility]=\"dragging?'hidden':'visible'\">{{xCord}}</span></div>\n      <div class=\"single-parameter\"><label>y: </label><span\n        [style.visibility]=\"dragging?'hidden':'visible'\">{{yCord}}</span></div>\n    </div>\n    <div class=\"d-flex justify-content-center params\" smTooltip=\"Image zoom\">\n      <div class=\"double-parameter\"><label>Zoom: </label>{{this.scale | toPercentage}}%</div>\n    </div>\n  </div>\n</div>\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  HostListener,\n  Inject,\n  OnDestroy,\n  OnInit,\n  ViewChild\n} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {last} from 'lodash/fp';\nimport {Store} from '@ngrx/store';\nimport {\n  getDebugImageSample,\n  getNextDebugImageSample,\n  resetDisplayer,\n  setDebugImageViewerScrollId,\n  setDisplayerEndOfTime\n} from '../../../debug-images/debug-images-actions';\nimport {\n  selectCurrentImageViewerDebugImage,\n  selectDisplayerBeginningOfTime,\n  selectDisplayerEndOfTime,\n  selectMinMaxIterations\n} from '../../../debug-images/debug-images-reducer';\nimport {interval, Observable, Subscription} from 'rxjs';\nimport {EventsGetDebugImageIterationsResponse} from '../../../../business-logic/model/events/eventsGetDebugImageIterationsResponse';\nimport {filter, map, switchMap, tap, withLatestFrom} from 'rxjs/operators';\nimport {selectAppVisible, selectAutoRefresh} from '../../../core/reducers/view.reducer';\nimport {isFileserverUrl} from '../../../../shared/utils/url';\nimport {getSignedUrl} from '../../../core/actions/common-auth.actions';\nimport {getSignedUrlOrOrigin$} from '../../../core/reducers/common-auth-reducer';\nimport {IsVideoPipe} from '../../../shared/pipes/is-video.pipe';\nimport {IsAudioPipe} from '../../../shared/pipes/is-audio.pipe';\n\nconst DISPLAYER_AUTO_REFRESH_INTERVAL = 60 * 1000;\n\n@Component({\n  selector: 'sm-image-displayer',\n  templateUrl: './image-displayer.component.html',\n  styleUrls: ['./image-displayer.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ImageDisplayerComponent implements OnInit, OnDestroy {\n\n  public imageSources: Array<any>;\n  public xCord: number;\n  public yCord: number;\n  public scale = 1;\n  readonly scaleStep = 0.1;\n  public autoFitScale: number;\n  @ViewChild('imageContainer', {static: true}) imageContainer: ElementRef;\n  @ViewChild('debugImage', {static: true}) debugImage: ElementRef;\n  @ViewChild('sizeCont', {static: true}) sizeCont: ElementRef;\n  public imageHeight: number;\n  public imageWidth: number;\n  public imageTop: string | number;\n  public imageLeft: number;\n  public imageTranslateY = 0;\n  public imageTranslateX = 0;\n  public dragging: boolean;\n  public minMaxIterations$: Observable<EventsGetDebugImageIterationsResponse>;\n  public currentDebugImage$: Observable<any>;\n  public currentDebugImage: any;\n  public iteration: number;\n  public beginningOfTime$: Observable<boolean>;\n  public endOfTime$: Observable<boolean>;\n  public url: string;\n  public isPlayer: boolean;\n  private currentDebugImageSubscription: Subscription;\n  private autoRefreshState$: Observable<boolean>;\n  private isAppVisible$: Observable<boolean>;\n  private autoRefreshSub: Subscription;\n  public imageLoaded: boolean = false;\n  private beginningOfTime: boolean = false;\n  private endOfTime: boolean = false;\n  private begOfTimeSub: Subscription;\n  private endOfTimeSub: Subscription;\n\n\n  @HostListener('document:keydown', ['$event'])\n  onKeyDown(e: KeyboardEvent) {\n    switch (e.key) {\n      case 'ArrowRight':\n        this.next();\n        break;\n      case 'ArrowLeft':\n        this.previous();\n        break;\n      case '+':\n        this.calculateNewScale(true);\n        break;\n      case '-':\n        this.calculateNewScale(false);\n        break;\n    }\n  }\n\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: { imageSources: Array<any>; index: number; snippetsMetaData: any },\n    public dialogRef: MatDialogRef<ImageDisplayerComponent>,\n    public changeDetector: ChangeDetectorRef,\n    private store: Store<any>\n  ) {\n    const reqData = {\n      task: data.snippetsMetaData[data.index].task,\n      metric: data.snippetsMetaData[data.index].metric,\n      variant: data.snippetsMetaData[data.index].variant,\n      iteration: data.snippetsMetaData[data.index].iter\n    };\n    this.store.dispatch(getDebugImageSample(reqData));\n    this.minMaxIterations$ = this.store.select(selectMinMaxIterations);\n    this.beginningOfTime$ = this.store.select(selectDisplayerBeginningOfTime);\n    this.endOfTime$ = this.store.select(selectDisplayerEndOfTime);\n    this.autoRefreshState$ = this.store.select(selectAutoRefresh);\n    this.isAppVisible$ = this.store.select(selectAppVisible);\n    this.currentDebugImage$ = store.select(selectCurrentImageViewerDebugImage)\n      .pipe(\n        filter(event => !!event),\n        map(event => {\n          this.store.dispatch(getSignedUrl({url: event.url, config: {disableCache: event.timestamp}}));\n          return event;\n        })\n      );\n\n    this.autoRefreshSub = interval(DISPLAYER_AUTO_REFRESH_INTERVAL).pipe(\n      withLatestFrom(this.autoRefreshState$, this.isAppVisible$),\n      filter(([, autoRefreshState, isVisible]) => isVisible && autoRefreshState)\n    ).subscribe(() => {\n      if (this.currentDebugImage) {\n        this.store.dispatch(setDisplayerEndOfTime({endOfTime: false}));\n        this.store.dispatch(setDebugImageViewerScrollId({scrollId: null}));\n        this.store.dispatch(getDebugImageSample({\n          task: this.currentDebugImage.task,\n          metric: this.currentDebugImage.metric,\n          variant: this.currentDebugImage.variant,\n          iteration: this.currentDebugImage.iter\n        }));\n      }\n    });\n  }\n\n  canGoNext() {\n    return !this.endOfTime;\n  }\n\n  canGoBack() {\n    return !this.beginningOfTime;\n  }\n\n  calculateNewScale(scaleUp: boolean) {\n    const scaleFactor = scaleUp ? 1 : -1;\n    this.scale = Math.max(this.scale + (this.scale * scaleFactor * this.scaleStep), 0.1);\n    this.changeScale();\n  }\n\n  changeScale() {\n    this.imageHeight = Math.floor(this.debugImage.nativeElement.naturalHeight * this.scale);\n    this.imageWidth = Math.floor(this.debugImage.nativeElement.naturalWidth * this.scale);\n  }\n\n  resetScale() {\n    this.scale = 1;\n    this.resetDrag();\n    this.changeScale();\n  }\n\n  changeCords($event: MouseEvent) {\n    this.xCord = Math.floor($event.offsetX / this.scale);\n    this.yCord = Math.floor($event.offsetY / this.scale);\n  }\n\n  next() {\n    if (this.canGoNext() && this.currentDebugImage) {\n      this.imageLoaded = false;\n      this.store.dispatch(getNextDebugImageSample({task: this.currentDebugImage.task, navigateEarlier: false}));\n    }\n  }\n\n  previous() {\n    if (this.canGoBack() && this.currentDebugImage) {\n      this.imageLoaded = false;\n      this.store.dispatch(getNextDebugImageSample({task: this.currentDebugImage.task, navigateEarlier: true}));\n    }\n  }\n\n  closeImageDisplayer() {\n    this.store.dispatch(resetDisplayer());\n    this.dialogRef.close();\n  }\n\n  fitToScreen() {\n    const heightScaleFit = (this.imageContainer.nativeElement.clientHeight - 120) / this.debugImage.nativeElement.naturalHeight;\n    const widthScaleFit = (this.imageContainer.nativeElement.clientWidth - 120) / this.debugImage.nativeElement.naturalWidth;\n    this.scale = Math.min(heightScaleFit, widthScaleFit);\n    this.autoFitScale = this.scale;\n    this.resetDrag();\n    this.changeScale();\n  }\n\n  resetDrag() {\n    this.imageTranslateY = 0;\n    this.imageTranslateX = 0;\n  }\n\n\n  dragImage($event: MouseEvent) {\n    if (this.dragging) {\n      this.imageTranslateX += $event.movementX;\n      this.imageTranslateY += $event.movementY;\n    }\n  }\n\n  resetCords() {\n    this.xCord = null;\n    this.yCord = null;\n  }\n\n  disableNativeDrag() {\n    return false;\n  }\n\n  setDragging(b: boolean) {\n    this.dragging = b;\n  }\n\n\n  wheelZoom($event: WheelEvent) {\n    this.scale = Math.max(this.scale - (0.005 * $event.deltaY), 0.1);\n    this.changeScale();\n  }\n\n  downloadImage() {\n    if (this.currentDebugImage) {\n      const src = new URL(this.currentDebugImage.url);\n      if (isFileserverUrl(this.currentDebugImage.url)) {\n        src.searchParams.set('download', '');\n      }\n      const a = document.createElement('a') as HTMLAnchorElement;\n      a.href = src.toString();\n      a.download = last(src.pathname.split('/'));\n      a.target = '_blank';\n      a.click();\n    }\n  }\n\n  changeIteration(value: number) {\n    this.iteration = value;\n    if (this.currentDebugImage) {\n      const reqData = {\n        task: this.currentDebugImage.task,\n        metric: this.currentDebugImage.metric,\n        variant: this.currentDebugImage.variant,\n        iteration: value\n      };\n      this.store.dispatch(getDebugImageSample(reqData));\n    }\n  }\n\n  ngOnInit(): void {\n    this.currentDebugImageSubscription = this.currentDebugImage$\n      .pipe(\n        tap(currentDebugImage => {\n          this.currentDebugImage = currentDebugImage;\n          this.iteration = currentDebugImage.iter;\n        }),\n        switchMap(currentDebugImage => getSignedUrlOrOrigin$(currentDebugImage.url, this.store))\n      )\n      .subscribe(signed => {\n        this.url = signed;\n        this.isPlayer = (new IsVideoPipe().transform(signed) || new IsAudioPipe().transform(signed));\n        this.changeDetector.detectChanges();\n      });\n    this.begOfTimeSub = this.beginningOfTime$.subscribe(beg => {\n      this.beginningOfTime = beg;\n      if (beg) {\n        this.imageLoaded = true;\n      }\n    });\n    this.endOfTimeSub = this.endOfTime$.subscribe(end => {\n      this.endOfTime = end;\n      if (end) {\n        this.imageLoaded = true;\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.store.dispatch(setDebugImageViewerScrollId({scrollId: null}));\n    this.currentDebugImageSubscription.unsubscribe();\n    this.begOfTimeSub.unsubscribe();\n    this.endOfTimeSub.unsubscribe();\n    this.autoRefreshSub.unsubscribe();\n  }\n\n  showImage() {\n    this.imageLoaded = true;\n  }\n}\n","<div smClickStopPropagation class=\"w-100 h-100\">\n  <div *ngIf=\"goBack?.observers.length > 0\" class=\"d-flex justify-content-between p-3\">\n    <i (click)=\"goBack.emit()\" class=\"al-icon sm-md al-ico-back pointer\" smClickStopPropagation></i>\n    <div class=\"title\">SELECT METRIC TO DISPLAY\n    </div>\n    <hr class=\"m-0\" style=\"margin: 0\">\n  </div>\n  <sm-search\n          class=\"underline-search\"\n          [value]=\"searchText\"\n          [minimumChars]=\"0\"\n          [debounceTime]=\"0\"\n          placeholder=\"Search metric\"\n          (valueChanged)=\"searchQ($event)\"\n  ></sm-search>\n  <div class=\"metrics\" [class.has-title]=\"goBack?.observers.length > 0\">\n    <mat-expansion-panel *ngFor=\"let metric of metrics\"\n                         [expanded]=\"searchText?.length>0 || hasSelectedVariant(metric)\"\n                         [hidden]=\"(metricTree[metric] | advancedFilter:searchText).length===0\">\n      <mat-expansion-panel-header class=\"py-2\" expandedHeight=\"42px\" collapsedHeight=\"42px\">\n        <mat-panel-title>\n          <span class=\"panel-title\">{{metric}}</span>\n        </mat-panel-title>\n      </mat-expansion-panel-header>\n      <ng-template matExpansionPanelContent>\n        <div class=\"metric-expansion-content\" *ngFor=\"let variant of metricTree[metric] | advancedFilter:searchText\">\n          <ng-container *ngIf=\"multiSelect; else single\">\n            <div class=\"variant-label\">\n              <sm-checkbox-control #metricVariant\n                                   (formDataChanged)=\"toggleAllMetricsToDisplay(variant, metricVariant.formData)\"\n                                   [formData]=\"metricsCols[variant.metric_hash + variant.variant_hash] !== undefined\"\n                                   [label]=\"variant.variant\"\n              ></sm-checkbox-control>\n            </div>\n            <div *ngIf=\"metricVariant.formData\" class=\"value-type\">\n              <sm-checkbox-control #last label=\"LAST\"\n                                   [formData]=\"metricsCols[variant.metric_hash + variant.variant_hash]?.includes('value')\"\n                                   (formDataChanged)=\"toggleMetricToDisplay(variant, last.formData, 'value')\"\n              ></sm-checkbox-control>\n              <sm-checkbox-control #min label=\"MIN\"\n                                   [formData]=\"metricsCols[variant.metric_hash + variant.variant_hash]?.includes('min_value')\"\n                                   (formDataChanged)=\"toggleMetricToDisplay(variant, min.formData, 'min_value')\"\n              ></sm-checkbox-control>\n              <sm-checkbox-control #max label=\"MAX\"\n                                   [formData]=\"metricsCols[variant.metric_hash + variant.variant_hash]?.includes('max_value')\"\n                                   (formDataChanged)=\"toggleMetricToDisplay(variant, max.formData, 'max_value')\"\n              ></sm-checkbox-control>\n            </div>\n          </ng-container>\n          <ng-template #single>\n            <div class=\"variant-label\">\n              <mat-radio-button\n                #metricVariant\n                (change)=\"toggleAllMetricsToDisplay(variant, false)\"\n                [checked]=\"metricsCols[variant.metric_hash + variant.variant_hash] !== undefined\"\n              >{{variant.variant}}</mat-radio-button>\n            </div>\n            <div *ngIf=\"metricVariant.checked\" class=\"value-type\">\n              <mat-radio-group\n                [ngModel]=\"metricsCols[variant.metric_hash + variant.variant_hash][0]\"\n                (change)=\"toggleMetricToDisplay(variant, true, $event.value)\"\n              >\n                <mat-radio-button class=\"pr-4\" value=\"value\">LAST</mat-radio-button>\n                <mat-radio-button class=\"pr-4\" value=\"min_value\">MIN</mat-radio-button>\n                <mat-radio-button value=\"max_value\">MAX</mat-radio-button>\n              </mat-radio-group>\n            </div>\n          </ng-template>\n        </div>\n      </ng-template>\n    </mat-expansion-panel>\n  </div>\n</div>\n","import {ChangeDetectorRef, Component, EventEmitter, Input, Output} from '@angular/core';\nimport {MetricVariantResult} from '../../../../business-logic/model/projects/metricVariantResult';\nimport {ISmCol} from '../../../shared/ui-components/data/table/table.consts';\nimport {MetricValueType} from '../../../experiments-compare/reducers/experiments-compare-charts.reducer';\n\n@Component({\n  selector   : 'sm-select-metric-for-custom-col',\n  templateUrl: './select-metric-for-custom-col.component.html',\n  styleUrls  : ['./select-metric-for-custom-col.component.scss']\n})\nexport class SelectMetricForCustomColComponent {\n  public metricTree;\n  public metrics: string[];\n  public metricsCols: {[metVar: string]: string[]};\n  public searchText: any;\n\n  // private _searchTerm: string;\n\n  @Input() set metricVariants(metricVar: Array<MetricVariantResult>) {\n    this.metricTree = metricVar.reduce((result, metric) => {\n      result[metric.metric] ? result[metric.metric].push(metric) : result[metric.metric] = [metric];\n      return result;\n    }, {});\n    this.metrics    = Object.keys(this.metricTree);\n  }\n\n  @Input() set tableCols(tableCols) {\n    this.metricsCols = {};\n    tableCols.filter(tableCol => tableCol.metric_hash).forEach(tableCol => {\n      this.metricsCols[tableCol.metric_hash + tableCol.variant_hash] ?\n        this.metricsCols[tableCol.metric_hash + tableCol.variant_hash].push(tableCol.valueType) :\n        this.metricsCols[tableCol.metric_hash + tableCol.variant_hash] = [tableCol.valueType];\n    });\n  }\n  @Input() multiSelect: boolean = true;\n\n  // @Input() set searchTerm(searchTerm: string) {\n  //   this.filteredList = this.list ? this.filterList(this.list, searchTerm) : [];\n  //   this._searchTerm  = searchTerm;\n  // }\n  //\n  // get searchTerm() {\n  //   return this._searchTerm;\n  // }\n\n  @Output() getMetricsToDisplay  = new EventEmitter();\n  @Output() selectedMetricToShow = new EventEmitter<{\n    variant: MetricVariantResult;\n    addCol: boolean;\n    valueType: MetricValueType;\n  }>();\n  @Output() goBack               = new EventEmitter();\n\n  constructor(private changeDetectorRef: ChangeDetectorRef) {\n  }\n\n  toggleAllMetricsToDisplay(variant: any, on: boolean) {\n    if (!on) {\n      this.toggleMetricToDisplay(variant, on, null);\n      this.multiSelect ?\n        this.metricsCols[variant.metric_hash + variant.variant_hash] = [] :\n        this.metricsCols = {[variant.metric_hash + variant.variant_hash]: []};\n    } else {\n      this.toggleMetricToDisplay(variant, on, 'value');\n      this.toggleMetricToDisplay(variant, on, 'min_value');\n      this.toggleMetricToDisplay(variant, on, 'max_value');\n    }\n  }\n\n  public toggleMetricToDisplay(variant: ISmCol, value: boolean, valueType: MetricValueType) {\n    this.selectedMetricToShow.emit({variant, addCol: !value, valueType});\n  }\n\n  public searchQ(value: string) {\n    this.searchText = value;\n    this.changeDetectorRef.detectChanges();\n  }\n\n  public isArray(obj: unknown) {\n    return Array.isArray(obj);\n  }\n\n  hasSelectedVariant = (metric: string) =>\n    this.metricTree[metric].some(variant => this.metricsCols[variant.metric_hash + variant.variant_hash] !== undefined);\n}\n","/**\n * projects\n * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\n *\n * OpenAPI spec version: 2.14\n *\n *\n * NOTE: This class is auto generated by the swagger code generator program.\n * https://github.com/swagger-api/swagger-codegen.git\n * Do not edit the class manually.\n */\n\n\n\nexport interface ProjectsGetTaskParentsRequest {\n    /**\n     * The list of projects which task parents are retieved. If not passed or empty   then all the projects are searched\n     */\n    projects?: Array<string>;\n    /**\n     * Return parents for tasks in the specified state. If Null is provided, parents   for all task states will be returned.\n     */\n    tasks_state?: ProjectsGetTaskParentsRequest.TasksStateEnum;\n    /**\n     * If set to \\'true\\' and the projects field is not empty then the result includes   tasks parents from the subproject tasks\n     */\n    include_subprojects?: boolean;\n}\nexport namespace ProjectsGetTaskParentsRequest {\n    export type TasksStateEnum = 'active' | 'archived';\n    export const TasksStateEnum = {\n        Active: 'active' as TasksStateEnum,\n        Archived: 'archived' as TasksStateEnum\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {Actions, createEffect, ofType} from '@ngrx/effects';\nimport {Action, Store} from '@ngrx/store';\nimport {cloneDeep, flatten, get, getOr, isEqual, uniq} from 'lodash/fp';\nimport {EMPTY, Observable, of} from 'rxjs';\nimport {\n  auditTime,\n  catchError,\n  expand,\n  filter,\n  map,\n  mergeMap, reduce,\n  switchMap,\n  tap,\n  withLatestFrom\n} from 'rxjs/operators';\nimport {ApiProjectsService} from '../../../business-logic/api-services/projects.service';\nimport {ApiTasksService} from '../../../business-logic/api-services/tasks.service';\nimport {BlTasksService} from '../../../business-logic/services/tasks.service';\nimport {GET_ALL_QUERY_ANY_FIELDS} from '../../../features/experiments/experiments.consts';\nimport {selectSelectedExperiment} from '../../../features/experiments/reducers';\nimport {IExperimentsViewState} from '../../../features/experiments/reducers/experiments-view.reducer';\nimport {EXPERIMENTS_TABLE_COL_FIELDS} from '../../../features/experiments/shared/experiments.const';\nimport {requestFailed} from '../../core/actions/http.actions';\nimport {activeLoader, addMessage, deactivateLoader, setServerError} from '../../core/actions/layout.actions';\nimport {setArchive as setProjectArchive} from '../../core/actions/projects.actions';\nimport {setURLParams} from '../../core/actions/router.actions';\nimport {selectIsArchivedMode, selectIsDeepMode, selectSelectedProjectId} from '../../core/reducers/projects.reducer';\nimport {selectRouterParams} from '../../core/reducers/router-reducer';\nimport {selectAppVisible} from '../../core/reducers/view.reducer';\nimport {FilterMetadata} from 'primeng/api/filtermetadata';\nimport {ISmCol} from '../../shared/ui-components/data/table/table.consts';\nimport {addMultipleSortColumns, escapeRegex, getRouteFullUrl} from '../../shared/utils/shared-utils';\nimport {addExcludeFilters, decodeHyperParam, encodeColumns, encodeOrder} from '../../shared/utils/tableParamEncode';\nimport {AutoRefreshExperimentInfo, GetExperimentInfo} from '../actions/common-experiments-info.actions';\nimport * as exActions from '../actions/common-experiments-view.actions';\nimport {\n  setActiveParentsFilter,\n  setParents,\n  updateManyExperiment\n} from '../actions/common-experiments-view.actions';\nimport * as exSelectors from '../reducers/index';\nimport {ITableExperiment} from '../shared/common-experiment-model.model';\nimport {EXPERIMENTS_PAGE_SIZE} from '../shared/common-experiments.const';\nimport {convertStopToComplete} from '../shared/common-experiments.utils';\nimport {ApiUsersService} from '../../../business-logic/api-services/users.service';\nimport {sortByField} from '../../tasks/tasks.utils';\nimport {MODEL_TAGS} from '../../models/shared/models.const';\nimport {EmptyAction, MESSAGES_SEVERITY} from '../../../app.constants';\nimport {selectExperimentsList, selectExperimentsUsers, selectTableFilters, selectTableSortFields} from '../reducers';\nimport {ProjectsGetTaskParentsResponse} from '../../../business-logic/model/projects/projectsGetTaskParentsResponse';\nimport {ProjectsGetTaskParentsRequest} from '../../../business-logic/model/projects/projectsGetTaskParentsRequest';\nimport {ICommonSearchState} from '../../common-search/common-search.reducer';\nimport {SortMeta} from 'primeng/api';\nimport {hasValue} from '../../shared/utils/helpers.util';\nimport {ProjectsGetHyperParametersResponse} from '../../../business-logic/model/projects/projectsGetHyperParametersResponse';\nimport {\n  CountAvailableAndIsDisableSelectedFiltered, MenuItems,\n  selectionDisabledAbort, selectionDisabledAbortAllChildren, selectionDisabledArchive,\n  selectionDisabledDelete,\n  selectionDisabledDequeue,\n  selectionDisabledEnqueue,\n  selectionDisabledMoveTo,\n  selectionDisabledPublishExperiments,\n  selectionDisabledQueue,\n  selectionDisabledReset,\n  selectionDisabledTags,\n  selectionDisabledViewWorker\n} from '../../shared/entity-page/items.utils';\nimport {MINIMUM_ONLY_FIELDS} from '../experiment.consts';\nimport {ProjectsGetHyperparamValuesResponse} from '../../../business-logic/model/projects/projectsGetHyperparamValuesResponse';\nimport {selectShowHidden} from '../../../features/projects/projects.reducer';\nimport {TasksGetAllExRequest} from '../../../business-logic/model/tasks/tasksGetAllExRequest';\nimport {TasksGetAllExResponse} from '../../../business-logic/model/tasks/tasksGetAllExResponse';\nimport {selectIsCompare} from '../../experiments-compare/reducers';\nimport {\n  compareAddDialogTableSortChanged,\n  compareAddTableClearAllFilters,\n  compareAddTableFilterChanged,\n  compareAddTableFilterInit\n} from '../../experiments-compare/actions/compare-header.actions';\n\n\nexport const createFiltersFromStore = (_tableFilters: { [key: string]: FilterMetadata }, removeEmptyValues = true) => {\n  if (!_tableFilters) {\n    return [];\n  }\n  return Object.keys(_tableFilters).reduce((returnTableFilters, currentFilterName) => {\n    const value = get([currentFilterName, 'value'], _tableFilters);\n    if (removeEmptyValues && (!hasValue(value) || value?.length === 0)) {\n      return returnTableFilters;\n    }\n    returnTableFilters[currentFilterName] = value;\n    return returnTableFilters;\n  }, {});\n};\n\n@Injectable()\nexport class CommonExperimentsViewEffects {\n  /* eslint-disable @typescript-eslint/naming-convention */\n  constructor(\n    private actions$: Actions, private store: Store<IExperimentsViewState>,\n    private apiTasks: ApiTasksService, private projectsApi: ApiProjectsService, private usersApi: ApiUsersService,\n    private taskBl: BlTasksService, private router: Router, private route: ActivatedRoute\n  ) {\n  }\n\n  activeLoader = createEffect(() => this.actions$.pipe(\n    ofType(\n      exActions.getNextExperiments, exActions.getExperiments, exActions.globalFilterChanged, exActions.tableSortChanged,\n      exActions.tableFilterChanged, compareAddDialogTableSortChanged, compareAddTableFilterChanged,\n      compareAddTableFilterInit, compareAddTableClearAllFilters, exActions.refreshExperiments,\n      exActions.afterSetArchive, exActions.selectAllExperiments\n    ),\n    filter((action) => !(action as ReturnType<typeof exActions.refreshExperiments>).hideLoader),\n    map(() => activeLoader('EXPERIMENTS_LIST'))\n  ));\n\n  tableSortChange = createEffect(() => this.actions$.pipe(\n    ofType(exActions.tableSortChanged),\n    withLatestFrom(\n      this.store.select(selectTableSortFields),\n      this.store.select(selectSelectedProjectId)\n    ),\n    switchMap(([action, oldOrders, projectId]) => {\n      const orders = addMultipleSortColumns(oldOrders, action.colId, action.isShift);\n      return [exActions.setTableSort({orders, projectId})];\n    })\n  ));\n\n  reFetchParents = createEffect(() => this.actions$.pipe(\n    ofType(exActions.afterSetArchive.type),\n    map(() => exActions.getParents())\n  ));\n\n  reFetchExperiment = createEffect(() => this.actions$.pipe(\n    ofType(\n      exActions.getExperiments, exActions.getExperimentsWithPageSize, exActions.globalFilterChanged, exActions.setTableSort,\n      compareAddDialogTableSortChanged, compareAddTableFilterChanged, compareAddTableFilterInit, compareAddTableClearAllFilters,\n      exActions.tableFilterChanged, exActions.setTableFilters, exActions.afterSetArchive,\n      exActions.showOnlySelected\n    ),\n    auditTime(50),\n    switchMap((action) => this.fetchExperiments$(null, false, (action as any).pageSize as number)\n      .pipe(\n        mergeMap(res => {\n          res.tasks = convertStopToComplete(res.tasks);\n          return [\n            exActions.setNoMoreExperiments({payload: (res.tasks.length < EXPERIMENTS_PAGE_SIZE)}),\n            exActions.setExperiments({experiments: res.tasks as ITableExperiment[]}),\n            exActions.setCurrentScrollId({scrollId: res.scroll_id}),\n            deactivateLoader('EXPERIMENTS_LIST')\n          ];\n        }),\n        catchError(error => [\n          requestFailed(error),\n          deactivateLoader('EXPERIMENTS_LIST'),\n          setServerError(error, null, 'Fetch Experiments failed', getOr(false, 'payload.autoRefresh', action))\n        ])\n      )\n    )\n  ));\n\n  refreshExperiments = createEffect(() => this.actions$.pipe(\n    ofType<ReturnType<typeof exActions.refreshExperiments>>(exActions.refreshExperiments, exActions.addColumn, exActions.toggleColHidden),\n    withLatestFrom(\n      this.store.select(exSelectors.selectCurrentScrollId),\n      this.store.select(selectSelectedExperiment),\n      this.store.select(selectExperimentsList),\n      this.store.select(selectAppVisible),\n      this.store.select(exSelectors.selectExperimentsHiddenTableCols)),\n    filter(([action, , , , visible, hiddenCols]) => {\n      const isToggleToHiddenCol = action.type !== exActions.toggleColHidden.type || !hiddenCols[(action as any).payload];\n      return visible && isToggleToHiddenCol;\n    }),\n    switchMap(([action, currentScrollId, selectedExperiment, experiments]) => this.fetchExperiments$(currentScrollId, true)\n      .pipe(\n        mergeMap(res => {\n          res.tasks = convertStopToComplete(res.tasks);\n          const actions: Action[] = [deactivateLoader('EXPERIMENTS_LIST')];\n          if (selectedExperiment && action.autoRefresh && isEqual(experiments.map(exp => exp.id).sort(), res.tasks.map(exp => exp.id).sort())) {\n            actions.push(exActions.setExperimentInPlace({experiments: res.tasks as ITableExperiment[]}));\n          } else {\n            // SetExperiments must be before GetExperimentInfo!\n            actions.push(exActions.setExperiments({experiments: res.tasks as ITableExperiment[]}));\n          }\n          if (selectedExperiment) {\n            if (action.autoRefresh) {\n              actions.push(new AutoRefreshExperimentInfo(selectedExperiment.id));\n            } else {\n              // SetExperiments must be before GetExperimentInfo!\n              actions.push(new GetExperimentInfo(selectedExperiment.id));\n            }\n          }\n          return actions;\n        }),\n        catchError(error => [\n          requestFailed(error),\n          deactivateLoader('EXPERIMENTS_LIST'),\n          setServerError(error, null, 'Fetch Experiments failed', action.autoRefresh)\n        ])\n      )\n    )\n  ));\n\n  getNextExperiments = createEffect(() => this.actions$.pipe(\n    ofType(exActions.getNextExperiments),\n    withLatestFrom(\n      this.store.select(exSelectors.selectCurrentScrollId),\n      this.store.select(selectExperimentsList)\n    ),\n    switchMap(([, scrollId, tasks]) => this.fetchExperiments$(scrollId)\n      .pipe(\n        mergeMap(res => {\n          res.tasks = convertStopToComplete(res.tasks);\n          const addTasksAction = scrollId === res.scroll_id\n            ? [exActions.addExperiments({experiments: res.tasks as ITableExperiment[]})]\n            : [exActions.getExperimentsWithPageSize({pageSize: tasks.length}), addMessage(MESSAGES_SEVERITY.WARN, 'Session expired')];\n\n          return [\n            exActions.setNoMoreExperiments({payload: (res.tasks.length < EXPERIMENTS_PAGE_SIZE)}),\n            ...addTasksAction,\n            exActions.setCurrentScrollId({scrollId: res.scroll_id}),\n            deactivateLoader('EXPERIMENTS_LIST'),\n          ];\n        }),\n        catchError(error => [\n          requestFailed(error), deactivateLoader('EXPERIMENTS_LIST'), setServerError(error, null, 'Fetch Experiments failed')])\n      )\n    )\n  ));\n\n  experimentSelectionChanged = createEffect(() => this.actions$.pipe(\n    ofType(exActions.experimentSelectionChanged),\n    tap(action => this.navigateAfterExperimentSelectionChanged(action.experiment as ITableExperiment, action.project)),\n    mergeMap(() => [])\n    // map(action => new exActions.SetSelectedExperiment(action.payload.experiment))\n  ));\n\n\n  getTypesEffect = createEffect(() => this.actions$.pipe(\n    ofType(exActions.getProjectTypes),\n    withLatestFrom(this.store.select(selectRouterParams).pipe(map(params => get('projectId', params)))),\n    switchMap(([action, projectId]) => this.apiTasks.tasksGetTypes({projects: (projectId !== '*' ? [projectId] : [])}).pipe(\n      withLatestFrom(this.store.select(exSelectors.selectTableFilters)),\n      mergeMap(([res, tableFilters]) => {\n        let shouldFilterFilters: boolean;\n        let filteredTableFilters: any = {};\n        if (tableFilters?.type?.value) {\n          filteredTableFilters = {\n            col: 'type',\n            value: tableFilters.type.value.filter(filterType => res.types.includes(filterType))\n          };\n          shouldFilterFilters = filteredTableFilters.value.length !== tableFilters.type.value.length;\n        }\n        return [\n          shouldFilterFilters ? exActions.tableFilterChanged({\n            filter: filteredTableFilters,\n            projectId\n          }) : new EmptyAction(),\n          exActions.setProjectsTypes(res),\n          deactivateLoader(action.type)\n        ];\n      }),\n      catchError(error => [\n        requestFailed(error),\n        deactivateLoader(action.type),\n        setServerError(error, null, 'Fetch types failed')]\n      )\n    ))));\n\n  getFilteredUsersEffect = createEffect(() => this.actions$.pipe(\n    ofType(exActions.getFilteredUsers),\n    withLatestFrom(this.store.select(selectExperimentsUsers), this.store.select(selectTableFilters)),\n    switchMap(([action, users, filters]) => this.usersApi.usersGetAllEx({\n      order_by: ['name'],\n      only_fields: ['name'],\n      id: getOr([], ['user.name', 'value'], filters)\n    }).pipe(\n      mergeMap(res => [\n        exActions.setUsers({users: uniq(res.users.concat(users))}),\n        deactivateLoader(action.type)\n      ]),\n      catchError(error => [\n        requestFailed(error),\n        deactivateLoader(action.type),\n        setServerError(error, null, 'Fetch users failed')]\n      )\n    ))\n  ));\n\n  getUsersEffect = createEffect(() => this.actions$.pipe(\n    ofType(exActions.getUsers),\n    withLatestFrom(\n      this.store.select(selectRouterParams).pipe(map(params => get('projectId', params))),\n      this.store.select(selectTableFilters)),\n    switchMap(([, projectId, filters]) => this.usersApi.usersGetAllEx({\n      order_by: ['name'],\n      only_fields: ['name'],\n      active_in_projects: projectId !== '*' ? [projectId] : []\n    }).pipe(\n      mergeMap(res => {\n        const userFiltersValue = get([EXPERIMENTS_TABLE_COL_FIELDS.USER, 'value'], filters) || [];\n        const resIds = res.users.map(user => user.id);\n        const shouldGetFilteredUsersNames = !(userFiltersValue.every(id => resIds.includes(id)));\n        return [\n          exActions.setUsers(res),\n          shouldGetFilteredUsersNames ? exActions.getFilteredUsers() : new EmptyAction(),\n        ];\n      }),\n      catchError(error => [\n        requestFailed(error),\n        setServerError(error, null, 'Fetch users failed')]\n      )\n    ))\n  ));\n\n  getParentsEffect = createEffect(() => this.actions$.pipe(\n    ofType(exActions.getParents),\n    withLatestFrom(\n      this.store.select(selectRouterParams).pipe(map(params => get('projectId', params))),\n      this.store.select(selectIsArchivedMode)\n    ),\n    switchMap(([, projectId, isArchive]) => this.projectsApi.projectsGetTaskParents({\n      projects: projectId !== '*' ? [projectId] : [],\n      tasks_state: isArchive ?\n        ProjectsGetTaskParentsRequest.TasksStateEnum.Archived :\n        ProjectsGetTaskParentsRequest.TasksStateEnum.Active\n    }).pipe(\n      withLatestFrom(this.store.select(selectTableFilters).pipe(map(filters => filters?.['parent.name']?.value || []))),\n      mergeMap(([res, filteredParentIds]: [ProjectsGetTaskParentsResponse, string[]]) => {\n        const missingParentsIds = filteredParentIds.filter(parentId => !res.parents.find(parent => (parent as any).id === parentId));\n        return (missingParentsIds.length ? this.apiTasks.tasksGetAllEx({\n          id: missingParentsIds,\n          only_fields: ['name', 'project.name']\n        }) : of({tasks: []})).pipe(\n          mergeMap((parentsTasks) => [\n            setActiveParentsFilter({parents: parentsTasks.tasks || []}),\n            setParents({parents: res.parents})])\n        );\n      }),\n      catchError(error => [\n        requestFailed(error),\n        setServerError(error, null, 'Fetch parents failed')]\n      )\n    ))\n  ));\n\n  getCustomMetrics = createEffect(() => this.actions$.pipe(\n    ofType(exActions.getCustomMetrics),\n    withLatestFrom(\n      this.store.select(selectRouterParams).pipe(map(params => get('projectId', params))),\n      this.store.select(selectIsDeepMode)\n    ),\n    switchMap(([action, projectId, isDeep]) => this.projectsApi.projectsGetUniqueMetricVariants({\n        project: projectId === '*' ? null : projectId,\n        include_subprojects: isDeep\n      })\n        .pipe(\n          mergeMap(res => [\n            exActions.setCustomMetrics({metrics: sortByField(res.metrics, 'metric')}),\n            deactivateLoader(action.type)\n          ]),\n          catchError(error => [\n            requestFailed(error),\n            deactivateLoader(action.type),\n            setServerError(error, null, 'Fetch custom metrics failed'),\n            exActions.setCustomHyperParams({params: []})])\n        )\n    )\n  ));\n\n  getCustomHyperParams = createEffect(() => this.actions$.pipe(\n    ofType(exActions.getCustomHyperParams),\n    withLatestFrom(this.store.select(selectRouterParams).pipe(map(params => get('projectId', params))), this.store.select(selectIsDeepMode)),\n    switchMap(([action, projectId, isDeep]) => this.projectsApi.projectsGetHyperParameters({\n        project: projectId === '*' ? null : projectId,\n        page_size: 5000,\n        include_subprojects: isDeep\n      })\n        .pipe(\n          mergeMap((res: ProjectsGetHyperParametersResponse) => [\n            exActions.setCustomHyperParams({params: res.parameters}),\n            deactivateLoader(action.type)\n          ]),\n          catchError(error => [\n            requestFailed(error),\n            deactivateLoader(action.type),\n            setServerError(error, null, 'Fetch hyper parameters failed'),\n            exActions.setCustomHyperParams({params: []})])\n        )\n    )\n  ));\n\n  hyperParameterMenuClicked = createEffect(() => this.actions$.pipe(\n    ofType(exActions.hyperParamSelectedExperiments),\n    withLatestFrom(this.store.select(selectIsDeepMode)),\n    switchMap(([action, isDeep]) => {\n      const {projectId, id} = action.col;\n      const {section, name} = decodeHyperParam(id);\n      return this.projectsApi.projectsGetHyperparamValues({\n        include_subprojects: isDeep, section, name,\n        ...(projectId !== '*' && {projects: [projectId]})\n      }).pipe(\n        map((data: ProjectsGetHyperparamValuesResponse) => {\n          const values = data.values.filter(x => hasValue(x) && x !== '');\n          return exActions.hyperParamSelectedInfoExperiments({col: action.col, values});\n        }),\n      );\n    })\n  ));\n\n  setArchiveMode = createEffect(() => this.actions$.pipe(\n    ofType(exActions.setArchive),\n    switchMap(action => [setProjectArchive(action), exActions.afterSetArchive()])\n  ));\n\n  selectAll = createEffect(() => this.actions$.pipe(\n    ofType(exActions.selectAllExperiments),\n    withLatestFrom(\n      this.store.select(selectRouterParams).pipe(map(params => get('projectId', params))),\n      this.store.select(selectIsArchivedMode),\n      this.store.select(exSelectors.selectGlobalFilter),\n      this.store.select(exSelectors.selectTableFilters),\n      this.store.select(selectIsDeepMode),\n      this.store.select(selectShowHidden),\n    ),\n    switchMap(([action, projectId, archived, globalSearch, tableFilters, deep, showHidden]) => {\n      const pageSize = 1000;\n      const query = this.getGetAllQuery({\n        projectId, searchQuery: globalSearch, archived, tableFilters: action.filtered ? tableFilters : [],\n        deep, showHidden, pageSize});\n      query.only_fields = [EXPERIMENTS_TABLE_COL_FIELDS.NAME, EXPERIMENTS_TABLE_COL_FIELDS.PARENT,\n        EXPERIMENTS_TABLE_COL_FIELDS.STATUS, EXPERIMENTS_TABLE_COL_FIELDS.TYPE, 'company.id', 'system_tags'];\n      return this.apiTasks.tasksGetAllEx(query).pipe(\n        expand((res: TasksGetAllExResponse)  => res.tasks.length === pageSize ? this.apiTasks.tasksGetAllEx({...query, scroll_id: res.scroll_id}): EMPTY),\n        reduce((acc, res) => acc.concat(res.tasks), [])\n      );\n    }),\n    switchMap(experiments => [exActions.setSelectedExperiments({experiments}), deactivateLoader('EXPERIMENTS_LIST')]),\n    catchError(error => [\n      requestFailed(error),\n      deactivateLoader('EXPERIMENTS_LIST'),\n      setServerError(error, null, 'Fetch experiments for selection failed'),\n    ])\n  ));\n\n  setURLParams = createEffect(() => this.actions$.pipe(\n    ofType(exActions.removeCol, exActions.toggleColHidden, exActions.setColsOrderForProject),\n    filter(action => !(action as ReturnType<typeof exActions.setColsOrderForProject>)?.fromUrl),\n    withLatestFrom(\n      this.store.select(selectRouterParams).pipe(map(params => get('projectId', params))),\n      this.store.select(selectIsArchivedMode),\n      this.store.select(exSelectors.selectGlobalFilter),\n      this.store.select(exSelectors.selectTableSortFields),\n      this.store.select(exSelectors.selectTableFilters),\n      this.store.select(exSelectors.selectExperimentsTableCols),\n      this.store.select(exSelectors.selectExperimentsHiddenTableCols),\n      this.store.select(exSelectors.selectExperimentsMetricsCols),\n      this.store.select(exSelectors.selectExperimentsTableColsOrder),\n      this.store.select(selectIsDeepMode),\n      this.route.queryParams\n    ),\n    map(([, projectId, isArchived, , sortFields, filters,\n           cols, hiddenCols, metricsCols, colsOrder, isDeep, queryParams\n         ]) => {\n      const columns = encodeColumns(cols, hiddenCols, this.filterColumns(projectId, metricsCols), colsOrder ? colsOrder : queryParams.columns);\n      return setURLParams({\n        columns,\n        filters,\n        orders: sortFields,\n        isArchived,\n        isDeep\n      });\n    })\n  ));\n\n  navigateAfterExperimentSelectionChanged(selectedExperiment: ITableExperiment, experimentProject: string) {\n    // wow angular really suck...\n    const activeChild = get('firstChild.firstChild.firstChild.firstChild.firstChild.firstChild', this.route);\n    const activeChildUrl = activeChild ? getRouteFullUrl(activeChild) : '';\n    const baseUrl = 'projects/' + experimentProject + '/experiments';\n    selectedExperiment ?\n      this.router.navigate([baseUrl + '/' + selectedExperiment.id + '/' + activeChildUrl], {queryParamsHandling: 'preserve'}) : this.router.navigate([baseUrl], {queryParamsHandling: 'preserve'});\n  }\n\n  getGetAllQuery({refreshScroll = false, scrollId = null, projectId, searchQuery, archived, orderFields = [],\n                   tableFilters, selectedIds = [], cols = [], metricCols = [], deep = false, showHidden = false, isCompare,\n                   pageSize = EXPERIMENTS_PAGE_SIZE}: {\n    refreshScroll?: boolean;\n    scrollId?: string;\n    projectId: string;\n    searchQuery?: ICommonSearchState['searchQuery'];\n    archived: boolean;\n    orderFields?: SortMeta[];\n    tableFilters: { [key: string]: FilterMetadata };\n    selectedIds?: string[];\n    cols?: ISmCol[];\n    metricCols?: ISmCol[];\n    deep?: boolean;\n    showHidden?: boolean;\n    isCompare?: boolean;\n    pageSize?: number;\n  }): TasksGetAllExRequest {\n    const typeFilter = get([EXPERIMENTS_TABLE_COL_FIELDS.TYPE, 'value'], tableFilters);\n    const statusFilter = get([EXPERIMENTS_TABLE_COL_FIELDS.STATUS, 'value'], tableFilters);\n    const userFilter = get([EXPERIMENTS_TABLE_COL_FIELDS.USER, 'value'], tableFilters);\n    const tagsFilter = tableFilters?.[EXPERIMENTS_TABLE_COL_FIELDS.TAGS]?.value;\n    const tagsFilterAnd = tableFilters?.[EXPERIMENTS_TABLE_COL_FIELDS.TAGS]?.matchMode === 'AND';\n    const parentFilter = get([EXPERIMENTS_TABLE_COL_FIELDS.PARENT, 'value'], tableFilters);\n    const systemTags = get(['system_tags', 'value'], tableFilters);\n    const systemTagsFilter = (archived ? [MODEL_TAGS.HIDDEN] : ['-' + MODEL_TAGS.HIDDEN])\n      .concat(systemTags ? systemTags : []);\n\n    let filters = createFiltersFromStore(tableFilters, true);\n    filters = Object.keys(filters).reduce((acc, colId) => {\n      const col = metricCols.find(c => c.id === colId);\n      let key = col?.getter || colId;\n      if (Array.isArray(key)) {\n        key = key[0];\n      }\n      acc[key] = filters[colId];\n      return acc;\n    }, {});\n\n    orderFields = orderFields.map(field => {\n      const col = metricCols.find(c => c.id === field.field);\n      const getter = Array.isArray(col?.getter) ? col.getter[0] : col?.getter;\n      return getter ? {...field, field: getter} : field;\n    });\n\n    const colsFilters = flatten(cols.filter(col => col.id !== 'selected' && !col.hidden).map(col => col.getter || col.id));\n    const metricColsFilters = metricCols ? flatten(metricCols.map(col => col.getter || col.id)) : [];\n    const only_fields = [...new Set([...MINIMUM_ONLY_FIELDS, ...colsFilters, ...metricColsFilters])];\n    return {\n      ...filters,\n      id: selectedIds,\n      ...(searchQuery?.query && {\n        _any_: {\n          pattern: searchQuery.regExp ? searchQuery.query : escapeRegex(searchQuery.query),\n          fields: GET_ALL_QUERY_ANY_FIELDS\n        }\n      }),\n      project: ((!filters['project.name'] && (!projectId || projectId === '*'))) ? undefined : isCompare ? ((filters['project.name'] || undefined)): [projectId],\n      scroll_id: scrollId || null, // null to create new scroll (undefined doesn't generate scroll)\n      refresh_scroll: refreshScroll,\n      size: pageSize,\n      order_by: encodeOrder(orderFields),\n      status: (statusFilter && statusFilter.length > 0) ? statusFilter : undefined,\n      type: (typeFilter && typeFilter.length > 0) ? typeFilter : ['__$not', 'annotation_manual', '__$not', 'annotation', '__$not', 'dataset_import'],\n      user: (userFilter && userFilter.length > 0) ? userFilter : [],\n      ...(parentFilter?.length > 0 && {parent: parentFilter}),\n      system_tags: (systemTagsFilter && systemTagsFilter.length > 0) ? systemTagsFilter : [],\n      ...(tagsFilter?.length > 0 && {tags: [(tagsFilterAnd ? '__$and' : '__$or'), ...addExcludeFilters(tagsFilter)] }),\n      include_subprojects: deep,\n      search_hidden: showHidden,\n      only_fields\n    };\n  }\n\n  fetchExperiments$(scrollId1: string, refreshScroll: boolean = false, pageSize = EXPERIMENTS_PAGE_SIZE): Observable<TasksGetAllExResponse> {\n    return of(scrollId1)\n      .pipe(\n        withLatestFrom(\n          this.store.select(selectRouterParams).pipe(map(params => get('projectId', params))),\n          this.store.select(selectIsArchivedMode),\n          this.store.select(exSelectors.selectGlobalFilter),\n          this.store.select(exSelectors.selectTableSortFields),\n          this.store.select(exSelectors.selectTableFilters),\n          this.store.select(exSelectors.selectSelectedExperiments),\n          this.store.select(exSelectors.selectShowAllSelectedIsActive),\n          this.store.select(exSelectors.selectExperimentsTableCols),\n          this.store.select(exSelectors.selectExperimentsHiddenTableCols),\n          this.store.select(exSelectors.selectExperimentsMetricsColsForProject),\n          this.store.select(exSelectors.selectExperimentsTableColsOrder),\n          this.store.select(selectIsDeepMode),\n          this.store.select(selectShowHidden),\n          this.route.queryParams,\n          this.store.select(selectIsCompare),\n        ),\n        switchMap(([\n                     scrollId, projectId, isArchived, gb, orderFields, filters, selectedExperiments,\n                     showAllSelectedIsActive, cols, hiddenCols, metricCols, colsOrder, deep, showHidden, queryParams, isCompare\n                   ]) => {\n          const tableFilters = cloneDeep(filters) || {} as { [key: string]: FilterMetadata };\n          if (tableFilters && tableFilters.status && tableFilters.status.value.includes('completed')) {\n            tableFilters.status.value.push('closed');\n          }\n          const selectedIds = showAllSelectedIsActive ? selectedExperiments.map(exp => exp.id) : [];\n          const columns = encodeColumns(cols, hiddenCols, this.filterColumns(projectId, metricCols), colsOrder ? colsOrder : queryParams.columns);\n          this.store.dispatch(setURLParams({\n            columns,\n            filters,\n            orders: orderFields,\n            isArchived,\n            isDeep: deep\n          }));\n          return this.apiTasks.tasksGetAllEx(this.getGetAllQuery({\n            refreshScroll, scrollId, projectId, searchQuery: gb, archived: isArchived, orderFields,\n            tableFilters, selectedIds, cols, metricCols, deep, showHidden, isCompare, pageSize\n          }));\n        })\n      );\n  }\n\n  private filterColumns(projectId: string, metricsCols: any) {\n    return metricsCols.filter(col => col.projectId === projectId);\n  }\n\n  getTagsEffect = createEffect(() => this.actions$.pipe(\n    ofType(exActions.getTags),\n    withLatestFrom(this.store.select(selectRouterParams).pipe(map(params => get('projectId', params)))),\n    switchMap(([action, projectId]) => this.projectsApi.projectsGetTaskTags({\n      projects: projectId === '*' ? [] : [projectId]\n    }).pipe(\n      mergeMap(res => [\n        exActions.setTags({tags: res.tags.concat(null)}),\n        deactivateLoader(action.type)\n      ]),\n      catchError(error => [\n        requestFailed(error),\n        deactivateLoader(action.type),\n        setServerError(error, null, 'Fetch tags failed')]\n      )\n    ))\n  ));\n\n  setSelectedExperiments = createEffect(() => this.actions$.pipe(\n    ofType(exActions.setSelectedExperiments, exActions.updateExperiment, updateManyExperiment.type),\n    withLatestFrom(\n      this.store.select(exSelectors.selectSelectedExperiments),\n    ),\n    switchMap(([action, selectSelectedExperiments]) => {\n      const payload = action.type === exActions.setSelectedExperiments.type ?\n        (action as ReturnType<typeof exActions.setSelectedExperiments>).experiments : selectSelectedExperiments;\n      const selectedExperimentsDisableAvailable: Record<string, CountAvailableAndIsDisableSelectedFiltered> = {\n        [MenuItems.abort]: selectionDisabledAbort(payload),\n        [MenuItems.abortAllChildren]: selectionDisabledAbortAllChildren(payload),\n        [MenuItems.publish]: selectionDisabledPublishExperiments(payload),\n        [MenuItems.reset]: selectionDisabledReset(payload),\n        [MenuItems.delete]: selectionDisabledDelete(payload),\n        [MenuItems.moveTo]: selectionDisabledMoveTo(payload),\n        [MenuItems.enqueue]: selectionDisabledEnqueue(payload),\n        [MenuItems.dequeue]: selectionDisabledDequeue(payload),\n        [MenuItems.queue]: selectionDisabledQueue(payload),\n        [MenuItems.viewWorker]: selectionDisabledViewWorker(payload),\n        [MenuItems.archive]: selectionDisabledArchive(payload),\n        [MenuItems.tags]: selectionDisabledTags(payload),\n      };\n      //allHasExamples: selectionAllExamples(action.payload),\n      // allArchive: selectionAllIsArchive(action.payload),\n      return [exActions.setSelectedExperimentsDisableAvailable({selectedExperimentsDisableAvailable})];\n    })\n    )\n  );\n}\n","import {ColHeaderFilterTypeEnum, ColHeaderTypeEnum, ISmCol} from '../shared/ui-components/data/table/table.consts';\nimport {EXPERIMENTS_TABLE_COL_FIELDS} from '../../features/experiments/shared/experiments.const';\n\nexport const INITIAL_EXPERIMENT_TABLE_COLS: ISmCol[] = [\n  {\n    id              : EXPERIMENTS_TABLE_COL_FIELDS.SELECTED,\n    sortable        : false,\n    filterable      : false,\n    headerType      : ColHeaderTypeEnum.checkBox,\n    header          : '',\n    hidden          : false,\n    static          : true,\n    bodyStyleClass  : 'selected-col-body type-col',\n    headerStyleClass: 'selected-col-header',\n    style           : {width: '65px'},\n    disableDrag     : true,\n    disablePointerEvents: true\n  },\n  {\n    id            : EXPERIMENTS_TABLE_COL_FIELDS.TYPE,\n    headerType    : ColHeaderTypeEnum.sortFilter,\n    sortable      : true,\n    filterable    : true,\n    static        : true,\n    header        : 'TYPE',\n    bodyStyleClass: 'type-col',\n    style         : {width: '115px'},\n  },\n  {\n    id          : EXPERIMENTS_TABLE_COL_FIELDS.NAME,\n    headerType  : ColHeaderTypeEnum.sortFilter,\n    sortable    : true,\n    static      : true,\n    header      : 'NAME',\n    style       : {width: '400px'},\n  },\n  {\n    id: EXPERIMENTS_TABLE_COL_FIELDS.TAGS,\n    headerType      : ColHeaderTypeEnum.sortFilter,\n    filterable: true,\n    searchableFilter: true,\n    sortable: false,\n    static: true,\n    header: 'TAGS',\n    style: {width: '300px'},\n    excludeFilter: true,\n    andFilter: true,\n    columnExplain: 'Click to include tag. Click again to exclude.'\n  },\n  {\n    id          : EXPERIMENTS_TABLE_COL_FIELDS.STATUS,\n    headerType  : ColHeaderTypeEnum.sortFilter,\n    filterable  : true,\n    static      : true,\n    header      : 'STATUS',\n    style       : {width: '115px'},\n  },\n  {\n    id          : EXPERIMENTS_TABLE_COL_FIELDS.PROJECT,\n    headerType  : ColHeaderTypeEnum.title,\n    static      : true,\n    header      : 'PROJECT',\n    style       : {width: '150px'},\n  },\n  {\n    id              : EXPERIMENTS_TABLE_COL_FIELDS.USER,\n    getter          : 'user.name',\n    headerType      : ColHeaderTypeEnum.sortFilter,\n    searchableFilter: true,\n    filterable      : true,\n    sortable        : false,\n    static          : true,\n    header          : 'USER',\n    style           : {width: '115px'},\n  },\n  {\n    id          : EXPERIMENTS_TABLE_COL_FIELDS.STARTED,\n    headerType  : ColHeaderTypeEnum.sortFilter,\n    sortable  : true,\n    filterType    : ColHeaderFilterTypeEnum.durationDate,\n    filterable: true,\n    searchableFilter: false,\n    static        : true,\n    header      : 'STARTED',\n    style       : {width: '150px'},\n  },\n  {\n    id          : EXPERIMENTS_TABLE_COL_FIELDS.LAST_UPDATE,\n    headerType  : ColHeaderTypeEnum.sortFilter,\n    sortable  : true,\n    filterType    : ColHeaderFilterTypeEnum.durationDate,\n    filterable: false,\n    searchableFilter: false,\n    static        : true,\n    header      : 'UPDATED',\n    label       : 'Updated',\n    style       : {width: '150px'},\n  },\n  {\n    id          : EXPERIMENTS_TABLE_COL_FIELDS.LAST_ITERATION,\n    headerType  : ColHeaderTypeEnum.sortFilter,\n    sortable    : true,\n    filterType    : ColHeaderFilterTypeEnum.durationNumeric,\n    filterable  : true,\n    searchableFilter: false,\n    static        : true,\n    header      : 'ITERATION',\n    label       : 'Iterations:',\n    style       : {width: '115px'},\n  },\n  {\n    id        : EXPERIMENTS_TABLE_COL_FIELDS.COMMENT,\n    headerType: ColHeaderTypeEnum.sortFilter,\n    sortable  : true,\n    header    : 'DESCRIPTION',\n    style     : {width: '300px'}\n  },\n  {\n    id        : EXPERIMENTS_TABLE_COL_FIELDS.ACTIVE_DURATION,\n    headerType: ColHeaderTypeEnum.sortFilter,\n    sortable  : true,\n    filterable: true,\n    filterType    : ColHeaderFilterTypeEnum.duration,\n    searchableFilter: false,\n    static        : true,\n    bodyStyleClass: 'type-col',\n    header    : 'RUN TIME',\n    style     : {width: '150px'}\n  },\n  {\n    id        : EXPERIMENTS_TABLE_COL_FIELDS.PARENT,\n    getter    : [EXPERIMENTS_TABLE_COL_FIELDS.PARENT, 'parent.project.id', 'parent.project.name'],\n    headerType: ColHeaderTypeEnum.sortFilter,\n    searchableFilter: true,\n    filterable      : true,\n    sortable        : false,\n    header    : 'PARENT TASK',\n    style     : {width: '200px'}\n  }\n];\n\nexport const EXPERIMENT_INFO_ONLY_FIELDS_BASE = [\n  'id',\n  'name',\n  'user.name',\n  'company',\n  'type',\n  'status',\n  'status_changed',\n  'status_message',\n  'status_reason',\n  'comment',\n  'created',\n  'last_update',\n  'last_change',\n  'completed',\n  'started',\n  'parent.name',\n  'parent.project.name',\n  'project.name',\n  'output',\n  'models',\n  'models.output.model.name',\n  'models.output.model.project',\n  'models.output.model.design',\n  'models.output.model.uri',\n  'models.output.model.framework',\n  'models.output.model.created',\n  'models.output.model.task',\n  'models.output.model.task.name',\n  'models.output.model.task.project.name',\n  'models.output.model.task.user.name',\n  'models.input.model.user',\n  'models.input.model.user.name',\n  'models.input.model.project',\n  'models.input.model.name',\n  'models.input.model.created',\n  'models.input.model.labels',\n  'models.input.model.design',\n  'models.input.model.uri',\n  'models.input.model.framework',\n  'models.input.model.task',\n  'models.input.model.task.name',\n  'models.input.model.task.project',\n  'models.input.model.task.project.name',\n  'execution',\n  'hyperparams',\n  'execution.queue.name',\n  'script.binary',\n  'script.repository',\n  'script.tag',\n  'script.branch',\n  'script.version_num',\n  'script.entry_point',\n  'script.working_dir',\n  'script.requirements',\n  'system_tags',\n  'published',\n  'last_iteration',\n  'last_worker',\n  'tags',\n  'active_duration',\n  'container',\n  'runtime'\n];\n\nexport const MINIMUM_ONLY_FIELDS = ['system_tags', 'project', 'company', 'last_change', 'started', 'last_iteration', 'tags', 'user.name'];\n","import {Task} from '../../../business-logic/model/tasks/task';\nimport * as actions from '../actions/common-experiment-output.actions';\nimport {ScalarKeyEnum} from '../../../business-logic/model/events/scalarKeyEnum';\nimport {sortBy, reverse, set} from 'lodash/fp';\nimport {LOG_BATCH_SIZE} from '../shared/common-experiments.const';\nimport {MetricsPlotEvent} from '../../../business-logic/model/events/metricsPlotEvent';\nimport {EventsScalarMetricsIterRawResponse} from '../../../business-logic/model/events/eventsScalarMetricsIterRawResponse';\nimport {ExtFrame} from '@common/shared/experiment-graphs/single-graph/plotly-graph-base';\n\nexport type GroupByCharts = 'metric' | 'none';\n\nexport const GroupByCharts = {\n  Metric: 'metric' as GroupByCharts,\n  None: 'none' as GroupByCharts\n};\n\nexport interface Log {\n  timestamp: number;\n  type: 'log';\n  task: Task['id'];\n  level: 'debug' | 'info' | 'warning' | 'error' | 'critical';\n  worker: string;\n  msg: string;\n  metric: string;\n  variant: string;\n}\n\nexport interface SeriesData {\n  name: string;\n  x: number[];\n  y: number[];\n}\n\nexport interface HistogramCharts {\n  [metric: string]: { [variant: string]: SeriesData };\n}\n\n\nexport interface CommonExperimentOutputState {\n  metricsMultiScalarsCharts: any;\n  metricsHistogramCharts: HistogramCharts;\n  fullScreenDetailedChart: ExtFrame;\n  fetchingFullScreenData: boolean;\n  fullScreenXtype: ScalarKeyEnum;\n  isFullScreenOpen: boolean;\n  cachedAxisType: ScalarKeyEnum;\n  metricsPlotsCharts: MetricsPlotEvent[];\n  experimentLog: Log[];\n  totalLogLines: number;\n  beginningOfLog: boolean;\n  settingsList: Array<IExperimentSettings>;\n  searchTerm: string;\n  logFilter: string;\n  showSettings: boolean;\n}\n\nexport interface IExperimentSettings {\n  id: Task['id'];\n  hiddenMetricsScalar: Array<string>;\n  hiddenMetricsPlot: Array<string>;\n  selectedHyperParams: Array<string>;\n  selectedMetric: string;\n  selectedScalar: string;\n  selectedPlot: string;\n  smoothWeight: number;\n  xAxisType: ScalarKeyEnum;\n  groupBy: GroupByCharts;\n}\n\nexport const initialCommonExperimentOutputState: CommonExperimentOutputState = {\n  metricsMultiScalarsCharts: null,\n  metricsHistogramCharts: null,\n  fullScreenDetailedChart: null,\n  fullScreenXtype: null,\n  fetchingFullScreenData: false,\n  cachedAxisType: null,\n  metricsPlotsCharts: null,\n  isFullScreenOpen: false,\n  experimentLog: [],\n  totalLogLines: null,\n  beginningOfLog: false,\n  settingsList: [],\n  searchTerm: '',\n  logFilter: null,\n  showSettings: false\n};\n\nexport function commonExperimentOutputReducer(state = initialCommonExperimentOutputState, action): CommonExperimentOutputState {\n  switch (action.type) {\n    case actions.RESET_OUTPUT:\n      return {\n        ...state,\n        experimentLog: initialCommonExperimentOutputState.experimentLog,\n        metricsMultiScalarsCharts: initialCommonExperimentOutputState.metricsMultiScalarsCharts,\n        metricsHistogramCharts: initialCommonExperimentOutputState.metricsHistogramCharts,\n        metricsPlotsCharts: initialCommonExperimentOutputState.metricsPlotsCharts\n      };\n    case actions.setGraphDisplayFullDetailsScalars.type:\n      return {...state, fullScreenDetailedChart: action.data};\n    case actions.setGraphDisplayFullDetailsScalarsIsOpen.type:\n      return {...state, isFullScreenOpen: action.isOpen};\n    case actions.getGraphDisplayFullDetailsScalars.type:\n      return {...state, fetchingFullScreenData: true};\n    case actions.setXtypeGraphDisplayFullDetailsScalars.type:\n      return {...state, fullScreenXtype: action.xAxisType};\n    case actions.mergeGraphDisplayFullDetailsScalars.type:\n      return {\n        ...state,\n        fullScreenDetailedChart: {...state.fullScreenDetailedChart, data: action.data},\n        fetchingFullScreenData: false\n      };\n    case actions.setExperimentLog.type: {\n      const events = reverse(action.events);\n      let currLog: any[];\n      let atStart = false;\n      if (action.direction) {\n        if (action.refresh) {\n          currLog = events;\n        } else if (action.direction === 'prev') {\n          if (action.events < LOG_BATCH_SIZE) {\n            atStart = true;\n          }\n          currLog = sortBy('timestamp', events.concat(state.experimentLog));\n          if (currLog.length > 300) {\n            currLog = currLog.slice(0, 300);\n          }\n        } else {\n          currLog = sortBy('timestamp', state.experimentLog.concat(events));\n          if (currLog.length > 300) {\n            currLog = currLog.slice(currLog.length - 300, currLog.length);\n          }\n        }\n      } else {\n        currLog = events;\n      }\n      return {\n        ...state,\n        experimentLog: currLog,\n        totalLogLines: action.total,\n        beginningOfLog: atStart\n      };\n    }\n    case actions.SET_EXPERIMENT_METRICS_SEARCH_TERM:\n      return {...state, searchTerm: action.payload.searchTerm};\n    case actions.SET_EXPERIMENT_HISTOGRAM:\n      return {...state, metricsHistogramCharts: action.payload, cachedAxisType: action.axisType};\n    case actions.SET_EXPERIMENT_PLOTS:\n      return {...state, metricsPlotsCharts: action.payload};\n    case actions.UPDATE_EXPERIMENT_SETTINGS: {\n      let newSettings;\n      const experimentExists = state.settingsList.find(setting => setting.id === action.payload.id);\n      if (experimentExists) {\n        newSettings = state.settingsList.map(setting => setting.id === action.payload.id ? {...setting, ...action.payload.changes} : setting);\n      } else {\n        newSettings = state.settingsList.slice();\n        newSettings.push({id: action.payload.id, ...action.payload.changes});\n      }\n      return {...state, settingsList: newSettings};\n    }\n    case actions.RESET_EXPERIMENT_METRICS:\n      return {\n        ...state,\n        metricsMultiScalarsCharts: initialCommonExperimentOutputState.metricsMultiScalarsCharts,\n        metricsHistogramCharts: initialCommonExperimentOutputState.metricsHistogramCharts,\n        metricsPlotsCharts: initialCommonExperimentOutputState.metricsPlotsCharts,\n        cachedAxisType: initialCommonExperimentOutputState.cachedAxisType,\n        searchTerm: ''\n      };\n    case actions.SET_LOG_FILTER:\n      return {...state, logFilter: (action as actions.SetLogFilter).filterString};\n    case actions.RESET_LOG_FILTER:\n      return {...state, logFilter: null};\n    case actions.toggleSettings.type:\n      return {...state, showSettings: !state.showSettings};\n    default:\n      return state;\n  }\n}\n","import {ITableExperiment} from '../shared/common-experiment-model.model';\nimport {INITIAL_EXPERIMENT_TABLE_COLS} from '../experiment.consts';\nimport {ISmCol, TABLE_SORT_ORDER} from '../../shared/ui-components/data/table/table.consts';\nimport {EXPERIMENTS_TABLE_COL_FIELDS} from '../../../features/experiments/shared/experiments.const';\nimport * as actions from '../actions/common-experiments-view.actions';\nimport {MetricVariantResult} from '../../../business-logic/model/projects/metricVariantResult';\nimport {TableFilter} from '../../shared/utils/tableParamEncode';\nimport {User} from '../../../business-logic/model/users/user';\nimport {ProjectsGetTaskParentsResponseParents} from '../../../business-logic/model/projects/projectsGetTaskParentsResponseParents';\nimport {ICommonSearchState} from '../../common-search/common-search.reducer';\nimport {SortMeta} from 'primeng/api';\nimport {CountAvailableAndIsDisableSelectedFiltered} from '../../shared/entity-page/items.utils';\nimport {setSelectedProject} from '@common/core/actions/projects.actions';\nimport {createReducer, on} from '@ngrx/store';\nimport {modelsInitialState} from '@common/models/reducers/models-view.reducer';\nimport {setAllTasksChildren} from '../actions/common-experiments-menu.actions';\n\n\nexport interface ICommonExperimentsViewState {\n  tableCols: ISmCol[];\n  colsOrder: { [Project: string]: string[] };\n  tableFilters: any;\n  tempFilters: {[columnId: string]: {value: any; matchMode: string}};\n  projectColumnFilters: {[projectId: string]: {[columnId: string]: {value: any; matchMode: string}}};\n  tableOrders: SortMeta[];\n  projectColumnsSortOrder: {[projectId: string]: SortMeta[]};\n  projectColumnsWidth: {[projectId: string]: {[colId: string]: number}};\n  metricsCols: ISmCol[];\n  hiddenTableCols: {[colName: string]: boolean};\n  hiddenProjectTableCols: {[projectId: string]: {[colName: string]: boolean | undefined}};\n  experiments: Array<ITableExperiment>;\n  noMoreExperiment: boolean;\n  selectedExperiment: ITableExperiment;\n  selectedExperiments: Array<ITableExperiment>;\n  selectedExperimentsDisableAvailable: Record<string, CountAvailableAndIsDisableSelectedFiltered>;\n  selectedExperimentSource: string;\n  experimentToken: string;\n  scrollId: string;\n  globalFilter: ICommonSearchState['searchQuery'];\n  showAllSelectedIsActive: boolean;\n  metricVariants: Array<MetricVariantResult>;\n  hyperParams: Array<any>;\n  hyperParamsOptions: Record<ISmCol['id'], string[]>;\n  metricsLoading: boolean;\n  users: User[];\n  projectTags: string[];\n  parents: ProjectsGetTaskParentsResponseParents[];\n  activeParentsFilter: ProjectsGetTaskParentsResponseParents[];\n  types: string[];\n  splitSize: number;\n  allRunningChildrenForAbortChildrenDialog: ITableExperiment[];\n}\n\nexport const commonExperimentsInitialState: ICommonExperimentsViewState = {\n  tableCols: INITIAL_EXPERIMENT_TABLE_COLS,\n  colsOrder: {},\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  hiddenTableCols: {comment: true, active_duration: true},\n  hiddenProjectTableCols: {},\n  experiments: [],\n  tableFilters: {},\n  tempFilters: {},\n  projectColumnFilters: {},\n  tableOrders: [{field: EXPERIMENTS_TABLE_COL_FIELDS.LAST_UPDATE, order: TABLE_SORT_ORDER.DESC}],\n  projectColumnsSortOrder: {},\n  projectColumnsWidth: {},\n  noMoreExperiment: false,\n  selectedExperiment: null,\n  selectedExperiments: [],\n  selectedExperimentsDisableAvailable: {},\n  selectedExperimentSource: null,\n  experimentToken: null,\n  scrollId: null, // -1 so the \"getNextExperiments\" will send 0.\n  globalFilter: null,\n  showAllSelectedIsActive: false,\n  metricsCols: [],\n  metricVariants: [],\n  hyperParams: [],\n  hyperParamsOptions: {},\n  metricsLoading: false,\n  projectTags: [],\n  users: [],\n  parents: [],\n  activeParentsFilter: [],\n  types: [],\n  splitSize: 75,\n  allRunningChildrenForAbortChildrenDialog: null,\n};\n\nconst setExperimentsAndUpdateSelectedExperiments = (state: ICommonExperimentsViewState, payload): ICommonExperimentsViewState => ({\n  ...state,\n  experiments: state.experiments.map(ex => ex.id === payload.id ? {...ex, ...payload.changes} : ex),\n  ...(state.selectedExperiment?.id === payload.id && {selectedExperiment: {...state.selectedExperiment, ...payload.changes}}),\n  ...(state.selectedExperiments.find(ex => ex.id === payload.id) && {selectedExperiments: state.selectedExperiments.map(ex => ex.id === payload.id ? {...ex, ...payload.changes} : ex)})\n});\n\nexport const commonExperimentsViewReducer = createReducer(\n  commonExperimentsInitialState,\n  on(actions.resetExperiments, state => ({\n    ...state,\n    experiments: commonExperimentsInitialState.experiments,\n    selectedExperiment: commonExperimentsInitialState.selectedExperiment,\n    metricVariants: commonExperimentsInitialState.metricVariants,\n    showAllSelectedIsActive: commonExperimentsInitialState.showAllSelectedIsActive\n  })),\n  on(setSelectedProject, state => ({\n    ...state,\n    selectedExperiments: commonExperimentsInitialState.selectedExperiments,\n    metricVariants: commonExperimentsInitialState.metricVariants,\n    hyperParamsOptions: commonExperimentsInitialState.hyperParamsOptions\n  })),\n  on(actions.showOnlySelected, (state, action) => ({\n    ...state,\n    showAllSelectedIsActive: action.active,\n    globalFilter: commonExperimentsInitialState.globalFilter,\n    tempFilters: state.projectColumnFilters[action.projectId] || {},\n    projectColumnFilters: {\n      ...state.projectColumnFilters,\n      [action.projectId]: action.active ? modelsInitialState.tableFilters : state.tempFilters\n    }\n  })),\n  on(actions.addExperiments, (state, action) => ({...state, experiments: state.experiments.concat(action.experiments)})),\n  // on(actions.freezeTableState, (state) => ({...state, freeze: cloneDeep(state)})),\n  // on(actions.defrostTableState, (state) => ({...cloneDeep(state.freeze), freeze: null})),\n  on(actions.removeExperiments, (state, action) => ({...state, experiments: state.experiments.filter(exp => !action.experiments.includes(exp.id))})),\n  on(actions.updateExperiment, (state, action) => setExperimentsAndUpdateSelectedExperiments(state, action)),\n  on(actions.updateManyExperiment, (state, action) =>\n    action.changeList.reduce((acc, change) => {\n      acc = setExperimentsAndUpdateSelectedExperiments(acc, {id: change.id, changes: change.fields});\n      return acc;\n    }, state as ICommonExperimentsViewState)\n  ),\n  on(actions.setExperiments, (state, action) => ({...state, experiments: action.experiments})),\n  on(actions.setExperimentInPlace, (state, action) => ({\n    ...state, experiments: state.experiments\n      .map(currExp => action.experiments.find(newExp => newExp.id === currExp.id))\n      .filter(e => e)\n  })),\n  on(actions.setNoMoreExperiments, (state, action) => ({...state, noMoreExperiment: action.payload})),\n  on(actions.setCurrentScrollId, (state, action) => ({...state, scrollId: action.scrollId})),\n  on(actions.setSelectedExperiment, (state, action) => ({...state, selectedExperiment: action.experiment})),\n  on(actions.setSelectedExperiments, (state, action) => ({...state, selectedExperiments: action.experiments})),\n  on(actions.setSelectedExperimentsDisableAvailable, (state, action) =>\n    ({...state, selectedExperimentsDisableAvailable: action.selectedExperimentsDisableAvailable})),\n  on(actions.globalFilterChanged, (state, action) =>\n    ({...state, globalFilter: action as ReturnType<typeof actions.globalFilterChanged>, showAllSelectedIsActive: false})),\n  on(actions.resetGlobalFilter, state => ({...state, globalFilter: commonExperimentsInitialState.globalFilter})),\n  on(actions.setTableSort, (state, action) => {\n    const colIds = state.tableCols.map(col => col.id).concat(state.metricsCols.map(col => col.id));\n    let orders = action.orders.filter(order => colIds.includes(order.field));\n    orders = orders.length > 0 ? orders : commonExperimentsInitialState.tableOrders;\n    return { ...state, projectColumnsSortOrder: {...state.projectColumnsSortOrder, [action.projectId]: orders} };\n  }),\n  on(actions.resetSortOrder, (state, action) => {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const {[action.projectId]: remove, ...order} = state.projectColumnsSortOrder;\n    return {...state, projectColumnsSortOrder: order};\n  }),\n  on(actions.setColumnWidth, (state, action) => ({\n    ...state,\n    projectColumnsWidth: {\n      ...state.projectColumnsWidth,\n      [action.projectId]: {\n        ...state.projectColumnsWidth[action.projectId],\n        [action.columnId]: action.widthPx\n      }\n    }\n  })),\n  on(actions.toggleColHidden, (state, action) => ({\n    ...state,\n    hiddenProjectTableCols: {\n      ...state.hiddenProjectTableCols,\n      [action.projectId]: {\n        ...(state.hiddenProjectTableCols[action.projectId] || commonExperimentsInitialState.hiddenTableCols),\n        [action.columnId]: state.hiddenProjectTableCols?.[action.projectId]?.[action.columnId] ? undefined : true\n      }\n    }\n  })),\n  on(actions.setHiddenColumns, (state, action) => {\n    const visibleColumns = ['selected'].concat(action['visibleColumns']) as string[];\n    return {\n      ...state,\n      hiddenProjectTableCols: {\n        ...state.hiddenProjectTableCols,\n        [action.projectId]: {\n          ...state.tableCols\n            .filter(col => !visibleColumns.includes(col.id))\n            .reduce((obj, col) => ({...obj, [col.id]: true}), {})\n        }\n      }\n    };\n  }),\n  on(actions.tableFilterChanged, (state, action) => ({\n    ...state,\n    activeParentsFilter: action.filter.col === EXPERIMENTS_TABLE_COL_FIELDS.PARENT ?\n      action.filter.value.map(parentId => state.parents.find(parent => parent.id === parentId)).filter(p => !!p) : [],\n    projectColumnFilters: {\n      ...state.projectColumnFilters,\n      [action.projectId]: {\n        ...state.projectColumnFilters[action.projectId],\n        [action.filter.col]: {value: action.filter.value, matchMode: action.filter.filterMatchMode}\n      }\n    }\n  })),\n  on(actions.setTableFilters, (state, action) => ({\n    ...state,\n    projectColumnFilters: {\n      ...state.projectColumnFilters,\n      [action.projectId]: {\n        ...action.filters.reduce((obj, filter: TableFilter) => {\n          obj[filter.col] = {value: filter.value, matchMode: filter.filterMatchMode};\n          return obj;\n        }, {} as {[columnId: string]: {value: any; matchMode: string}})\n      }\n    }\n  })),\n  on(actions.setExtraColumns, (state, action) =>\n    ({...state, metricsCols: [...state.metricsCols.filter(tableCol => !(tableCol.projectId === action['projectId'])), ...action['columns']]})),\n  on(actions.addColumn, (state, action) => ({...state, metricsCols: [...state.metricsCols, action.col]})),\n  on(actions.removeCol, (state, action) => {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const {[action.id]: removedCol, ...remainingColsWidth} = state.projectColumnsWidth[action.projectId] || {};\n      return {\n        ...state,\n        metricsCols: [...state.metricsCols.filter(tableCol => !(tableCol.id === action.id && tableCol.projectId === action.projectId))],\n        projectColumnsSortOrder: {\n          ...state.projectColumnsSortOrder,\n          [action.projectId]: state.projectColumnsSortOrder[action.projectId]?.filter(order => order.field !== action.id) || commonExperimentsInitialState.tableOrders\n        },\n        projectColumnsWidth: {...state.projectColumnsWidth, [action.projectId]: remainingColsWidth},\n        colsOrder: {...state.colsOrder, [action.projectId]: state.colsOrder[action.projectId] ? state.colsOrder[action.projectId].filter(colId => colId !== action.id) : null}\n      };\n    }),\n  on(actions.setTags, (state, action) => ({...state, projectTags: action.tags})),\n  on(setAllTasksChildren, (state, action) => ({...state, allRunningChildrenForAbortChildrenDialog: action.experiments})),\n  on(actions.setUsers, (state, action) => ({...state, users: action.users})),\n  on(actions.setParents, (state, action) => ({...state, parents: action.parents})),\n  on(actions.setActiveParentsFilter, (state, action) => ({...state, activeParentsFilter: action.parents})),\n  on(actions.setProjectsTypes, (state, action) => ({...state, types: action.types})),\n  on(actions.clearHyperParamsCols, (state, action) => ({\n    ...state,\n    metricsCols: [...state.metricsCols.filter(tableCol => !(tableCol.id.startsWith('hyperparams') && tableCol.projectId === action.projectId))],\n    projectColumnsSortOrder: {\n      ...state.projectColumnsSortOrder,\n      [action.projectId]: state.projectColumnsSortOrder[action.projectId].filter(order => order.field.startsWith('hyperparams'))\n    }\n  })),\n  on(actions.setCustomMetrics, (state, action) =>\n    ({...state, metricVariants: action.metrics, metricsLoading: false})),\n  on(actions.setColsOrderForProject, (state, action) =>\n    ({...state, colsOrder: {...state.colsOrder, [action.project]: action.cols}})),\n  on(actions.setCustomHyperParams, (state, action) => ({...state, hyperParams: action.params, metricsLoading: false})),\n  on(actions.hyperParamSelectedInfoExperiments, (state, action) =>\n    ({...state, hyperParamsOptions: {...state.hyperParamsOptions, [action.col.id]: action.values}})),\n  on(actions.getCustomMetrics, state => ({...state, metricsLoading: true})),\n  on(actions.getCustomHyperParams, state => ({...state, metricsLoading: true})),\n  on(actions.setSplitSize, (state, action) => ({...state, splitSize: action.splitSize})),\n);\n","import {createSelector} from '@ngrx/store';\nimport {IExperimentModelInfo, ITableExperiment} from '../shared/common-experiment-model.model';\nimport {ISmCol} from '../../shared/ui-components/data/table/table.consts';\nimport {\n  experimentInfo,\n  experimentOutput,\n  experimentsView,\n  selectExperimentInfoData,\n  selectSelectedExperiment\n} from '../../../features/experiments/reducers';\nimport {IExperimentInfo} from '~/features/experiments/shared/experiment-info.model';\nimport {EXPERIMENTS_TABLE_COL_FIELDS, experimentSectionsEnum} from '~/features/experiments/shared/experiments.const';\nimport {GroupByCharts, IExperimentSettings} from './common-experiment-output.reducer';\nimport {get, getOr} from 'lodash/fp';\nimport {TaskStatusEnum} from '~/business-logic/model/tasks/taskStatusEnum';\nimport {IExecutionForm} from '~/features/experiments/shared/experiment-execution.model';\nimport {ICommonExperimentInfoState} from './common-experiment-info.reducer';\nimport {ScalarKeyEnum} from '~/business-logic/model/events/scalarKeyEnum';\nimport {ParamsItem} from '~/business-logic/model/tasks/paramsItem';\nimport {selectRouterParams} from '../../core/reducers/router-reducer';\nimport {CountAvailableAndIsDisableSelectedFiltered} from '../../shared/entity-page/items.utils';\nimport {commonExperimentsInitialState} from '@common/experiments/reducers/common-experiments-view.reducer';\nimport {\n  selectCompareAddTableFilters,\n  selectCompareAddTableSortFields,\n  selectIsCompare\n} from '../../experiments-compare/reducers';\n\nexport const selectExperimentsList = createSelector(experimentsView, (state): ITableExperiment[] => state.experiments);\nexport const selectSelectedTableExperiment = createSelector(experimentsView, (state): ITableExperiment => state.selectedExperiment);\n\nexport const selectExperimentsTableColsWidth = createSelector(experimentsView, selectRouterParams,\n  (state, params) => state.projectColumnsWidth?.[params?.projectId] || {});\nexport const selectExperimentsHiddenTableCols = createSelector(experimentsView, selectRouterParams,\n  (state, params) => state.hiddenProjectTableCols?.[params?.projectId] || commonExperimentsInitialState.hiddenTableCols);\nexport const selectRawExperimentsTableCols = createSelector(experimentsView, (state) => state.tableCols);\nexport const selectExperimentsTableCols = createSelector(selectRawExperimentsTableCols, selectExperimentsHiddenTableCols, selectExperimentsTableColsWidth,\n  (cols, hidden, colWidth) =>\n    cols?.map(col => ({\n      ...col,\n      hidden: !!hidden[col.id],\n      style: {...col.style, ...(col.id !== EXPERIMENTS_TABLE_COL_FIELDS.SELECTED && colWidth[col.id] && {width: `${colWidth[col.id]}px`})}\n    } as ISmCol)));\nexport const selectExperimentsTags = createSelector(experimentsView, (state) => state.projectTags);\nexport const selectExperimentsUsers = createSelector(experimentsView, (state) => state.users);\nexport const selectExperimentsParents = createSelector(experimentsView, (state) => state.parents);\nexport const selectActiveParentsFilter = createSelector(experimentsView, (state) => state.activeParentsFilter);\nexport const selectExperimentsTypes = createSelector(experimentsView, (state) => state.types);\n\nexport const selectExperimentsTableColsOrder = createSelector([experimentsView, selectRouterParams], (state, params): string[] => (state.colsOrder && params?.projectId) ? state.colsOrder[params?.projectId] : undefined);\nexport const selectExperimentsMetricsCols = createSelector(experimentsView, (state) => state.metricsCols);\nexport const selectExperimentsMetricsColsForProject = createSelector([experimentsView, selectRouterParams, selectExperimentsHiddenTableCols, selectExperimentsTableColsWidth], (state, params, hidden, colWidth) =>\n  state.metricsCols\n    .filter(metricCol => metricCol.projectId === params?.projectId)\n    .map(col => ({\n      ...col,\n      hidden: !!hidden[col.id],\n      style: {...col.style, ...(colWidth[col.id] && {width: `${colWidth[col.id]}px`})}\n    } as ISmCol))\n);\nexport const selectCurrentScrollId = createSelector(experimentsView, (state): string => state.scrollId);\nexport const selectSplitSize = createSelector(experimentsView, (state): number => state.splitSize);\n\nexport const selectGlobalFilter = createSelector(experimentsView, (state) => state.globalFilter);\nexport const selectTableOrders = createSelector(experimentsView, (state) => state.tableOrders);\n\nexport const selectTableSortFields = createSelector(experimentsView, selectRouterParams, selectIsCompare,selectCompareAddTableSortFields,\n  (state, params, isCompare, compareSortFields) => isCompare ? compareSortFields : (state.projectColumnsSortOrder?.[params?.projectId] || state.tableOrders));\nexport const selectTableFilters = createSelector(experimentsView, selectRouterParams, selectIsCompare,selectCompareAddTableFilters,\n  (state, params, isCompare, compareFilters) => isCompare ? compareFilters : state.projectColumnFilters?.[params?.projectId] || {});\nexport const selectSelectedExperiments = createSelector(experimentsView, state => state.selectedExperiments);\nexport const selectedExperimentsDisableAvailable = createSelector(experimentsView, (state) => state.selectedExperimentsDisableAvailable);\nexport const selectShowAllSelectedIsActive = createSelector(experimentsView, (state): boolean => state.showAllSelectedIsActive);\nexport const selectNoMoreExperiments = createSelector(experimentsView, (state): boolean => state.noMoreExperiment);\nexport const selectAllRunningTasksChildrenForAbort = createSelector(experimentsView, (state): ITableExperiment[] => state.allRunningChildrenForAbortChildrenDialog);\n\nexport const selectExperimentInfoDataFreeze = createSelector(experimentInfo, (state): IExperimentInfo => state.infoDataFreeze);\nexport const selectExperimentInfoErrors = createSelector(experimentInfo, (state): ICommonExperimentInfoState['errors'] => state.errors);\nexport const selectIsSelectedExperimentInDev = createSelector(experimentInfo, () => false);\nexport const selectIsExperimentSaving = createSelector(experimentInfo, (state): boolean => state.saving);\nexport const selectIsExperimentInEditMode = createSelector(experimentInfo, (state): boolean => state.activeSectionEdit);\nexport const selectCurrentActiveSectionEdit = createSelector(experimentInfo, (state): string => state.currentActiveSectionEdit);\n\nexport const selectExperimentLog = createSelector(experimentOutput, (state) => state.experimentLog);\nexport const selectExperimentBeginningOfLog = createSelector(experimentOutput, (state) => state.beginningOfLog);\nexport const selectExperimentInfoPlots = createSelector(experimentOutput, (state) => state.metricsPlotsCharts);\nexport const selectExperimentHistogramCacheAxisType = createSelector(experimentOutput, (state) => state.cachedAxisType);\nexport const selectExperimentMetricsSearchTerm = createSelector(experimentOutput, (state) => state.searchTerm);\nexport const selectHyperParamsVariants = createSelector(experimentsView, (state): Array<any> => state.hyperParams);\nexport const selectHyperParamsOptions = createSelector(experimentsView, (state): Record<ISmCol['id'], string[]> => state.hyperParamsOptions);\n\nexport const selectExperimentUserKnowledge = createSelector(experimentInfo,\n  (state): Map<experimentSectionsEnum, boolean> => state.userKnowledge);\n\nexport const selectLogFilter = createSelector(experimentOutput, (state) => state.logFilter);\nexport const selectTotalLogLines = createSelector(experimentOutput, (state) => state.totalLogLines);\n\nexport const selectShowSettings = createSelector(experimentOutput, (state) => state.showSettings);\nexport const selectSelectedExperimentSettings = createSelector(experimentOutput, selectSelectedExperiment,\n  (output, currentExperiment): IExperimentSettings => output.settingsList && output.settingsList.find((setting) => currentExperiment && setting.id === currentExperiment.id));\nexport const selectSelectedSettingsHiddenPlot = createSelector(selectSelectedExperimentSettings,\n  (settings): Array<string> => get('hiddenMetricsPlot', settings) || []);\nexport const selectSelectedSettingsHiddenScalar = createSelector(selectSelectedExperimentSettings,\n  (settings): Array<string> => get('hiddenMetricsScalar', settings) || []);\nexport const selectSelectedSettingsSmoothWeight = createSelector(selectSelectedExperimentSettings,\n  (settings): number => get('smoothWeight', settings) || 0);\n\nexport const selectSelectedSettingsxAxisType = createSelector(selectSelectedExperimentSettings,\n  (settings): ScalarKeyEnum => get('xAxisType', settings) || ScalarKeyEnum.Iter as ScalarKeyEnum);\nexport const selectSelectedSettingsGroupBy = createSelector(selectSelectedExperimentSettings,\n  (settings): GroupByCharts => settings?.groupBy || 'metric');\nexport const selectIsExperimentInProgress = createSelector(selectSelectedExperiment,\n  (experiment): boolean => experiment && (experiment.status === TaskStatusEnum.InProgress));\n\nexport const selectExperimentModelInfoData = createSelector(selectExperimentInfoData,\n  (info: IExperimentInfo): IExperimentModelInfo => get('model', info));\n\nexport const selectExperimentExecutionInfoData = createSelector(selectExperimentInfoData,\n  (info: IExperimentInfo): IExecutionForm => get('execution', info));\n\nexport const selectExperimentHyperParamsInfoData = createSelector(selectExperimentInfoData,\n  (info: IExperimentInfo): IExperimentInfo['hyperparams'] => info?.hyperparams);\n\nexport const selectExperimentConfiguration = createSelector(selectExperimentInfoData,\n  (info: IExperimentInfo): IExperimentInfo['configuration'] => info?.configuration);\n\nexport const selectExperimentHyperParamsSelectedSectionFromRoute = createSelector(selectRouterParams,\n  (params): string => params?.hyperParamId && decodeURIComponent(params?.hyperParamId));\n\nexport const selectExperimentSelectedConfigObjectFromRoute = createSelector(selectRouterParams,\n  (params): string => params?.configObject && decodeURIComponent(params?.configObject));\n\n\nexport const selectSelectedExperimentFromRouter = createSelector(selectRouterParams,\n  (params): string => get('experimentId', params));\n\nexport const selectExperimentConfigObj =\n  createSelector(selectExperimentConfiguration, selectExperimentSelectedConfigObjectFromRoute,\n    (configuration: IExperimentInfo['configuration'], configObj: string): any => getOr(null, configObj, configuration));\n\n\nexport const selectExperimentHyperParamsSelectedSectionParams =\n  createSelector(selectExperimentHyperParamsInfoData, selectExperimentHyperParamsSelectedSectionFromRoute,\n    (hyperparams: IExperimentInfo['hyperparams'], section: string): ParamsItem[] => Object.entries(getOr({}, section, hyperparams)).map(([, value]) => value));\nexport const selectFullScreenChartIsOpen = createSelector(experimentOutput, (state): boolean => state.isFullScreenOpen);\nexport const selectFullScreenChartIsFetching = createSelector(experimentOutput, (state): boolean => state.fetchingFullScreenData);\nexport const selectFullScreenChartXtype = createSelector(experimentOutput, (state): ScalarKeyEnum => state.fullScreenXtype);\nexport const selectFullScreenChart = createSelector(selectFullScreenChartXtype,selectFullScreenChartIsFetching, experimentOutput, (axisType, isFetching ,state) => {\n    if (axisType === ScalarKeyEnum.IsoTime && state.fullScreenDetailedChart) {\n      return {\n        ...state.fullScreenDetailedChart,\n        data: state.fullScreenDetailedChart.data.reduce((graphAcc, graph) => {\n          graphAcc.push({...graph, x: graph.x.map(ts => new Date(ts) as any)});\n          return graphAcc;\n        }, [])\n      };\n    }\n    return state.fullScreenDetailedChart;\n  }\n);\n\nexport const selectExperimentInfoHistograms = createSelector(\n  selectSelectedSettingsxAxisType,\n  experimentOutput,\n  (axisType, state) => {\n    if (axisType === ScalarKeyEnum.IsoTime && state.metricsHistogramCharts) {\n      return Object.keys(state.metricsHistogramCharts).reduce((groupAcc, groupName) => {\n        const group = state.metricsHistogramCharts[groupName];\n        groupAcc[groupName] = Object.keys(group).reduce((graphAcc, graphName) => {\n          const graph = group[graphName];\n          graphAcc[graphName] = {...graph, x: graph.x.map(ts => new Date(ts))};\n          return graphAcc;\n        }, {});\n        return groupAcc;\n      }, {});\n    }\n    return state.metricsHistogramCharts;\n  });\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {SMSharedModule} from '../../shared/shared.module';\nimport {ExperimentStatusIconLabelComponent} from './components/experiment-status-icon-label/experiment-status-icon-label.component';\nimport {ChangeProjectDialogComponent} from './components/change-project-dialog/change-project-dialog.component';\nimport {CommonExperimentConverterService} from './services/common-experiment-converter.service';\nimport {ExperimentSystemTagsComponent} from './components/experiments-system-tags/experiment-system-tags.component';\nimport {CloneDialogComponent} from './components/clone-dialog/clone-dialog.component';\nimport {SelectQueueModule} from './components/select-queue/select-queue.module';\nimport {FormsModule} from '@angular/forms';\nimport {AbortAllChildrenDialogComponent} from './components/abort-all-children-dialog/abort-all-children-dialog.component';\n\nconst DECLARATIONS = [ExperimentStatusIconLabelComponent, ExperimentSystemTagsComponent, ChangeProjectDialogComponent, CloneDialogComponent,AbortAllChildrenDialogComponent\n];\n\n@NgModule({\n    imports: [\n        SMSharedModule,\n        CommonModule,\n        SelectQueueModule,\n        FormsModule,\n    ],\n  declarations   : [...DECLARATIONS],\n  providers      : [CommonExperimentConverterService],\n  exports        : [...DECLARATIONS]\n})\nexport class CommonExperimentSharedModule {\n}\n","import {TaskStatusEnum} from '../../../business-logic/model/tasks/taskStatusEnum';\nimport {TaskTypeEnum} from '../../../business-logic/model/tasks/taskTypeEnum';\nimport {EXPERIMENTS_STATUS_LABELS} from '../../../features/experiments/shared/experiments.const';\n\nexport type ExperimentWizardMethodsEnum = 'create' | 'edit' | 'clone' | 'extend';\n\nexport const EXPERIMENTS_STORE_KEY = 'experiments';\n\nexport const WIZARD_METHODS = {\n  CREATE: 'create' as ExperimentWizardMethodsEnum,\n  CLONE : 'clone' as ExperimentWizardMethodsEnum,\n  EDIT  : 'edit' as ExperimentWizardMethodsEnum,\n  EXTEND: 'extend' as ExperimentWizardMethodsEnum,\n};\n\nexport type ExperimentsViewModesEnum = 'table' | 'tree';\nexport const EXPERIMENTS_VIEW_MODES = {\n  TABLE: 'table' as ExperimentsViewModesEnum,\n  TREE : 'tree' as ExperimentsViewModesEnum,\n};\nexport const HELP_TEXTS = {\n  MODEL_INPUT               : 'Here you see the an overview of the input models, its location and framework.',\n  MODEL_SOURCE              : 'The overview of the experiment, project directory, user and timestamp.',\n  MODEL_OUTPUT              : 'The new models evolved out of the experiment, provide a name for it.',\n  MODEL_NETWORK_DESIGN      : 'A visual representation of the network design: the layers and operations which connect them.\\n' +\n    'The analysis provides a report on the resources consumed by each layer in the experiment in memory and flops.\\n',\n  EXECUTION_SOURCE_CODE     : 'Here you define the code of the experiment. Specify the git or mercurial repository, working directory and path to the initial commit of the code to ensure that your experiment runs the right code.\\n',\n  EXECUTION_HYPER_PARAMETERS: 'These are the variation parameters defined in your code where you want to easily change values per experiment. The key is the name used in your code, and the value which it will insert.',\n  EXECUTION_OUTPUT          : 'The destination for the results of your experiment. Credentials are defined in your config file.',\n};\nexport const EXPERIMENTS_METRICS_TYPES = {\n  SCALAR: 'scalar',\n  PLOTS : 'plots'\n};\nexport const EXPERIMENTS_PAGE_SIZE = 15;\nexport const EXPERIMENT_TABLE_ONLY_FIELDS = ['id', 'type', 'name', 'started', 'completed', 'status', 'system_tags', 'user.name', 'last_metrics', 'last_update', 'active_duration'];\n\nexport const FILTERED_EXPERIMENTS_STATUS_OPTIONS = Object.entries(EXPERIMENTS_STATUS_LABELS)\n  .filter(([key, val]: [TaskStatusEnum, string]) => ![TaskStatusEnum.Closed].includes(key))\n  .map(([key, val]) => ({label: val, value: key}));\nexport const EXPERIMENTS_TYPES_LABELS = {\n  [TaskTypeEnum.Training]: 'Training',\n  [TaskTypeEnum.Testing] : 'Testing',\n};\nexport const EXPERIMENT_GRAPH_ID_PREFIX = 'metric_name_';\nexport const SINGLE_GRAPH_ID_PREFIX = 'single_graph_name_';\n\n// temp, will be taken from the generated code.\nexport type TaskTagsEnum = 'archived';\n\nexport const TASK_TAGS = {\n  HIDDEN: 'archived' as TaskTagsEnum\n};\n\nexport const LOG_BATCH_SIZE = 100;\n\nexport enum ThemeEnum {\n  Dark = 'dark',\n  Light = 'light'\n}\n\nexport enum CustomColumnMode {\n  Metrics = 'dark',\n  HyperParams = 'light'\n}\n\nexport const NONE_USER_TASK_TYPES = ['-dataset_import', '-annotation', '-annotation_manual'];\n","import {DIGITS_AFTER_DECIMAL} from '../../../features/experiments/shared/experiments.const';\n\nexport const convertStopToComplete = (tasks) => tasks.map(task => {\n  if (task.status === 'closed') {\n    task.status = 'completed';\n  }\n  return task;\n});\n\nexport const filterArchivedExperiments = (experiments, showArchived) => {\n  if (showArchived) {\n    return experiments.filter(ex => ex?.system_tags?.includes('archived'));\n  } else {\n    return experiments.filter(ex => !(ex?.system_tags?.includes('archived')));\n  }\n};\n\nexport const getRoundedNumber = (value: number) => Math.round(value * Math.pow(10, DIGITS_AFTER_DECIMAL)) / Math.pow(10, DIGITS_AFTER_DECIMAL);\n","<sm-dialog-template header=\"ABORT CHILD TASKS\" [iconClass]=\"'al-ico-abort-all'\">\n  <div *ngIf=\"shouldBeAbortedTasks!==null; else lookingForRunningTasks\">\n    <div class=\"message\" [ngPlural]=\"shouldBeAbortedTasks?.length\">\n      <ng-template ngPluralCase=\"=0\">Couldn't find any child running tasks</ng-template>\n      <ng-template ngPluralCase=\"=1\">this will abort one running child task</ng-template>\n      <ng-template ngPluralCase=\"other\">This will abort all {{shouldBeAbortedTasks?.length}} running child tasks</ng-template>\n    </div>\n  </div>\n  <ng-template #lookingForRunningTasks>\n    Looking for child running tasks...\n  </ng-template>\n  <div class=\"buttons\">\n    <button (click)=\"closeDialog(true)\" [disabled]=\"!(shouldBeAbortedTasks?.length>0)\"\n            class=\"btn btn-neon yes-button\">\n      ABORT\n    </button>\n    <button (click)=\"closeDialog(false)\" class=\"btn btn-outline-neon\">\n      CANCEL\n    </button>\n  </div>\n</sm-dialog-template>\n","import {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {Component, Inject} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {ISelectedExperiment} from '../../../../../features/experiments/shared/experiment-info.model';\nimport {ITableExperiment} from '../../common-experiment-model.model';\n\n@Component({\n  selector: 'sm-abort-all-children-dialog',\n  templateUrl: './abort-all-children-dialog.component.html',\n  styleUrls: ['./abort-all-children-dialog.component.scss']\n})\nexport class AbortAllChildrenDialogComponent {\n  public experiments: ISelectedExperiment[];\n  shouldBeAbortedTasks: ITableExperiment[] = null;\n\n\n  constructor(\n    private store: Store<any>, public dialogRef: MatDialogRef<AbortAllChildrenDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: {\n      tasks: ISelectedExperiment[];\n      shouldBeAbortedTasks: ISelectedExperiment[];\n    }\n  ) {\n    this.experiments = data.tasks;\n    this.shouldBeAbortedTasks = data.shouldBeAbortedTasks;\n\n  }\n\n  closeDialog(isConfirmed) {\n    if (isConfirmed) {\n      this.dialogRef.close({shouldBeAbortedTasks: this.shouldBeAbortedTasks});\n    } else {\n      this.dialogRef.close(null);\n    }\n  }\n}\n","<sm-dialog-template header=\"MOVE TO PROJECT\" [iconClass]=\"'al-ico-move-to'\">\n  <div class=\"message\">\n    <b *ngIf=\"reference\" [smTooltip]=\"reference.length > 80 ? reference : undefined\">\n      {{reference.length > 80 ? (reference | slice:0:77) + '...' : reference }}\n    </b> will be moved\n    <span *ngIf=\"currentProjectInstance\"> from\n      <b\n        [smTooltip]=\"currentProjectInstance.name.length > 80 ? currentProjects[0] : undefined\">\n        {{currentProjectInstance.name.length > 80 ? (currentProjectInstance.name | slice:0:77) + '...' : currentProjectInstance.name}}\n      </b>\n    </span> to the selected project.\n  </div>\n  <ng-form #moveToForm=\"ngForm\" (submit)=\"closeDialog(true)\" class=\"light-theme\">\n    <mat-form-field class=\"w-100\" appearance=\"outline\">\n      <mat-label>Project</mat-label>\n      <input matInput\n             type=\"text\"\n             [matAutocomplete]=\"auto\"\n             [(ngModel)]=\"formData.project\"\n             name=\"projectName\"\n             placeholder=\"Search for project path\"\n             #projectInputRef\n             #projectInput=\"ngModel\"\n             required\n             minlength=\"3\"\n             (keydown.enter)=\"projectInput.control.markAsTouched() \"\n             smUniqueNameValidator\n             [existingNames]=\"readOnlyProjects$ | async\"\n             (click)=\"filterText && clear(); projectInputRef.blur(); projectInputRef.focus()\"\n      >\n      <span matSuffix *ngIf=\"(!isAutoCompleteOpen) && (!formData.project?.value) && formData.project\" class=\"creat-new-suffix\">(Create New)</span>\n      <i matSuffix [class]=\"'fa mr2 ' + (filterText ? 'fa-times pointer' :  'fa-search')\" (click)=\"filterText && clear(); projectInputRef.focus();\"\n         smClickStopPropagation></i>\n      <mat-error *ngIf=\"projectInput?.errors?.required\">Please provide a Project</mat-error>\n      <mat-error *ngIf=\"projectInput?.errors?.minlength\">Please provide a name longer than 3 characters</mat-error>\n      <mat-error *ngIf=\"projectInput?.errors?.uniqueName && !currentProjects.includes(formData.project?.value)\">Please provide a different name as this project name is taken as an Example project</mat-error>\n<!--      TODO: Need another validator for this val error-->\n      <mat-error *ngIf=\"formData.project && currentProjects.includes(formData.project.value)\">{{isMulti? (type | titlecase)+'s are' : (type| titlecase) + ' is'}} already in the selected project</mat-error>\n      <mat-autocomplete #auto=\"matAutocomplete\"\n                        name=\"ExperimentProject\"\n                        class=\"light-theme\"\n                        classList=\"light-theme\"\n                        (opened)=\"setIsAutoCompleteOpen(true)\"\n                        (closed)=\"setIsAutoCompleteOpen(false)\"\n                        [displayWith]=\"displayFn\"\n                        autoActiveFirstOption\n      >\n        <mat-option\n          class=\"item\"\n          *ngIf=\"filterText && isNewName\"\n          [value]=\"filterText\"\n        >\"{{filterText}}\" <span class=\"new\">(Create New)</span></mat-option>\n        <mat-option *ngFor=\"let project of filteredProjects | async\" [value]=\"project\" > <div [innerHTML]=\"project.label | highlightSearchText:projectInput.value\"></div></mat-option>\n      </mat-autocomplete>\n    </mat-form-field>\n  </ng-form>\n  <div class=\"buttons\">\n    <button [disabled]=\"moveToForm.invalid\" (click)=\"closeDialog(true)\" cdkFocusInitial\n            class=\"btn btn-neon yes-button\" #moveButton>\n      MOVE\n    </button>\n    <button (click)=\"closeDialog(false)\" class=\"btn btn-outline-neon\">\n      CANCEL\n    </button>\n\n  </div>\n</sm-dialog-template>\n","import {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {Project} from '../../../../../business-logic/model/projects/project';\nimport {Component, Inject, OnInit, ViewChild} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {asyncScheduler, Observable, Subscription} from 'rxjs';\nimport {selectRootProjects} from '../../../../core/reducers/projects.reducer';\nimport {getAllSystemProjects} from '../../../../core/actions/projects.actions';\nimport {map, startWith} from 'rxjs/operators';\nimport {isReadOnly} from '../../../../shared/utils/shared-utils';\nimport {isEqual} from 'lodash/fp';\nimport {NgForm} from '@angular/forms';\nimport {EntityTypeEnum} from '../../../../../shared/constants/non-common-consts';\n\n@Component({\n  selector: 'sm-change-project-dialog',\n  templateUrl: './change-project-dialog.component.html',\n  styleUrls: ['./change-project-dialog.component.scss']\n})\nexport class ChangeProjectDialogComponent implements OnInit {\n\n  public projects$: Observable<Project[]>;\n  public selectedProjectId: Project['id'];\n  public currentProjects: string[];\n  public projects: { label: string; value: string }[];\n  public filteredProjects: Observable<{ label: string; value: string }[]>;\n  public formData: { project: any } = {\n    project: null\n  };\n  public reference: string;\n  private projectsSub: Subscription;\n  filterText: string = '';\n  isNewName: boolean = false;\n\n  @ViewChild('moveToForm', {static: true}) moveToForm: NgForm;\n  public readOnlyProjects$: Observable<string[]>;\n  public isAutoCompleteOpen: boolean;\n  public currentProjectInstance: Project;\n  public isMulti: boolean;\n  type: EntityTypeEnum;\n\n  constructor(\n    private store: Store<any>, public dialogRef: MatDialogRef<ChangeProjectDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: {\n      currentProjects: Project['id'] | Project['id'][];\n      defaultProject: Project['id'];\n      reference?: string | any[];\n      type: EntityTypeEnum;\n    }\n  ) {\n    this.selectedProjectId = data.defaultProject;\n    this.currentProjects = Array.isArray(data.currentProjects) ? data.currentProjects : [data.currentProjects];\n    this.isMulti = !!Array.isArray(data.reference);\n    this.type = data.type;\n    this.reference = Array.isArray(data.reference) ? `${data.reference.length} ${data.type}s` : data.reference;\n    this.readOnlyProjects$ = this.store.select(selectRootProjects)\n      .pipe(map(projects => projects.filter(project => isReadOnly(project)).map(project=> project.name).concat(this.currentProjectInstance?.name)));\n    this.projects$ = this.store.select(selectRootProjects).pipe(\n      map(projects => projects.filter((project) => !isReadOnly(project)))\n    );\n  }\n\n  ngOnInit(): void {\n    this.store.dispatch(getAllSystemProjects());\n    this.projectsSub = this.projects$.subscribe(projects => {\n      if (this.currentProjects.length === 1) {\n        this.currentProjectInstance = projects.find(proj => proj.id === this.currentProjects[0]);\n      }\n      const projectList = projects.map(project => ({value: project.id, label: project.name}));\n      if (!isEqual(projectList, this.projects)) {\n        this.projects = projectList;\n      }\n    });\n    setTimeout(() => {\n      if (!this.moveToForm?.controls['projectName']) {\n        return;\n      }\n      this.filteredProjects = this.moveToForm.controls['projectName'].valueChanges\n        .pipe(\n          map(value => typeof value === 'string' ? value : value.label),\n          map(value => this._filter(value)),\n          startWith(this.projects, asyncScheduler)\n        );\n    }, 1000);\n  }\n\n  ngOnDestroy(): void {\n    this.projectsSub.unsubscribe();\n  }\n\n  closeDialog(isConfirmed) {\n    if (isConfirmed) {\n      if (typeof this.formData.project === 'string') {\n        this.formData.project = {label: this.formData.project, value: ''};\n      }\n      this.dialogRef.close({id: this.formData.project.value, name: this.formData.project.label});\n    } else {\n      this.dialogRef.close(null);\n    }\n  }\n\n  private _filter(value: string) {\n    this.filterText = value;\n    const projectsNames = this.projects.map(project => project.label);\n    this.isNewName = !projectsNames.includes(value);\n    const filterValue = value.toLowerCase();\n    return this.projects.filter((project: any) => project.label.toLowerCase().includes(filterValue.toLowerCase()));\n  }\n\n  displayFn(project: any ): string {\n    return project && project.label ? project.label : project ;\n  }\n\n  clear() {\n    this.filterText = '';\n    this.formData.project = '';\n  }\n  setIsAutoCompleteOpen(focus: boolean) {\n    this.isAutoCompleteOpen = focus;\n  }\n}\n","<sm-dialog-template [iconClass]=\"'al-icon ' + (extend ? 'al-ico-extend' : 'al-ico-clone')\" [header]=\"header\">\n  <div *ngIf=\"!extend; else extendMessage\" class=\"reference\">\n    A draft copy of <b *ngIf=\"reference\"\n                       [smTooltip]=\"reference.length > 80 ? reference : undefined\">{{reference.length > 80 ? (reference | slice:0:77) + '...' : reference }}</b>\n    will be created.\n  </div>\n  <ng-template #extendMessage>\n    <div class=\"reference\">\n      A draft copy of <b *ngIf=\"reference\" [smTooltip]=\"reference.length > 80 ? reference : undefined\">{{reference.length > 80 ? (reference | slice:0:77) + '...' : reference }}</b> will be created,\n      with it's input model set to the output model of <b *ngIf=\"reference\">{{reference}}</b>.\n    </div>\n  </ng-template>\n  <form #cloneForm=\"ngForm\">\n    <div class=\"form-container\">\n      <mat-form-field class=\"w-100\"\n                      appearance=\"outline\"\n                      hideRequiredMarker=\"true\"\n                      (click)=\"filterText && clear(); projectInputRef.blur(); projectInputRef.focus()\">\n        <mat-label>Project</mat-label>\n        <input matInput type=\"text\"\n               autocomplete=\"off\"\n               (focusin)=\"clearOnFirstFocus($event);\"\n               [matAutocomplete]=\"auto\"\n               [(ngModel)]=\"formData.project\"\n               name=\"projectName\"\n               #projectInput=\"ngModel\"\n               #projectInputRef\n               required\n               minlength=\"3\"\n               (keydown.enter)=\"projectInput.control.markAsTouched()\"\n               smUniqueNameValidator\n               [existingNames]=\"readOnlyProjects$ | async\"\n        >\n        <span matSuffix *ngIf=\"(!isAutoCompleteOpen) && (!formData.project?.value) && formData.project\"\n              class=\"creat-new-suffix\">(Create New)</span>\n        <i matSuffix [class]=\"'fa mr2 ' + (filterText? 'fa-times pointer':'fa-search')\"\n           (click)=\"filterText && clear(); projectInputRef.focus()\"\n           smClickStopPropagation></i>\n        <mat-error *ngIf=\"projectInput?.errors?.required\">Please provide a Project</mat-error>\n        <mat-error *ngIf=\"projectInput?.errors?.minlength\">Please provide a name longer than 3 characters</mat-error>\n        <mat-error *ngIf=\"projectInput?.errors?.uniqueName\">Please provide a different name as this project name is\n          taken as an Example project\n        </mat-error>\n\n        <mat-autocomplete #auto=\"matAutocomplete\"\n                          name=\"ExperimentProject\"\n                          class=\"light-theme\"\n                          [displayWith]=\"displayFn\"\n                          (opened)=\"setIsAutoCompleteOpen(true)\"\n                          (closed)=\"setIsAutoCompleteOpen(false)\"\n                          autoActiveFirstOption\n        >\n          <mat-option\n            class=\"item\"\n            *ngIf=\"filterText && isNewName\"\n            [value]=\"filterText\"\n          >\"{{filterText}}\" <span class=\"new\">(Create New)</span></mat-option>\n          <mat-option *ngFor=\"let project of filteredProjects | async\" [value]=\"project\">{{project.label}}</mat-option>\n        </mat-autocomplete>\n      </mat-form-field>\n      <mat-form-field class=\"w-100\" appearance=\"outline\">\n        <mat-label>Name</mat-label>\n        <input\n          required\n          matInput\n          autocomplete=\"off\"\n          #experimentName=\"ngModel\"\n          name=\"ExperimentName\"\n          [(ngModel)]=\"formData.name\"\n        />\n        <mat-error *ngIf=\"experimentName?.errors?.required\">Please provide a name</mat-error>\n      </mat-form-field>\n      <mat-form-field class=\"w-100\" appearance=\"outline\"\n                      hideRequiredMarker=\"true\">\n        <mat-label>Description</mat-label>\n        <textarea\n          name=\"ExperimentComment\"\n          matInput\n          [rows]=\"7\"\n          [(ngModel)]=\"formData.comment\"></textarea>\n      </mat-form-field>\n\n      <div class=\"buttons\">\n        <button cdkFocusInitial (click)=\"closeDialog(true)\" [disabled]=\"!cloneForm.valid\"\n                class=\"btn btn-neon yes-button\" #cloneButton>\n          {{extend ? 'EXTEND' : 'CLONE'}}\n        </button>\n        <button (click)=\"closeDialog(false)\" class=\"btn btn-outline-neon\">\n          CANCEL\n        </button>\n\n      </div>\n    </div>\n  </form>\n</sm-dialog-template>\n","import {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {Project} from '../../../../../business-logic/model/projects/project';\nimport {Component, ElementRef, Inject, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {NgForm} from '@angular/forms';\nimport {Observable, Subscription} from 'rxjs';\nimport {selectRootProjects} from '../../../../core/reducers/projects.reducer';\nimport {getAllSystemProjects} from '../../../../core/actions/projects.actions';\nimport {map} from 'rxjs/operators';\nimport {isReadOnly} from '../../../../shared/utils/shared-utils';\nimport {CloneForm} from '../../common-experiment-model.model';\nimport {isEqual} from 'lodash/fp';\n\n@Component({\n  selector: 'sm-clone-dialog',\n  templateUrl: './clone-dialog.component.html',\n  styleUrls: ['./clone-dialog.component.scss']\n})\nexport class CloneDialogComponent implements OnInit, OnDestroy {\n\n  CLONE_NAME_PREFIX;\n  public reference: string;\n  public header: string;\n  public type: string;\n  public projects$: Observable<Project[]>;\n  public formData = {\n    project: null,\n    name: null,\n    comment: null\n  } as CloneForm;\n\n  private readonly defaultProjectId: string;\n  private projectsSub: Subscription;\n  public projects: { label: string; value: string }[];\n\n  @ViewChild('cloneForm', {static: true}) cloneForm: NgForm;\n  @ViewChild('cloneButton', {static: true}) cloneButton: ElementRef;\n  public filteredProjects: Observable<{ label: string; value: string }[]>;\n  filterText: string = '';\n  isNewName: boolean = false;\n  isAutoCompleteOpen: boolean;\n  public readOnlyProjects$: Observable<string[]>;\n  public extend: boolean;\n\n  constructor(\n    private store: Store<any>,\n    @Inject(MAT_DIALOG_DATA) data: {\n      type: string;\n      defaultProject: string;\n      defaultName: string;\n      defaultComment: string;\n      extend: boolean;\n    },\n    public dialogRef: MatDialogRef<CloneDialogComponent>\n  ) {\n    this.readOnlyProjects$ = this.store.select(selectRootProjects)\n      .pipe(map(projects => projects.filter(project => isReadOnly(project)).map(project => project.name)));\n    this.projects$ = this.store.select(selectRootProjects)\n      .pipe(map(projects => projects.filter(project => !isReadOnly(project))));\n    this.defaultProjectId = data.defaultProject;\n    this.header = `${data.extend ? 'Extend' : 'Clone'} ${data.type}`;\n    this.CLONE_NAME_PREFIX = data.extend ? '' : 'Clone Of ';\n    this.type = data.type.toLowerCase();\n    this.reference = data.defaultName;\n    this.extend = data.extend;\n    this.formData.name = this.CLONE_NAME_PREFIX;\n    setTimeout(() => {\n      this.formData = {\n        ...this.formData,\n        name: this.extend ? '' : this.CLONE_NAME_PREFIX + data.defaultName,\n        comment: data.defaultComment || '',\n      };\n    });\n  }\n\n\n  ngOnDestroy(): void {\n    this.projectsSub.unsubscribe();\n  }\n\n  ngOnInit(): void {\n    this.store.dispatch(getAllSystemProjects());\n    this.projectsSub = this.projects$.subscribe(projects => {\n      const projectList = projects.map(project => ({value: project.id, label: project.name}));\n      if (!isEqual(projectList, this.projects)) {\n        this.projects = projectList;\n        const defaultProject = this.projects.find(project => project.value === this.defaultProjectId);\n        setTimeout(() => {\n          this.formData.project = defaultProject ? defaultProject : projects[0] ? this.projects[0] : null;\n          this.filterText = this.formData.project?.label;\n        }, 0);\n      }\n    });\n    setTimeout(() => {\n      if (!this.cloneForm?.controls['projectName']) {\n        return;\n      }\n      this.filteredProjects = this.cloneForm.controls['projectName'].valueChanges\n        .pipe(\n          map(value => typeof value === 'string' ? value : value?.label || ''),\n          map(value => this._filter(value))\n        );\n    }, 1000);\n\n  }\n\n  displayFn(project: any ): string {\n    return project && project.label ? project.label : project ;\n  }\n\n  private _filter(value: string) {\n    this.filterText = value;\n    const projectsNames = this.projects.map(project => project.label);\n    this.isNewName = !projectsNames.includes(value);\n    const filterValue = value.toLowerCase();\n    return this.projects.filter((project: any) => project.label.toLowerCase().includes(filterValue.toLowerCase()));\n  }\n\n  closeDialog(isConfirmed) {\n    if (isConfirmed) {\n      if (typeof this.formData.project === 'string') {\n        this.formData.project = {label: this.formData.project, value: ''};\n      }\n      this.dialogRef.close(this.formData);\n    } else {\n      this.dialogRef.close(null);\n    }\n  }\n\n  clear() {\n    this.filterText = '';\n    this.formData.project = '';\n  }\n\n  clearOnFirstFocus($event: FocusEvent) {\n    if (this.cloneForm.controls['projectName'].untouched) {\n      this.clear();\n    }\n  }\n\n  setIsAutoCompleteOpen(focus: boolean) {\n    this.isAutoCompleteOpen = focus;\n  }\n}\n","import {MatDialog, MatDialogRef} from '@angular/material/dialog';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {Store} from '@ngrx/store';\nimport {get} from 'lodash/fp';\nimport {filter, take, withLatestFrom} from 'rxjs/operators';\nimport {ICONS} from '../../../../constants';\nimport {Queue} from '../../../../../business-logic/model/queues/queue';\nimport {TaskStatusEnum} from '../../../../../business-logic/model/tasks/taskStatusEnum';\nimport {TaskTypeEnum} from '../../../../../business-logic/model/tasks/taskTypeEnum';\nimport {BlTasksService} from '../../../../../business-logic/services/tasks.service';\nimport {IExperimentInfoState} from '../../../../../features/experiments/reducers/experiment-info.reducer';\nimport {CloneForm} from '../../common-experiment-model.model';\nimport {selectRouterParams} from '../../../../core/reducers/router-reducer';\nimport {SmSyncStateSelectorService} from '../../../../core/services/sync-state-selector.service';\nimport {ConfirmDialogComponent} from '../../../../shared/ui-components/overlay/confirm-dialog/confirm-dialog.component';\nimport {htmlTextShorte, isReadOnly} from '../../../../shared/utils/shared-utils';\nimport * as commonMenuActions from '../../../actions/common-experiments-menu.actions';\nimport {archiveSelectedExperiments, getAllTasksChildren} from '../../../actions/common-experiments-menu.actions';\nimport {ChangeProjectDialogComponent} from '../change-project-dialog/change-project-dialog.component';\nimport {CloneDialogComponent} from '../clone-dialog/clone-dialog.component';\nimport {SelectQueueComponent} from '../select-queue/select-queue.component';\nimport {ISelectedExperiment} from '../../../../../features/experiments/shared/experiment-info.model';\nimport {GetQueuesForEnqueue} from '../select-queue/select-queue.actions';\nimport {selectQueuesList} from '../select-queue/select-queue.reducer';\nimport {isDevelopment} from '../../../../../features/experiments/shared/experiments.utils';\nimport {Component, ElementRef, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {BaseContextMenuComponent} from '../../../../shared/components/base-context-menu/base-context-menu.component';\nimport * as experimentsActions from '../../../actions/common-experiments-view.actions';\nimport {ShareDialogComponent} from '../../../../shared/ui-components/overlay/share-dialog/share-dialog.component';\nimport {ConfigurationService} from '../../../../shared/services/configuration.service';\nimport {selectNeverShowPopups} from '../../../../core/reducers/view.reducer';\nimport {CommonDeleteDialogComponent} from '../../../../shared/entity-page/entity-delete/common-delete-dialog.component';\nimport {EntityTypeEnum} from '../../../../../shared/constants/non-common-consts';\nimport {DeactivateEdit, SetExperiment} from '../../../actions/common-experiments-info.actions';\nimport {neverShowPopupAgain} from '../../../../core/actions/layout.actions';\nimport {\n  selectionDisabledAbort,\n  selectionDisabledAbortAllChildren,\n  selectionDisabledArchive,\n  selectionDisabledDequeue,\n  selectionDisabledEnqueue,\n  selectionDisabledMoveTo,\n  selectionDisabledPublishExperiments,\n  selectionDisabledReset\n} from '../../../../shared/entity-page/items.utils';\nimport {WelcomeMessageComponent} from '../../../../dashboard/dumb/welcome-message/welcome-message.component';\nimport {AbortAllChildrenDialogComponent} from '../abort-all-children-dialog/abort-all-children-dialog.component';\nimport {selectAllRunningTasksChildrenForAbort} from '../../../reducers';\n\n\n@Component({\n  selector: 'sm-experiment-menu',\n  templateUrl: './experiment-menu.component.html',\n  styleUrls: ['./experiment-menu.component.scss']\n})\nexport class ExperimentMenuComponent extends BaseContextMenuComponent implements OnInit {\n  readonly ICONS = ICONS;\n  readonly TaskStatusEnum = TaskStatusEnum;\n  readonly TaskTypeEnum = TaskTypeEnum;\n\n  public open: boolean;\n  public isExample: boolean;\n  public isArchive: boolean;\n  public selectionHasExamples: boolean;\n  protected _experiment: ISelectedExperiment = null;\n  //public selectedExperiment\n  private _selectedExperiments: ISelectedExperiment[];\n  @Input() selectedExperiment: ISelectedExperiment;\n  @Input() isSharedAndNotOwner = false;\n  @Input() tagsFilterByProject: boolean;\n  @Input() projectTags: string[];\n  @Input() companyTags: string[];\n  @Input() numSelected = 0;\n  @Input() activateFromMenuButton = true;\n\n  @Input() set experiment(experiment: ISelectedExperiment) {\n    this._experiment = experiment;\n    this.isExample = isReadOnly(experiment);\n    this.isArchive = experiment?.system_tags?.includes('archived');\n  }\n\n\n  @Output() tagSelected = new EventEmitter<string>();\n  @Input() neverShowPopups;\n  @Input() minimizedView: boolean;\n\n  @Input() set selectedExperiments(experiments: ISelectedExperiment[]) {\n    this._selectedExperiments = experiments;\n    this.selectionHasExamples = experiments && experiments.some((exp => isReadOnly(exp)));\n  }\n\n  get selectedExperiments(): ISelectedExperiment[] {\n    return this._selectedExperiments;\n  }\n\n  get experiment() {\n    return this._experiment;\n  }\n\n  public isCommunity: boolean;\n\n  constructor(\n    protected blTaskService: BlTasksService,\n    protected dialog: MatDialog,\n    protected router: Router,\n    protected store: Store<IExperimentInfoState>,\n    protected syncSelector: SmSyncStateSelectorService,\n    protected eRef: ElementRef,\n    protected configService: ConfigurationService,\n    protected route?: ActivatedRoute\n  ) {\n    super(store, eRef);\n  }\n\n\n  ngOnInit(): void {\n    this.isCommunity = this.configService.getStaticEnvironment().communityServer;\n  }\n\n  public getProjectId() {\n    const params = this.syncSelector.selectSync(selectRouterParams);\n    return get('projectId', params);\n  }\n\n  public restoreArchive() {\n    // info header case\n    const selectedExperiments = this.selectedExperiments ? selectionDisabledArchive(this.selectedExperiments).selectedFiltered : [this._experiment];\n\n    if (selectedExperiments[0].system_tags?.includes('archived')) {\n      this.store.dispatch(commonMenuActions.restoreSelectedExperiments({selectedEntities: selectedExperiments}));\n    } else {\n      const showShareWarningDialog = selectedExperiments.find(item => item?.system_tags.includes('shared')) &&\n        !this.syncSelector.selectSync(selectNeverShowPopups)?.includes('archive-shared-task');\n      if (showShareWarningDialog) {\n        this.showConfirmArchiveExperiments(this.store, this.dialog, selectedExperiments);\n      } else {\n        this.store.dispatch(commonMenuActions.archiveSelectedExperiments({selectedEntities: selectedExperiments}));\n      }\n    }\n  }\n\n  toggleFullScreen(showFullScreen: boolean) {\n    if (showFullScreen) {\n      if (!this.selectedExperiment) {\n        this.router.navigateByUrl(`projects/${this.getProjectId()}/experiments/${this._experiment.id}/output/execution`);\n      } else {\n        if (window.location.pathname.includes('info-output')) {\n          const resultsPath = window.location.pathname.split('info-output/')[1];\n          this.router.navigateByUrl(`projects/${this.getProjectId()}/experiments/${this._experiment.id}/output/${resultsPath}`);\n        } else {\n          const parts = this.router.url.split('/');\n          parts.splice(5, 0, 'output');\n          this.router.navigateByUrl(parts.join('/'));\n        }\n      }\n    } else {\n      const part = this.route.firstChild.routeConfig.path;\n      if (['log', 'metrics/scalar', 'metrics/plots', 'debugImages'].includes(part)) {\n        this.router.navigateByUrl(`projects/${this.getProjectId()}/experiments/${this._experiment.id}/info-output/${part}`);\n      } else {\n        this.router.navigateByUrl(`projects/${this.getProjectId()}/experiments/${this._experiment.id}/${part}`);\n      }\n    }\n  }\n\n  enqueuePopup() {\n    const selectedExperiments = this.selectedExperiments ? selectionDisabledEnqueue(this.selectedExperiments).selectedFiltered : [this._experiment];\n\n    const selectQueueDialog: MatDialogRef<SelectQueueComponent, { confirmed: boolean; queue: Queue }> =\n      this.dialog.open(SelectQueueComponent, {\n        data: {taskIds: selectedExperiments.map(exp => exp.id), reference: selectedExperiments[0].name}\n      });\n\n    selectQueueDialog.afterClosed().pipe(withLatestFrom(this.store.select(selectNeverShowPopups))).subscribe(([res, neverShowAgainPopups]) => {\n      if (res && res.confirmed) {\n        this.enqueueExperiment(res.queue, selectedExperiments);\n        this.blTaskService.setPreviouslyUsedQueue(res.queue);\n        if (res.queue.workers.length === 0 && (!neverShowAgainPopups.includes('orphanedQueue'))) {\n          const orphanedQueueDialog: MatDialogRef<WelcomeMessageComponent> = this.dialog.open(WelcomeMessageComponent, {\n            data: {\n              queue: res.queue,\n              step: 2\n            }\n          });\n          orphanedQueueDialog.afterClosed().subscribe((doNotShowAgain) => {\n            if (doNotShowAgain) {\n              this.store.dispatch(neverShowPopupAgain({popupId: 'orphanedQueue'}));\n            }\n          });\n        }\n      }\n    });\n  }\n\n  dequeuePopup() {\n    const selectedExperiments = this.selectedExperiments ? selectionDisabledDequeue(this.selectedExperiments).selectedFiltered : [this._experiment];\n\n    const getBody = (queueName: string) => `<b>${selectedExperiments.length === 1 ? htmlTextShorte(this._experiment.name) : selectedExperiments.length + 'experiments'}</b> will be removed from the ${queueName ? '<b>' + queueName + '</b> ' : ''}execution queue.`;\n    this.store.dispatch(new GetQueuesForEnqueue());\n    const confirmDialogRef = this.dialog.open(ConfirmDialogComponent, {\n      data: {\n        title: 'Dequeue Experiment',\n        body: getBody(null),\n        yes: 'Dequeue',\n        no: 'Cancel',\n        iconClass: 'i-alert',\n      }\n    });\n    confirmDialogRef.afterClosed().subscribe((confirmed) => {\n      if (confirmed) {\n        this.dequeueExperiment(selectedExperiments);\n      }\n    });\n    this.store.select(selectQueuesList)\n      .pipe(filter(qs => !!qs), take(2))\n      .subscribe((queues: Queue[]) => {\n        const queue = queues.find(q => q.entries.some(entry => (entry.task as any).id === this._experiment.id));\n        if (confirmDialogRef.componentInstance && queue) {\n          confirmDialogRef.componentInstance.body = getBody(queue.name);\n        }\n      });\n\n  }\n\n  private enqueueExperiment(queue, selectedExperiments) {\n    this.store.dispatch(commonMenuActions.enqueueClicked({selectedEntities: selectedExperiments, queue}));\n  }\n\n  private dequeueExperiment(selectedExperiments) {\n    this.store.dispatch(commonMenuActions.dequeueClicked({selectedEntities: selectedExperiments}));\n  }\n\n  public enqueueDequeueDisabled() {\n    return !(this.blTaskService.canEnqueue(this._experiment as any) || this.blTaskService.canDequeue(this._experiment as any));\n  }\n\n  public resetPopup() {\n    const selectedExperiments = this.selectedExperiments ? selectionDisabledReset(this.selectedExperiments).selectedFiltered : [this._experiment];\n    const devWarning: boolean = selectedExperiments.some(exp => isDevelopment(exp));\n    // const devWarning: boolean = isDevelopment(this._experiment);\n    const body = `<b>${selectedExperiments.length === 1 ? htmlTextShorte(selectedExperiments[0]?.name || '') : selectedExperiments.length + ' experiments'}</b>\nwill be reset.<br>\nResetting an experiment deletes all of its data, including statistics, debug samples, logs, and temporary models.` +\n      (devWarning ? `<br><br><b>Note: resetting a DEV experiment</b> Any subsequent runs of the experiment will overwrite any changes made to it in the Web-App.<br>\nTo avoid this, <b>clone the experiment</b> and work with the cloned experiment.` : '');\n    const confirmDialogRef = this.dialog.open(ConfirmDialogComponent, {\n      data: {\n        title: 'RESET EXPERIMENTS',\n        body,\n        yes: 'Reset',\n        no: 'Cancel',\n        iconClass: 'i-alert',\n      }\n    });\n    confirmDialogRef.afterClosed().subscribe((confirmed) => {\n      if (confirmed) {\n        this.resetExperiment(selectedExperiments);\n      }\n    });\n  }\n\n  private resetExperiment(selectedExperiments) {\n    this.store.dispatch(commonMenuActions.resetClicked({selectedEntities: selectedExperiments}));\n  }\n\n  public stopPopup() {\n    const selectedExperiments = this.selectedExperiments ? selectionDisabledAbort(this.selectedExperiments).selectedFiltered : [this._experiment];\n\n    const confirmDialogRef = this.dialog.open(ConfirmDialogComponent, {\n      data: {\n        title: 'ABORT',\n        body: `<b>${selectedExperiments.length === 1 ? htmlTextShorte(selectedExperiments[0]?.name || '') : selectedExperiments.length + ' experiments'}</b>\n will be stopped and additional model updates will not be allowed.<br>\n                `,\n        yes: 'Abort',\n        no: 'Cancel',\n        iconClass: 'al-icon al-ico-archive al-color',\n      }\n    });\n    confirmDialogRef.afterClosed().subscribe((confirmed) => {\n      if (confirmed) {\n        this.stopExperiment(selectedExperiments);\n      }\n    });\n  }\n\n  stopExperiment(selectedExperiments) {\n    this.store.dispatch(commonMenuActions.stopClicked({selectedEntities: selectedExperiments}));\n  }\n\n\n  public publishPopup() {\n    const selectedExperiments = this.selectedExperiments ? selectionDisabledPublishExperiments(this.selectedExperiments).selectedFiltered : [this._experiment];\n    const publishPopupBody = `<b>${selectedExperiments.length === 1 ? htmlTextShorte(selectedExperiments[0]?.name || '') : selectedExperiments.length + ' experiments'}</b>\n status will be set to Published.<br><br>\n Published experiments are read-only and cannot be reset. The experiment's output, including models will also be published so that other experiments can use it.`;\n\n    const confirmDialogRef = this.dialog.open(ConfirmDialogComponent, {\n      data: {\n        title: 'PUBLISH EXPERIMENTS',\n        body: publishPopupBody,\n        yes: 'Publish',\n        no: 'Cancel',\n        iconClass: 'd-block fas fa-cloud-upload-alt fa-7x w-auto',\n      }\n    });\n    confirmDialogRef.afterClosed().subscribe((confirmed) => {\n      if (confirmed) {\n        this.publishExperiment(selectedExperiments);\n      }\n    });\n  }\n\n  publishExperiment(selectedExperiments) {\n    this.store.dispatch(commonMenuActions.publishClicked({selectedEntities: selectedExperiments}));\n  }\n\n  shareExperimentPopup() {\n    this.dialog.open(ShareDialogComponent, {\n      data: {\n        title: 'SHARE EXPERIMENT PUBLICLY',\n        link: `${window.location.origin}/projects/${this._experiment.project.id}/experiments/${this._experiment.id}/output/execution`,\n        alreadyShared: this._experiment?.system_tags.includes('shared'),\n        task: this._experiment?.id\n      }\n    });\n  }\n\n  public moveToProjectPopup() {\n    const selectedExperiments = this.selectedExperiments ? selectionDisabledMoveTo(this.selectedExperiments).selectedFiltered : [this._experiment];\n    const currentProjects = Array.from(new Set(selectedExperiments.map(exp => exp.project?.id).filter(p => p)));\n    const dialog = this.dialog.open(ChangeProjectDialogComponent, {\n      data: {\n        currentProjects: currentProjects.length > 0 ? currentProjects : [this.getProjectId()],\n        defaultProject: get('project.id', this._experiment),\n        reference: selectedExperiments.length > 1 ? selectedExperiments : selectedExperiments[0]?.name,\n        type: 'experiment'\n      }\n    });\n    dialog.afterClosed().pipe(filter(project => !!project)).subscribe(project => {\n      this.moveToProjectClicked(project, selectedExperiments);\n    });\n  }\n\n  moveToProjectClicked(project, selectedExperiments) {\n    this.store.dispatch(commonMenuActions.changeProjectRequested({\n      selectedEntities: selectedExperiments,\n      project: project\n    }));\n  }\n\n  viewWorkerClicked() {\n    this.router.navigateByUrl('/workers-and-queues/workers');\n  }\n\n  manageQueueClicked() {\n    this.store.dispatch(commonMenuActions.navigateToQueue({experimentId: this._experiment?.id}));\n  }\n\n  clonePopup() {\n    const confirmDialogRef = this.dialog.open(CloneDialogComponent, {\n      data: {\n        type: 'Experiment',\n        defaultProject: this._experiment?.project?.id,\n        defaultName: this._experiment.name\n      }\n    });\n\n    confirmDialogRef.afterClosed().pipe(\n      filter(res => !!res),\n      take(1)\n    ).subscribe((res: CloneForm) => {\n      this.cloneExperiment(res);\n    });\n  }\n\n  cloneExperiment(cloneData) {\n    this.store.dispatch(new commonMenuActions.CloneExperimentClicked({\n      originExperiment: this._experiment,\n      cloneData: {\n        ...cloneData,\n        project: cloneData.project.value,\n        newProjectName: cloneData.project.value ? undefined : cloneData.project.label\n      }\n    }));\n  }\n\n  deleteExperimentPopup() {\n    const confirmDialogRef = this.dialog.open(CommonDeleteDialogComponent, {\n      data: {\n        entity: this._experiment,\n        numSelected: this.numSelected,\n        entityType: EntityTypeEnum.experiment,\n        useCurrentEntity: this.activateFromMenuButton\n      },\n      width: '600px',\n      disableClose: true\n    });\n    confirmDialogRef.afterClosed().subscribe((confirmed) => {\n      if (confirmed) {\n        this.store.dispatch(experimentsActions.setSelectedExperiments({experiments: []}));\n        this.store.dispatch(new SetExperiment(null));\n        this.store.dispatch(experimentsActions.getExperiments());\n        this.store.dispatch(new DeactivateEdit());\n        if (this.activateFromMenuButton || this.selectedExperiments.map(e => e.id).includes(this.selectedExperiment?.id)) {\n          window.setTimeout(() => this.router.navigate([`projects/${this.getProjectId()}/experiments`], {queryParamsHandling: 'preserve'}));\n        }\n      }\n    });\n  }\n\n  showConfirmArchiveExperiments(store: Store, dialog: MatDialog, selectedExperiments: ISelectedExperiment[]): void {\n    const confirmDialogRef = dialog.open(ConfirmDialogComponent, {\n      data: {\n        title: 'ARCHIVE A PUBLICLY SHARED TASK',\n        body: `This task is accessible through a public access link.\n            Archiving will disable public access`,\n        yes: 'OK',\n        no: 'Cancel',\n        iconClass: 'al-icon al-ico-archive al-color',\n        showNeverShowAgain: true\n      }\n    });\n    confirmDialogRef.afterClosed().subscribe((confirmed) => {\n      if (confirmed) {\n        store.dispatch(archiveSelectedExperiments({selectedEntities: selectedExperiments}));\n        if (confirmed.neverShowAgain) {\n          store.dispatch(neverShowPopupAgain({popupId: 'archive-shared-task'}));\n        }\n      }\n    });\n  }\n\n\n  setMenuOpenStatus(status: boolean) {\n    this.open = status;\n  }\n\n\n  stopAllChildrenPopup() {\n    let stopAllChildrenPopup;\n    const selectedExperiments = this.selectedExperiments ? selectionDisabledAbortAllChildren(this.selectedExperiments).selectedFiltered : [this._experiment];\n    const shouldBeAbortedTasksSub = this.store.select(selectAllRunningTasksChildrenForAbort).subscribe((shouldBeAbortedTasks) => {\n      if (!!shouldBeAbortedTasks) {\n        stopAllChildrenPopup = this.dialog.open(AbortAllChildrenDialogComponent, {\n          data: {tasks: selectedExperiments, shouldBeAbortedTasks}\n        });\n        stopAllChildrenPopup.afterClosed().subscribe((confirmed) => {\n          if (confirmed) {\n            this.store.dispatch(commonMenuActions.stopClicked({selectedEntities: confirmed.shouldBeAbortedTasks}));\n          }\n          shouldBeAbortedTasksSub.unsubscribe();\n          this.store.dispatch(commonMenuActions.setAllTasksChildren({experiments: null}));\n        });\n      }\n    });\n    this.store.dispatch(getAllTasksChildren({experiments: selectedExperiments.map(exp => exp.id)}));\n  }\n}\n","<div [ngClass]=\"showIcon && status\" class=\"d-flex align-items-center w-100\">\n  <i *ngIf=\"showIcon\" class=\"icon xs\" [class]=\"'i-'+ status\" ></i>\n  <div class=\" ellipsis label\" *ngIf=\"showLabel\">{{EXPERIMENTS_STATUS_LABELS[status]}}</div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {EXPERIMENTS_STATUS_LABELS} from '../../../../../features/experiments/shared/experiments.const';\n\n@Component({\n  selector   : 'sm-experiment-status-icon-label',\n  templateUrl: './experiment-status-icon-label.component.html',\n  styleUrls  : ['./experiment-status-icon-label.component.scss']\n})\nexport class ExperimentStatusIconLabelComponent implements OnInit {\n  @Input() showLabel               = true;\n  @Input() showIcon                = true;\n  @Input() status;\n  @Input() type;\n  public EXPERIMENTS_STATUS_LABELS = EXPERIMENTS_STATUS_LABELS;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n}\n","import {Action} from '@ngrx/store';\nimport {Queue} from '../../../../../business-logic/model/queues/queue';\nimport {Task} from '../../../../../business-logic/model/tasks/task';\n\nexport const SELECT_QUEUE_PREFIX = 'SELECT_QUEUE_';\n\nexport const GET_QUEUES_FOR_ENQUEUE = SELECT_QUEUE_PREFIX + 'GET_QUEUES_FOR_ENQUEUE';\nexport const GET_TASK_FOR_ENQUEUE = SELECT_QUEUE_PREFIX + 'GET_TASK_FOR_ENQUEUE';\nexport const SET_TASK_FOR_ENQUEUE = SELECT_QUEUE_PREFIX + 'SET_TASK_FOR_ENQUEUE';\nexport const SET_QUEUES_FOR_ENQUEUE = SELECT_QUEUE_PREFIX + 'SET_QUEUES_FOR_ENQUEUE';\n\nexport class GetQueuesForEnqueue implements Action {\n  readonly type = GET_QUEUES_FOR_ENQUEUE;\n}\n\nexport class GetTaskForEnqueue implements Action {\n  readonly type = GET_TASK_FOR_ENQUEUE;\n  public payload: { taskIds: string[] };\n\n  constructor(taskIds: string[]) {\n    this.payload = {taskIds};\n  }\n}\n\nexport class SetTaskForEnqueue implements Action {\n  readonly type = SET_TASK_FOR_ENQUEUE;\n  public payload: { tasks: Task[] };\n\n  constructor(tasks: Task[]) {\n    this.payload = {tasks};\n  }\n}\n\n\nexport class SetQueuesForEnqueue implements Action {\n  readonly type = SET_QUEUES_FOR_ENQUEUE;\n  public payload: { queues: Array<Queue> };\n\n  constructor(queues: Array<Queue>) {\n    this.payload = {queues};\n  }\n}\n","<sm-dialog-template [closeOnX]=\"false\" (xClicked)=\"closeDialog(false)\" header=\"Enqueue Experiment\" iconClass=\"al-color blue-300 al-ico-enqueue\">\n  <ng-form #enqueueForm=\"ngForm\" class=\"d-flex flex-column light-theme\">\n    <p *ngIf=\"reference\">\n      <b [smTooltip]=\"reference.length > 80 ? reference : undefined\">{{reference.length > 80 ? (reference | slice:0:77) + '...' : reference }}</b>\n      will be scheduled for execution through the selected queue.\n    </p>\n\n    <p class=\"mt-4 mb-4 text-danger enqueue-warning\" *ngIf=\"enqueueWarning$ | async\">\n      <b>Note: Some experiments seems to not contain any executable code.\n        <br>If enqueued to run, they might produce no results.</b>\n    </p>\n    <mat-form-field appearance=\"outline\" class=\"w-100\">\n      <mat-label>Queue</mat-label>\n      <mat-select [(ngModel)]=\"selectedQueue\" name=\"queue\" panelClass=\"light-theme\">\n        <mat-option *ngFor=\"let queue of queues\" [value]=\"queue\">\n          {{queue.name}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </ng-form>\n  <div class=\"buttons\">\n    <button (click)=\"closeDialog(false)\" class=\"btn btn-outline-neon\">\n      CANCEL\n    </button>\n    <button (click)=\"closeDialog(true)\" class=\"btn btn-neon yes-button\" [disabled]=\"enqueueForm.invalid\">\n      ENQUEUE\n    </button>\n  </div>\n</sm-dialog-template>\n","import {Component, Inject, OnDestroy, OnInit} from '@angular/core';\nimport {MatDialogRef, MAT_DIALOG_DATA} from '@angular/material/dialog';\nimport {Store} from '@ngrx/store';\nimport {GetQueuesForEnqueue, GetTaskForEnqueue, SetTaskForEnqueue} from './select-queue.actions';\nimport {selectQueuesList, selectTaskForEnqueue} from './select-queue.reducer';\nimport {Queue} from '../../../../../business-logic/model/queues/queue';\nimport {ConfirmDialogComponent} from '../../../../shared/ui-components/overlay/confirm-dialog/confirm-dialog.component';\nimport {BlTasksService} from '../../../../../business-logic/services/tasks.service';\nimport {filter} from 'rxjs/operators';\nimport {Subscription} from 'rxjs';\n\n@Component({\n  selector: 'sm-select-queue',\n  templateUrl: './select-queue.component.html',\n  styleUrls: ['./select-queue.component.scss']\n})\nexport class SelectQueueComponent implements OnInit, OnDestroy {\n  public queues: Array<Queue>;\n  public selectedQueue: Queue;\n  public queues$ = this.store.select(selectQueuesList);\n  public tasks$ = this.store.select(selectTaskForEnqueue);\n  public enqueueWarning$ = this.tasks$.pipe(filter(tasks => tasks?.some(task => !(task && task.script && (task.script.diff || (task.script.repository && task.script.entry_point))))));\n  public reference: string;\n  private queuesSub: Subscription;\n\n  constructor(\n    public dialogRef: MatDialogRef<ConfirmDialogComponent>,\n    private store: Store<any>, private blTaskService: BlTasksService,\n    @Inject(MAT_DIALOG_DATA) public data: {\n      taskIds?: string[];\n      reference?: string;\n    }\n  ) {\n\n    if (data && data.taskIds?.length > 0) {\n      this.store.dispatch(new GetTaskForEnqueue(data.taskIds));\n      this.reference = data.taskIds.length < 2 ?  data.reference : `${data.taskIds.length} experiments `;\n    }\n    this.queuesSub = this.queues$.subscribe(queues => {\n      if (queues) {\n        this.queues = queues;\n        this.selectedQueue = this.blTaskService.getDefaultQueue(this.queues) || queues[0];\n      }\n    });\n  }\n\n  ngOnInit() {\n    this.store.dispatch(new GetQueuesForEnqueue());\n  }\n\n  closeDialog(confirmed) {\n    this.dialogRef.close({confirmed, queue: this.selectedQueue});\n  }\n\n  ngOnDestroy(): void {\n    this.queuesSub.unsubscribe();\n    this.store.dispatch(new SetTaskForEnqueue(null));\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {Actions, Effect, ofType} from '@ngrx/effects';\nimport {Store} from '@ngrx/store';\nimport {mergeMap, map, switchMap} from 'rxjs/operators';\nimport {GetQueuesForEnqueue, GET_QUEUES_FOR_ENQUEUE, SetQueuesForEnqueue, GET_TASK_FOR_ENQUEUE, GetTaskForEnqueue, SetTaskForEnqueue} from './select-queue.actions';\nimport {ApiQueuesService} from '../../../../../business-logic/api-services/queues.service';\nimport {activeLoader} from '../../../../core/actions/layout.actions';\nimport {ApiTasksService} from '../../../../../business-logic/api-services/tasks.service';\n\n@Injectable()\nexport class SelectQueueEffects {\n\n  constructor(private actions$: Actions, private store: Store<any>, private apiQueues: ApiQueuesService, private tasksApi: ApiTasksService) {\n  }\n\n  @Effect()\n  activeLoader = this.actions$.pipe(\n    ofType(),\n    map((action: any) => activeLoader(action.type))\n  );\n\n  @Effect()\n  getQueuesForEnqueue$ = this.actions$.pipe(\n    ofType<GetQueuesForEnqueue>(GET_QUEUES_FOR_ENQUEUE),\n    switchMap(action => this.apiQueues.queuesGetAllEx({}).pipe(\n      mergeMap((res) => [new SetQueuesForEnqueue(res.queues)])\n      )\n    ));\n\n  @Effect()\n  getTaskForEnqueue$ = this.actions$.pipe(\n    ofType<GetTaskForEnqueue>(GET_TASK_FOR_ENQUEUE),\n    switchMap(action => this.tasksApi.tasksGetAllEx({id: action.payload.taskIds, only_fields: ['status', 'script.repository', 'script.entry_point', 'script.diff']}).pipe(\n      mergeMap((res) => [new SetTaskForEnqueue(res.tasks)])\n      )\n    ));\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {EffectsModule} from '@ngrx/effects';\nimport {StoreModule} from '@ngrx/store';\nimport {SelectQueueComponent} from './select-queue.component';\nimport {SelectQueueEffects} from './select-queue.effects';\nimport {selectQueueReducer} from './select-queue.reducer';\nimport {SMSharedModule} from '../../../../shared/shared.module';\nimport {FormsModule} from \"@angular/forms\";\n\n@NgModule({\n    imports: [\n        CommonModule,\n        SMSharedModule,\n        EffectsModule.forFeature([SelectQueueEffects]),\n        StoreModule.forFeature('selectQueue', selectQueueReducer),\n        FormsModule\n    ],\n  providers      : [],\n  declarations   : [SelectQueueComponent],\n  exports        : [SelectQueueComponent]\n})\nexport class SelectQueueModule {\n}\n","import {createFeatureSelector, createSelector} from '@ngrx/store';\nimport {SET_QUEUES_FOR_ENQUEUE, SET_TASK_FOR_ENQUEUE} from './select-queue.actions';\nimport {Queue} from '../../../../../business-logic/model/queues/queue';\nimport {Task} from '../../../../../business-logic/model/tasks/task';\n\nexport interface ISelectQueueState {\n  queues: Array<Queue>;\n  tasks: Task[];\n}\n\nconst selectQueueInitState: ISelectQueueState = {\n  queues: null,\n  tasks: null\n};\n\n\nexport function selectQueueReducer<ActionReducer>(state: ISelectQueueState = selectQueueInitState, action): ISelectQueueState {\n  switch (action.type) {\n    case SET_QUEUES_FOR_ENQUEUE:\n      return {...state, queues: action.payload.queues};\n    case SET_TASK_FOR_ENQUEUE:\n      return {...state, tasks: action.payload.task};\n    default:\n      return state;\n  }\n}\n\n\nexport const queues = createFeatureSelector<ISelectQueueState>('selectQueue');\nexport const selectQueuesList = createSelector(queues, (state) => state ? state.queues : []);\nexport const selectTaskForEnqueue = createSelector(queues, (state) => state ? state.tasks : []);\n\n","import {Injectable} from '@angular/core';\nimport {IExperimentInfo, ISelectedExperiment} from '../../../../features/experiments/shared/experiment-info.model';\nimport {TasksEditRequest} from '../../../../business-logic/model/tasks/tasksEditRequest';\nimport {get, getOr, isEqual} from 'lodash/fp';\nimport {IExecutionForm} from '../../../../features/experiments/shared/experiment-execution.model';\nimport {Execution} from '../../../../business-logic/model/tasks/execution';\nimport {IExperimentModelInfo} from '../common-experiment-model.model';\n\n\n@Injectable()\nexport class CommonExperimentConverterService {\n\n  constructor() {\n  }\n\n  convertCommonExperiment(experimentInfo: IExperimentInfo, selectedExperiment: IExperimentInfo, experimentInfoBeforeChange: IExperimentInfo): TasksEditRequest {\n    const convertedExperiment: TasksEditRequest = {\n      task: selectedExperiment.id,\n      type: selectedExperiment.type,\n    };\n    if (!isEqual(experimentInfo.name, experimentInfoBeforeChange.name)) {\n      convertedExperiment.name = experimentInfo.name;\n    }\n    if (!isEqual(experimentInfo.comment, experimentInfoBeforeChange.comment)) {\n      convertedExperiment.comment = experimentInfo.comment;\n    }\n    return convertedExperiment;\n  }\n\n  commonConvertExecution(execution: IExecutionForm, model: IExperimentModelInfo): Execution {\n    return {\n      framework : get('input.framework', model),\n      docker_cmd: get('docker_cmd', execution)\n    };\n  }\n}\n\n\n","import {Injectable} from '@angular/core';\nimport {IExperimentInfo} from '../../../../features/experiments/shared/experiment-info.model';\nimport {IExecutionForm, sourceTypesEnum} from '../../../../features/experiments/shared/experiment-execution.model';\nimport {get, getOr} from 'lodash/fp';\nimport {Execution} from '../../../../business-logic/model/tasks/execution';\nimport {Task} from '../../../../business-logic/model/tasks/task';\nimport {Script} from '../../../../business-logic/model/tasks/script';\nimport {IExperimentModelInfo} from '../common-experiment-model.model';\nimport {Store} from '@ngrx/store';\nimport {IExperimentsViewState} from '../../../../features/experiments/reducers/experiments-view.reducer';\nimport {selectActiveWorkspace} from '../../../core/reducers/users-reducer';\nimport {Observable, Subscription} from 'rxjs';\nimport {isExample, isSharedAndNotOwner} from '../../../shared/utils/shared-utils';\nimport {ITask} from '../../../../business-logic/model/al-task';\n\n@Injectable({providedIn: 'root'})\nexport class CommonExperimentReverterService {\n  private activeWorkSpace$: Observable<any>;\n  private activeWorkSpace: any;\n  private activeWorkSpaceSubscription: Subscription;\n\n  constructor(private store: Store<IExperimentsViewState>) {\n    this.activeWorkSpace$ = this.store.select(selectActiveWorkspace);\n    this.activeWorkSpaceSubscription = this.activeWorkSpace$.subscribe(activeWorkSpace => {\n      this.activeWorkSpace = activeWorkSpace;\n    });\n  }\n\n  public revertReadOnly(experiment): Task {\n    experiment.readOnly = isExample(experiment) || isSharedAndNotOwner(experiment, this.activeWorkSpace);\n    return experiment;\n  }\n\n  commonRevertExperiment(experiment: ITask): IExperimentInfo {\n    return {\n      id: experiment.id,\n      name: experiment.name,\n      comment: experiment.comment,\n      readonly: isExample(experiment) || isSharedAndNotOwner(experiment, this.activeWorkSpace),\n      execution: this.revertExecution(experiment),\n      model: this.revertModel(experiment),\n      hyperparams: this.revertHyperParams(experiment.hyperparams),\n      status: experiment.status,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      container: experiment.container || {image: '', setup_shell_script: '', arguments: ''}\n    };\n  }\n\n  revertHyperParams(hyperparams) {\n    if (!hyperparams) {\n      hyperparams = {};\n    }\n    if (!('properties' in hyperparams)) {\n      hyperparams['properties'] = {};\n    }\n    return hyperparams;\n  }\n\n\n  revertExecution(experiment: ITask): IExecutionForm {\n    return {\n      /* eslint-disable @typescript-eslint/naming-convention */\n      source: this.revertExecutionSource(experiment.script),\n      output: {\n        destination: get('destination', experiment.output) || '',\n        logLevel: 'basic'// TODO: should be enum from gencode.\n      },\n      requirements: experiment.script ? this.revertRequirements(experiment.script) : {pip: ''},\n      diff: get('diff', experiment.script) || '',\n      docker_cmd: get('docker_cmd', experiment.execution),\n      queue: experiment.execution?.queue,\n      container: experiment.container || {setup_shell_script: '', arguments: '', image: ''}\n      /* eslint-enable @typescript-eslint/naming-convention */\n    };\n  }\n\n  revertExecutionParameters(parameters: Execution['parameters']): Array<{ label: any; key: string }> {\n    return parameters ?\n      Object.entries(parameters).map(([key, val]) => ({label: val, key}))\n        .sort((p, c) => p.key < c.key ? -1 : 1) :\n      [];\n  }\n\n  revertExecutionSource(script: Task['script']): IExecutionForm['source'] {\n    return {\n      /* eslint-disable @typescript-eslint/naming-convention */\n      repository: get('repository', script) || '',\n      tag: get('tag', script) || '',\n      version_num: get('version_num', script) || '',\n      branch: get('branch', script) || '',\n      entry_point: get('entry_point', script) || '',\n      working_dir: get('working_dir', script) || '',\n      scriptType: this.revertScriptType(script)\n      /* eslint-enable @typescript-eslint/naming-convention */\n    };\n  }\n\n  revertScriptType(script: Task['script']) {\n    switch (true) {\n      case !!get('tag', script):\n        return sourceTypesEnum.Tag;\n      case !!get('version_num', script):\n        return sourceTypesEnum.VersionNum;\n      default:\n        return sourceTypesEnum.Branch;\n    }\n  }\n\n  revertModel(experiment: ITask): IExperimentModelInfo {\n    return {\n      input: experiment.models?.input?.map(modelEx => ({...modelEx.model, taskName: modelEx.name})) || [],\n      output: experiment.models?.output?.map(modelEx => ({...modelEx.model, taskName: modelEx.name})) || [],\n      artifacts: get('artifacts', experiment.execution) || []\n    };\n  }\n\n  private revertRequirements(script: Script) {\n    const pip = getOr([], 'requirements.pip', script);\n    return {\n      ...script.requirements,\n      pip: (Array.isArray(pip) ? pip.join('\\n') : pip) || ''\n    };\n  }\n\n}\n","import {IBreadcrumbsLink} from './breadcrumbs.component';\nimport {isExample} from '../../shared/utils/shared-utils';\n\nexport function prepareLinkData(crumb, supportsExamples = false): IBreadcrumbsLink {\n\n  const crumbName = crumb ? crumb.name : '';\n  const preparedName = (supportsExamples === true) ? addSuffixForExamples(crumb) : crumbName;\n  return crumb ? {name: preparedName, url: crumb.id} : {name: '', url: ''};\n}\n\nfunction addSuffixForExamples(crumb) {\n  if (!crumb?.name) {\n    return;\n  }\n  if (isExample(crumb) && crumb.id !== '*') {\n    return crumb.name + ' (Example)';\n  } else {\n    return crumb.name;\n  }\n}\n\nexport function formatStaticCrumb(crumb: string): IBreadcrumbsLink {\n  if (!crumb) {\n    return {url: null, name: null};\n  }\n  let name: string;\n  switch (crumb) {\n    case 'workers-and-queues':\n      name = 'Workers & Queues';\n      break;\n    case 'output':\n      name = 'Results';\n      break;\n    case 'compare-experiments':\n      name = 'Compare Experiments';\n      break;\n    case 'hyper-params':\n      name = 'Configuration';\n      break;\n    case 'general':\n      name = 'Info';\n      break;\n    case 'account-administration':\n      name = 'Access Controls';\n      break;\n    default:\n      name = crumb.charAt(0).toUpperCase() + crumb.slice(1);\n      break;\n  }\n  return {url: crumb, name};\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {SMSharedModule} from '../shared/shared.module';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {RouterModule} from '@angular/router';\nimport {ProjectContextNavbarComponent} from './project-context-navbar/project-context-navbar.component';\nimport {LoggedOutAlertComponent} from './logged-out-alert/logged-out-alert.component';\nimport {S3AccessDialogComponent} from './s3-access-dialog/s3-access-dialog.component';\nimport {S3AccessResolverComponent} from './s3-access-resolver/s3-access-resolver.component';\nimport {StoreModule} from '@ngrx/store';\nimport {LayoutReducer} from './layout.reducer';\nimport {ServerNotificationDialogContainerComponent} from './server-notification-dialog-container/server-notification-dialog-container.component';\nimport {BreadcrumbsComponent} from './breadcrumbs/breadcrumbs.component';\nimport {CommonSearchModule} from '../common-search/common-search.module';\nimport {HeaderComponent} from './header/header.component';\nimport { UiUpdateDialogComponent } from './ui-update-dialog/ui-update-dialog.component';\nimport {SharedModule} from '~/shared/shared.module';\nimport {TipOfTheDayModalComponent} from './tip-of-the-day-modal/tip-of-the-day-modal.component';\nimport {HeaderUserMenuActionsComponent} from '~/layout/header/header-user-menu-actions/header-user-menu-actions.component';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        SMSharedModule,\n        FormsModule,\n        ReactiveFormsModule,\n        CommonSearchModule,\n        RouterModule,\n        StoreModule.forFeature('layout', LayoutReducer),\n        SharedModule,\n    ],\n  declarations: [\n    HeaderComponent, BreadcrumbsComponent, ProjectContextNavbarComponent, LoggedOutAlertComponent,\n    S3AccessResolverComponent, S3AccessDialogComponent, ServerNotificationDialogContainerComponent,\n    UiUpdateDialogComponent, TipOfTheDayModalComponent, HeaderUserMenuActionsComponent\n  ],\n  exports: [HeaderComponent, BreadcrumbsComponent, ProjectContextNavbarComponent, LoggedOutAlertComponent, S3AccessResolverComponent, S3AccessDialogComponent, ServerNotificationDialogContainerComponent, UiUpdateDialogComponent]\n})\nexport class CommonLayoutModule {\n}\n","import {selectBreadcrumbsStringsBase} from '../../layout/breadcrumbs/breadcrumbs.utils';\n\n\nexport const selectBreadcrumbsStrings = selectBreadcrumbsStringsBase;\n\nexport function LayoutReducer(state = {}, action) {\n}\n\n\n","<div class=\"navbar-header-container\">\n  <div class=\"nav-bar-items-container\">\n    <ng-container *ngFor=\"let route of routes; trackBy:trackByFn\">\n      <sm-navbar-item\n        *smCheckPermission=\"route.permissionCheck\"\n        direction=\"top\"\n        [header]=\"route.header\"\n        [active]=\"activeFeature === route.header\"\n        (click)=\"tabClicked(route.header)\"\n        [subHeader]=\"archivedMode && route.subHeader\"\n      >\n      </sm-navbar-item>\n    </ng-container>\n  </div>\n</div>\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {PROJECT_ROUTES, ProjectRoute} from '~/features/projects/projects.consts';\n\n@Component({\n  selector   : 'sm-project-context-navbar',\n  templateUrl: './project-context-navbar.component.html',\n  styleUrls  : ['./project-context-navbar.component.scss']\n})\nexport class ProjectContextNavbarComponent {\n  @Output() backToProjectClicked = new EventEmitter();\n  @Output() onNameChanged        = new EventEmitter();\n\n  @Input() activeFeature: string;\n  @Input() archivedMode: boolean;\n\n  public readonly routes = this.projectId === '*' ? PROJECT_ROUTES.slice(1) : PROJECT_ROUTES;\n  get projectId() {\n    return this.activatedRoute.parent.snapshot.params.projectId;\n  }\n\n  constructor(private router: Router,\n              public activatedRoute: ActivatedRoute) {\n  }\n\n  public tabClicked(feature) {\n    this.router.navigate([`projects/${this.projectId}/${feature}`]);\n  }\n\n  public onBackToProjectClicked() {\n    this.backToProjectClicked.emit();\n  }\n\n  trackByFn(index, route: ProjectRoute) {\n    return route.header;\n  }\n}\n","import {createReducer, createSelector, on, ReducerTypes} from '@ngrx/store';\nimport {setTOU} from './login.actions';\n\nexport interface LoginState {\n  inviteId: string;\n  error: string;\n\n  terms: string;\n  crmForm: any;\n}\n\nexport const initLogin: LoginState = {\n  inviteId: null,\n  error: null,\n  terms: '',\n  crmForm: null\n};\n\nexport const login = state => state.login as LoginState;\n\nexport const selectInviteId = createSelector(login, state => state?.inviteId);\nexport const selectLoginError = createSelector(login, state => state?.error);\nexport const selectTerms = createSelector(login, state => state.terms);\nexport const selectCrmForm = createSelector(login, state => state.crmForm);\n\nexport const loginReducers = [\n  on(setTOU, (state, action) => ({...state, terms: action.terms})),\n] as ReducerTypes<LoginState, any>[];\n","import {createAction, props} from '@ngrx/store';\nimport {User} from '../../business-logic/model/users/user';\n\n\nexport const setUserLoginState = createAction(\n  '[login] set user login state',\n  props<{ user: User; inviteId: string; crmForm: any }>()\n);\n\nexport const getTOU = createAction('[login] get TOU');\n\nexport const setTOU = createAction(\n  '[login] set TOU',\n  props<{terms: string}>()\n);\n","import {Action, createAction, props} from '@ngrx/store';\nimport {Model} from '../../../business-logic/model/models/model';\nimport {SelectedModel, TableModel} from '../shared/models.model';\nimport {ModelsUpdateRequest} from '../../../business-logic/model/models/modelsUpdateRequest';\n\n\nconst MODELS_PREFIX = 'MODELS_INFO_';\n\n\n// COMMANDS:\nexport const GET_MODEL_INFO             = MODELS_PREFIX + 'GET_MODEL_INFO';\nexport const REFRESH_MODEL_INFO         = MODELS_PREFIX + 'REFRESH_MODEL_INFO';\nexport const SET_MODEL                  = MODELS_PREFIX + 'SET_MODEL';\nexport const ACTIVATE_MODEL_EDIT        = MODELS_PREFIX + 'ACTIVATE_EDIT';\nexport const MODEL_CANCEL_EDIT          = MODELS_PREFIX + 'MODEL_CANCEL_EDIT';\nexport const SET_IS_MODEL_SAVING        = MODELS_PREFIX + 'SET_IS_MODEL_SAVING';\n\n\n// EVENTS:\nexport const MODEL_DETAILS_UPDATED      = MODELS_PREFIX + 'MODEL_DETAILS_UPDATED';\nexport const EDIT_MODEL                 = MODELS_PREFIX + 'EDIT_MODEL';\n\n\nexport class GetModelInfo implements Action {\n  readonly type = GET_MODEL_INFO;\n\n  constructor(public payload: Model['id']) {\n  }\n}\nexport class ActivateModelEdit implements Action {\n  readonly type = ACTIVATE_MODEL_EDIT;\n\n  constructor(public payload: string) {\n  }\n}\nexport class CancelModelEdit implements Action {\n  readonly type = MODEL_CANCEL_EDIT;\n\n  constructor() {\n  }\n}\nexport class RefreshModelInfo implements Action {\n  readonly type = REFRESH_MODEL_INFO;\n\n  constructor(public payload: Model['id']) {\n  }\n}\n\nexport class SetModel implements Action {\n  readonly type = SET_MODEL;\n\n  constructor(public payload: SelectedModel) {\n  }\n}\nexport class EditModel implements Action {\n  readonly type = EDIT_MODEL;\n\n  constructor(public payload: SelectedModel) {\n  }\n}\nexport class SetIsModelSaving implements Action {\n  readonly type = SET_IS_MODEL_SAVING;\n\n  constructor(public payload: boolean) {\n  }\n}\nexport class ModelDetailsUpdated implements Action {\n  readonly type = MODEL_DETAILS_UPDATED;\n\n  constructor(public payload: { id: Model['id']; changes: Partial<ModelsUpdateRequest> }) {\n  }\n}\n\nexport const updateModelDetails = createAction(\n  MODELS_PREFIX + '[update model details]',\n  props<{id: string; changes: Partial<ModelsUpdateRequest>}>()\n);\n","import {Action, createAction, props} from '@ngrx/store';\nimport {SelectedModel} from '../shared/models.model';\nimport {Project} from '../../../business-logic/model/projects/project';\nimport {ModelsPublishManyResponse} from '../../../business-logic/model/models/modelsPublishManyResponse';\nimport {ModelsArchiveManyResponse} from '../../../business-logic/model/models/modelsArchiveManyResponse';\nimport {ModelsDeleteManyResponse} from '../../../business-logic/model/models/modelsDeleteManyResponse';\n\nconst MODELS_PREFIX = 'MODELS_MENU_';\n\nexport const publishModelClicked = createAction(\n  MODELS_PREFIX + '[publish model]',\n  props<{selectedModels: SelectedModel[]}>()\n);\n\nexport const changeProjectRequested = createAction(\n  MODELS_PREFIX + '[change project requested]',\n  props<{ selectedModels: SelectedModel[]; project: Project }>()\n);\n\nexport const addTag = createAction(\n  MODELS_PREFIX + '[add tag to model]',\n  props<{models: SelectedModel[]; tag: string}>()\n);\n\nexport const removeTag = createAction(\n  MODELS_PREFIX + '[remove tag from model]',\n  props<{models: SelectedModel[]; tag: string}>()\n);\n\nexport const archivedSelectedModels = createAction(\n  MODELS_PREFIX + '[archive selected models]',\n  props<{selectedEntities: SelectedModel[],  skipUndo: boolean }>()\n);\n\nexport const restoreSelectedModels = createAction(\n  MODELS_PREFIX + '[restore selected models]',\n  props<{selectedEntities: SelectedModel[],  skipUndo: boolean }>()\n);\n\n","import {createAction, props} from '@ngrx/store';\nimport {ISmCol} from '../../shared/ui-components/data/table/table.consts';\nimport {SelectedModel} from '../shared/models.model';\nimport {TableFilter} from '../../shared/utils/tableParamEncode';\nimport {User} from '~/business-logic/model/users/user';\nimport {SortMeta} from 'primeng/api';\nimport {CountAvailableAndIsDisableSelectedFiltered} from '@common/shared/entity-page/items.utils';\nconst MODELS_PREFIX = 'MODELS_';\n\nexport const fetchModelsRequested = createAction(MODELS_PREFIX + '[fetch models requested]');\n\nexport const refreshModels = createAction(\n  MODELS_PREFIX + '[refresh models]',\n  props<{ hideLoader: boolean; autoRefresh: boolean }>()\n);\n\nexport const getNextModels = createAction(MODELS_PREFIX + '[get next model]');\nexport const getNextModelsWithPageSize = createAction(MODELS_PREFIX + '[get next model with page size]',\n  props<{pageSize: number}>());\nexport const setModels = createAction(\n  MODELS_PREFIX + '[set models]',\n  props<{models: SelectedModel[]}>()\n);\n\nexport const setModelsInPlace = createAction(\n  MODELS_PREFIX + '[set models in place]',\n  props<{ models: SelectedModel[] }>()\n);\n\nexport const setNoMoreModels = createAction(\n  MODELS_PREFIX + '[set no more models]',\n  props<{ payload: boolean }>()\n);\n\nexport const toggleColHidden = createAction(\n  MODELS_PREFIX + 'TOGGLE_COL_HIDDEN',\n  props<{columnId: string; projectId: string}>()\n);\n\nexport const getTags = createAction(\n  MODELS_PREFIX + 'GET_TAGS');\n\nexport const setTags = createAction(\n  MODELS_PREFIX + 'SET_TAGS',\n  props<{ tags: string[] }>()\n);\n\nexport const setHiddenCols = createAction(\n  MODELS_PREFIX + 'SET_HIDDEN_COLS',\n  props<{ hiddenCols: { [key: string]: boolean } }>()\n);\n\nexport const setColsOrderForProject = createAction(\n  MODELS_PREFIX + 'SET_COLS_ORDER',\n  props<{ cols: string[]; project: string; fromUrl?: boolean }>()\n);\n\nexport const setUsers = createAction(\n  MODELS_PREFIX + 'SET_USERS',\n  props<{ users: User[] }>()\n);\n\nexport const getUsers = createAction(MODELS_PREFIX + 'GET_USERS');\n\nexport const setFrameworks = createAction(\n  MODELS_PREFIX + 'SET_FRAMEWORKS',\n  props<{ frameworks: string[] }>()\n);\n\nexport const getFrameworks = createAction(\n  MODELS_PREFIX + 'GET_FRAMEWORKS');\n\nexport const getFilteredUsers = createAction(\n  MODELS_PREFIX + 'GET_FILTERED_USERS');\n\nexport const addModels = createAction(\n  MODELS_PREFIX + '[add models]',\n  props<{models: SelectedModel[] }>()\n);\n\nexport const removeModels = createAction(\n  MODELS_PREFIX + '[remove models]',\n  props<{modelIds: string[] }>()\n);\n\nexport const updateModel = createAction(\n  MODELS_PREFIX + '[update model]',\n  props<{id: SelectedModel['id']; changes: Partial<SelectedModel>}>()\n);\n\nexport const setSelectedModels = createAction(\n  MODELS_PREFIX + '[set selected models]',\n  props<{models: SelectedModel[] }>()\n);\n\nexport const setSelectedModel = createAction(\n  MODELS_PREFIX + '[set selected model]',\n  props<{model: SelectedModel }>()\n);\n\nexport const selectAllModels = createAction(\n  MODELS_PREFIX + ' [select all models]',\n  props<{filtered: boolean}>()\n);\n\nexport const tableSortChanged = createAction(\n  MODELS_PREFIX + 'TABLE_SORT_CHANGED',\n  props<{ isShift: boolean; colId: ISmCol['id'] }>()\n);\n\nexport const setTableSort = createAction(\n  MODELS_PREFIX + 'SET_TABLE_SORT',\n  props<{orders: SortMeta[]; projectId: string}>()\n);\n\nexport const tableFilterChanged= createAction(\n  MODELS_PREFIX + '[table filters changed]',\n  props<{filter: TableFilter; projectId: string}>()\n);\n\nexport const setTableFilters = createAction(\n  MODELS_PREFIX + 'SET_TABLE_FILTERS',\n  props<{filters: TableFilter[]; projectId: string}>()\n);\n\nexport const setColumnWidth = createAction(\n  MODELS_PREFIX + ' [set column width]',\n  props<{projectId: string; columnId: string; widthPx: number}>()\n);\n\n\nexport const modelSelectionChanged = createAction(\n  MODELS_PREFIX + '[model selection changed]',\n  props<{ model: SelectedModel; project?: string }>()\n);\n\nexport const showSelectedOnly = createAction(\n  MODELS_PREFIX + '[show selected only]',\n  props<{ active: boolean; projectId: string }>()\n);\n\nexport const globalFilterChanged = createAction(\n  MODELS_PREFIX + 'GLOBAL_FILTER_CHANGED',\n  props<{query: string; regExp?: boolean}>()\n);\n\nexport const resetGlobalFilter = createAction(MODELS_PREFIX + 'RESET_GLOBAL_FILTER');\nexport const resetState = createAction(MODELS_PREFIX + '[reset state]');\n\nexport const setCurrentScrollId = createAction(\n  MODELS_PREFIX + ' [set current scrollId]',\n  props<{scrollId: string}>()\n);\nexport const setArchive = createAction(\n  MODELS_PREFIX + 'SET_ARCHIVE',\n  props<{ archive: boolean }>()\n);\n\nexport const afterSetArchive = createAction(MODELS_PREFIX + 'AFTER_SET_ARCHIVE');\n\nexport const setSplitSize = createAction(MODELS_PREFIX + 'SET_SPLIT_SIZE', props<{ splitSize: number }>());\nexport const setSelectedModelsDisableAvailable = createAction(\n  MODELS_PREFIX + 'setSelectedModelsDisableAvailable',\n  props<{ selectedModelsDisableAvailable: Record<string, CountAvailableAndIsDisableSelectedFiltered> }>()\n);\n","import {TableModel} from './shared/models.model';\nimport {isExample} from '../shared/utils/shared-utils';\n\nexport function getSysTags(model: TableModel) {\n  return (model?.system_tags?.filter(tag => (tag !== 'archived') && (tag !== 'shared')) || []).concat(isExample(model) ? 'example' : []);\n}\n","import {ColHeaderTypeEnum, ISmCol} from '../shared/ui-components/data/table/table.consts';\nimport {MODELS_TABLE_COL_FIELDS} from './shared/models.const';\n\nexport type ModelWizardMethodsEnum = 'create' | 'edit' | 'clone' | 'extend';\nexport const WIZARD_METHODS = {\n  CREATE: 'create' as ModelWizardMethodsEnum,\n  CLONE : 'clone' as ModelWizardMethodsEnum,\n  EDIT  : 'edit' as ModelWizardMethodsEnum,\n  EXTEND: 'extend' as ModelWizardMethodsEnum,\n};\n\nexport type ModelsViewModesEnum = 'table' | 'tree';\nexport const MODELS_VIEW_MODES = {\n  TABLE: 'table' as ModelsViewModesEnum,\n  TREE : 'tree' as ModelsViewModesEnum,\n};\n\nexport const MODELS_PAGE_SIZE = 15;\nexport const MODELS_STORE_KEY = 'models';\n\nexport const MODELS_PREFIX_INFO = 'MODELS_INFO_';\nexport const MODELS_PREFIX_MENU = 'MODELS_MENU_';\nexport const MODELS_PREFIX_VIEW = 'MODELS_';\n\n\nexport const STATUS = {\n  PUBLISHED: 'Published',\n  DRAFT    : 'Draft'\n};\n\nexport const VIEWS = {\n  TREE : 'TREE',\n  TABLE: 'TABLE'\n};\n\nexport const ASC = 1;\nexport const DESC = -1;\nexport const MODELS_TABLE_COLS: ISmCol[] = [\n  {\n    id              : MODELS_TABLE_COL_FIELDS.SELECTED,\n    headerType      : ColHeaderTypeEnum.checkBox,\n    sortable        : false,\n    filterable      : false,\n    hidden          : false,\n    header          : '',\n    headerStyleClass: 'selected-col-header',\n    style           : {width: '70px', maxWidth: '70px'},\n    disableDrag     : true,\n    disablePointerEvents: true\n  },\n  {\n    id          : MODELS_TABLE_COL_FIELDS.FRAMEWORK,\n    headerType  : ColHeaderTypeEnum.sortFilter,\n    sortable    : true,\n    filterable  : true,\n    header      : 'FRAMEWORK',\n    style       : {width: '100px'},\n  },\n  {\n    id          : MODELS_TABLE_COL_FIELDS.NAME,\n    headerType  : ColHeaderTypeEnum.sortFilter,\n    sortable    : true,\n    header      : 'NAME',\n    style       : {width: '160px'},\n  },\n  {\n    id          : MODELS_TABLE_COL_FIELDS.TAGS,\n    headerType  : ColHeaderTypeEnum.sortFilter,\n    filterable  : true,\n    sortable    : false,\n    searchableFilter: true,\n    header      : 'TAGS',\n    style       : {width: '240px'},\n    excludeFilter: true,\n    andFilter: true,\n    columnExplain: 'Click to include tag. Click again to exclude.'\n  },\n  {\n    id          : MODELS_TABLE_COL_FIELDS.READY,\n    headerType  : ColHeaderTypeEnum.sortFilter,\n    sortable    : true,\n    filterable  : true,\n    header      : 'STATUS',\n    hidden      : false,\n    style       : {width: '135px'},\n  },\n  {\n    id          : MODELS_TABLE_COL_FIELDS.PROJECT,\n    header      : 'PROJECT',\n    style       : {width: '135px'}\n  },\n  {\n    id              : MODELS_TABLE_COL_FIELDS.USER,\n    headerType      : ColHeaderTypeEnum.sortFilter,\n    searchableFilter: true,\n    filterable      : true,\n    sortable        : false,\n    static          : true,\n    header          : 'USER',\n    style           : {width: '240px'}\n  },\n  {\n    id        : MODELS_TABLE_COL_FIELDS.TASK,\n    headerType: ColHeaderTypeEnum.title,\n    sortable  : false,\n    header    : 'TASK',\n    style     : {width: '240px'}\n  },\n  {\n    id        : MODELS_TABLE_COL_FIELDS.LAST_UPDATE,\n    headerType: ColHeaderTypeEnum.sortFilter,\n    sortable  : true,\n    header    : 'UPDATED',\n    label     : 'Updated',\n    style     : {width: '120px'}\n  },\n  {\n    id        : MODELS_TABLE_COL_FIELDS.COMMENT,\n    headerType: ColHeaderTypeEnum.sortFilter,\n    sortable  : true,\n    hidden    : true,\n    header    : 'DESCRIPTION',\n    style     : {width: '240px'}\n  },\n];\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {ISmCol} from '../../../shared/ui-components/data/table/table.consts';\n\n@Component({\n  selector   : 'sm-model-custom-cols-menu',\n  templateUrl: './model-custom-cols-menu.component.html',\n  styleUrls  : ['./model-custom-cols-menu.component.scss']\n})\nexport class ModelCustomColsMenuComponent {\n  @Input() tableCols: ISmCol[];\n  @Input() isLoading: boolean;\n  @Input() disabled: boolean;\n  @Output() selectedTableColsChanged  = new EventEmitter();\n}\n","<sm-menu\n  [iconClass]=\"'al-icon al-ico-settings al-color pointer create-new-icon ' + (disabled ? 'blue-570' : 'blue-400')\"\n  buttonTooltip=\"Customize table\"\n  smMenuClass=\"light-theme custom-columns\"\n  [showButton]=\"false\"\n  [style.pointer-events]=\"disabled ? 'none' : 'initial'\"\n>\n  <div (click)=\"$event.stopPropagation()\">\n    <sm-custom-columns-list\n      [tableCols]=\"tableCols\"\n      [isLoading]=\"isLoading\"\n      (selectedTableColsChanged)=\"selectedTableColsChanged.emit($event)\"\n    >\n    </sm-custom-columns-list>\n  </div>\n</sm-menu>\n","<div class=\"d-flex justify-content-between header-container align-items-center\"\n     [ngClass]=\"{'archive-mode': isArchived}\">\n  <sm-toggle-archive *ngIf=\"!hideArchiveToggle\"\n                     [showArchived]=\"isArchived\"\n                     [class.hide-item]=\"sharedView\"\n                     (toggleArchived)=\"archivedChanged($event)\"></sm-toggle-archive>\n  <sm-project-context-navbar *ngIf=\"!hideCreateNewButton\"\n                             [class.hide-item]=\"sharedView\"\n                             activeFeature=\"models\" [archivedMode]=\"isArchived\"></sm-project-context-navbar>\n  <div class=\"d-flex justify-content-end align-items-center right-buttons\">\n    <sm-model-custom-cols-menu\n      [hidden]=\"minimizedView || sharedView\"\n      [tableCols]=\"tableCols\"\n      (selectedTableColsChanged)=\"selectedTableColsChanged.emit($event)\"\n    ></sm-model-custom-cols-menu>\n        <sm-refresh-button\n          [autoRefreshState]=\"autoRefreshState\"\n          [allowAutoRefresh]=\"true\"\n          (refreshList)=\"refreshListClicked.emit()\"\n          (setAutoRefresh)=\"setAutoRefresh.emit($event)\"\n        >\n        </sm-refresh-button>\n  </div>\n</div>\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {FilterMetadata} from \"primeng/api/filtermetadata\";\n\n@Component({\n  selector   : 'sm-model-header',\n  templateUrl: './model-header.component.html',\n  styleUrls  : ['./model-header.component.scss']\n})\nexport class ModelHeaderComponent {\n  private _tableCols: any;\n  @Input() minimizedView: boolean;\n\n  @Input() set tableCols(tableCols) {\n    this._tableCols = tableCols.filter(col => col.header !== '');\n  }\n\n  get tableCols() {\n    return this._tableCols;\n  }\n  @Input() isArchived: boolean;\n  @Input() hideArchiveToggle: boolean;\n  @Input() hideCreateNewButton: boolean;\n  @Input() disableCreateNewButton: boolean;\n  @Input() autoRefreshState: boolean;\n  @Input() sharedView: boolean;\n  @Input() tableFilters: { [s: string]: FilterMetadata };\n\n  @Output() isArchivedChanged    = new EventEmitter<boolean>();\n  @Output() addModelClicked = new EventEmitter();\n  @Output() refreshListClicked       = new EventEmitter();\n  @Output() setAutoRefresh           = new EventEmitter();\n  @Output() selectedTableColsChanged = new EventEmitter();\n  @Output() clearTableFilters        = new EventEmitter<{ [s: string]: FilterMetadata }>();\n\n\n\n  archivedChanged(value: boolean) {\n    this.isArchivedChanged.emit(value);\n  }\n\n  onAddModelClicked() {\n    this.addModelClicked.emit();\n  }\n\n}\n","import {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\nimport {ActivatedRoute, Params, Router} from '@angular/router';\nimport {select, Store} from '@ngrx/store';\nimport {get, isEqual} from 'lodash/fp';\nimport {combineLatest, interval, Observable, Subscription} from 'rxjs';\nimport {debounceTime, distinctUntilChanged, filter, map, skip, tap, withLatestFrom} from 'rxjs/operators';\nimport {AUTO_REFRESH_INTERVAL} from '~/app.constants';\nimport {getTags, resetProjectSelection, setDeep} from '../core/actions/projects.actions';\nimport {InitSearch, ResetSearch} from '../common-search/common-search.actions';\nimport {ICommonSearchState, selectSearchQuery} from '../common-search/common-search.reducer';\nimport {setAutoRefresh} from '../core/actions/layout.actions';\nimport {\n  selectCompanyTags,\n  selectIsArchivedMode,\n  selectProjectSystemTags,\n  selectProjectTags,\n  selectTagsFilterByProject\n} from '../core/reducers/projects.reducer';\nimport {selectRouterParams} from '../core/reducers/router-reducer';\nimport {selectAppVisible, selectAutoRefresh} from '../core/reducers/view.reducer';\nimport {BaseEntityPage} from '../shared/entity-page/base-entity-page';\nimport {FilterMetadata} from 'primeng/api/filtermetadata';\nimport {ISmCol, TableSortOrderEnum} from '../shared/ui-components/data/table/table.consts';\nimport {ConfirmDialogComponent} from '../shared/ui-components/overlay/confirm-dialog/confirm-dialog.component';\nimport {decodeFilter, decodeOrder} from '../shared/utils/tableParamEncode';\nimport * as modelsActions from './actions/models-view.actions';\nimport {MODELS_TABLE_COLS} from './models.consts';\nimport * as modelsSelectors from './reducers';\nimport {selectModelsFrameworks, selectModelsTags, selectModelsUsers, selectModelTableColumns} from './reducers';\nimport {IModelsViewState} from './reducers/models-view.reducer';\nimport {SelectedModel, TableModel} from './shared/models.model';\nimport {User} from '~/business-logic/model/users/user';\nimport {SortMeta} from 'primeng/api';\nimport {selectIsSharedAndNotOwner} from '~/features/experiments/reducers';\nimport {EntityTypeEnum} from '~/shared/constants/non-common-consts';\nimport {ShowItemsFooterSelected} from '../shared/entity-page/footer-items/show-items-footer-selected';\nimport {DividerFooterItem} from '../shared/entity-page/footer-items/divider-footer-item';\nimport {ArchiveFooterItem} from '../shared/entity-page/footer-items/archive-footer-item';\nimport {DeleteFooterItem} from '../shared/entity-page/footer-items/delete-footer-item';\nimport {MoveToFooterItem} from '../shared/entity-page/footer-items/move-to-footer-item';\nimport {addTag} from './actions/models-menu.actions';\nimport {ModelsTableComponent} from './shared/models-table/models-table.component';\nimport {\n  CountAvailableAndIsDisableSelectedFiltered,\n  MenuItems\n} from '../shared/entity-page/items.utils';\nimport {PublishFooterItem} from '../shared/entity-page/footer-items/publish-footer-item';\nimport { HasReadOnlyFooterItem } from '../shared/entity-page/footer-items/has-read-only-footer-item';\nimport { SelectedTagsFooterItem } from '../shared/entity-page/footer-items/selected-tags-footer-item';\nimport {setTableFilters} from './actions/models-view.actions';\n\n\n@Component({\n  selector   : 'sm-models',\n  templateUrl: './models.component.html',\n  styleUrls  : ['./models.component.scss']\n})\nexport class ModelsComponent extends BaseEntityPage implements OnInit, OnDestroy {\n  public readonly originalTableColumns = MODELS_TABLE_COLS;\n  public entityTypeEnum = EntityTypeEnum;\n  public models$: Observable<TableModel[]>;\n  public tableSortFields$: Observable<SortMeta[]>;\n  public tableSortOrder$: Observable<TableSortOrderEnum>;\n  public selectedModels$: Observable<TableModel[]>;\n  public selectedModel$: Observable<SelectedModel>;\n  public searchValue$: Observable<ICommonSearchState['searchQuery']>;\n  public isArchived$: Observable<boolean>;\n  public tableFilters$: Observable<{[s: string]: FilterMetadata}>;\n  public noMoreModels$: Observable<boolean>;\n  public showAllSelectedIsActive$: Observable<boolean>;\n  public showInfo$: Observable<boolean>;\n  protected setSplitSizeAction = modelsActions.setSplitSize;\n  private selectedModels: TableModel[];\n  private selectedModelSubs: Subscription;\n  private searchSubs: Subscription;\n  private selectedModelsSub: Subscription;\n  private modelFromUrlSub: Subscription;\n  private searchQuery$: Observable<ICommonSearchState['searchQuery']>;\n  public autoRefreshState$: Observable<boolean>;\n  private refreshing: boolean;\n  private autoRefreshSub: Subscription;\n  public activeSectionEdit$: Observable<string>;\n  public selectedProjectId$: Observable<string>;\n  public tableColsOrder$: Observable<string[]>;\n  public users$: Observable<User[]>;\n  public tags$: Observable<string[]>;\n  private tagsFilterByProject$: Observable<boolean>;\n  private projectTags$: Observable<string[]>;\n  private companyTags$: Observable<string[]>;\n  public systemTags$: Observable<string[]>;\n  public tableCols$: Observable<ISmCol[]>;\n  public frameworks$: Observable<string[]>;\n  public isSharedAndNotOwner$: Observable<boolean>;\n  private isAppVisible$: Observable<boolean>;\n  protected addTag = addTag;\n  @ViewChild('modelsTable') private table: ModelsTableComponent;\n  public selectedModelsDisableAvailable$: Observable<Record<string, CountAvailableAndIsDisableSelectedFiltered>>;\n\n\n  constructor(\n    protected store: Store<IModelsViewState>, private route: ActivatedRoute, private router: Router,\n    private dialog: MatDialog\n  ) {\n    super(store);\n    this.selectSplitSize$ = this.store.select(modelsSelectors.selectSplitSize);\n    this.tableSortFields$ = this.store.select(modelsSelectors.selectTableSortFields);\n    this.selectedModel$ = this.store.select(modelsSelectors.selectSelectedTableModel);\n    this.selectedModels$ = this.store.select(modelsSelectors.selectSelectedModels);\n    this.selectedModelsDisableAvailable$ = this.store.select(modelsSelectors.selectedModelsDisableAvailable);\n    this.tableFilters$ = this.store.select(modelsSelectors.selectTableFilters);\n    this.searchValue$ = this.store.select(modelsSelectors.selectGlobalFilter);\n    this.isArchived$ = this.store.select(selectIsArchivedMode);\n    this.noMoreModels$ = this.store.select(modelsSelectors.selectNoMoreModels);\n    this.isSharedAndNotOwner$ = this.store.select(selectIsSharedAndNotOwner);\n\n    this.showAllSelectedIsActive$ = this.store.select(modelsSelectors.selectShowAllSelectedIsActive);\n    this.searchQuery$ = this.store.select(selectSearchQuery);\n    this.autoRefreshState$ = this.store.select(selectAutoRefresh);\n    this.isAppVisible$ = this.store.select(selectAppVisible);\n    this.activeSectionEdit$ = this.store.select(modelsSelectors.selectActiveSectionEdit);\n    this.tableColsOrder$ = this.store.select(modelsSelectors.selectModelsTableColsOrder);\n    this.selectedProjectId$ = this.store.select(selectRouterParams).pipe(map(params => get('projectId', params)));\n    this.tags$ = this.store.select(selectModelsTags);\n    this.tagsFilterByProject$ = this.store.select(selectTagsFilterByProject);\n    this.projectTags$ = this.store.select(selectProjectTags);\n    this.companyTags$ = this.store.select(selectCompanyTags);\n    this.systemTags$ = this.store.select(selectProjectSystemTags);\n    this.users$ = this.store.select(selectModelsUsers);\n    this.frameworks$ = this.store.select(selectModelsFrameworks);\n    this.tableCols$ = this.store.select(selectModelTableColumns)\n      .pipe(\n        distinctUntilChanged((a, b) => isEqual(a, b)),\n        tap(() => this.table?.table?.resize(100))\n      );\n\n    this.models$ = this.store.select(modelsSelectors.selectModelsList).pipe(\n      withLatestFrom(this.isArchived$),\n      // lil hack for hiding archived models after they been archived from models info or footer...\n      map(([models, showArchived]) => this.filterArchivedModels(models, showArchived)),\n      tap(() => this.refreshing = false)\n    );\n    this.showInfo$ = this.store.pipe(\n      select(selectRouterParams),\n      map(params => !!get('modelId', params))\n    );\n    this.syncAppSearch();\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.createFooterItems({\n      entitiesType: EntityTypeEnum.model,\n      selected$: this.selectedModels$,\n      showAllSelectedIsActive$: this.showAllSelectedIsActive$,\n      tags$: this.tags$,\n      data$: this.selectedModelsDisableAvailable$,\n      tagsFilterByProject$: this.tagsFilterByProject$,\n      companyTags$: this.companyTags$,\n      projectTags$: this.projectTags$\n    });\n    let prevQueryParams: Params;\n\n    this.selectedModelSubs = combineLatest([\n      this.store.select(selectRouterParams).pipe(map(params => params?.projectId)),\n      this.route.queryParams,\n    ]).pipe(\n      filter(([projectId, queryParams]) => {\n        const equal = projectId === this.projectId && isEqual(queryParams, prevQueryParams);\n        if (!equal && !this.preventUrlUpdate) {\n          prevQueryParams = queryParams;\n          this.projectId = projectId;\n          return true;\n        }\n        prevQueryParams = queryParams;\n        this.preventUrlUpdate = false;\n        return false;\n      })\n    ).subscribe(([projectId, params]: [string, Params]) => {\n      if (params.order) {\n        const orders = decodeOrder(params.order);\n        this.store.dispatch(modelsActions.setTableSort({orders, projectId: this.projectId}));\n      }\n      if (params.filter) {\n        const filters = decodeFilter(params.filter);\n        this.store.dispatch(modelsActions.setTableFilters({filters, projectId}));\n      } else {\n        if (params.order) {\n        this.store.dispatch(modelsActions.setTableFilters({filters: [], projectId}));\n      }\n      }\n      if (params.archive) {\n        this.store.dispatch(modelsActions.setArchive({archive: true}));\n      }\n      if (params.deep) {\n        this.store.dispatch(setDeep({deep: true}));\n      }\n\n      if (params.columns) {\n        this.columnsReordered(params.columns, true);\n        const hiddenCols = {};\n        this.originalTableColumns.forEach((tableCol)=>{\n          if(tableCol.id!=='selected'){\n            hiddenCols[tableCol.id] = !params.columns.includes(tableCol.id);\n          }\n        });\n        this.store.dispatch(modelsActions.setHiddenCols({hiddenCols}));\n      }\n      this.dispatchAndLock(modelsActions.fetchModelsRequested());\n    });\n\n    this.selectedModelsSub = this.selectedModels$.subscribe(selectedModels => {\n      this.selectedModels = selectedModels;\n    });\n    this.autoRefreshSub = interval(AUTO_REFRESH_INTERVAL).pipe(\n      withLatestFrom(this.autoRefreshState$, this.activeSectionEdit$, this.isAppVisible$),\n      filter(([, autoRefreshState, activeSectionEdit, isAppVisible]) => autoRefreshState && activeSectionEdit === null && isAppVisible)\n    ).subscribe(() => {\n      this.refreshList(true);\n    });\n\n    this.selectModelFromUrl();\n    this.store.dispatch(modelsActions.getUsers());\n    this.store.dispatch(modelsActions.getFrameworks());\n    this.store.dispatch(modelsActions.getTags());\n    this.store.dispatch(getTags());\n  }\n\n  ngOnDestroy(): void {\n    super.ngOnDestroy();\n    this.selectedModelSubs.unsubscribe();\n    this.modelFromUrlSub.unsubscribe();\n    this.autoRefreshSub.unsubscribe();\n    this.selectedModelsSub.unsubscribe();\n    this.store.dispatch(modelsActions.resetState());\n    this.stopSyncSearch();\n  }\n\n  stopSyncSearch() {\n    this.searchSubs.unsubscribe();\n    this.store.dispatch(new ResetSearch());\n    this.store.dispatch(modelsActions.resetGlobalFilter());\n  }\n\n  syncAppSearch() {\n    this.store.dispatch(new InitSearch('Search for models'));\n    this.searchSubs = this.searchQuery$.pipe(skip(1)).subscribe(query => {\n      this.store.dispatch(modelsActions.globalFilterChanged(query));\n    });\n  }\n\n  getNextModels() {\n    this.store.dispatch(modelsActions.getNextModels());\n  }\n\n  selectModelFromUrl() {\n    this.modelFromUrlSub = combineLatest([\n      this.store.select(selectRouterParams).pipe(\n        map(params => get('modelId', params))\n      ),\n      this.models$\n    ]).pipe(\n      map(([modelId, models]) => models.find(model => model.id === modelId)),\n      distinctUntilChanged()\n    ).subscribe((selectedModel) => {\n      this.store.dispatch(modelsActions.setSelectedModel({model: selectedModel}));\n    });\n  }\n\n  filterArchivedModels(models: TableModel[], showArchived: boolean) {\n    if (showArchived) {\n      return models.filter(model => model.system_tags && model.system_tags.includes('archived'));\n    } else {\n      return models.filter(model => !model.system_tags || !(model.system_tags.includes('archived')));\n    }\n  }\n\n  modelSelectionChanged(model: SelectedModel) {\n    this.store.dispatch(modelsActions.modelSelectionChanged({model, project: this.projectId}));\n  }\n\n  modelsSelectionChanged(models: SelectedModel[]) {\n    this.store.dispatch(modelsActions.setSelectedModels({models}));\n  }\n\n  sortedChanged({colId, isShift}: { isShift: boolean; colId: string }) {\n    this.dispatchAndLock(modelsActions.tableSortChanged({colId, isShift}));\n  }\n\n  filterChanged({col, value, andFilter}: { col: ISmCol; value: any; andFilter?: boolean }) {\n    this.dispatchAndLock(modelsActions.tableFilterChanged({\n      filter: {\n        col: col.id,\n        value,\n        filterMatchMode: col.filterMatchMode || andFilter ? 'AND' : undefined\n      },\n      projectId: this.projectId\n    }));\n  }\n\n  compareModels() {\n    // TODO: temporary until the compare component will be under models module...\n    this.router.navigate(\n      [\n        `${this.route.parent.snapshot.params.projectId}/models/compare-models`,\n        {ids: this.selectedModels.map(model => model.id)}\n      ]\n    );\n  }\n\n  archivedChanged(isArchived: boolean) {\n    const navigate = () => {\n      this.dispatchAndLock(modelsActions.setArchive({archive: isArchived}));\n      this.store.dispatch(resetProjectSelection());\n      this.closeModelPanel();\n    };\n\n    if (this.selectedModels.length > 0) {\n      const archiveDialog: MatDialogRef<ConfirmDialogComponent> = this.dialog.open(ConfirmDialogComponent, {\n        data: {\n          title    : 'Are you sure?',\n          body     : 'Navigating between \"Live\" and \"Archive\" will deselect your selected models.',\n          yes      : 'Proceed',\n          no       : 'Back',\n          iconClass: ''\n        }\n      });\n\n      archiveDialog.afterClosed().subscribe((confirmed) => {\n        if (confirmed) {\n          navigate();\n        }\n      });\n    } else {\n      navigate();\n    }\n  }\n\n  refreshList(isAutorefresh: boolean) {\n    if (this.refreshing) {\n      return;\n    }\n    if (!isAutorefresh) {\n      this.refreshing = true;\n    }\n\n    this.store.dispatch(modelsActions.refreshModels({hideLoader: isAutorefresh, autoRefresh: isAutorefresh}));\n  }\n\n\n  showAllSelected(active: boolean) {\n    this.dispatchAndLock(modelsActions.showSelectedOnly({active, projectId: this.projectId}));\n  }\n\n  setAutoRefresh($event: boolean) {\n    this.store.dispatch(setAutoRefresh({autoRefresh: $event}));\n  }\n\n  columnsReordered(cols: string[], fromUrl = false) {\n    this.store.dispatch(modelsActions.setColsOrderForProject({cols, project: this.projectId, fromUrl}));\n  }\n\n  selectedTableColsChanged(col) {\n    this.dispatchAndLock(modelsActions.toggleColHidden({columnId: col.id, projectId: this.projectId}));\n  }\n\n  columnResized(event: { columnId: string; widthPx: number }) {\n    this.store.dispatch(modelsActions.setColumnWidth({\n      ...event,\n      projectId: this.projectId,\n    }));\n  }\n\n  refreshTagsList() {\n    this.store.dispatch(modelsActions.getTags());\n  }\n\n  closeModelPanel() {\n    this.router.navigate([`projects/${this.projectId}/models`], {queryParamsHandling: 'merge'});\n    window.setTimeout(() => this.infoDisabled = false);\n  }\n\n  protected getParamId(params) {\n    return params?.modelId;\n  }\n\n  createFooterItems(config: {\n    entitiesType: EntityTypeEnum;\n    selected$: Observable<Array<any>>;\n    showAllSelectedIsActive$: Observable<boolean>;\n    tags$: Observable<string[]>;\n    data$?: Observable<Record<string, CountAvailableAndIsDisableSelectedFiltered>>;\n    companyTags$:   Observable<string[]>;\n    projectTags$: Observable<string[]>;\n    tagsFilterByProject$: Observable<boolean>;\n  }) {\n    this.footerState$ = this.createFooterState(config.selected$, config.data$, config.showAllSelectedIsActive$, config.companyTags$, config.projectTags$, config.tagsFilterByProject$);\n\n    this.footerItems = [\n      new ShowItemsFooterSelected(config.entitiesType),\n      new DividerFooterItem(),\n\n      new ArchiveFooterItem(config.entitiesType),\n      new DeleteFooterItem(),\n      new SelectedTagsFooterItem(config.entitiesType),\n      new DividerFooterItem(),\n\n      new MoveToFooterItem(),\n      new PublishFooterItem(EntityTypeEnum.model),\n      new HasReadOnlyFooterItem()\n    ];\n  }\n  onFooterHandler({emitValue, item}) {\n    switch (item.id) {\n      case MenuItems.showAllItems:\n        this.showAllSelected(!emitValue);\n        break;\n      case MenuItems.archive:\n        this.table.contextMenuExtended.contextMenu.archiveClicked();\n        break;\n      case MenuItems.delete:\n        this.table.contextMenuExtended.contextMenu.deleteModelPopup();\n        break;\n      case MenuItems.moveTo:\n        this.table.contextMenuExtended.contextMenu.moveToProjectPopup();\n        break;\n      case MenuItems.publish:\n        this.table.contextMenuExtended.contextMenu.publishPopup();\n        break;\n    }\n  }\n\n  clearTableFiltersHandler(tableFilters: any) {\n    const filters = Object.keys(tableFilters).map( col => ({col, value: []}));\n    this.store.dispatch(setTableFilters({filters, projectId: this.projectId}));\n  }\n}\n","<div class=\"w-100 model-header\">\n  <sm-model-header\n    [minimizedView]=\"minimizedView\"\n    [isArchived]=\"isArchived$ | async\"\n    [disableCreateNewButton]=\"isExampleProject\"\n    [autoRefreshState]=\"autoRefreshState$ | async\"\n    [tableCols]=\"tableCols$ | async\"\n    [sharedView]=\"isSharedAndNotOwner$|async\"\n    [tableFilters]=\"tableFilters$ | async\"\n    (isArchivedChanged)=\"archivedChanged($event)\"\n    (setAutoRefresh)=\"setAutoRefresh($event)\"\n    (refreshListClicked)=\"refreshList(false)\"\n    (selectedTableColsChanged)=\"selectedTableColsChanged($event)\"\n    (clearTableFilters)=\"clearTableFiltersHandler($event)\"\n  ></sm-model-header>\n</div>\n<div class=\"models-body\" [class.footer-visible]=\"(selectedModels$ | async)?.length > 1|| (showAllSelectedIsActive$ |async)\">\n  <as-split #split\n            [useTransition]=\"true\"\n            [gutterDblClickDuration]=\"400\"\n            (gutterClick)=\"clickOnSplit()\"\n            (gutterDblClick)=\"closeModelPanel()\"\n            (dragEnd)=\"splitSizeChange($event)\"\n            (dragStart)=\"disableInfoPanel()\"\n            (transitionEnd)=\"modelsTable.table.resize(); modelsTable.afterTableInit()\"\n  >\n    <as-split-area [size]=\"100 - splitInitialSize\" [visible]=\"(isSharedAndNotOwner$ | async) !== true\">\n      <sm-models-table\n        #modelsTable\n        class=\"w-100 align-self-stretch\"\n        selectionMode=\"single\"\n        [models]=\"models$ | async\"\n        [tableCols]=\"tableCols$ | async\"\n        [minimizedView]=\"minimizedView\"\n        [noMoreModels]=\"noMoreModels$ | async\"\n        [users]=\"users$ |async\"\n        [frameworks]=\"frameworks$ |async\"\n        [tags]=\"tags$ | async\"\n        [systemTags]=\"systemTags$ | async\"\n        [tableSortFields]=\"(tableSortFields$ | async)\"\n        [tableSortOrder]=\"(tableSortOrder$ | async)\"\n        [tableFilters]=\"(tableFilters$ | async)\"\n        [colsOrder]=\"(tableColsOrder$ | async)\"\n        [selectedModels]=\"selectedModels$ | async\"\n        [selectedModelsDisableAvailable]=\"selectedModelsDisableAvailable$ | async\"\n        [selectedModel]=\"selectedModel$ | async\"\n        [split]=\"selectSplitSize$ | async\"\n        [enableMultiSelect]=\"true\"\n        (columnsReordered)=\"columnsReordered($event)\"\n        (modelSelectionChanged)=\"modelSelectionChanged($event)\"\n        (modelsSelectionChanged)=\"modelsSelectionChanged($event)\"\n        (tagsMenuOpened)=\"refreshTagsList()\"\n        (sortedChanged)=\"sortedChanged($event)\"\n        (columnResized)=\"columnResized($event)\"\n        (filterChanged)=\"filterChanged($event)\"\n        (loadMoreModels)=\"getNextModels()\"\n      >\n      </sm-models-table>\n    </as-split-area>\n    <as-split-area [size]=\"splitInitialSize\" class=\"light-theme\" [visible]=\"minimizedView\">\n      <router-outlet></router-outlet>\n    </as-split-area>\n  </as-split>\n</div>\n<sm-entity-footer\n [footerState]=\"footerState$ | async\"\n [footerItems]=\"footerItems\"\n (footerItemClick)=\"onFooterHandler($event)\"\n (tagSelected)=\"tagSelected($event, 'models')\"\n>\n</sm-entity-footer>\n","<sm-overlay [backdropActive]=\"backdropActive\"></sm-overlay>\n\n<div class=\"d-flex\">\n  <div class=\"p-2 icon i-model model-icon xl\"></div>\n  <div class=\"middle-col\">\n    <div class=\"d-flex align-items-center\">\n      <sm-inline-edit\n        class=\"edit-name\"\n        [originalText]=\"model?.name\"\n        [editable]=\"editable\"\n        [minWidth]=\"250\"\n        (textChanged)=\"onNameChanged($event)\"\n        (inlineActiveStateChanged)=\"editExperimentName($event)\"\n      >\n        <div class=\"model-name\">\n          <span>{{model?.name}}</span>\n        </div>\n      </sm-inline-edit>\n      <i class=\"al-icon al-ico-id pointer\" (click)=\"viewId = true\" *ngIf=\"!viewId; else showId\"></i>\n      <ng-template #showId>\n        <span class=\"model-id\">{{model.id}}</span>\n      </ng-template>\n    </div>\n    <div class=\"tags-list\">\n      <sm-tag-list\n        *ngIf=\"editable; else readOnlyTags\"\n        class=\"w-100\"\n        [class.menu-open]=\"tagMenu?.trigger.menuOpen\"\n        [sysTags]=\"sysTags\"\n        [tags]=\"model?.tags\"\n        (add)=\"openTagMenu($event)\"\n        (remove)=\"removeTag($event)\"></sm-tag-list>\n      <ng-template #readOnlyTags>\n        <sm-tag-list\n          class=\"w-100\"\n          [sysTags]=\"sysTags\"\n          [tags]=\"model?.tags\"></sm-tag-list>\n      </ng-template>\n      <sm-menu\n        #tagMenu\n        [showCart]=\"false\"\n        [showButton]=\"false\"\n        [showOverlay]=\"false\"\n        (menuClosed)=\"tagsMenuClosed()\"\n      >\n        <sm-tags-menu\n          class=\"light-theme\"\n          #tagsMenuContent\n          [tags]=\"model?.tags\"\n          [tagsFilterByProject]=\"tagsFilterByProject$ | async\"\n          [projectTags]=\"projectTags$ | async\"\n          [companyTags]=\"companyTags$ | async\"\n          (tagSelected)=\"addTag($event)\"\n        ></sm-tags-menu>\n      </sm-menu>\n    </div>\n  </div>\n  <div class=\"light-theme right-buttons\">\n    <sm-model-menu-extended\n      [model]=\"model\"\n      [selectedModel]=\"model\"\n      [tagsFilterByProject]=\"tagsFilterByProject$ | async\"\n      [selectedDisableAvailableIsMultiple]=\"false\"\n      [selectedDisableAvailable]=\"selectedDisableAvailable\"\n      [projectTags]=\"projectTags$ | async\"\n      [companyTags]=\"companyTags$ | async\"\n      [numSelected]=\"1\"\n      (tagSelected)=\"addTag($event)\">\n    </sm-model-menu-extended>\n  </div>\n</div>\n","import {Component, EventEmitter, Input, Output, ViewChild} from '@angular/core';\nimport {TagsMenuComponent} from '../../../shared/ui-components/tags/tags-menu/tags-menu.component';\nimport {Store} from '@ngrx/store';\nimport {selectCompanyTags, selectProjectTags, selectTagsFilterByProject} from '../../../core/reducers/projects.reducer';\nimport {Observable} from 'rxjs';\nimport {addTag, removeTag} from '../../actions/models-menu.actions';\nimport {SelectedModel, TableModel} from '../../shared/models.model';\nimport {MenuComponent} from '../../../shared/ui-components/panel/menu/menu.component';\nimport {getSysTags} from '../../model.utils';\nimport {ActivateModelEdit, CancelModelEdit} from '../../actions/models-info.actions';\nimport {\n  CountAvailableAndIsDisableSelectedFiltered,\n  MenuItems,\n  selectionDisabledArchive,\n  selectionDisabledDelete,\n  selectionDisabledMoveTo,\n  selectionDisabledPublishModels\n} from '../../../shared/entity-page/items.utils';\n\n@Component({\n  selector   : 'sm-model-info-header',\n  templateUrl: './model-info-header.component.html',\n  styleUrls  : ['./model-info-header.component.scss']\n})\nexport class ModelInfoHeaderComponent {\n\n  public viewId: boolean;\n  public tagsFilterByProject$: Observable<boolean>;\n  public projectTags$: Observable<string[]>;\n  public companyTags$: Observable<string[]>;\n  public sysTags: string[];\n  selectedDisableAvailable: Record<string, CountAvailableAndIsDisableSelectedFiltered>;\n\n  @Input() editable: boolean;\n  @Input() backdropActive: boolean;\n  @Output() deselectModel    = new EventEmitter();\n  @Output() modelNameChanged = new EventEmitter();\n  @ViewChild('tagMenu') tagMenu: MenuComponent;\n  @ViewChild('tagsMenuContent') tagMenuContent: TagsMenuComponent;\n\n  constructor(private store: Store<any>) {\n    this.tagsFilterByProject$ = this.store.select(selectTagsFilterByProject);\n    this.projectTags$ = this.store.select(selectProjectTags);\n    this.companyTags$ = this.store.select(selectCompanyTags);\n\n  }\n\n  private _model: TableModel | SelectedModel;\n\n  get model() {\n    return this._model;\n  }\n\n  @Input() set model(model: TableModel | SelectedModel) {\n    if (this._model?.id != model?.id) {\n      this.viewId = false;\n    }\n    this._model = model;\n    this.sysTags = getSysTags(model as TableModel);\n    const selectedModelsDisableAvailable: Record<string, CountAvailableAndIsDisableSelectedFiltered> = {\n      [MenuItems.publish]: selectionDisabledPublishModels([model]),\n      [MenuItems.moveTo]: selectionDisabledMoveTo([model]),\n      [MenuItems.delete]: selectionDisabledDelete([model]),\n      [MenuItems.archive]: selectionDisabledArchive([model])\n    };\n    this.selectedDisableAvailable = selectedModelsDisableAvailable;\n  }\n\n  public onNameChanged(name) {\n    this.modelNameChanged.emit(name);\n  }\n\n  openTagMenu(event: MouseEvent) {\n    if (!this.tagMenu) {\n      return;\n    }\n    window.setTimeout(() => this.store.dispatch(new ActivateModelEdit('tags')), 200);\n    this.tagMenu.position = {x: event.clientX, y: event.clientY};\n    window.setTimeout(() => {\n      this.tagMenu.openMenu();\n      this.tagMenuContent.focus();\n    });\n  }\n\n  addTag(tag: string) {\n    this.store.dispatch(addTag({tag, models: [this.model as SelectedModel]}));\n  }\n\n  removeTag(tag: string) {\n    this.store.dispatch(removeTag({tag, models: [this.model as SelectedModel]}));\n  }\n\n  tagsMenuClosed() {\n    this.store.dispatch(new CancelModelEdit());\n    this.tagMenuContent.clear();\n  }\n\n  editExperimentName(edit: boolean) {\n    if (edit) {\n      this.store.dispatch(new ActivateModelEdit('ModelName'));\n    } else {\n      this.store.dispatch(new CancelModelEdit());\n    }\n  }\n}\n","import {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {selectRouterParams} from '../../../core/reducers/router-reducer';\nimport {Store} from '@ngrx/store';\nimport {ModelInfoState} from '../../reducers/model-info.reducer';\nimport {get} from 'lodash/fp';\nimport * as infoActions from '../../actions/models-info.actions';\nimport {selectSelectedModel, selectSelectedTableModel} from '../../reducers';\nimport {SelectedModel} from '../../shared/models.model';\nimport {AdminService} from '~/shared/services/admin.service';\nimport {selectS3BucketCredentials} from '../../../core/reducers/common-auth-reducer';\nimport {SmSyncStateSelectorService} from '../../../core/services/sync-state-selector.service';\nimport {Observable, Subscription} from 'rxjs';\nimport {debounceTime, distinctUntilChanged, filter, map, tap} from 'rxjs/operators';\nimport {addMessage} from '../../../core/actions/layout.actions';\nimport {MESSAGES_SEVERITY} from '../../../../app.constants';\nimport {isReadOnly} from '../../../shared/utils/shared-utils';\nimport {selectBackdropActive} from '../../../core/reducers/view.reducer';\n\n\n@Component({\n  selector   : 'sm-model-info',\n  templateUrl: './model-info.component.html',\n  styleUrls  : ['./model-info.component.scss']\n})\nexport class ModelInfoComponent implements OnInit, OnDestroy {\n\n  private paramsSubscription: Subscription;\n  public selectedModel: SelectedModel;\n  private selectedModelSubscription: Subscription;\n  private S3BucketCredentials: Observable<any>;\n  @ViewChild('modelInfoHeader', { static: true }) modelInfoHeader;\n  public selectedModel$: Observable<SelectedModel | null>;\n  public isExample: boolean;\n  public backdropActive$: Observable<any>;\n  private projectId: string;\n  public selectedTableModel$: Observable<SelectedModel>;\n\n  constructor(private router: Router, private store: Store<ModelInfoState>, private route: ActivatedRoute, private adminService: AdminService, private syncSelector: SmSyncStateSelectorService) {\n    this.S3BucketCredentials = store.select(selectS3BucketCredentials);\n    this.backdropActive$ = this.store.select(selectBackdropActive);\n    this.selectedTableModel$ = this.store.select(selectSelectedTableModel);\n  }\n\n  ngOnInit() {\n    this.selectedModelSubscription = this.store.select(selectSelectedModel)\n      .subscribe(model => {\n        this.selectedModel = model;\n        this.isExample     = isReadOnly(model);\n      });\n    this.paramsSubscription = this.store.select(selectRouterParams)\n      .pipe(\n        tap((params) => {\n          this.projectId = get('projectId', params);\n        }),\n        debounceTime(150),\n        map(params => get('modelId', params)),\n        filter(modelId => !!modelId),\n        distinctUntilChanged()\n      )\n      .subscribe(modelId => this.store.dispatch(new infoActions.GetModelInfo(modelId)));\n    this.selectedModel$            = this.store.select(selectSelectedModel).pipe(filter(model => !!model));\n  }\n\n  ngOnDestroy(): void {\n    this.paramsSubscription.unsubscribe();\n    this.selectedModelSubscription.unsubscribe();\n    this.store.dispatch(new infoActions.SetModel(null));\n  }\n\n  public updateModelName(name) {\n    if (name.trim().length > 2) {\n      this.store.dispatch(infoActions.updateModelDetails({id: this.selectedModel.id, changes: {name}}));\n    } else {\n      this.store.dispatch(addMessage(MESSAGES_SEVERITY.ERROR, 'Name must be more than three letters long'));\n    }\n  }\n\n  public getReadyStatus(ready) {\n    if (ready === null) {\n      return null;\n    }\n    return ready ? 'published' : 'created';\n  }\n\n  deselectModel() {\n    return this.navigateAfterModelSelectionChanged();\n  }\n\n  navigateAfterModelSelectionChanged() {\n    return this.router.navigate([`projects/${this.projectId}/models`], {queryParamsHandling: 'preserve'});\n  }\n}\n\n","<sm-experiment-info-header-status-progress-bar\n  [status]=\"getReadyStatus((selectedTableModel$ | async)?.ready || selectedModel?.ready)\"\n  (closeInfoClicked)=\"deselectModel()\"\n>\n</sm-experiment-info-header-status-progress-bar>\n<div class=\"model-info-container light-theme\">\n  <sm-model-info-header #modelInfoHeader\n                        [model]=\"((selectedTableModel$ | async) || selectedModel)\"\n                        [editable]=\"!isExample\"\n                        [backdropActive]=\"backdropActive$ | async\"\n                        (deselectModel)=\"deselectModel()\"\n                        (modelNameChanged)=\"updateModelName($event)\"\n  >\n  </sm-model-info-header>\n  <nav>\n    <span [routerLink]=\"['general']\" routerLinkActive #rlaGeneral=\"routerLinkActive\" queryParamsHandling=\"merge\">\n      <sm-navbar-item header=\"general\" [active]=\"rlaGeneral.isActive\"></sm-navbar-item>\n    </span>\n    <span [routerLink]=\"['network']\" routerLinkActive #rlaNetwork=\"routerLinkActive\" queryParamsHandling=\"merge\">\n      <sm-navbar-item header=\"network\" [active]=\"rlaNetwork.isActive\"></sm-navbar-item>\n    </span>\n    <span [routerLink]=\"['labels']\" routerLinkActive #rlaLabels=\"routerLinkActive\" queryParamsHandling=\"merge\">\n      <sm-navbar-item header=\"labels\" [active]=\"rlaLabels.isActive\"></sm-navbar-item>\n    </span>\n  </nav>\n  <div class=\"model-info-body\">\n    <router-outlet></router-outlet>\n  </div>\n</div>\n","<div *ngFor=\"let kpi of kpis\">\n  <sm-labeled-row label=\"{{kpi.label}}:\">\n    <div *ngIf=\"!kpi.href\">\n      {{kpi.value}}\n      <span *ngIf=\"kpi.downloadable\">\n        <sm-copy-clipboard *ngIf=\"isLocalFile\" [clipboardText]=\"kpi.value\" [hideBackground]=\"true\" label=\"\"></sm-copy-clipboard>\n        <i *ngIf=\"model?.uri && !isLocalFile\"\n           class=\"pointer fa fa-download ml-2\"\n           (click)=\"downloadModelClicked()\"\n        ></i>\n      </span>\n    </div>\n    <div *ngIf=\"kpi.href && kpi.value\">\n      <a [routerLink]=\"kpi.href\">\n        {{kpi.value}}\n      </a>\n      <sm-copy-clipboard  [clipboardText]=\"kpi.task\" [hideBackground]=\"true\" label=\"\"></sm-copy-clipboard>\n    </div>\n    <div *ngIf=\"kpi.href && (!kpi.value) \">N/A</div>\n  </sm-labeled-row>\n</div>\n\n<sm-labeled-row label=\"DESCRIPTION:\" labelClass=\"align-self-start\">\n  <sm-inline-edit\n    [originalText]=\"model?.comment\"\n    [editable]=\"model?.company?.id\"\n    [multiline]=\"true\"\n    (textChanged)=\"commentValueChanged($event)\"\n    (inlineActiveStateChanged)=\"editExperimentComment($event)\"\n    (cancel)=\"cancelEdit()\"\n    >\n    <span class=\"general-description\">{{model?.comment | NA}}</span></sm-inline-edit>\n</sm-labeled-row>\n","import {ChangeDetectionStrategy, Component, EventEmitter, Input, Output} from '@angular/core';\nimport {getOr} from 'lodash/fp';\nimport {SelectedModel} from '../../shared/models.model';\nimport {NA} from '../../../../app.constants';\nimport {TAGS} from '../../../tasks/tasks.constants';\nimport {DatePipe} from '@angular/common';\nimport {TIME_FORMAT_STRING} from '../../../constants';\nimport {Store} from '@ngrx/store';\nimport {ActivateModelEdit, CancelModelEdit} from '../../actions/models-info.actions';\nimport {AdminService} from '~/shared/services/admin.service';\nimport {getSignedUrl} from '../../../core/actions/common-auth.actions';\nimport {selectSignedUrl} from '../../../core/reducers/common-auth-reducer';\nimport {filter, map, take} from 'rxjs/operators';\n\n@Component({\n  selector: 'sm-model-general-info',\n  templateUrl: './model-general-info.component.html',\n  styleUrls: ['./model-general-info.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ModelGeneralInfoComponent {\n  constructor(private datePipe: DatePipe, private store: Store<any>, private adminService: AdminService) {\n  }\n\n  public kpis: {label: string; value: string, downloadable?: boolean; href?: string; task?: string}[];\n  private _model: SelectedModel;\n  public isLocalFile: boolean;\n\n  @Input() editable: boolean;\n  @Input() projectId: string;\n\n  @Input() set model(model: SelectedModel) {\n    this._model = model;\n    if (model) {\n      this.isLocalFile = this.adminService.isLocalFile(model.uri);\n      this.kpis = [\n        {label: 'CREATED AT', value: model.created ? (this.datePipe.transform(model.created, TIME_FORMAT_STRING)) : 'NA'},\n        {label: 'UPDATED AT', value: model.last_update ? (this.datePipe.transform(model.last_update, TIME_FORMAT_STRING)) : 'NA'},\n        {label: 'FRAMEWORK', value: model.framework || NA},\n        {label: 'STATUS', value: (model.ready !== undefined) ? (model.ready ? 'Published' : 'Draft') : NA},\n        {label: 'MODEL URL', value: model.uri || NA, downloadable: true},\n        {label: 'USER', value: getOr(NA, 'user.name', model)},\n        {\n          label: 'CREATING EXPERIMENT', value: getOr(false, 'task.name', model),\n          href: `/projects/${getOr('*', 'task.project.id', model)}/experiments/${getOr('', 'task.id', model)}`,\n          task: getOr(false, 'task.id', model)\n        },\n        {label: 'ARCHIVED', value: model && model.system_tags && model.system_tags.includes(TAGS.HIDDEN) ? 'Yes' : 'No'},\n        {label: 'PROJECT', value: getOr(NA, 'project.name', model)},\n      ];\n    }\n  }\n\n  get model(): SelectedModel {\n    return this._model;\n  }\n\n  @Output() showModel = new EventEmitter();\n  @Output() commentChanged = new EventEmitter<string>();\n\n  commentValueChanged(value) {\n    this.commentChanged.emit(value);\n  }\n\n  public canShowModel() {\n    return !!this.model && !'Custom'.includes(this.model.framework);\n  }\n\n  onShowModel() {\n    this.showModel.emit(this.model);\n  }\n\n  editExperimentComment(edit) {\n    edit && this.store.dispatch(new ActivateModelEdit('ModelComment'));\n  }\n\n  cancelEdit() {\n    this.store.dispatch(new CancelModelEdit());\n  }\n\n  downloadModelClicked() {\n    const url = this.model.uri;\n    this.store.dispatch(getSignedUrl({url}));\n    this.store.select(selectSignedUrl(url))\n      .pipe(\n        filter(signed => !!signed?.signed),\n        map(({signed: signedUrl}) => signedUrl),\n        take(1)\n      ).subscribe(signed => {\n      const a = document.createElement('a') as HTMLAnchorElement;\n      a.target = '_blank';\n      a.href = signed;\n      a.click();\n    });\n  }\n}\n","import {Component, OnDestroy} from '@angular/core';\nimport {Subscription} from 'rxjs';\nimport {ModelInfoState} from '../../reducers/model-info.reducer';\nimport {Store} from '@ngrx/store';\nimport {SelectedModel} from '../../shared/models.model';\nimport {selectSelectedModel} from '../../reducers';\nimport {filter} from 'rxjs/operators';\nimport {resetDontShowAgainForBucketEndpoint} from '../../../core/actions/common-auth.actions';\nimport {createModelLink, isReadOnly} from '../../../shared/utils/shared-utils';\nimport {AdminService} from '~/shared/services/admin.service';\nimport {ModelDetailsUpdated, updateModelDetails} from '../../actions/models-info.actions';\n\n@Component({\n  selector: 'sm-model-info-general',\n  templateUrl: './model-info-general.component.html',\n})\nexport class ModelInfoGeneralComponent implements OnDestroy {\n\n  public selectedModel: SelectedModel;\n  public isExample: boolean;\n  private selectedModelSubscription: Subscription;\n\n  constructor(private store: Store<ModelInfoState>, private adminService: AdminService) {\n    this.selectedModelSubscription = this.store.select(selectSelectedModel).pipe(\n      filter(model => !!model))\n      .subscribe(model => {\n        this.isExample     = isReadOnly(model);\n        this.selectedModel = model;\n      });\n  }\n\n  showModel(model) {\n    this.store.dispatch(resetDontShowAgainForBucketEndpoint());\n    const modelSignedUri = this.adminService.signUrlIfNeeded(model.uri);\n    if (modelSignedUri) {\n      window.open(createModelLink(model.uri, model.id, modelSignedUri));\n    }\n  }\n\n  commentChanged(comment) {\n    this.store.dispatch(updateModelDetails({id: this.selectedModel.id, changes: {comment: comment}}));\n  }\n\n  ngOnDestroy(): void {\n    this.selectedModelSubscription.unsubscribe();\n  }\n\n}\n","<sm-model-general-info\n  [model]=\"selectedModel\"\n  [editable]=\"!isExample\"\n  (showModel)=\"showModel($event)\"\n  (commentChanged)=\"commentChanged($event)\"\n></sm-model-general-info>\n","<sm-editable-section\n  #prototext\n  [editable]=\"!model?.ready && model?.company?.id && !isSharedAndNotOwner\"\n  [saving]=\"saving\"\n  [disableInEditMode]=\"true\"\n  (activateEditClicked)=\"activateEdit(); editPrototext()\"\n  (saveClicked)=\"saveClicked()\"\n  (cancelClicked)=\"cancelEdit()\"\n>\n  <sm-section-header label=\"MODEL CONFIGURATION\"></sm-section-header>\n  <div class=\"light-theme textarea-container\">\n    <sm-scroll-textarea\n      class=\"form-section\"\n      [editable]=\"inEditMode && prototext.inEditMode\"\n      [isInDev]=\"false\"\n      [formData]=\"design ?? ''\"\n      [showSpinner]=\"false\"></sm-scroll-textarea>\n  </div>\n  <button extra-buttons\n          *ngIf=\"design\"\n          class=\"btn-dark-fill mr-3 flex-1\"\n          (click)=\"clearPrototext()\">\n    <i class=\"p-1 fa fa-trash\"></i>\n    CLEAR\n  </button>\n</sm-editable-section>\n","import {Component, EventEmitter, Input, Output, ViewChild} from '@angular/core';\nimport {getModelDesign} from '@common/tasks/tasks.utils';\nimport {EditJsonComponent} from '@common/shared/ui-components/overlay/edit-json/edit-json.component';\nimport {take} from 'rxjs/operators';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\nimport {ConfirmDialogComponent} from '@common/shared/ui-components/overlay/confirm-dialog/confirm-dialog.component';\nimport {EditableSectionComponent} from '@common/shared/ui-components/panel/editable-section/editable-section.component';\n\n@Component({\n  selector   : 'sm-model-view-network',\n  templateUrl: './model-view-network.component.html',\n  styleUrls  : ['./model-view-network.component.scss']\n})\nexport class ModelViewNetworkComponent {\n  private _model: any;\n  public design: string;\n  private designKey: string;\n\n  @Input() set model(model) {\n    this._model = model;\n    const design = getModelDesign(model?.design)\n    this.designKey = design.key;\n    this.design = typeof design.value === 'string' ? design.value : '';\n  }\n\n  get model() {\n    return this._model;\n  }\n  @Input() isSharedAndNotOwner: boolean = false;\n  @Input() saving: boolean;\n  @Output() openNetworkDesignClicked: EventEmitter<any> = new EventEmitter();\n  @Output() saveFormData = new EventEmitter();\n  @Output() cancelClicked = new EventEmitter();\n  @Output() activateEditClicked = new EventEmitter();\n  @ViewChild('prototext') prototextSection: EditableSectionComponent;\n  public inEditMode: boolean = false;\n  private unsavedValue: string;\n\n  constructor(private dialog: MatDialog) {\n  }\n\n  fieldValueChanged(value: any) {\n    this.unsavedValue = value;\n    this.design = value;\n  }\n\n  activateEdit() {\n    this.inEditMode = true;\n    this.activateEditClicked.emit();\n  }\n\n  saveClicked() {\n    this.inEditMode = false;\n    this.saveFormData.emit({...this.model, design: this.designKey ? {[this.designKey]: this.unsavedValue} : this.unsavedValue});\n  }\n\n  cancelEdit() {\n    this.inEditMode = false;\n    this.cancelClicked.emit();\n  }\n\n  editPrototext() {\n    const editPrototextDialog = this.dialog.open(EditJsonComponent, {\n      data: {textData: this.design, readOnly: false, title: 'EDIT MODEL CONFIGURATION', typeJson: false}\n    });\n\n    editPrototextDialog.afterClosed().pipe(take(1)).subscribe((data) => {\n      if (data === undefined) {\n        this.prototextSection.cancelClickedEvent();\n      } else {\n        this.fieldValueChanged(data);\n        this.saveClicked();\n      }\n    });\n  }\n\n  clearPrototext() {\n    const confirmDialogRef: MatDialogRef<any, boolean> = this.dialog.open(ConfirmDialogComponent, {\n      data: {\n        title    : 'Clear model configuration',\n        body     : 'Are you sure you want to clear the entire contents of Model Configuration?',\n        yes      : 'Clear',\n        no       : 'Keep',\n        iconClass: 'al-icon al-ico-trash al-color blue-300',\n      }\n    });\n\n    confirmDialogRef.afterClosed().pipe(take(1)).subscribe((confirmed) => {\n      if (confirmed) {\n        this.activateEdit();\n        this.fieldValueChanged('');\n        this.saveClicked();\n      }\n    });\n  }\n}\n\n","import {Component, OnInit} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {ISelectedModelInput} from '../../shared/models.model';\nimport {Store} from '@ngrx/store';\nimport {ModelInfoState} from '../../reducers/model-info.reducer';\nimport {selectIsModelSaving, selectSelectedModel} from '../../reducers';\nimport {ActivateModelEdit, CancelModelEdit, EditModel, SetIsModelSaving} from '../../actions/models-info.actions';\nimport {selectIsSharedAndNotOwner} from '../../../../features/experiments/reducers';\n\n@Component({\n  selector   : 'sm-model-info-network',\n  templateUrl: './model-info-network.component.html',\n  styleUrls  : ['./model-info-network.component.scss']\n})\nexport class ModelInfoNetworkComponent implements OnInit {\n  public selectedModel$: Observable<ISelectedModelInput>;\n  public saving$: Observable<boolean>;\n  public isSharedAndNotOwner$: Observable<boolean>;\n\n  constructor(private store: Store<ModelInfoState>) {\n    this.selectedModel$ = this.store.select(selectSelectedModel);\n    this.isSharedAndNotOwner$ = this.store.select(selectIsSharedAndNotOwner);\n    this.saving$         = this.store.select(selectIsModelSaving);\n  }\n  ngOnInit() {\n  }\n\n  saveFormData(changedModel) {\n    this.store.dispatch(new SetIsModelSaving(true));\n    this.store.dispatch(new EditModel(changedModel));\n  }\n  cancelClicked() {\n    this.store.dispatch(new CancelModelEdit());\n  }\n\n  activateEditClicked() {\n    this.store.dispatch(new ActivateModelEdit('network'));\n  }\n}\n","<sm-model-view-network\n  [model]=\"(selectedModel$ | async)\"\n  [isSharedAndNotOwner]=\"isSharedAndNotOwner$ | async\"\n  [saving]=\"(saving$ | async)\"\n  (saveFormData)=\"saveFormData($event)\"\n  (cancelClicked)=\"cancelClicked()\"\n  (activateEditClicked)=\"activateEditClicked()\"\n></sm-model-view-network>\n","<sm-editable-section\n  class=\"d-block\"\n  [editable]=\" ! model?.ready && model?.company?.id && !isSharedAndNotOwner\"\n  [saving]=\"saving\"\n  (activateEditClicked)=\"activateEdit()\"\n  (saveClicked)=\"saveClicked()\"\n  (cancelClicked)=\"cancelEdit()\"\n>\n  <ng-template #na>N/A</ng-template>\n\n\n    <sm-section-header label=\"LABELS\"></sm-section-header>\n    <form #labels=\"ngForm\"\n    >\n      <div [hidden]=\"!editable\">\n        <div *ngFor=\"let parameter of formData; let i = index\">\n          <div class=\"row w-100 align-items-center\">\n            <div class=\"input-container col-11\">\n              <mat-form-field appearance=\"outline\" class=\"strength w-100\">\n                <input #parameterLabel=\"ngModel\"\n                       [(ngModel)]=\"parameter.label\"\n                       [name]=\"'parameterLabel-' + parameter.id\"\n                       matInput>\n              </mat-form-field>\n\n            </div>\n\n            <div class=\"input-container col-11\">\n              <mat-form-field [hintLabel]=\"parameterKey.invalid && parameterKey?.errors?.required? '*Required': ''\" appearance=\"outline\" class=\"strength w-100\">\n                <input #parameterKey=\"ngModel\" [(ngModel)]=\"parameter.id\"\n                       type=\"number\"\n                       [name]=\"'parameterKey-' + parameter.id\"\n                       matInput\n                       required>\n                <mat-error *ngIf=\"parameterKey.invalid && parameterKey?.errors?.required\">\n                  Required\n                </mat-error>\n                <mat-error *ngIf=\"parameterKey.invalid && parameterKey?.errors?.smNotAllowedStringsValidator\">\n                  .(dot) $(dollar) and space are not allowed in parameter id.\n                </mat-error>\n              </mat-form-field>\n\n\n            </div>\n\n            <div class=\"input-container col-2 remove-step\">\n              <i (click)=\"removeRow(i)\" class=\"al-icon al-ico-trash al-color blue-300 sm-md pointer flashing-icon mb-2\"></i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  <div class=\"row\">\n    <div class=\"col-24\">\n    <button *ngIf=\"editable\" class=\"btn btn-primary plus\" (click)=\"addRow()\"><i class=\"al-icon al-color blue-400 sm al-ico-plus d-flex align-items-center\"></i>\n    </button>\n    </div>\n  </div>\n    <div *ngIf=\"!editable\">\n\n      <sm-simple-table-2 [cols]=\"cols\" [rowsData]=\"formData\">\n        <ng-template\n          let-col\n          let-i=\"rowIndex\"\n          let-row=\"row\">\n          <div class=\"row w-100\">\n            <div class=\"input-container col-10\">\n              <b>{{row.label}}</b>\n            </div>\n            <div class=\"input-container col-4\">\n              <b>{{row.id}}</b>\n            </div>\n          </div>\n        </ng-template>\n      </sm-simple-table-2>\n    </div>\n</sm-editable-section>\n\n\n\n","import {Component, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild} from '@angular/core';\nimport {Model} from '../../../../business-logic/model/models/model';\nimport {NgForm} from '@angular/forms';\nimport {debounceTime} from 'rxjs/operators';\nimport {Subscription} from 'rxjs';\nimport {SelectedModel} from '../../shared/models.model';\n\n@Component({\n  selector: 'sm-model-info-labels-view',\n  templateUrl: './model-info-labels-view.component.html',\n  styleUrls: ['./model-info-labels-view.component.scss']\n})\nexport class ModelInfoLabelsViewComponent implements OnInit, OnDestroy {\n  public formData: Array<{ label: string; id: number }> = [];\n  public editable: boolean = false;\n  public cols = [{header: 'Label', class: 'col-10'},\n    {header: 'Id', class: 'col-4'}];\n\n  private unsavedValue: any;\n  private formChangesSubscription: Subscription;\n  private _model: SelectedModel;\n\n  @ViewChild('labels', {static: true}) labels: NgForm;\n\n  @Input() set model(model: SelectedModel) {\n    if (model) {\n      this.formData = this.revertParameters(model.labels);\n    }\n    this._model = model;\n  }\n\n  get model() {\n    return this._model;\n  }\n\n  @Input() saving = false;\n  @Input() isSharedAndNotOwner: boolean = false;\n  @Output() saveFormData = new EventEmitter();\n  @Output() cancelClicked = new EventEmitter();\n  @Output() activateEditClicked = new EventEmitter();\n\n  constructor() {\n  }\n\n  ngOnInit(): void {\n    this.formChangesSubscription = this.labels.valueChanges.pipe(debounceTime(10)).subscribe(formValue => {\n      if (this.editable) {\n        this.unsavedValue = this.formData;\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.formChangesSubscription.unsubscribe();\n  }\n\n  activateEdit() {\n    this.editable = true;\n    this.activateEditClicked.emit();\n  }\n\n  addRow() {\n    this.formData.push({\n      id: this.formData.length + 1,\n      label: null,\n    });\n  }\n\n  removeRow(index) {\n    this.formData.splice(index, 1);\n  }\n\n  saveClicked() {\n    this.editable = false;\n    this.saveFormData.emit({...this.model, labels: this.convertParameters(this.unsavedValue)});\n  }\n\n  cancelEdit() {\n    this.editable = false;\n    this.cancelClicked.emit();\n  }\n\n  // TODO: move to utils.\n  revertParameters(labels: Model['labels']): Array<{ id: number, label: string }> {\n    return labels ? Object.entries(labels).map(([key, val]) => ({id: val, label: key})).sort((labelA, labelB) => labelA.id - labelB.id) : [];\n  }\n\n  convertParameters(labels: Array<{ id: number, label: string }>): Model['labels'] {\n    const obj = {};\n    labels.forEach(l => {\n      obj[l.label] = l.id;\n    });\n    return obj;\n  }\n\n}\n","import {Component} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {SelectedModel} from '../../shared/models.model';\nimport {ModelInfoState} from '../../reducers/model-info.reducer';\nimport {Observable} from 'rxjs';\nimport {selectIsModelSaving, selectSelectedModel} from '../../reducers';\nimport {filter} from 'rxjs/operators';\nimport {ActivateModelEdit, CancelModelEdit, EditModel, SetIsModelSaving} from '../../actions/models-info.actions';\nimport {selectIsSharedAndNotOwner} from \"../../../../features/experiments/reducers\";\n\n@Component({\n  selector: 'sm-model-info-labels',\n  templateUrl: './model-info-labels.component.html',\n  styleUrls: ['./model-info-labels.component.scss']\n})\nexport class ModelInfoLabelsComponent {\n\n  public selectedModel$: Observable<SelectedModel>;\n  public saving$: Observable<boolean>;\n  public isSharedAndNotOwner$: Observable<boolean>;\n\n  constructor(private store: Store<ModelInfoState>) {\n    this.selectedModel$ = this.store.select(selectSelectedModel).pipe(filter(model => !!model));\n    this.saving$         = this.store.select(selectIsModelSaving);\n    this.isSharedAndNotOwner$ = this.store.select(selectIsSharedAndNotOwner);\n  }\n  ngOnInit() {\n  }\n\n  saveFormData(changedModel) {\n    this.store.dispatch(new SetIsModelSaving(true));\n    this.store.dispatch(new EditModel(changedModel));\n  }\n  cancelClicked() {\n    this.store.dispatch(new CancelModelEdit());\n  }\n\n  activateEditClicked() {\n    this.store.dispatch(new ActivateModelEdit('labels'));\n  }\n}\n","<sm-model-info-labels-view\n  [model]=\"selectedModel$ |async\"\n  [isSharedAndNotOwner]=\"isSharedAndNotOwner$ | async\"\n  [saving]=\"(saving$ | async)\"\n  (saveFormData)=\"saveFormData($event)\"\n  (cancelClicked)=\"cancelClicked()\"\n  (activateEditClicked)=\"activateEditClicked()\"\n></sm-model-info-labels-view>\n","import {RouterModule, Routes} from '@angular/router';\nimport {NgModule} from '@angular/core';\nimport {ModelsComponent} from './models.component';\nimport {ModelInfoComponent} from './containers/model-info/model-info.component';\nimport {ModelInfoGeneralComponent} from './containers/model-info-general/model-info-general.component';\nimport {ModelInfoNetworkComponent} from './containers/model-info-network/model-info-network.component';\nimport {ModelInfoLabelsComponent} from './containers/model-info-labels/model-info-labels.component';\nimport {LeavingBeforeSaveAlertGuard} from '../shared/guards/leaving-before-save-alert.guard';\n\nexport const routes: Routes = [\n  {\n    path     : '',\n    component: ModelsComponent,\n    children : [\n      {\n        path    : ':modelId', component: ModelInfoComponent,\n        children: [\n          {path: '', redirectTo: 'general'},\n          {path: 'general', component: ModelInfoGeneralComponent},\n          {path: 'network', component: ModelInfoNetworkComponent, canDeactivate: [LeavingBeforeSaveAlertGuard]},\n          {path: 'labels', component: ModelInfoLabelsComponent, canDeactivate: [LeavingBeforeSaveAlertGuard]},\n        ]\n      },\n    ]\n  }\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [RouterModule]\n})\nexport class ModelRouterModule {\n}\n\n","import {Injectable} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {Actions, createEffect, ofType} from '@ngrx/effects';\nimport {Action, Store} from '@ngrx/store';\nimport {get, isEqual, uniq} from 'lodash/fp';\nimport {EMPTY, of} from 'rxjs';\nimport {\n  auditTime,\n  catchError,\n  expand,\n  filter,\n  map,\n  mergeMap,\n  reduce,\n  switchMap,\n  tap,\n  withLatestFrom\n} from 'rxjs/operators';\nimport {ApiModelsService} from '~/business-logic/api-services/models.service';\nimport {BlModelsService} from '~/business-logic/services/models.service';\nimport {requestFailed} from '../../core/actions/http.actions';\nimport {activeLoader, addMessage, deactivateLoader, setServerError} from '../../core/actions/layout.actions';\nimport {setArchive as setProjectArchive} from '../../core/actions/projects.actions';\nimport {setURLParams} from '../../core/actions/router.actions';\nimport {selectIsArchivedMode, selectIsDeepMode, selectSelectedProjectId} from '../../core/reducers/projects.reducer';\nimport {selectRouterParams} from '../../core/reducers/router-reducer';\nimport {selectAppVisible} from '../../core/reducers/view.reducer';\nimport {addMultipleSortColumns, escapeRegex, getRouteFullUrl} from '../../shared/utils/shared-utils';\nimport {GetModelInfo, RefreshModelInfo} from '../actions/models-info.actions';\nimport * as actions from '../actions/models-view.actions';\nimport {setSelectedModelsDisableAvailable} from '../actions/models-view.actions';\nimport {MODELS_PAGE_SIZE, MODELS_TABLE_COLS} from '../models.consts';\nimport * as modelsSelectors from '../reducers';\nimport {selectSelectedModels, selectTableSortFields} from '../reducers';\nimport {IModelsViewState} from '../reducers/models-view.reducer';\nimport {MODEL_TAGS, MODELS_ONLY_FIELDS, MODELS_TABLE_COL_FIELDS} from '../shared/models.const';\nimport {SelectedModel} from '../shared/models.model';\nimport {ApiUsersService} from '~/business-logic/api-services/users.service';\nimport {ModelsGetAllExRequest} from '~/business-logic/model/models/modelsGetAllExRequest';\nimport {addExcludeFilters, encodeColumns, encodeOrder} from '../../shared/utils/tableParamEncode';\nimport {EmptyAction, MESSAGES_SEVERITY} from '~/app.constants';\nimport {ApiProjectsService} from '~/business-logic/api-services/projects.service';\nimport {ICommonSearchState} from '../../common-search/common-search.reducer';\nimport {SortMeta} from 'primeng/api';\nimport {\n  CountAvailableAndIsDisableSelectedFiltered,\n  MenuItems,\n  selectionDisabledArchive,\n  selectionDisabledDelete,\n  selectionDisabledMoveTo,\n  selectionDisabledPublishModels,\n  selectionDisabledTags\n} from '../../shared/entity-page/items.utils';\nimport {FilterMetadata} from 'primeng/api/filtermetadata';\nimport {ModelsGetAllExResponse} from '~/business-logic/model/models/modelsGetAllExResponse';\n\n@Injectable()\nexport class ModelsViewEffects {\n\n  constructor(private actions$: Actions, private store: Store<IModelsViewState>,\n              private apiModels: ApiModelsService, private projectsApi: ApiProjectsService, private modelBl: BlModelsService, private usersApi: ApiUsersService,\n              private router: Router, private route: ActivatedRoute\n  ) {\n  }\n  /* eslint-disable @typescript-eslint/naming-convention */\n\n  activeLoader = createEffect( () => this.actions$.pipe(\n    ofType(actions.getNextModels, actions.globalFilterChanged, actions.fetchModelsRequested,\n      actions.tableSortChanged, actions.tableFilterChanged, actions.refreshModels,\n      actions.afterSetArchive, actions.getUsers, actions.setTableFilters, actions.selectAllModels),\n    filter((action) => !(action as ReturnType<typeof actions.refreshModels>).hideLoader),\n    map(() => activeLoader('Fetch Models'))\n  ));\n\n  tableSortChange = createEffect( () => this.actions$.pipe(\n    ofType(actions.tableSortChanged),\n    withLatestFrom(\n      this.store.select(selectTableSortFields),\n      this.store.select(selectSelectedProjectId),\n    ),\n    switchMap(([action, oldOrders, projectId]) => {\n      const orders = addMultipleSortColumns(oldOrders, action.colId, action.isShift);\n      return [actions.setTableSort({orders, projectId})];\n    })\n  ));\n\n  reFetchModels = createEffect( () => this.actions$.pipe(\n    ofType(\n      actions.fetchModelsRequested, actions.getNextModelsWithPageSize, actions.globalFilterChanged, actions.showSelectedOnly,\n      actions.tableSortChanged, actions.tableFilterChanged, actions.afterSetArchive.type,\n      actions.setTableFilters\n    ),\n    auditTime(50),\n    switchMap((action) => this.fetchModels$(null, false, (action as any).pageSize as number)\n      .pipe(\n        mergeMap(res => [\n          actions.setNoMoreModels({payload: (res.models.length < MODELS_PAGE_SIZE)}),\n          actions.setModels({models: res.models}),\n          actions.setCurrentScrollId({scrollId: res.scroll_id}),\n          deactivateLoader('Fetch Models')\n        ]),\n        catchError(error => [\n          requestFailed(error),\n          deactivateLoader('Fetch Models'),\n          setServerError(error, null, 'Fetch Models for selection failed')\n        ])\n      )\n    )\n  ));\n\n  getFrameworksEffect = createEffect( () => this.actions$.pipe(\n    ofType(actions.getFrameworks),\n    withLatestFrom(\n      this.store.select(selectRouterParams).pipe(map(params => get('projectId', params))),\n    ),\n    switchMap(([, projectId]) => this.apiModels.modelsGetFrameworks({projects: projectId !== '*' ? [projectId] : []})\n      .pipe(\n        mergeMap(res => [\n          actions.setFrameworks({frameworks: res.frameworks.concat(null)}),\n        ]),\n        catchError(error => [\n          requestFailed(error),\n          setServerError(error, null, 'Fetch frameworks failed')]\n        )\n      )\n    )\n  ));\n\n  getFilteredUsersEffect = createEffect( () => this.actions$.pipe(\n    ofType(actions.getFilteredUsers),\n    withLatestFrom(this.store.select(modelsSelectors.selectModelsUsers), this.store.select(modelsSelectors.selectTableFilters)),\n    switchMap(([, users, filters]) => this.usersApi.usersGetAllEx({\n      order_by: ['name'],\n      only_fields: ['name'],\n      id: get(['user.name', 'value'], filters) || []\n    }).pipe(\n      mergeMap(res => [\n        actions.setUsers({users: uniq(res.users.concat(users))}),\n      ]),\n      catchError(error => [\n        requestFailed(error),\n        setServerError(error, null, 'Fetch users failed')]\n      )\n    ))\n  ));\n\n  getUsersEffect = createEffect( () => this.actions$.pipe(\n    ofType(actions.getUsers),\n    withLatestFrom(\n      this.store.select(selectRouterParams).pipe(map(params => get('projectId', params))),\n      this.store.select(modelsSelectors.selectTableFilters)\n    ),\n    switchMap(([, projectId, filters]) => this.usersApi.usersGetAllEx({\n      order_by: ['name'],\n      only_fields: ['name'],\n      active_in_projects: projectId !== '*' ? [projectId] : []\n    }).pipe(\n      mergeMap(res => {\n        const userFiltersValue = get([MODELS_TABLE_COL_FIELDS.USER, 'value'], filters) || [];\n        const resIds = res.users.map(user => user.id);\n        const shouldGetFilteredUsersNames = !(userFiltersValue.every(id => resIds.includes(id)));\n        return [\n          actions.setUsers(res),\n          shouldGetFilteredUsersNames ? actions.getFilteredUsers() : new EmptyAction(),\n          deactivateLoader('Fetch Models')\n        ];\n      }),\n      catchError(error => [\n        requestFailed(error),\n        deactivateLoader('Fetch Models'),\n        setServerError(error, null, 'Fetch users failed')\n      ])\n    ))\n  ));\n\n  getTagsEffect = createEffect( () => this.actions$.pipe(\n    ofType(actions.getTags),\n    withLatestFrom(this.store.select(selectRouterParams).pipe(map(params => get('projectId', params)))),\n    switchMap(([, projectId]) => this.projectsApi.projectsGetModelTags({\n      projects: projectId === '*' ? [] : [projectId]\n    }).pipe(\n      mergeMap(res => [\n        actions.setTags({tags: res.tags.concat(null)}),\n        deactivateLoader('Fetch Models')\n      ]),\n      catchError(error => [\n        requestFailed(error),\n        deactivateLoader('Fetch Models'),\n        setServerError(error, null, 'Fetch tags failed')]\n      )\n    ))\n  ));\n\n  refreshModels = createEffect( () => this.actions$.pipe(\n    ofType(actions.refreshModels),\n    withLatestFrom(\n      this.store.select(modelsSelectors.selectCurrentScrollId),\n      this.store.select(modelsSelectors.selectSelectedModel),\n      this.store.select(modelsSelectors.selectModelsList),\n      this.store.select(selectAppVisible)),\n    filter((values) => values[4]),\n    switchMap(([action, scrollId, selectedModel, models]) => this.fetchModels$(scrollId, true)\n      .pipe(\n        mergeMap(res => {\n          const resActions: Action[] = [deactivateLoader('Fetch Models')];\n          if (selectedModel) {\n            if (action.hideLoader || action.autoRefresh) {\n              resActions.push(new RefreshModelInfo(selectedModel.id));\n            } else {\n              resActions.push(new GetModelInfo(selectedModel.id));\n            }\n          }\n          if (selectedModel && action.autoRefresh && isEqual(models.map(model => model.id).sort(), res.models.map(model => model.id).sort())) {\n            resActions.push(actions.setModelsInPlace({models: res.models}));\n          } else {\n            resActions.push(actions.setModels({models: res.models}));\n          }\n          return resActions;\n        }),\n        catchError(error => [\n          requestFailed(error),\n          deactivateLoader('Fetch Models'),\n          setServerError(error, null, 'Fetch Models failed', action.autoRefresh)\n        ])\n      )\n    )\n  ));\n\n  getModels = createEffect( () => this.actions$.pipe(\n    ofType(actions.getNextModels),\n    withLatestFrom(\n      this.store.select(modelsSelectors.selectCurrentScrollId),\n      this.store.select(modelsSelectors.selectModelsList)\n      ),\n    switchMap(([, scrollId, modelsList]) => this.fetchModels$(scrollId)\n        .pipe(\n          mergeMap(res => {\n\n            const addModelsAction = scrollId === res.scroll_id ?\n              [actions.addModels({models: res.models})] :\n              [actions.getNextModelsWithPageSize({pageSize: modelsList.length}), addMessage(MESSAGES_SEVERITY.WARN, 'Session expired')];\n\n            return  [\n              actions.setNoMoreModels({payload: (res.models.length < MODELS_PAGE_SIZE)}),\n              ...addModelsAction,\n              actions.setCurrentScrollId({scrollId: res.scroll_id}),\n              deactivateLoader('Fetch Models'),\n            ];\n          }),\n          catchError(error => [requestFailed(error), deactivateLoader('Fetch Models'), setServerError(error, null, 'Fetch Models failed')])\n        )\n    )\n  ));\n\n  selectAll = createEffect(() => this.actions$.pipe(\n    ofType(actions.selectAllModels),\n    withLatestFrom(\n      this.store.select(selectRouterParams).pipe(map(params => get('projectId', params))),\n      this.store.select(selectIsArchivedMode),\n      this.store.select(modelsSelectors.selectGlobalFilter),\n      this.store.select(modelsSelectors.selectTableFilters),\n      this.store.select(selectIsDeepMode),\n    ),\n    switchMap(([action, projectId, archived, globalSearch, tableFilters, deep]) => {\n      const pageSize = 1000;\n      const query = this.getGetAllQuery({\n        projectId, searchQuery: action.filtered && globalSearch, archived, orderFields:[],\n        filters: action.filtered ? tableFilters : {}, selectedIds: [], deep, pageSize\n      });\n      query.only_fields = [MODELS_TABLE_COL_FIELDS.NAME, MODELS_TABLE_COL_FIELDS.READY, 'company.id'];\n      return this.apiModels.modelsGetAllEx(query).pipe(\n        expand((res: ModelsGetAllExResponse)  => res.models.length === pageSize ? this.apiModels.modelsGetAllEx({...query, scroll_id: res.scroll_id}): EMPTY),\n        reduce((acc, res: ModelsGetAllExResponse) => acc.concat(res.models), [])\n      );\n    }),\n    switchMap(models => [actions.setSelectedModels({models}), deactivateLoader('Fetch Models')]),\n    catchError(error => [requestFailed(error), deactivateLoader('Fetch Models'), setServerError(error, null, 'Fetch Models failed')])\n));\n\n  updateModelsUrlParams = createEffect( () => this.actions$.pipe(\n    ofType(actions.setColsOrderForProject, actions.toggleColHidden),\n    filter(action => !(action as ReturnType<typeof actions.setColsOrderForProject>)?.fromUrl),\n    withLatestFrom(\n      this.store.select(modelsSelectors.selectTableFilters),\n      this.store.select(modelsSelectors.selectTableSortFields),\n      this.store.select(selectIsArchivedMode),\n      this.store.select(modelsSelectors.selectModelsTableColsOrder),\n      this.store.select(modelsSelectors.selectModelsHiddenTableCols),\n      this.store.select(selectIsDeepMode)\n    ),\n    mergeMap(([, filters, sortFields, isArchived, colsOrder, hiddenCols, isDeep]) =>\n      [setURLParams({\n        filters: filters as any,\n        orders: sortFields,\n        isArchived,\n        isDeep,\n        columns: encodeColumns(MODELS_TABLE_COLS, hiddenCols, [], colsOrder)\n      })]\n    )\n  ));\n\n  modelSelectionChanged = createEffect( () => this.actions$.pipe(\n    ofType(actions.modelSelectionChanged),\n    tap(action => this.navigateAfterModelSelectionChanged(action.model, action.project)),\n    mergeMap(() => [])\n    // map(action => actions.setSelectedModel({model: action.model}))\n  ));\n\n  setArchiveMode = createEffect( () => this.actions$.pipe(\n    ofType(actions.setArchive),\n    switchMap(action => [setProjectArchive(action), actions.afterSetArchive()])\n  ));\n  getReadyFilter(tableFilters) {\n    switch (get('ready.value.length', tableFilters)) {\n      case 0:\n        return null;\n      case 1:\n        return tableFilters.ready.value[0] === 'true';\n      case 2:\n        return null;\n      default:\n        return null;\n    }\n  }\n\n  getGetAllQuery({\n    refreshScroll = false, scrollId = null, projectId, searchQuery, archived, orderFields,\n    filters, selectedIds = [], deep, pageSize = MODELS_PAGE_SIZE}: {\n    refreshScroll?: boolean;\n    scrollId?: string;\n    projectId: string;\n    searchQuery: ICommonSearchState['searchQuery'];\n    archived: boolean;\n    orderFields: SortMeta[];\n    filters: { [key: string]: FilterMetadata };\n    selectedIds: string[];\n    deep: boolean;\n    pageSize: number;\n  }): ModelsGetAllExRequest {\n    const userFilter = filters?.[MODELS_TABLE_COL_FIELDS.USER]?.value;\n    const tagsFilter = filters?.[MODELS_TABLE_COL_FIELDS.TAGS]?.value;\n    const tagsFilterAnd = filters?.[MODELS_TABLE_COL_FIELDS.TAGS]?.matchMode === 'AND';\n    const systemTags = get(['system_tags', 'value'], filters);\n    const frameworkFilter = filters?.[MODELS_TABLE_COL_FIELDS.FRAMEWORK]?.value;\n    const ready = this.getReadyFilter(filters)\n    const systemTagsFilter = (archived ? [MODEL_TAGS.HIDDEN] : ['-' + MODEL_TAGS.HIDDEN])\n      .concat(systemTags ? systemTags : []);\n    return {\n      id: selectedIds,\n      ...(searchQuery?.query && {_any_: {\n        pattern: searchQuery.regExp ? searchQuery.query : escapeRegex(searchQuery.query),\n        fields: ['id', 'name', 'comment', 'system_tags']\n      }}),\n      project: (!projectId || projectId === '*') ? undefined : [projectId],\n      scroll_id: scrollId || null, // null to create new scroll (undefined doesn't generate scroll)\n      refresh_scroll: refreshScroll,\n      size: pageSize,\n      include_subprojects: deep,\n      order_by: encodeOrder(orderFields),\n      system_tags: (systemTagsFilter && systemTagsFilter.length > 0) ? systemTagsFilter : [],\n      only_fields: MODELS_ONLY_FIELDS,\n      ...(tagsFilter?.length > 0 && {tags: addExcludeFilters(tagsFilterAnd ? ['__$and', ...tagsFilter] : tagsFilter)}),\n      ...(frameworkFilter?.length > 0 && {framework: frameworkFilter}),\n      ...(userFilter?.length > 0 && {user: userFilter}),\n      ...(ready!==null && {ready})\n    };\n  }\n\n\n  fetchModels$(scrollId1: string, refreshScroll: boolean = false, pageSize = MODELS_PAGE_SIZE) {\n    return of(scrollId1)\n      .pipe(\n        withLatestFrom(\n          this.store.select(selectRouterParams).pipe(map(params => get('projectId', params))),\n          this.store.select(selectIsArchivedMode),\n          this.store.select(modelsSelectors.selectGlobalFilter),\n          this.store.select(modelsSelectors.selectTableSortFields),\n          this.store.select(modelsSelectors.selectTableFilters),\n          this.store.select(modelsSelectors.selectSelectedModels),\n          this.store.select(modelsSelectors.selectShowAllSelectedIsActive),\n          this.store.select(modelsSelectors.selectModelsTableColsOrder),\n          this.store.select(modelsSelectors.selectModelsHiddenTableCols),\n          this.store.select(selectIsDeepMode),\n        ),\n        switchMap(([scrollId, projectId, isArchived, gb, orderFields, filters, selectedModels, showAllSelectedIsActive, colsOrder, hiddenCols, deep]) => {\n          const selectedIds = showAllSelectedIsActive ? selectedModels.map(exp => exp.id) : [];\n          const columns = encodeColumns(MODELS_TABLE_COLS, hiddenCols, [], colsOrder);\n          this.setModelsUrlParams(filters, orderFields, isArchived, columns, deep);\n          return this.apiModels.modelsGetAllEx(this.getGetAllQuery({\n            refreshScroll, scrollId, projectId, searchQuery: gb, archived: isArchived,\n            orderFields, filters, selectedIds, deep, pageSize\n          }));\n        })\n      );\n  }\n\n  setSelectedModels = createEffect(() => this.actions$.pipe(\n        ofType(actions.setSelectedModels, actions.updateModel),\n        withLatestFrom(\n          this.store.select(selectSelectedModels),\n        ),\n        switchMap(([action, selectedModels]) => {\n          const payload = action.type === actions.setSelectedModels.type ?\n            (action as ReturnType<typeof actions.setSelectedModels>).models : selectedModels;\n          const selectedModelsDisableAvailable: Record<string, CountAvailableAndIsDisableSelectedFiltered> = {\n            [MenuItems.publish]: selectionDisabledPublishModels(payload),\n            [MenuItems.archive]: selectionDisabledArchive(payload),\n            [MenuItems.moveTo]: selectionDisabledMoveTo(payload),\n            [MenuItems.delete]: selectionDisabledDelete(payload),\n            [MenuItems.tags]: selectionDisabledTags(payload),\n          };\n          return [setSelectedModelsDisableAvailable({selectedModelsDisableAvailable})];\n        })\n      )\n  );\n\n  setModelsUrlParams(filters, sortFields, isArchived, columns, isDeep) {\n    this.store.dispatch(setURLParams({filters, orders: sortFields, isArchived, columns, isDeep}));\n  }\n\n  navigateAfterModelSelectionChanged(selectedModel: SelectedModel, modelProject: string) {\n    // wow angular really suck...\n    const activeChild = get('firstChild.firstChild.firstChild.firstChild.firstChild.firstChild', this.route);\n    const activeChildUrl = activeChild ? getRouteFullUrl(activeChild) : 'general';\n    const baseUrl = 'projects/' + modelProject + '/models';\n    selectedModel ?\n      this.router.navigate([baseUrl + '/' + selectedModel.id + '/' + activeChildUrl], {queryParamsHandling: 'preserve'}) : this.router.navigate([baseUrl], {queryParamsHandling: 'preserve'});\n  }\n\n  isSelectedModelInCheckedModels(checkedModels, selectedModel) {\n    return selectedModel && checkedModels.map(model => model.id).includes(selectedModel.id);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {Actions, createEffect, ofType} from '@ngrx/effects';\nimport {Action, Store} from '@ngrx/store';\nimport {catchError, debounceTime, filter, map, mergeMap, shareReplay, switchMap, withLatestFrom} from 'rxjs/operators';\nimport {ApiModelsService} from '~/business-logic/api-services/models.service';\nimport {ModelsGetAllResponse} from '~/business-logic/model/models/modelsGetAllResponse';\nimport {requestFailed} from '../../core/actions/http.actions';\nimport {activeLoader, deactivateLoader, setBackdrop, setServerError} from '../../core/actions/layout.actions';\nimport {selectAppVisible} from '../../core/reducers/view.reducer';\nimport * as infoActions from '../actions/models-info.actions';\nimport * as viewActions from '../actions/models-view.actions';\nimport {ModelInfoState} from '../reducers/model-info.reducer';\nimport {MODELS_INFO_ONLY_FIELDS} from '../shared/models.const';\nimport {selectSelectedModel} from '../reducers';\nimport {EmptyAction} from '~/app.constants';\nimport {SelectedModel} from '../shared/models.model';\nimport {selectActiveWorkspace} from '../../core/reducers/users-reducer';\nimport {isExample, isSharedAndNotOwner} from '../../shared/utils/shared-utils';\n\n@Injectable()\nexport class ModelsInfoEffects {\n\n  constructor(private actions$: Actions, private store: Store<ModelInfoState>,\n              private apiModels: ApiModelsService) {\n  }\n\n  activeLoader = createEffect(() => this.actions$.pipe(\n    ofType(infoActions.GET_MODEL_INFO),\n    map(action => activeLoader(action.type))));\n\n\n  getModelInfo$ = createEffect(() => this.actions$.pipe(\n    ofType<infoActions.GetModelInfo>(infoActions.GET_MODEL_INFO, infoActions.REFRESH_MODEL_INFO),\n    withLatestFrom(this.store.select(selectActiveWorkspace), this.store.select(selectAppVisible)),\n    filter(([, , visible]) => visible),\n    switchMap(([action, activeWorkspace]) =>\n      this.apiModels.modelsGetByIdEx({id: [action.payload], only_fields: MODELS_INFO_ONLY_FIELDS})\n        .pipe(\n          mergeMap((res: ModelsGetAllResponse) => {\n            const model = res.models[0] as SelectedModel;\n            const actions = [deactivateLoader(action.type)] as Action[];\n            if( model) {\n              model.readOnly = isExample(model) || isSharedAndNotOwner(model, activeWorkspace);\n              actions.push(new infoActions.SetModel(model as SelectedModel));\n            }\n            return actions;\n          }),\n          catchError(error => [\n            requestFailed(error),\n            deactivateLoader(action.type),\n            setServerError(error, null, 'Fetch Model failed')\n          ])\n        )\n    )\n  ));\n\n  editModel$ = createEffect(() => this.actions$.pipe(\n    ofType<infoActions.EditModel>(infoActions.EDIT_MODEL),\n    debounceTime(1000),\n    switchMap((action) => {\n      const parent = action.payload.parent ? (action.payload.parent as any).id : undefined;\n      return this.apiModels.modelsEdit({\n        model: action.payload.id, ...action.payload,\n        project: action.payload.project?.id,\n        task: action.payload.task?.id,\n        parent: parent\n      })\n        .pipe(\n          mergeMap(() => [\n            new infoActions.GetModelInfo(action.payload.id),\n            new infoActions.SetIsModelSaving(false),\n            setBackdrop({payload: false})\n          ]),\n          catchError(err => [\n            requestFailed(err),\n            setServerError(err, null, 'edit models failed'),\n            setBackdrop({payload: false}),\n            new infoActions.GetModelInfo(action.payload.id)\n          ])\n        );\n    }),\n    shareReplay(1)\n  ));\n\n  updateModelDetails$ = createEffect(() => this.actions$.pipe(\n    ofType(infoActions.updateModelDetails),\n    withLatestFrom(this.store.select(selectSelectedModel)),\n    mergeMap(([action, selectedModel]) =>\n      this.apiModels.modelsUpdate({model: action.id, ...action.changes})\n        .pipe(\n          mergeMap((res) => {\n            const changes = res?.fields || action.changes;\n            return [\n              viewActions.updateModel({id: action.id, changes}),\n              selectedModel?.id === action.id ? new infoActions.ModelDetailsUpdated({\n                id: action.id,\n                changes\n              }) : new EmptyAction()\n            ];\n          }),\n          catchError(err => [\n            requestFailed(err),\n            setServerError(err, null, 'Update models failed'),\n            new infoActions.GetModelInfo(action.id)\n          ])\n        )\n    ),\n    shareReplay(1)\n  ));\n\n}\n","import {Injectable} from '@angular/core';\nimport {Actions, createEffect, ofType} from '@ngrx/effects';\nimport {Action, Store} from '@ngrx/store';\nimport {ModelInfoState} from '../reducers/model-info.reducer';\nimport {ApiModelsService} from '../../../business-logic/api-services/models.service';\nimport {catchError, map, mergeMap, switchMap, tap, withLatestFrom} from 'rxjs/operators';\nimport * as infoActions from '../actions/models-info.actions';\nimport {updateModelDetails} from '../actions/models-info.actions';\nimport * as viewActions from '../actions/models-view.actions';\nimport * as menuActions from '../actions/models-menu.actions';\nimport {addTag, removeTag} from '../actions/models-menu.actions';\nimport {activeLoader, addMessage, deactivateLoader, setServerError} from '../../core/actions/layout.actions';\nimport {requestFailed} from '../../core/actions/http.actions';\nimport {ApiAuthService} from '../../../business-logic/api-services/auth.service';\nimport {BlModelsService} from '../../../business-logic/services/models.service';\nimport {get} from 'lodash/fp';\nimport {Router} from '@angular/router';\nimport {ApiTasksService} from '../../../business-logic/api-services/tasks.service';\nimport {of} from 'rxjs';\nimport {selectSelectedModel, selectSelectedModels, selectSelectedTableModel} from '../reducers';\nimport {SelectedModel} from '../shared/models.model';\nimport {RouterState, selectRouterConfig, selectRouterParams} from '../../core/reducers/router-reducer';\nimport {ModelsArchiveManyResponse} from '../../../business-logic/model/models/modelsArchiveManyResponse';\nimport {MatDialog} from '@angular/material/dialog';\nimport {EmptyAction} from '../../../app.constants';\nimport {EntityTypeEnum} from '../../../shared/constants/non-common-consts';\nimport {ModelsUnarchiveManyResponse} from '../../../business-logic/model/models/modelsUnarchiveManyResponse';\nimport {getNotificationAction, MenuItems, MoreMenuItems} from '../../shared/entity-page/items.utils';\n\n@Injectable()\nexport class ModelsMenuEffects {\n\n  constructor(private actions$: Actions, private store: Store<ModelInfoState>, private apiModels: ApiModelsService, private apiTasks: ApiTasksService,\n              private authApi: ApiAuthService, private modelBl: BlModelsService, private router: Router, private matDialog: MatDialog) {\n  }\n\n  activeLoader = createEffect( () => this.actions$.pipe(\n    ofType(menuActions.archivedSelectedModels, menuActions.publishModelClicked,\n      menuActions.restoreSelectedModels, menuActions.changeProjectRequested),\n    map(action => activeLoader(action.type))));\n\n\n  publishModel$ = createEffect( () => this.actions$.pipe(\n    ofType(menuActions.publishModelClicked),\n    withLatestFrom(this.store.select(selectSelectedModel)),\n    switchMap(([action, selectedModel]) => {\n      const ids = action.selectedModels.map(model => model.id);\n      return this.apiModels.modelsPublishMany({ids})\n          .pipe(\n            mergeMap(res => this.updateModelsSuccess(action, MenuItems.publish, ids, selectedModel, res, {ready: true})),\n            catchError(error => this.publishModelFailedText(error, action.selectedModels).pipe(\n              mergeMap(errorMessage => [\n                requestFailed(error),\n                deactivateLoader(action.type),\n                setServerError(error, null, errorMessage)\n              ])\n              )\n            )\n          )\n      }\n    )\n  ));\n\n\n  changeProject$ = createEffect( () => this.actions$.pipe(\n    ofType(menuActions.changeProjectRequested),\n    withLatestFrom(this.store.select(selectSelectedModel)),\n    switchMap(\n      ([action, selectedInfoModel]) => {\n        const selectedModel = action.selectedModels.find(model => model.id === selectedInfoModel?.id);\n        return this.apiModels.modelsMove({\n          ids: action.selectedModels.map(model => model.id),\n          project: action.project.id,\n          project_name: action.project.name})\n          .pipe(\n            tap((res) => this.router.navigate([`projects/${action.project.id? action.project.id : res.project_id}/models/${action.selectedModels.length === 1 ? action.selectedModels[0].id : ''}`], {queryParamsHandling: 'merge'})),\n            mergeMap(() => [\n              viewActions.resetState(),\n              selectedModel ? new infoActions.SetModel(selectedModel) : new EmptyAction(),\n              deactivateLoader(action.type)\n            ]),\n            catchError(error => [requestFailed(error), deactivateLoader(action.type)])\n          )\n      }\n    )\n  ));\n\n  publishModelFailedText(error: any, model) {\n    if (model.task && get('error.meta.result_subcode', error) == 110) {\n      return this.apiTasks.tasksGetAllEx({id: [model.task.id], only_fields: ['id', 'name', 'project']}).pipe(\n        map((tasks) => {\n          const task = tasks.tasks[0];\n          const projectId = task.project ? task.project.id : '*';\n          const taskLink = `<a target=\"_blank\" href=\"projects/${projectId}/experiments/${task.id}\">${task.name}</a>`;\n          return `Your attempt to publish this model failed.  The task that created this model may be in progress.<br>When the task ${taskLink} completes or is stopped by a user, you can try again.`;\n        })\n      );\n    } else {\n      const errorText = 'Your attempt to publish models failed.';\n      return of(errorText);\n    }\n  }\n\n  addTag$ = createEffect( () => this.actions$.pipe(\n    ofType(addTag),\n    withLatestFrom(this.store.select(selectSelectedModels), this.store.select(selectSelectedTableModel)),\n    switchMap(([action, selectedModels, selectedModelInfo]) => {\n        const modelsFromState = selectedModelInfo ? selectedModels.concat(selectedModelInfo) as SelectedModel[] : selectedModels;\n        return action.models.map(model => {\n          const modelFromState = modelsFromState.find(mod => mod.id === model.id);\n          return updateModelDetails({\n            id: model.id,\n            changes: {tags: Array.from(new Set((modelFromState?.tags || model.tags || []).concat([action.tag]))).sort() as string[]}\n          });\n        });\n      }\n    )\n  ));\n\n  removeTag$ = createEffect( () => this.actions$.pipe(\n    ofType(removeTag),\n    switchMap((action) =>\n      action.models.map(model => {\n        if (model.tags.includes(action.tag)) {\n          return updateModelDetails({\n            id: model.id,\n            changes: {tags: model.tags.filter(tag => tag !== action.tag)}\n          });\n        } else {\n          return null;\n        }\n      }).filter(update => update !== null)\n        .concat(addMessage('success', `“${action.tag}” tag has been removed from “${action.models[0]?.name}” model`, [\n            {\n              name: 'Undo',\n              actions: [\n                addMessage('success', `“${action.tag}” tag has been restored`),\n                ...action.models.map(() => addTag({\n                    models: action.models,\n                    tag: action.tag\n                  })\n                )\n              ]\n            }\n          ]\n        ) as any)\n    )\n  ));\n\n  archiveModels = createEffect(() => this.actions$.pipe(\n    ofType(menuActions.archivedSelectedModels),\n    withLatestFrom(\n      this.store.select(selectRouterParams),\n      this.store.select(selectSelectedTableModel)\n    ),\n    tap(([action, routerParams, selectedModel]) => {\n      if (this.isSelectedModelInCheckedModels(action.selectedEntities, selectedModel)) {\n        this.router.navigate([`projects/${routerParams.projectId}/models/`]);\n      }\n    }),\n    switchMap(([action, routerParams]) => this.apiModels.modelsArchiveMany({ids: action.selectedEntities.map((model) => model.id)})\n      .pipe(\n        withLatestFrom(this.store.select(selectRouterConfig)),\n        mergeMap(([res, routerConfig]: [ModelsArchiveManyResponse, RouterState['config']]) => {\n          const models = action.selectedEntities;\n          const allFailed = res.failed.length === models.length;\n          const undoAction = [\n            {\n              name: 'Undo', actions: [\n                viewActions.setSelectedModels({models}),\n                menuActions.restoreSelectedModels({selectedEntities: models, skipUndo: true})\n              ]\n            }\n          ];\n          let actions: Action[] = [\n            deactivateLoader(action.type),\n            viewActions.setSelectedModels({models: []}),\n            getNotificationAction(res, action, MenuItems.archive, EntityTypeEnum.model, (action.skipUndo || allFailed) ? [] : undoAction)\n          ];\n          if (routerConfig.includes('models')) {\n            const failedIds = res.failed.map(fail => fail.id);\n            const successModels = models.map(model => model.id).filter(id => !failedIds.includes(id));\n            actions = actions.concat([\n              viewActions.removeModels({modelIds: successModels}),\n              viewActions.fetchModelsRequested()\n            ]);\n          }\n          return actions;\n        }),\n        catchError(error => [\n          requestFailed(error),\n          deactivateLoader(action.type),\n          setServerError(error, null, 'Failed To Archive models')\n        ])\n      )\n    )\n  ));\n\n\n  restoreModels = createEffect(() => this.actions$.pipe(\n    ofType(menuActions.restoreSelectedModels),\n    withLatestFrom(\n      this.store.select(selectRouterParams),\n      this.store.select(selectSelectedTableModel)\n    ),\n    tap(([action, routerParams, selectedModel]) => {\n      if (this.isSelectedModelInCheckedModels(action.selectedEntities, selectedModel)) {\n        this.router.navigate([`projects/${routerParams.projectId}/models/`]);\n      }\n    }),\n    switchMap(([action, routerParams]) => this.apiModels.modelsUnarchiveMany({ids: action.selectedEntities.map((model) => model.id)})\n      .pipe(\n        withLatestFrom(this.store.select(selectRouterConfig)),\n        mergeMap(([res, routerConfig]: [ModelsUnarchiveManyResponse, RouterState['config']]) => {\n          const models = action.selectedEntities;\n          const allFailed = res.failed.length === models.length;\n          const undoAction = [\n            {\n              name: 'Undo', actions: [\n                viewActions.setSelectedModels({models}),\n                menuActions.archivedSelectedModels({selectedEntities: models, skipUndo: true})\n              ]\n            }\n          ];\n          let actions: Action[] = [\n            deactivateLoader(action.type),\n            viewActions.setSelectedModels({models: []}),\n            getNotificationAction(res, action, MoreMenuItems.restore, EntityTypeEnum.model, (action.skipUndo || allFailed) ? [] : undoAction)\n          ];\n          if (routerConfig.includes('models')) {\n            const failedIds = res.failed.map(fail => fail.id);\n            const successModels = models.map(model => model.id).filter(id => !failedIds.includes(id));\n            actions = actions.concat([\n              viewActions.removeModels({modelIds: successModels}),\n              viewActions.fetchModelsRequested()\n            ]);\n          }\n          return actions;\n        }),\n        catchError(error => [\n          requestFailed(error),\n          deactivateLoader(action.type),\n          setServerError(error, null, 'Failed To Restore models')\n        ])\n      )\n    )\n  ));\n\n\n  private updateModelsSuccess(action, operationName: MenuItems, ids: string[], selectedEntity, res: ModelsArchiveManyResponse, changes): Action[] {\n    const actions = [\n        ...ids.map(id => viewActions.updateModel({id, changes})),\n      deactivateLoader(action.type)\n      ] as Action[];\n    if (ids.includes(selectedEntity?.id)) {\n      actions.push(new infoActions.SetModel({...selectedEntity, ...changes}));\n    }\n    actions.push(getNotificationAction(res, action, operationName, EntityTypeEnum.model));\n    return actions;\n  }\n\n\n\n  isSelectedModelInCheckedModels(checkedModels, selectedModel) {\n    return selectedModel && checkedModels.some(model => model.id === selectedModel.id);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {FormControl, FormGroup, FormArray} from '@angular/forms';\n\nimport {forEach} from 'lodash/fp';\n\n@Injectable()\nexport class SmFormBuilderService {\n\n  create(formData: any, updateOn?: any) {\n    if (Array.isArray(formData)) {\n      const arr = formData.map( data => this.create(data));\n      return new FormArray(arr, {updateOn});\n    } else if (typeof formData === 'function') {\n      return formData();\n    } else if (formData instanceof Object) {\n      if (formData.value) {\n        return new FormControl(formData.value);\n      } else {\n        const obj = {};\n        Object.entries(formData).forEach(([key, value]) => obj[key] = this.create(value));\n        return new FormGroup(obj, {updateOn});\n      }\n\n    } else {\n      return new FormControl(formData);\n    }\n  }\n// @ts-ignore\n  getFormErrors(form: FormGroup | FormArray, errors?: any): any {\n    // @ts-ignore\n    forEach((control: any) => {\n      // @ts-ignore\n      errors[control.name] = control.errors;\n    }, form.controls);\n\n    return errors;\n  }\n\n  recursive(formData: any, updateOn?: any) {\n    this.create(formData, updateOn);\n  }\n\n  array(formData: Array<Object>, updateOn: any = 'change') {\n    const arr = formData.map( data => this.group(data, updateOn));\n    return new FormArray(arr, {updateOn: 'blur'});\n  }\n\n  group(formData: Object, updateOn: any = 'change') {\n    const formGroup = new FormGroup({}, {updateOn});\n    Object.entries(formData).forEach(([key, value]) => formGroup.addControl(key, new FormControl(value)));\n\n    return formGroup;\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule, DatePipe} from '@angular/common';\nimport {ModelSharedModule} from './shared/model-shared.module';\nimport {SMSharedModule} from '../shared/shared.module';\nimport {ModelRouterModule} from './models-routing.module';\nimport {ModelInfoComponent} from './containers/model-info/model-info.component';\nimport {ModelsComponent} from './models.component';\nimport {EffectsModule} from '@ngrx/effects';\nimport {StoreModule} from '@ngrx/store';\nimport {reducers} from './reducers';\nimport {ModelsViewEffects} from './effects/models-view.effects';\nimport {ModelInfoHeaderComponent} from './dumbs/model-info-header/model-info-header.component';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {ModelsInfoEffects} from './effects/models-info.effects';\nimport {ModelInfoGeneralComponent} from './containers/model-info-general/model-info-general.component';\nimport {ModelGeneralInfoComponent} from './dumbs/model-general-info/model-general-info.component';\nimport {ModelInfoNetworkComponent} from './containers/model-info-network/model-info-network.component';\nimport {ModelViewNetworkComponent} from './dumbs/model-view-network/model-view-network.component';\nimport {ModelInfoLabelsComponent} from './containers/model-info-labels/model-info-labels.component';\nimport {ModelInfoLabelsViewComponent} from './dumbs/model-info-labels-view/model-info-labels-view.component';\nimport {ExperimentSharedModule} from '~/features/experiments/shared/experiment-shared.module';\nimport {ModelsMenuEffects} from './effects/models-menu.effects';\nimport {AngularSplitModule} from 'angular-split';\nimport {CommonLayoutModule} from '../layout/layout.module';\nimport {FeatureModelsModule} from '~/features/models/feature-models.module';\nimport {SmFormBuilderService} from '../core/services/sm-form-builder.service';\nimport {MODELS_STORE_KEY} from './models.consts';\nimport {ModelCustomColsMenuComponent} from './dumbs/model-custom-cols-menu/model-custom-cols-menu.component';\nimport {ModelHeaderComponent} from '~/features/models/dumb/model-header/model-header.component';\nimport {SharedModule} from '~/shared/shared.module';\nimport {CommonDeleteDialogModule} from '../shared/entity-page/entity-delete/common-delete-dialog.module';\n\nexport const modelSyncedKeys    = [\n  'view.projectColumnsSortOrder',\n  'view.projectColumnFilters',\n  'view.projectColumnsWidth',\n  'view.hiddenProjectTableCols',\n  'view.colsOrder'\n];\n\n\n@NgModule({\n  imports: [\n    ExperimentSharedModule,\n    FormsModule,\n    ReactiveFormsModule,\n    CommonModule,\n    CommonLayoutModule,\n    ModelRouterModule,\n    ModelSharedModule,\n    CommonDeleteDialogModule,\n    SMSharedModule,\n    FeatureModelsModule,\n    AngularSplitModule,\n    StoreModule.forFeature(MODELS_STORE_KEY, reducers),\n    EffectsModule.forFeature([ModelsViewEffects, ModelsInfoEffects, ModelsMenuEffects]),\n    FeatureModelsModule,\n    SharedModule,\n  ],\n  providers      : [\n    SmFormBuilderService, DatePipe,\n  ],\n  declarations   : [ModelInfoComponent, ModelsComponent, ModelInfoHeaderComponent,\n    ModelViewNetworkComponent, ModelInfoNetworkComponent,\n    ModelInfoLabelsComponent, ModelInfoLabelsViewComponent, ModelInfoGeneralComponent,\n    ModelGeneralInfoComponent, ModelHeaderComponent,\n    ModelCustomColsMenuComponent]\n})\nexport class ModelsModule {\n}\n","import {ACTIVATE_MODEL_EDIT, EDIT_MODEL, GET_MODEL_INFO, MODEL_CANCEL_EDIT, MODEL_DETAILS_UPDATED, SET_IS_MODEL_SAVING, SET_MODEL} from '../actions/models-info.actions';\nimport {SelectedModel, TableModel} from '../shared/models.model';\nimport {cloneDeep} from 'lodash/fp';\n\nexport interface ModelInfoState {\n  selectedModel: TableModel;\n  activeSectionEdit: string;\n  infoDataFreeze: any;\n  saving: boolean;\n}\n\nconst initialState: ModelInfoState = {\n  selectedModel: null,\n  activeSectionEdit: null,\n  infoDataFreeze: null,\n  saving: false,\n};\n\nexport function modelsInfoReducer(state: ModelInfoState = initialState, action): ModelInfoState {\n\n  switch (action.type) {\n    case GET_MODEL_INFO:\n      return {...state, selectedModel: null};\n    case SET_MODEL:\n      return {...state, selectedModel: action.payload};\n    case MODEL_DETAILS_UPDATED: {\n      const newSelectedModel = {...state.selectedModel, ...action.payload.changes};\n      return {...state, selectedModel: newSelectedModel};\n    }\n    case ACTIVATE_MODEL_EDIT:\n      return {...state, activeSectionEdit: action.payload, infoDataFreeze: state.selectedModel};\n    case MODEL_CANCEL_EDIT:\n      return {...state, selectedModel: state.infoDataFreeze ? cloneDeep(state.infoDataFreeze) : state.selectedModel, activeSectionEdit: null};\n    case SET_IS_MODEL_SAVING:\n      return {...state, saving: action.payload};\n    case EDIT_MODEL:\n      return {...state, activeSectionEdit: null};\n    default:\n      return state;\n  }\n}\n\n","import {ActionReducerMap, createSelector} from '@ngrx/store';\nimport {IModelsViewState, modelsInitialState, modelsViewReducer} from './models-view.reducer';\nimport {ModelInfoState, modelsInfoReducer} from './model-info.reducer';\nimport {SelectedModel} from '../shared/models.model';\nimport {CountAvailableAndIsDisableSelectedFiltered} from '@common/shared/entity-page/items.utils';\nimport {MODELS_TABLE_COLS} from '@common/models/models.consts';\nimport {ISmCol} from '@common/shared/ui-components/data/table/table.consts';\nimport {selectRouterParams} from '@common/core/reducers/router-reducer';\nexport const reducers: ActionReducerMap<any, any> = {\n  view: modelsViewReducer,\n  info: modelsInfoReducer,\n};\n\nconst models = (state) => state.models;\n\n// view selectors.\nexport const modelsView = createSelector(models, (state): IModelsViewState => state ? state.view : {});\nexport const selectModelsList = createSelector(modelsView, (state) => state.models);\nexport const selectCurrentScrollId = createSelector(modelsView, (state): string => state.scrollId);\nexport const selectGlobalFilter = createSelector(modelsView, (state) => state.globalFilter);\nexport const selectTableSortFields = createSelector(modelsView, selectRouterParams,\n  (state, params) => state.projectColumnsSortOrder[params?.projectId] || modelsInitialState.tableSortFields);\nexport const selectTableFilters = createSelector(modelsView, selectRouterParams,\n  (state, params) => state.projectColumnFilters?.[params?.projectId] || {});\nexport const selectSelectedModels = createSelector(modelsView, (state): Array<any> => state.selectedModels);\nexport const selectedModelsDisableAvailable = createSelector(modelsView, (state): Record<string, CountAvailableAndIsDisableSelectedFiltered> => state.selectedModelsDisableAvailable);\nexport const selectSelectedTableModel = createSelector(modelsView, (state): SelectedModel => state.selectedModel);\nexport const selectNoMoreModels = createSelector(modelsView, (state): boolean => state.noMoreModels);\nexport const selectShowAllSelectedIsActive = createSelector(modelsView, (state): boolean => state.showAllSelectedIsActive);\nexport const selectModelsTableColsOrder = createSelector(modelsView, selectRouterParams,\n  (state, params): string[] => (state.colsOrder && params?.projectId) ? state.colsOrder[params?.projectId] : undefined);\nexport const selectModelsUsers = createSelector(modelsView, (state): Array<any> => state.users);\nexport const selectModelsFrameworks = createSelector(modelsView, (state): Array<string> => state.frameworks);\nexport const selectModelsTags = createSelector(modelsView, (state): Array<string> => state.projectTags);\nexport const selectModelsTableColsWidth = createSelector(modelsView, selectRouterParams,\n  (state, params) => state.projectColumnsWidth?.[params?.projectId] || {});\nexport const selectModelsHiddenTableCols = createSelector(modelsView, selectRouterParams,\n  (state, params) => state.hiddenProjectTableCols?.[params?.projectId] || modelsInitialState.hiddenTableCols);\nexport const selectModelTableColumns = createSelector(modelsView, selectModelsHiddenTableCols, selectModelsTableColsWidth,\n  (state, hidden, colWidth) =>\n  MODELS_TABLE_COLS.map(col => ({\n    ...col,\n    hidden: !!hidden[col.id],\n    style: {...col.style, ...(colWidth[col.id] && {width: `${colWidth[col.id]}px`})}\n  } as ISmCol)));\nexport const selectSplitSize = createSelector(modelsView, (state): number => state.splitSize);\n\n\n\n// info selectors\nexport const modelInfo = createSelector(models, (state): ModelInfoState => state ? state.info : {});\nexport const selectSelectedModel = createSelector(modelInfo, (state): SelectedModel => state.selectedModel);\nexport const selectIsModelSaving = createSelector(modelInfo, (state): boolean => state.saving);\nexport const selectActiveSectionEdit = createSelector(modelInfo, (state): string => state.activeSectionEdit);\nexport const selectIsModelInEditMode = createSelector(modelInfo, (state): boolean => !!state.activeSectionEdit);\n","import {createReducer, on} from '@ngrx/store';\nimport {TABLE_SORT_ORDER} from '../../shared/ui-components/data/table/table.consts';\nimport * as actions from '../actions/models-view.actions';\nimport {TableModel, SelectedModel} from '../shared/models.model';\nimport {MODELS_TABLE_COL_FIELDS} from '../shared/models.const';\nimport {TableFilter} from '../../shared/utils/tableParamEncode';\nimport {User} from '../../../business-logic/model/users/user';\nimport {ICommonSearchState} from '../../common-search/common-search.reducer';\nimport {SortMeta} from 'primeng/api';\nimport {CountAvailableAndIsDisableSelectedFiltered} from '@common/shared/entity-page/items.utils';\nimport {setSelectedProject} from '@common/core/actions/projects.actions';\n\nexport interface IModelsViewState {\n  splitSize: number;\n  models: Array<any>;\n  tableFilters: any;\n  tempFilters: {[columnId: string]: {value: any; matchMode: string}};\n  projectColumnFilters: {[projectId: string]: {[columnId: string]: {value: any; matchMode: string}}};\n  colsOrder: { [Project: string]: string[] };\n  tableSortFields: SortMeta[];\n  projectColumnsSortOrder: {[projectId: string]: SortMeta[]};\n  projectColumnsWidth: {[projectId: string]: {[colId: string]: number}};\n  hiddenTableCols: {[colName: string]: boolean};\n  hiddenProjectTableCols: {[projectId: string]: {[colName: string]: boolean | undefined}};\n  selectedModels: TableModel[]; // TODO: declare type.\n  selectedModel: SelectedModel;\n  noMoreModels: boolean;\n  selectedModelSource: string;\n  modelToken: string;\n  scrollId: string;\n  globalFilter: ICommonSearchState['searchQuery'];\n  showAllSelectedIsActive: boolean;\n  users: User[];\n  frameworks: string[];\n  projectTags: string[];\n  selectedModelsDisableAvailable: Record<string, CountAvailableAndIsDisableSelectedFiltered>;\n}\n\nexport const modelsInitialState: IModelsViewState = {\n  splitSize: 65,\n  models: [],\n  frameworks: [],\n  hiddenTableCols: {comment: true},\n  hiddenProjectTableCols: {},\n  tableFilters: {},\n  tempFilters: {},\n  projectColumnFilters: {},\n  tableSortFields: [{field: MODELS_TABLE_COL_FIELDS.CREATED, order: TABLE_SORT_ORDER.DESC}],\n  projectColumnsSortOrder: {},\n  projectColumnsWidth: {},\n  colsOrder: {},\n  selectedModels: [],\n  selectedModelsDisableAvailable: {},\n  selectedModel: null,\n  noMoreModels: false,\n  selectedModelSource: null,\n  modelToken: null,\n  scrollId: null,\n  globalFilter: null,\n  showAllSelectedIsActive: false,\n  users: [],\n  projectTags: [],\n};\n\nexport const modelsViewReducer = createReducer(\n  modelsInitialState,\n  on(actions.resetState, (state)=> ({\n    ...state,\n    models: modelsInitialState.models,\n    selectedModel: modelsInitialState.selectedModel,\n  })),\n  on(setSelectedProject, (state) => ({...state, selectedModels: modelsInitialState.selectedModels})),\n  on(actions.addModels, (state, action) => ({...state, models: state.models.concat(action.models)})),\n  on(actions.removeModels, (state, action) => ({...state, models: state.models.filter(exp => !action.modelIds.includes(exp.id))})),\n  on(actions.showSelectedOnly, (state, action) => ({\n    ...state,\n    showAllSelectedIsActive: action.active,\n    globalFilter: modelsInitialState.globalFilter,\n    tempFilters: state.projectColumnFilters[action.projectId] || {},\n    projectColumnFilters: {\n      ...state.projectColumnFilters,\n      [action.projectId]: action.active ? modelsInitialState.tableFilters : state.tempFilters\n    }\n  })),\n  on(actions.updateModel, (state, action) => {\n      const newState = {\n        ...state, models:\n          state.models.map(ex => ex.id === action.id ? {...ex, ...action.changes} : ex)\n      };\n      if (state.selectedModel?.id === action.id) {\n        newState.selectedModel = {...state.selectedModel, ...action.changes};\n      }\n      if (state.selectedModels.find(ex => ex.id === action.id)) {\n        newState.selectedModels = state.selectedModels.map(ex => ex.id === action.id ? {...ex, ...action.changes} : ex);\n      }\n      return newState;\n    }),\n  on(actions.setModels, (state, action) => ({...state, models: action.models})),\n  on(actions.setModelsInPlace, (state, action) =>\n    ({...state, models: state.models.map(currModel => action.models.find(newModel => newModel.id === currModel.id))})),\n  on(actions.setNoMoreModels, (state, action) => ({...state, noMoreModels: action.payload})),\n  on(actions.setCurrentScrollId, (state, action) => ({...state, scrollId: action.scrollId})),\n  on(actions.setSelectedModels, (state, action) => ({...state, selectedModels: action.models as unknown as TableModel[]})),\n  on(actions.setSelectedModelsDisableAvailable, (state, action) =>\n    ({...state, selectedModelsDisableAvailable: action.selectedModelsDisableAvailable})),\n  on(actions.setSelectedModel, (state, action) => ({...state, selectedModel: action.model})),\n  on(actions.globalFilterChanged, (state, action) =>\n    ({...state, globalFilter: action as ReturnType<typeof actions.globalFilterChanged>})),\n  on(actions.resetGlobalFilter, (state ) => ({...state, globalFilter: modelsInitialState.globalFilter})),\n  on(actions.toggleColHidden, (state, action) => ({\n    ...state,\n    hiddenProjectTableCols: {\n      ...state.hiddenProjectTableCols,\n      [action.projectId]: {\n        ...(state.hiddenProjectTableCols[action.projectId] || modelsInitialState.hiddenTableCols),\n        [action.columnId]: state.hiddenProjectTableCols?.[action.projectId]?.[action.columnId] ? undefined : true\n      }\n    }\n  })),\n  on(actions.setHiddenCols, (state, action) => ({...state, hiddenTableCols: action.hiddenCols})),\n  on(actions.setUsers, (state, action) => ({...state, users: action.users})),\n  on(actions.setFrameworks, (state, action) => ({...state, frameworks: action.frameworks})),\n  on(actions.setTags, (state, action) => ({...state, projectTags: action.tags})),\n  on(actions.setTableSort, (state, action) => ({\n    ...state,\n    projectColumnsSortOrder: {\n      ...state.projectColumnsSortOrder,\n      [action.projectId]: action.orders\n    }\n  })),\n  on(actions.tableFilterChanged, (state, action) => ({\n    ...state,\n    projectColumnFilters: {\n      ...state.projectColumnFilters,\n      [action.projectId]: {\n        ...state.projectColumnFilters[action.projectId],\n        [action.filter.col]: {value: action.filter.value, matchMode: action.filter.filterMatchMode}\n      }\n    }\n  })),\n  on(actions.setColumnWidth, (state, action) => ({\n    ...state,\n    projectColumnsWidth: {\n      ...state.projectColumnsWidth,\n      [action.projectId]: {\n        ...state.projectColumnsWidth[action.projectId],\n        [action.columnId]: action.widthPx\n      }\n    }\n  })),\n  on(actions.setColsOrderForProject, (state, action) =>\n    ({...state, colsOrder: {...state.colsOrder, [action.project]: action.cols}})),\n  on(actions.setTableFilters, (state, action) => ({\n    ...state,\n    projectColumnFilters: {\n      ...state.projectColumnFilters,\n      [action.projectId]: {\n        ...action.filters.reduce((obj, filter: TableFilter) => {\n          obj[filter.col] = {value: filter.value, matchMode: filter.filterMatchMode};\n          return obj;\n        }, {} as {[columnId: string]: {value: any; matchMode: string}})\n      }\n    }\n  })),\n  on(actions.setSplitSize, (state, action) => ({...state, splitSize: action.splitSize}))\n);\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {SMSharedModule} from '../../shared/shared.module';\nimport {ModelTypeIconLabelComponent} from './model-type-icon-label/model-type-icon-label.component';\nimport {ModelStatusIconLabelComponent} from './model-status-icon-label/model-status-icon-label.component';\nimport {ModelsTableComponent} from './models-table/models-table.component';\nimport {ModelTagsComponent} from './model-tags/model-tags.component';\nimport {ExperimentSharedModule} from '../../../features/experiments/shared/experiment-shared.module';\nimport {LayoutModule} from '../../../layout/layout.module';\nimport {SelectModelHeaderComponent} from './select-model-header/select-model-header.component';\nimport {CommonLayoutModule} from '../../layout/layout.module';\nimport {CommonExperimentSharedModule} from '../../experiments/shared/common-experiment-shared.module';\nimport {FeatureModelsModule} from '../../../features/models/feature-models.module';\nimport {SharedModule} from '../../../shared/shared.module';\n\nconst DECLERATIONS = [ModelTypeIconLabelComponent, ModelStatusIconLabelComponent, SelectModelHeaderComponent, ModelsTableComponent, ModelTagsComponent];\n\n@NgModule({\n    imports: [\n        CommonExperimentSharedModule,\n        LayoutModule,\n        ExperimentSharedModule,\n        SMSharedModule,\n        CommonModule,\n        CommonLayoutModule,\n        FeatureModelsModule,\n        SharedModule\n    ],\n  declarations: DECLERATIONS,\n  exports     : DECLERATIONS\n})\nexport class ModelSharedModule {\n}\n","<sm-model-menu-extended #contextMenuExtended\n               [model]=\"contextModel\"\n               [selectedModel]=\"selectedModel\"\n               [selectedModels]=\"selectedModels\"\n               [selectedDisableAvailable]=\"selectedModelsDisableAvailable\"\n               [numSelected]=\"selectedModels.length\"\n               [tagsFilterByProject]=\"tagsFilterByProject$ | async\"\n               [projectTags]=\"projectTags$ | async\"\n               [companyTags]=\"companyTags$ | async\"\n               (tagSelected)=\"addTag($event)\"\n               (menuOpened)=\"setContextMenuStatus(true)\"\n               (menuClosed)=\"setContextMenuStatus(false)\"\n               [showButton]=\"false\"\n></sm-model-menu-extended>\n<div class=\"table-container\" [class.card-view]=\"minimizedView\">\n  <sm-table\n    [selectionMode]=\"selectionMode\"\n    [tableData]=\"models\"\n    [noMoreData]=\"noMoreModels\"\n    [resizableColumns]=\"enableMultiSelect\"\n    [columns]=\"tableCols\"\n    [reorderableColumns]=\"enableMultiSelect\"\n    [columnsOrder]=\"colsOrder\"\n    [lazyLoading]=\"true\"\n    [selection]=\"selectedModel\"\n    [checkedItems]=\"selectedModels\"\n    [activeContextRow]=\"contextModel\"\n    [contextMenuOpen]=\"contextMenuActive\"\n    [minimizedView]=\"minimizedView\"\n    [minimizedTableHeader]=\"'MODEL LIST'\"\n    [sortFields]=\"tableSortFields\"\n    (colReordered)=\"columnsReordered.emit($event)\"\n    [keyboardControl]=\"true\"\n    (rowSelectionChanged)=\"onRowSelectionChanged($event)\"\n    (loadMoreClicked)=\"onLoadMoreClicked()\"\n    (onRowRightClick)=\"openContextMenu($event)\"\n    (sortChanged)=\"onSortChanged($event.isShift, $event.field)\"\n    (columnResized)=\"columnResized.emit($event)\"\n  >\n    <ng-template let-col pTemplate=\"cardFilter\">\n      <sm-table-card-filter-template [options]=\"filtersOptions\"\n                                     [value]=\"filtersValues\"\n                                     [subValue]=\"filtersSubValues[MODELS_TABLE_COL_FIELDS.TAGS]\"\n                                     [columns]=\"initialColumns\"\n                                     [filterMatch]=\"filtersMatch\"\n                                     fixedOptionsSubheader=\"System tags\"\n                                     (subFilterChanged)=\"tableFilterChanged({id:'system_tags'}, $event)\"\n                                     (filterChanged)=\"tableAllFiltersChanged($event)\"\n                                     (menuOpened)=\"columnFilterOpened($event)\"\n                                     (menuClosed)=\"columnFilterClosed($event)\"\n      ></sm-table-card-filter-template>\n    </ng-template>\n    <!--CHECKBOX TEMPLATE-->\n    <ng-template let-col pTemplate=\"checkbox\">\n      <sm-checkbox-control\n        *ngIf=\"col.id === MODELS_TABLE_COL_FIELDS.SELECTED\"\n        class=\"checkbox-col header\"\n        fieldName=\"selected\"\n        [formData]=\"selectionState\"\n        (formDataChanged)=\"headerCheckboxClicked()\"\n        inputClassName=\"table-check-box select-col-checkbox\">\n      </sm-checkbox-control>\n      <div class=\"al-icon al-ico-dropdown-arrow sm drop-down\" [matMenuTriggerFor]=\"selectionMenu\"></div>\n      <mat-menu class=\"light-theme\" #selectionMenu=\"matMenu\">\n        <div class=\"menu-title\">Select from project</div>\n        <button mat-menu-item (click)=\"selectAll()\">All</button>\n        <button mat-menu-item (click)=\"emitSelection([])\">None</button>\n        <button mat-menu-item (click)=\"selectAll(true)\">All matching filter</button>\n      </mat-menu>\n    </ng-template>\n\n    <!--SORT FILTER TEMPLATE-->\n\n    <ng-template let-col pTemplate=\"sort-filter\">\n      <sm-table-filter-sort-template\n        [column]=\"col\"\n        [value]=\"filtersValues[col.id]\"\n        [searchValue]=\"searchValues[col.id]\"\n        [options]=\"filtersOptions[col.id] | filter:searchValues[col.id]:'label'\"\n        [sortOrder]=\"tableSortFieldsObject[col.id]\"\n        [fixedOptionsSubheader]=\"col.id === filtersOptions.TAGS ? 'System tags' : ''\"\n        [andFilter]=\"col.andFilter ? filtersMatch[col.id] === 'AND' : null\"\n        (sortOrderChanged)=\"onSortChanged($event, col.id)\"\n        (filterChanged)=\"tableFilterChanged(col, $event);\"\n        (searchValueChanged)=\"searchValueChanged($event, col.id)\"\n        (menuOpened)=\"columnFilterOpened(col)\"\n        (menuClosed)=\"columnFilterClosed(col)\"\n      >\n      </sm-table-filter-sort-template>\n    </ng-template>\n\n    <!--BODY TEMPLATE-->\n\n    <ng-template let-col\n                 let-model=\"rowData\"\n                 pTemplate=\"body\">\n      <ng-container [ngSwitch]=\"col.id\">\n        <ng-container *ngSwitchCase=\"MODELS_TABLE_COL_FIELDS.NAME\">\n          <div class=\"d-flex flex-row flex-nowrap\">\n            <div class=\"model-name\" matTooltipPosition=\"above\" [smTooltip]=\"model.name\">{{model.name}}</div>\n            <i *ngIf=\"model?.system_tags.includes('shared')\" class=\"fas fa-link p-1 ml-1\"></i>\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"MODELS_TABLE_COL_FIELDS.TAGS\">\n          <sm-tag-list [tags]=\"model.tags\" [sysTags]=\"getSysTags(model)\"></sm-tag-list>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"MODELS_TABLE_COL_FIELDS.USER\">\n          {{model.user?.name ? model.user?.name : 'Unknown User'}}\n        </ng-container>\n        <span matTooltipPosition=\"above\" [smTooltip]=\"model?.project?.name\" *ngSwitchCase=\"MODELS_TABLE_COL_FIELDS.PROJECT\">\n          {{model?.project?.name}}\n        </span>\n        <span *ngSwitchCase=\"MODELS_TABLE_COL_FIELDS.TASK\" matTooltipPosition=\"above\" [smTooltip]=\"model.task?.name\">\n          {{model.task?.name}}\n        </span>\n        <ng-container *ngSwitchCase=\"MODELS_TABLE_COL_FIELDS.READY\">\n          <sm-experiment-status-icon-label [status]=\"model?.ready? 'published': 'created'\"></sm-experiment-status-icon-label>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"MODELS_TABLE_COL_FIELDS.LAST_UPDATE\">\n          <span matTooltipPosition=\"above\" [smTooltip]=\"model.last_update | date : timeFormatString\">{{model.last_update | timeAgo}}</span>\n        </ng-container>\n        <sm-checkbox-control\n          *ngSwitchCase=\"MODELS_TABLE_COL_FIELDS.SELECTED\"\n          smClickStopPropagation\n          class=\"checkbox-col\"\n          fieldName=\"selected\"\n          [formData]=\"isRowSelected(model)\"\n          (formDataChanged)=\"rowSelectedChanged($event, model)\"\n          inputClassName=\"table-check-box table-body\">\n        </sm-checkbox-control>\n        <ng-container *ngSwitchCase=\"MODELS_TABLE_COL_FIELDS.COMMENT\">\n          <span matTooltipPosition=\"above\" [smTooltip]=\"model.comment\">{{model.comment}}</span>\n        </ng-container>\n        <ng-container *ngSwitchDefault>\n          {{model[col.id]}}\n        </ng-container>\n      </ng-container>\n    </ng-template>\n\n    <ng-template let-model=\"rowData\" let-selected=\"selected\" let-rowNumber=\"rowNumber\" pTemplate=\"card\">\n      <sm-table-card class=\"flex-grow-1\"\n                     [selected]=\"selected\"\n                     [rowNumber]=\"rowNumber\"\n                     [cardName]=\"model.name\"\n                     [columns]=\"tableCols\"\n                     [rowData]=\"model\"\n                     [checked]=\"isRowSelected(model)\"\n                     [activeContextRow]=\"contextModel\"\n                     [contextMenuOpen]=\"contextMenuActive\"\n                     [tableType]=\"'model'\"\n      >\n        <div sm-name-icon><i *ngIf=\"model?.system_tags.includes('shared')\" class=\"fas fa-link p-1 ml-1\"></i></div>\n        <sm-tag-list class=\"mb-1\" [sysTags]=\"getSysTags(model)\" [tags]=\"model?.tags\"></sm-tag-list>\n        <div  class=\"ellipsis compact-columns-data\" compact-columns-data>\n          Updated {{model.last_update | timeAgo}} by {{model.user?.name || 'Unknown User'}}<ng-container *ngIf=\"model.task\"><span class=\"dot\">●</span>{{model.task.name}}</ng-container>\n        </div>\n        <sm-experiment-status-icon-label\n          [status]=\"model?.ready? 'published': 'created'\"></sm-experiment-status-icon-label>\n        <sm-checkbox-control fieldName=\"selected\" [formData]=\"isRowSelected(model)\"\n                             (formDataChanged)=\"rowSelectedChanged($event, model)\"\n                             [inputClassName]=\"'table-check-box table-body' + (selected ? ' row-selected' : '')\"></sm-checkbox-control>\n      </sm-table-card>\n    </ng-template>\n  </sm-table>\n</div>\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  HostListener,\n  Input,\n  Output,\n  ViewChild\n} from '@angular/core';\nimport {ColHeaderTypeEnum, ISmCol} from '../../../shared/ui-components/data/table/table.consts';\nimport {get} from 'lodash/fp';\nimport {SelectedModel, TableModel} from '../models.model';\nimport {MODELS_FRAMEWORK_LABELS, MODELS_READY_LABELS, MODELS_TABLE_COL_FIELDS} from '../models.const';\nimport {FilterMetadata} from 'primeng/api/filtermetadata';\nimport {BaseTableView} from '../../../shared/ui-components/data/table/base-table-view';\nimport {User} from '../../../../business-logic/model/users/user';\nimport {sortByArr} from '../../../shared/pipes/show-selected-first.pipe';\nimport {Observable} from 'rxjs';\nimport {selectCompanyTags, selectProjectTags, selectTagsFilterByProject} from '../../../core/reducers/projects.reducer';\nimport {Store} from '@ngrx/store';\nimport {addTag} from '../../actions/models-menu.actions';\nimport {ICONS, TIME_FORMAT_STRING} from '../../../constants';\nimport {getSysTags} from '../../model.utils';\nimport {TableComponent} from '../../../shared/ui-components/data/table/table.component';\nimport {MODELS_TABLE_COLS} from '../../models.consts';\nimport {IOption} from '../../../shared/ui-components/inputs/select-autocomplete-for-template-forms/select-autocomplete-for-template-forms.component';\nimport {CountAvailableAndIsDisableSelectedFiltered} from '../../../shared/entity-page/items.utils';\nimport {selectAllModels} from '../../actions/models-view.actions';\nimport {ModelMenuExtendedComponent} from '../../../../features/models/containers/model-menu-extended/model-menu-extended.component';\n\n@Component({\n  selector       : 'sm-models-table',\n  templateUrl    : './models-table.component.html',\n  styleUrls      : ['./models-table.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ModelsTableComponent extends BaseTableView {\n  readonly MODELS_TABLE_COL_FIELDS = MODELS_TABLE_COL_FIELDS;\n  readonly MODELS_FRAMEWORK_OPTIONS = Object.entries(MODELS_FRAMEWORK_LABELS).map(([key, val]) => ({label: val, value: key}));\n  readonly MODELS_READY_OPTIONS = Object.entries(MODELS_READY_LABELS).map(([key, val]) => ({label: val, value: key}));\n  public filtersOptions: {[colId: string]: IOption[]} = {\n    [MODELS_TABLE_COL_FIELDS.FRAMEWORK]: [],\n    [MODELS_TABLE_COL_FIELDS.READY]    : this.MODELS_READY_OPTIONS,\n    [MODELS_TABLE_COL_FIELDS.USER]    : [],\n    [MODELS_TABLE_COL_FIELDS.TAGS]     : [],\n  };\n\n  readonly icons = ICONS;\n  public menuOpen: boolean;\n  public sortOrder = 1;\n\n  public contextModel: SelectedModel;\n  public tagsFilterByProject$: Observable<boolean>;\n  public projectTags$: Observable<string[]>;\n  public companyTags$: Observable<string[]>;\n  private _selectedModels: TableModel[];\n  private _models: SelectedModel[];\n  private _enableMultiSelect: boolean;\n  private _tableCols: ISmCol[];\n  public getSysTags = getSysTags;\n  public filtersValues: {[colId: string]: any} = {};\n  public filtersMatch: {[colId: string]: string} = {};\n  public filtersSubValues: {[colId: string]: any} = {};\n  public searchValues: {[colId: string]: string} = {};\n\n  @Input() set models(models: SelectedModel[]) {\n    this._models = models;\n    if (this.contextModel) {\n      this.contextModel = this.models.find(model => model.id === this.contextModel.id);\n    }\n  }\n\n  get models() {\n    return this._models;\n  }\n\n  @Input() noMoreModels: boolean;\n\n  @Input() set tableCols(tableCols: ISmCol[]) {\n    if (tableCols?.length > 0) {\n      tableCols[0].hidden = this.enableMultiSelect === false;\n      this._tableCols = tableCols;\n    }\n  }\n\n  get tableCols() {\n    return this._tableCols;\n  }\n\n  @Input() set onlyPublished(only: boolean) {\n    const readyCol = this.tableCols.find(col => col.id === MODELS_TABLE_COL_FIELDS.READY);\n    readyCol.hidden = only;\n  }\n\n  @Input() set enableMultiSelect(enable: boolean) {\n    this._enableMultiSelect = enable;\n    if (this.tableCols) {\n      this.tableCols[0].hidden = enable === false;\n    }\n  }\n\n  get enableMultiSelect() {\n    return this._enableMultiSelect;\n  }\n\n  @Input() set selectedModels(selection) {\n    this._selectedModels = selection;\n    this.updateSelectionState();\n  }\n\n  get selectedModels() {\n    return this._selectedModels;\n  }\n  @Input() selectedModelsDisableAvailable: Record<string, CountAvailableAndIsDisableSelectedFiltered> = {};\n  @Input() set colRatio(ratio: number) {\n    if (ratio) {\n      this.tableCols.forEach(col => {\n        if (col.headerType != ColHeaderTypeEnum.checkBox && col.style?.width?.endsWith('px')) {\n          const width = parseInt(col.style.width, 10);\n          col.style.width = ratio * width + 'px';\n        }\n      });\n    }\n  }\n\n  private _selectedModel;\n  @Input() set selectedModel(model) {\n    if(model !== this._selectedModel) {\n      window.setTimeout(() => this.table.focusSelected());\n    }\n    this._selectedModel = model;\n  }\n\n  get selectedModel() {\n    return this._selectedModel;\n  }\n\n  @Input() set tableFilters(filters: { [s: string]: FilterMetadata }) {\n    this.filtersValues[MODELS_TABLE_COL_FIELDS.FRAMEWORK] = get([MODELS_TABLE_COL_FIELDS.FRAMEWORK, 'value'], filters) || [];\n    this.filtersValues[MODELS_TABLE_COL_FIELDS.READY] = get([MODELS_TABLE_COL_FIELDS.READY, 'value'], filters) || [];\n    this.filtersValues[MODELS_TABLE_COL_FIELDS.USER] = get([MODELS_TABLE_COL_FIELDS.USER, 'value'], filters) || [];\n    this.filtersValues[MODELS_TABLE_COL_FIELDS.TAGS] = get([MODELS_TABLE_COL_FIELDS.TAGS, 'value'], filters) || [];\n    this.filtersMatch[MODELS_TABLE_COL_FIELDS.TAGS] = filters?.[MODELS_TABLE_COL_FIELDS.TAGS]?.matchMode || '';\n    this.filtersSubValues[MODELS_TABLE_COL_FIELDS.TAGS] = get(['system_tags', 'value'], filters) || [];\n  }\n\n  @Input() set users(users: User[]) {\n    this.filtersOptions[MODELS_TABLE_COL_FIELDS.USER] = users.map(user => ({label: user.name ? user.name : 'Unknown User', value: user.id}));\n    this.sortOptionsList(MODELS_TABLE_COL_FIELDS.USER);\n  }\n\n  @Input() set frameworks(frameworks: string[]) {\n    const frameworksAndActiveFilter = Array.from(new Set(frameworks.concat(this.filtersValues[MODELS_TABLE_COL_FIELDS.FRAMEWORK])));\n    this.filtersOptions[MODELS_TABLE_COL_FIELDS.FRAMEWORK] = frameworksAndActiveFilter.map(framework => ({\n      label: framework ? framework :\n        (framework === null ? '(No framework)' : 'Unknown'), value: framework\n    }));\n    this.sortOptionsList(MODELS_TABLE_COL_FIELDS.FRAMEWORK);\n  }\n\n  @Input() set tags(tags) {\n    const tagsAndActiveFilter = Array.from(new Set(tags.concat(this.filtersValues[MODELS_TABLE_COL_FIELDS.TAGS])));\n    this.filtersOptions[MODELS_TABLE_COL_FIELDS.TAGS] = tagsAndActiveFilter.\n    map(tag => ({label: tag===null? 'No tag':tag , value: tag}) as IOption);\n    this.sortOptionsList(MODELS_TABLE_COL_FIELDS.TAGS);\n  }\n\n  @Input() systemTags = [] as string[];\n  get validSystemTags() {\n    return this.systemTags.filter(tag => tag !== 'archived');\n  }\n\n  @Output() modelsSelectionChanged = new EventEmitter<SelectedModel[]>();\n  @Output() modelSelectionChanged = new EventEmitter<SelectedModel>();\n  @Output() loadMoreModels = new EventEmitter();\n  @Output() tagsMenuOpened = new EventEmitter();\n  @Output() sortedChanged = new EventEmitter<{ isShift: boolean; colId: ISmCol['id'] }>();\n  @Output() columnResized = new EventEmitter<{columnId: string; widthPx: number}>();\n  @ViewChild(TableComponent, {static: true}) table: TableComponent;\n  @ViewChild('contextMenuExtended') contextMenuExtended: ModelMenuExtendedComponent;\n  timeFormatString = TIME_FORMAT_STRING;\n  public readonly initialColumns = MODELS_TABLE_COLS;\n\n  @HostListener('document:click', ['$event'])\n  clickHandler(event) {\n    if (event.button != 2) { // Bug in firefox: right click triggers `click` event\n      this.menuOpen = false;\n    }\n  }\n\n  constructor(private changeDetector: ChangeDetectorRef, private store: Store<any>) {\n    super();\n    this.tagsFilterByProject$ = this.store.select(selectTagsFilterByProject);\n    this.projectTags$ = this.store.select(selectProjectTags);\n    this.companyTags$ = this.store.select(selectCompanyTags);\n    this.entitiesKey = 'models';\n    this.selectedEntitiesKey = 'selectedModels';\n\n  }\n\n  sortOptionsList(columnId: string) {\n    this.filtersOptions[columnId]\n      .sort((a, b) => sortByArr(a.value, b.value, [null, ...(this.filtersValues[columnId] || [])]));\n    this.filtersOptions = {...this.filtersOptions, [columnId]: [...this.filtersOptions[columnId]]};\n  }\n\n  onRowSelectionChanged(event) {\n    this.modelSelectionChanged.emit(event.data);\n  }\n\n  tableFilterChanged(col: ISmCol, event) {\n    if (event.col === 'users') {\n      event.col = 'user.name';\n    }\n    this.filterChanged.emit({col, value: event.value, andFilter: event.andFilter});\n    this.scrollTableToTop();\n  }\n\n  onLoadMoreClicked() {\n    this.loadMoreModels.emit();\n  }\n\n  onSortChanged(isShift: boolean, colId: ISmCol['id']) {\n    this.sortedChanged.emit({isShift, colId});\n    this.scrollTableToTop();\n  }\n\n  get sortableCols() {\n    return this.tableCols.filter(col => col.sortable);\n  }\n\n  getColName(colId: ISmCol['id']) {\n    return this.tableCols.find(col => colId === col.id)?.header;\n  }\n\n  rowSelectedChanged(change: { field: string; value: boolean; event: Event }, model: TableModel) {\n    if (change.value) {\n      const addList = this.getSelectionRange<TableModel>(change, model);\n      this.modelsSelectionChanged.emit([...this.selectedModels, ...addList]);\n    } else {\n      this.modelsSelectionChanged.emit(this.selectedModels.filter((selectedModel) => selectedModel.id !== model.id));\n    }\n  }\n\n  selectAll(filtered = false) {\n    this.store.dispatch(selectAllModels({filtered}));\n  }\n\n  emitSelection(selection: any[]) {\n    this.modelsSelectionChanged.emit(selection);\n  }\n\n  searchValueChanged($event: string, colId: string) {\n    this.searchValues[colId] = $event;\n    this.sortOptionsList(colId);\n  }\n\n  addTag(tag: string) {\n    this.store.dispatch(addTag({\n      tag,\n      models: this.selectedModels.length > 1 ? this.selectedModels : [this.contextModel]\n    }));\n    this.filtersOptions[MODELS_TABLE_COL_FIELDS.TAGS] = [];\n  }\n\n  openContextMenu(data) {\n    if (this.modelsSelectionChanged.observers.length === 0) {\n      return;\n    }\n    this.contextModel = this.models.find(model => model.id === data.rowData.id);\n    if (!this.selectedModels.map(model => model.id).includes(this.contextModel.id)) {\n      this.prevSelected = this.contextModel;\n      this.emitSelection([this.contextModel]);\n    }\n    const event = data.e as MouseEvent;\n    event.preventDefault();\n    this.contextMenuExtended?.contextMenu.openMenu({x: event.clientX, y: event.clientY});\n  }\n\n  columnFilterOpened(col: ISmCol) {\n    if (col.id === MODELS_TABLE_COL_FIELDS.TAGS && !this.filtersOptions[MODELS_TABLE_COL_FIELDS.TAGS]?.length) {\n      this.tagsMenuOpened.emit();\n    }\n  }\n\n  columnFilterClosed(col: ISmCol) {\n    window.setTimeout(() => this.sortOptionsList(col.id));\n  }\n}\n","import {ModelTableColFieldsEnum} from './models.model';\nimport {ExperimentTableColFieldsEnum} from \"@common/experiments/shared/common-experiment-model.model\";\n\n\nexport const MODELS_TABLE_COL_FIELDS = {\n  SELECTED: 'selected' as ModelTableColFieldsEnum,\n  ID: 'id' as ModelTableColFieldsEnum,\n  NAME: 'name' as ModelTableColFieldsEnum,\n  TAGS: 'tags' as ModelTableColFieldsEnum,\n  CREATED: 'created' as ModelTableColFieldsEnum,\n  FRAMEWORK: 'framework' as ModelTableColFieldsEnum,\n  READY: 'ready' as ModelTableColFieldsEnum,\n  USER: 'users' as ModelTableColFieldsEnum,\n  PROJECT: 'project.name' as ModelTableColFieldsEnum,\n  TASK: 'task.name' as ModelTableColFieldsEnum,\n  COMMENT: 'comment' as ModelTableColFieldsEnum,\n  LAST_UPDATE : 'last_update' as ModelTableColFieldsEnum,\n\n};\n\n// Actually framework is a free text foe a long time now\nexport const MODELS_FRAMEWORK_LABELS = {\n  'Caffe': 'Caffe',\n  'TensorFlow': 'TensorFlow',\n  'PyTorch': 'PyTorch',\n  'Keras': 'Keras',\n  'Custom': 'Custom'\n};\n//\nexport const MODELS_READY_LABELS = {\n  'true': 'Published',\n  'false': 'Draft'\n};\n\n// temp, will be taken from the generated code.\nexport type ModelTagsEnum = 'archived';\n\nexport const MODEL_TAGS = {\n  HIDDEN: 'archived' as ModelTagsEnum\n};\n\n\nexport const MODELS_ONLY_FIELDS = ['company', 'created', 'last_update', 'framework', 'id', 'labels', 'name', 'ready', 'tags', 'system_tags', 'task.name', 'uri', 'user.name', 'parent', 'comment', 'project.name'];\nexport const MODELS_INFO_ONLY_FIELDS = ['company', 'created', 'last_update', 'framework', 'id', 'labels', 'name', 'ready', 'tags', 'system_tags', 'task.name', 'task.project', 'uri', 'user.name', 'parent', 'comment', 'project.name', 'design'];\n","<div class=\"d-flex justify-content-between\">\n  <div *ngIf=\"showAllProjectsToggle\" class=\"center-buttons-container\">\n    <sm-button-toggle\n      [value]=\"isAllProjects\"\n      [options]=\"allProjectsdModeOptions\"\n      (valueChanged)=\"onAllProjectsChanged($event)\"\n    >\n    </sm-button-toggle>\n  </div>\n\n  <div class=\"d-flex align-items-center\">\n    <div\n      *ngIf=\"searchActive\"\n      class=\"search-container open\">\n      <sm-search\n        #search\n        class=\"light-theme underline-search\"\n        placeholder=\"Search for models\"\n        [value]=\"searchValue\"\n        (valueChanged)=\"onSearchValueChanged($event)\"\n        (focusout)=\"onSearchFocusOut()\">\n      </sm-search>\n    </div>\n  </div>\n\n</div>\n","import {ChangeDetectionStrategy, Component, EventEmitter, Input, Output, ViewChild} from '@angular/core';\nimport {ModelsViewModesEnum} from '../../models.consts';\n\n@Component({\n  selector   : 'sm-select-model-header',\n  templateUrl: './select-model-header.component.html',\n  styleUrls  : ['./select-model-header.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SelectModelHeaderComponent {\n\n  public readonly archivedModeOptions = [\n    {value: false, label: 'ALL MODELS'},\n    {value: true, label: 'ARCHIVE'}\n  ];\n\n  public readonly allProjectsdModeOptions = [\n    {value: true, label: 'ALL PROJECTS'},\n    {value: false, label: 'CURRENT PROJECT'}\n  ] as {value: any; label: string}[];\n\n\n  @Input() searchValue: string;\n  @Input() isArchived: boolean;\n  @Input() isAllProjects: boolean = true;\n  @Input() hideArchiveToggle: boolean;\n  @Input() showAllProjectsToggle: boolean;\n  @Input() hideCreateNewButton: boolean;\n  @Input() viewMode: ModelsViewModesEnum;\n  @Input() searchActive: boolean;\n\n  @Output() searchValueChanged   = new EventEmitter<string>();\n  @Output() isArchivedChanged    = new EventEmitter<boolean>();\n  @Output() isAllProjectsChanged = new EventEmitter<boolean>();\n  @Output() viewModeChanged      = new EventEmitter<ModelsViewModesEnum>();\n  @Output() addModelClicked      = new EventEmitter();\n\n  @ViewChild('search') searchElem;\n\n  onSearchValueChanged(value: string) {\n    this.searchValueChanged.emit(value);\n  }\n\n  onIsArchivedChanged(value: boolean) {\n    this.isArchivedChanged.emit(value);\n  }\n\n  onAllProjectsChanged(value: boolean) {\n    this.isAllProjectsChanged.emit(value);\n  }\n\n  onAddModelClicked() {\n    this.addModelClicked.emit();\n  }\n\n  // searchClicked() {\n  //   this.searchElem.searchBarInput.nativeElement.focus();\n  // }\n\n  onSearchFocusOut() {\n    if (!this.searchElem.searchBarInput.nativeElement.value) {}\n  }\n}\n","import {ISmAction} from '../core/models/actions';\nimport {ProjectsUpdateRequest} from '../../business-logic/model/projects/projectsUpdateRequest';\nimport {ProjectsGetAllRequest} from '../../business-logic/model/projects/projectsGetAllRequest';\nimport {ProjectsGetByIdResponse} from '../../business-logic/model/projects/projectsGetByIdResponse';\nimport {Project} from '../../business-logic/model/projects/project';\nimport {Action, createAction, props} from '@ngrx/store';\nimport {PROJECTS_ACTIONS, PROJECTS_PREFIX} from './common-projects.consts';\n\nexport class ProjectUpdated implements ISmAction {\n  public type = PROJECTS_ACTIONS.PROJECT_UPDATED;\n  public payload: { updatedData: ProjectsUpdateRequest };\n\n  constructor(updatedData: ProjectsUpdateRequest) {\n    this.payload = {updatedData};\n  }\n}\n\nexport class UpdateProjectPartial implements Action {\n  readonly type = PROJECTS_ACTIONS.UPDATE_ONE_PROJECT;\n\n  constructor(public payload: { id: Project['id']; changes: ProjectsUpdateRequest }) {\n  }\n}\n\n\nexport class SetProjectInSelectedAndInList implements ISmAction {\n  public type = PROJECTS_ACTIONS.SET_PROJECT_BY_ID;\n  public payload: { res: ProjectsGetByIdResponse };\n\n  constructor(res: ProjectsGetByIdResponse) {\n    this.payload = {res};\n  }\n}\n\nexport class GetAllProjectsPageProjects implements ISmAction {\n  public type = PROJECTS_ACTIONS.GET_PROJECTS;\n  public payload: { getAllFilter: ProjectsGetAllRequest };\n\n  constructor(getAllFilter?: ProjectsGetAllRequest) {\n    this.payload = {getAllFilter};\n  }\n}\n\nexport class SetProjectsOrderBy implements ISmAction {\n  public type = PROJECTS_ACTIONS.SET_ORDER_BY;\n  public payload: { orderBy: string }; // TODO: specify enum!!\n\n  constructor(orderBy: string = '') {\n    this.payload = {orderBy};\n  }\n}\n\nexport const setProjectsSearchQuery = createAction(\n  PROJECTS_ACTIONS.SET_SEARCH_QUERY,\n  props<{query: string; regExp?: boolean}>()\n);\n\nexport class ResetProjectsSearchQuery implements ISmAction {\n  public type = PROJECTS_ACTIONS.RESET_SEARCH_QUERY;\n}\n\nexport class SetProjects implements ISmAction {\n  public type = PROJECTS_ACTIONS.SET_PROJECTS;\n  public payload: { projects: Array<Project> };\n\n  constructor(projects: Array<Project>) {\n    this.payload = {projects};\n  }\n}\n\nexport class AddToProjectsList implements ISmAction {\n  public type = PROJECTS_ACTIONS.ADD_TO_PROJECTS_LIST;\n  public payload: { projects: Array<Project> };\n\n  constructor(projects: Array<Project>) {\n    this.payload = {projects};\n  }\n}\n\nexport class ResetProjects implements ISmAction {\n  public type = PROJECTS_ACTIONS.RESET_PROJECTS;\n}\n\nexport class CheckProjectForDeletion implements ISmAction {\n  public type = PROJECTS_ACTIONS.CHECK_PROJECT_FOR_DELETION;\n  public payload: { project: Project };\n\n  constructor(project: Project) {\n    this.payload = {project};\n  }\n}\n\nexport class SetProjectReadyForDeletion implements ISmAction {\n  public type = PROJECTS_ACTIONS.SET_PROJECT_READY_FOR_DELETION;\n  public payload: { readyForDeletion: any };\n\n  constructor(readyForDeletion: any) {\n    this.payload = {readyForDeletion};\n  }\n}\n\nexport class SelectAllProjects implements ISmAction {\n  public type = PROJECTS_ACTIONS.SELECT_ALL_PROJECTS;\n}\n\nexport class ResetReadyToDelete implements ISmAction {\n  public type = PROJECTS_ACTIONS.RESET_READY_TO_DELETE;\n}\n\nexport class SetNoMoreProjects implements Action {\n  readonly type = PROJECTS_ACTIONS.SET_NO_MORE_PROJECTS;\n  constructor(public payload: boolean) {\n  }\n}\n\nexport const setCurrentScrollId = createAction(\n  PROJECTS_PREFIX + ' [set current scrollId]',\n  props<{scrollId: string}>()\n);\n","export interface ProjectRoute {\n  header: 'overview' | 'models' | 'experiments';\n  subHeader: string;\n  permissionCheck?: string;\n}\n\nexport const PROJECT_ROUTES = [\n  {header: 'overview', subHeader: ''},\n  {header: 'experiments', subHeader: '(ARCHIVED)'},\n  {header: 'models', subHeader: '(ARCHIVED)'},\n] as ProjectRoute[];\n\nexport const PROJECTS_PREFIX         = 'PROJECTS_';\nexport const PROJECTS_ACTIONS = {\n  SET_SEARCH_QUERY                 : PROJECTS_PREFIX + 'SET_SEARCH_QUERY',\n  RESET_SEARCH_QUERY               : PROJECTS_PREFIX + 'RESET_SEARCH_QUERY',\n  SET_PROJECT_READY_FOR_DELETION   : PROJECTS_PREFIX + 'SET_PROJECT_READY_FOR_DELETION',\n  SET_ORDER_BY                     : PROJECTS_PREFIX + 'SET_ORDER_BY',\n  SET_PROJECT_BY_ID                : PROJECTS_PREFIX + 'SET_PROJECT_BY_ID',\n  PROJECT_UPDATED                  : PROJECTS_PREFIX + 'PROJECT_UPDATED',\n  GET_PROJECTS                     : PROJECTS_PREFIX + 'GET_PROJECTS',\n  SET_PROJECTS                     : PROJECTS_PREFIX + 'SET_PROJECTS',\n  PROJECTS_SUCCESS                 : PROJECTS_PREFIX + 'PROJECTS_SUCCESS',\n  RESET_PROJECTS                   : PROJECTS_PREFIX + 'DELETE_PROJECT',\n  CHECK_PROJECT_FOR_DELETION       : PROJECTS_PREFIX + 'CHECK_PROJECT_FOR_DELETION',\n  RESET_READY_TO_DELETE            : PROJECTS_PREFIX + 'RESET_READY_TO_DELETE',\n  SELECT_PROJECT                   : PROJECTS_PREFIX + 'SELECT_PROJECT',\n  SELECT_ALL_PROJECTS              : PROJECTS_PREFIX + 'SELECT_ALL_PROJECTS',\n  DELETE_PROJECT_SUCCESS           : PROJECTS_PREFIX + 'DELETE_PROJECT_SUCCESS',\n  CREATE_PROJECT                   : PROJECTS_PREFIX + 'CREATE_PROJECT',\n  CREATE_PROJECT_SUCCESS           : PROJECTS_PREFIX + 'CREATE_PROJECT_SUCCESS',\n  CREATE_PROJECT_SUCCESS_OPTIMISTIC: PROJECTS_PREFIX + 'CREATE_PROJECT_SUCCESS_OPTIMISTIC',\n  SELECT_PROJECT_INDEX             : PROJECTS_PREFIX + 'SELECT_PROJECT_INDEX',\n  GET_PROJECTS_NON_FILTERED_LIST   : PROJECTS_PREFIX + 'GET_PROJECTS_NON_FILTERED_LIST',\n  SET_PROJECTS_NON_FILTERED_LIST   : PROJECTS_PREFIX + 'SET_PROJECTS_NON_FILTERED_LIST',\n  UPDATE_ONE_PROJECT               : PROJECTS_PREFIX + 'UPDATE_ONE_PROJECT',\n  SET_NO_MORE_PROJECTS             : PROJECTS_PREFIX + 'SET_NO_MORE_PROJECTS',\n  SET_NEXT_PAGE                    : PROJECTS_PREFIX + 'SET_NEXT_PAGE',\n  ADD_TO_PROJECTS_LIST             : PROJECTS_PREFIX + 'ADD_TO_PROJECTS_LIST'\n};\n\nexport const pageSize = 12;\n","import {Actions, createEffect, ofType} from '@ngrx/effects';\nimport {CheckProjectForDeletion, SetProjectReadyForDeletion} from '../../webapp-common/projects/common-projects.actions';\nimport {PROJECTS_ACTIONS} from '../../webapp-common/projects/common-projects.consts';\nimport {mergeMap, switchMap} from 'rxjs/operators';\nimport {ProjectsValidateDeleteResponse} from '../../business-logic/model/projects/projectsValidateDeleteResponse';\nimport {Injectable} from '@angular/core';\nimport {ApiProjectsService} from '../../business-logic/api-services/projects.service';\nimport {ApiTasksService} from '../../business-logic/api-services/tasks.service';\nimport {ApiModelsService} from '../../business-logic/api-services/models.service';\nimport {Store} from '@ngrx/store';\n\n@Injectable()\nexport class ProjectsEffects {\n\n  constructor(\n    private actions: Actions, public projectsApi: ApiProjectsService,\n    public experimentsApi: ApiTasksService, public modelsApi: ApiModelsService,\n    private store: Store<any>\n  ) {}\n  checkIfProjectExperiments = createEffect(() => this.actions.pipe(\n    ofType<CheckProjectForDeletion>(PROJECTS_ACTIONS.CHECK_PROJECT_FOR_DELETION),\n    switchMap((action) => this.projectsApi.projectsValidateDelete({project: action.payload.project.id})),\n    mergeMap((projectsValidateDeleteResponse: ProjectsValidateDeleteResponse) => [\n      new SetProjectReadyForDeletion({\n        experiments: {\n          total: projectsValidateDeleteResponse.tasks,\n          archived: projectsValidateDeleteResponse.tasks - projectsValidateDeleteResponse.non_archived_tasks,\n          unarchived: projectsValidateDeleteResponse.non_archived_tasks\n        },\n        models: {\n          total: projectsValidateDeleteResponse.models,\n          archived: projectsValidateDeleteResponse.models - projectsValidateDeleteResponse.non_archived_models,\n          unarchived: projectsValidateDeleteResponse.non_archived_models\n        }\n      })\n    ])\n  ));\n}\n","import {Injectable} from '@angular/core';\nimport {Actions, createEffect, ofType} from '@ngrx/effects';\nimport {ApiProjectsService} from '../../business-logic/api-services/projects.service';\nimport {requestFailed} from '../core/actions/http.actions';\nimport {activeLoader, deactivateLoader, setServerError} from '../core/actions/layout.actions';\nimport {\n  AddToProjectsList, GetAllProjectsPageProjects, ProjectUpdated,\n  setCurrentScrollId, SetNoMoreProjects, SetProjectsOrderBy,\n  setProjectsSearchQuery, UpdateProjectPartial\n} from './common-projects.actions';\nimport {\n  selectProjectsOrderBy, selectProjectsScrollId, selectProjectsSearchQuery, selectProjectsSortOrder\n} from './common-projects.reducer';\nimport {Store} from '@ngrx/store';\nimport {TABLE_SORT_ORDER} from '../shared/ui-components/data/table/table.consts';\nimport {ProjectsGetAllExRequest} from '../../business-logic/model/projects/projectsGetAllExRequest';\nimport {escapeRegex, isExample} from '../shared/utils/shared-utils';\nimport {catchError, debounceTime, map, mergeMap, switchMap, withLatestFrom} from 'rxjs/operators';\nimport {get} from 'lodash/fp';\nimport {ApiTasksService} from '../../business-logic/api-services/tasks.service';\nimport {ApiModelsService} from '../../business-logic/api-services/models.service';\nimport {pageSize, PROJECTS_ACTIONS} from './common-projects.consts';\nimport {selectRouterParams} from '../core/reducers/router-reducer';\nimport {selectCurrentUser, selectShowOnlyUserWork} from '../core/reducers/users-reducer';\nimport {selectShowHidden} from '../../features/projects/projects.reducer';\nimport {ProjectsGetAllExResponse} from '../../business-logic/model/projects/projectsGetAllExResponse';\nimport {selectRootProjects, selectSelectedProjectId} from '../core/reducers/projects.reducer';\nimport {forkJoin, of} from 'rxjs';\nimport {Project} from '../../business-logic/model/projects/project';\nimport {setAllProjects} from '../core/actions/projects.actions';\n\n@Injectable()\nexport class CommonProjectsEffects {\n\n  constructor(\n    private actions: Actions, public projectsApi: ApiProjectsService,\n    public experimentsApi: ApiTasksService, public modelsApi: ApiModelsService,\n    private store: Store<any>\n  ) {\n  }\n\n  activeLoader = createEffect(() => this.actions.pipe(\n    ofType(PROJECTS_ACTIONS.PROJECT_UPDATED, PROJECTS_ACTIONS.GET_PROJECTS, PROJECTS_ACTIONS.CREATE_PROJECT),\n    map(action => activeLoader(action.type))\n  ));\n\n  updateProject = createEffect(() => this.actions.pipe(\n    ofType<ProjectUpdated>(PROJECTS_ACTIONS.PROJECT_UPDATED),\n    withLatestFrom(this.store.select(selectRootProjects)),\n    mergeMap(([action, rootProjects]) => this.projectsApi.projectsUpdate(action.payload.updatedData)\n      .pipe(\n        mergeMap(() => {\n          const parentProject = rootProjects.find(project => project.id === action.payload.updatedData.project);\n          const effectedRootProjects = [\n            rootProjects.find(project => project.name === parentProject.name),\n            ...rootProjects.filter(project => project.name.startsWith(`${parentProject.name}/`))]\n            .map(project => ({\n              ...project,\n              name: project.name.replace(parentProject?.name, action.payload.updatedData.name)\n            }));\n          return [\n            deactivateLoader(action.type),\n            new UpdateProjectPartial({id: action.payload.updatedData.project, changes: action.payload.updatedData}),\n            setAllProjects({projects: effectedRootProjects, updating: true})\n          ];\n        }),\n        catchError(error => [deactivateLoader(action.type), requestFailed(error),\n          setServerError(error, undefined, get('error.meta.result_subcode', error) === 800 ?\n            'Name should be 3 characters long' : get('error.meta.result_subcode', error) === 801 ? 'Name already exists in this project' : undefined)])\n      )\n    )\n  ));\n\n  getAllProjects = createEffect(() => this.actions.pipe(\n    ofType<GetAllProjectsPageProjects>(PROJECTS_ACTIONS.GET_PROJECTS),\n    debounceTime(10),\n    withLatestFrom(\n      this.store.select(selectProjectsOrderBy),\n      this.store.select(selectProjectsSortOrder),\n      this.store.select(selectProjectsSearchQuery),\n      this.store.select(selectProjectsScrollId),\n      this.store.select(selectCurrentUser),\n      this.store.select(selectShowOnlyUserWork),\n      this.store.select(selectShowHidden),\n      this.store.select(selectRouterParams).pipe(map(params => get('projectId', params))),\n      this.store.select(selectSelectedProjectId),\n    ),\n    switchMap(([action, orderBy, sortOrder, searchQuery, scrollId, user, showOnlyUserWork, showHidden, routerProjectId, projectId]) => {\n        const selectedProjectId = routerProjectId || projectId; // In rare cases where router not updated yet with current project id\n        /* eslint-disable @typescript-eslint/naming-convention */\n        return forkJoin([\n          this.projectsApi.projectsGetAllEx({\n            stats_for_state: ProjectsGetAllExRequest.StatsForStateEnum.Active,\n            include_stats: true,\n            shallow_search: !searchQuery?.query,\n            ...(selectedProjectId && {parent: [selectedProjectId]}),\n            scroll_id: scrollId || null, // null to create new scroll (undefined doesn't generate scroll)\n            size: pageSize,\n            active_users: (showOnlyUserWork ? [user.id] : null),\n            ...(showHidden && {search_hidden: true}),\n            order_by: ['featured', sortOrder === TABLE_SORT_ORDER.DESC ? '-' + orderBy : orderBy],\n            only_fields: ['name', 'company', 'user', 'created', 'default_output_destination'],\n            ...(searchQuery?.query && {\n              _any_: {\n                pattern: searchQuery.regExp ? searchQuery.query : escapeRegex(searchQuery.query) + '[^/]*$',\n                fields: ['id', 'name', 'description', 'system_tags']\n              }\n            }),\n            ...action.payload.getAllFilter\n          } as ProjectsGetAllExRequest),\n          // Getting [current project] stats from server\n          (selectedProjectId && !scrollId && !searchQuery?.query) ? this.projectsApi.projectsGetAllEx({\n            id: selectedProjectId,\n            include_stats: true,\n            stats_with_children: false,\n            stats_for_state: ProjectsGetAllExRequest.StatsForStateEnum.Active,\n            ...(showHidden && {search_hidden: true}),\n            check_own_contents: true, // in order to check if project is empty\n            only_fields: ['name', 'company', 'user', 'created', 'default_output_destination'],\n            /* eslint-enable @typescript-eslint/naming-convention */\n          }) : of(null),\n        ])\n          .pipe(\n            map(([projectsRes, currentProjectRes]: [ProjectsGetAllExResponse, ProjectsGetAllExResponse]) => ({\n                newScrollId: projectsRes.scroll_id,\n                projects: (currentProjectRes && this.isNotEmptyExampleProject(currentProjectRes.projects[0])) ? [\n                  // eslint-disable-next-line @typescript-eslint/naming-convention\n                  {...currentProjectRes.projects[0], isRoot: true, sub_projects: null, name: `[${currentProjectRes.projects[0]?.name}]`},\n                  ...projectsRes.projects\n                ] : projectsRes.projects\n              }\n            )),\n            mergeMap(({newScrollId, projects}) => [\n              new AddToProjectsList(projects),\n              deactivateLoader(action.type),\n              setCurrentScrollId({scrollId: newScrollId}),\n              new SetNoMoreProjects(projects.length < pageSize)]),\n            catchError(error => [deactivateLoader(action.type), requestFailed(error)])\n          );\n      }\n    )\n  ));\n\n  setProjectsOrderBy = createEffect(() => this.actions.pipe(\n    ofType<SetProjectsOrderBy>(PROJECTS_ACTIONS.SET_ORDER_BY),\n    mergeMap(() => [new GetAllProjectsPageProjects()])\n  ));\n\n  setProjectsSearchQuery = createEffect(() => this.actions.pipe(\n    ofType(setProjectsSearchQuery.type),\n    mergeMap(() => [new GetAllProjectsPageProjects()])\n  ));\n\n  private isNotEmptyExampleProject(project: Project) {\n    return !(isExample(project) && project.own_models === 0 && project.own_tasks === 0);\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {CommonProjectsPageComponent} from './containers/projects-page/common-projects-page.component';\nimport {SMSharedModule} from '../shared/shared.module';\nimport {EffectsModule} from '@ngrx/effects';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {ProjectsListComponent} from './dumb/projects-list/projects-list.component';\nimport {ProjectsHeaderComponent} from './dumb/projects-header/projects-header.component';\nimport {ProjectDialogModule} from '../shared/project-dialog/project-dialog.module';\nimport {ProjectsSharedModule} from '../../features/projects/shared/projects-shared.module';\nimport {CommonLayoutModule} from '../layout/layout.module';\nimport {SharedModule} from '../../shared/shared.module';\nimport {ProjectsEffects} from '../../features/projects/projects.effect';\nimport {CommonProjectsEffects} from './common-projects.effects';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SMSharedModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ProjectDialogModule,\n    ProjectsSharedModule,\n    EffectsModule.forFeature([ProjectsEffects, CommonProjectsEffects]),\n    SharedModule,\n    CommonLayoutModule\n  ],\n  declarations: [CommonProjectsPageComponent, ProjectsListComponent, ProjectsHeaderComponent],\n  exports: [CommonProjectsPageComponent, ProjectsListComponent, ProjectsHeaderComponent]\n})\nexport class CommonProjectsModule {\n}\n","import {createSelector} from '@ngrx/store';\nimport {Project} from '../../business-logic/model/projects/project';\nimport {TABLE_SORT_ORDER, TableSortOrderEnum} from '../shared/ui-components/data/table/table.consts';\nimport {PROJECTS_ACTIONS} from './common-projects.consts';\nimport {setCurrentScrollId, setProjectsSearchQuery} from './common-projects.actions';\nimport {ICommonSearchState} from '../common-search/common-search.reducer';\nimport {selectSelectedProject} from \"@common/core/reducers/projects.reducer\";\n\nexport interface CommonProjectReadyForDeletion {\n  project: Project;\n  experiments: {archived: number; unarchived: number};\n  models: {archived: number; unarchived: number};\n}\n\nexport interface ICommonProjectsState {\n  orderBy: string;\n  sortOrder: TableSortOrderEnum;\n  searchQuery: ICommonSearchState['searchQuery'];\n  data: Project[];\n  projectsNonFilteredList: Project[];\n  selectedProjectId: string;\n  selectedProject: Project;\n  projectReadyForDeletion: CommonProjectReadyForDeletion;\n  noMoreProjects: boolean;\n  scrollId: string;\n}\n\nexport const commonProjectsInitState: ICommonProjectsState = {\n  data: [],\n  selectedProjectId: '',\n  selectedProject: {},\n  orderBy: 'last_update',\n  sortOrder: TABLE_SORT_ORDER.DESC,\n  searchQuery: null,\n  projectsNonFilteredList: [],\n  projectReadyForDeletion: {\n    project: null,\n    experiments: null,\n    models: null\n  },\n  noMoreProjects: true,\n  scrollId: null,\n};\n\nconst getCorrectSortingOrder = (currentSortOrder: TableSortOrderEnum, currentOrderField: string, nextOrderField: string) => {\n  if (currentOrderField === nextOrderField) {\n    return currentSortOrder === TABLE_SORT_ORDER.DESC ? TABLE_SORT_ORDER.ASC : TABLE_SORT_ORDER.DESC;\n  } else {\n    return nextOrderField === 'last_update' ? TABLE_SORT_ORDER.DESC : TABLE_SORT_ORDER.ASC;\n  }\n};\n\nexport const commonProjectsReducer = (state: ICommonProjectsState = commonProjectsInitState, action): ICommonProjectsState => {\n\n  switch (action.type) {\n\n    case PROJECTS_ACTIONS.SET_PROJECTS:\n      return {...state, data: action.payload.projects};\n    case PROJECTS_ACTIONS.ADD_TO_PROJECTS_LIST:\n      return {...state, data: state.data.concat(action.payload.projects)};\n    case setCurrentScrollId.type:\n      return {...state, scrollId: action.scrollId};\n    case PROJECTS_ACTIONS.SET_NO_MORE_PROJECTS:\n      return {...state, noMoreProjects: action.payload};\n    case PROJECTS_ACTIONS.SET_PROJECTS_NON_FILTERED_LIST:\n      return {...state, projectsNonFilteredList: action.payload.projects};\n    case PROJECTS_ACTIONS.UPDATE_ONE_PROJECT:\n      return {\n        ...state, data:\n          state.data.map(ex => ex.id === action.payload.id ? {...ex, ...action.payload.changes} : ex)\n      };\n    case PROJECTS_ACTIONS.SET_PROJECT_BY_ID: {\n      const selectedProjectIndex = state.data.findIndex(project => project.id === action.payload.res.project.id);\n      const projectListInst = [...state.data];\n      projectListInst[selectedProjectIndex] = Object.assign({}, state.data[selectedProjectIndex], action.payload.res.project);\n      return {...state, selectedProject: action.payload.res.project, data: projectListInst};\n    }\n    case PROJECTS_ACTIONS.SELECT_PROJECT: {\n      const selectedProjectIndex = state.data.findIndex(project =>\n        project.id === action.payload.projectId\n      );\n      const selectedProject = state.data[selectedProjectIndex];\n      return {...state, selectedProjectId: action.payload.projectId, selectedProject};\n    }\n    case PROJECTS_ACTIONS.CREATE_PROJECT_SUCCESS:\n      return {...state, selectedProjectId: action.payload.projectId};\n    case PROJECTS_ACTIONS.SELECT_ALL_PROJECTS:\n      return {...state, selectedProjectId: null, selectedProject: {}};\n      // TODO: do we need to reset this in new delete?\n    case PROJECTS_ACTIONS.RESET_PROJECTS:\n      return {...state, scrollId: null, noMoreProjects: false, data: []};\n    case PROJECTS_ACTIONS.SET_ORDER_BY:\n      return {...state, orderBy: action.payload.orderBy, sortOrder: getCorrectSortingOrder(state.sortOrder, state.orderBy, action.payload.orderBy), scrollId: null, noMoreProjects: false, data: []};\n    case setProjectsSearchQuery.type:\n      return {...state, searchQuery: (action as ReturnType<typeof setProjectsSearchQuery>), scrollId: null, noMoreProjects: false, data: []};\n    case PROJECTS_ACTIONS.RESET_SEARCH_QUERY:\n      return {...state, searchQuery: commonProjectsInitState.searchQuery, scrollId: null, noMoreProjects: false, data: []};\n    case PROJECTS_ACTIONS.CHECK_PROJECT_FOR_DELETION:\n      return {...state, projectReadyForDeletion: {...commonProjectsInitState.projectReadyForDeletion, project: action.payload.project}};\n    case PROJECTS_ACTIONS.RESET_READY_TO_DELETE:\n      return {...state, projectReadyForDeletion: commonProjectsInitState.projectReadyForDeletion};\n    case PROJECTS_ACTIONS.SET_PROJECT_READY_FOR_DELETION:\n      return {...state, projectReadyForDeletion: {...state.projectReadyForDeletion, ...action.payload.readyForDeletion}};\n    default:\n      return state;\n  }\n};\n\nexport const projects = state => state.projects as ICommonProjectsState;\n\n\nexport const selectProjectsData = createSelector(projects, state => state?.data || []);\nexport const selectNonFilteredProjectsList = createSelector(projects, state => state?.projectsNonFilteredList || []);\n// export const selectSelectedProjectId = createSelector(selectRouterParams, (params: any) => params ? params.projectId : '');\nexport const selectProjectsOrderBy = createSelector(projects, state => state?.orderBy || '');\nexport const selectProjectsSortOrder = createSelector(projects, state => state?.sortOrder || TABLE_SORT_ORDER.DESC);\nexport const selectProjectsSearchQuery = createSelector(projects, state => state?.searchQuery);\nexport const selectProjectReadyForDeletion = createSelector(projects, state => state?.projectReadyForDeletion);\nexport const selectProjectForDelete = createSelector(projects, state => [state?.projectReadyForDeletion.project]);\nexport const selectNoMoreProjects = createSelector(projects, state => state.noMoreProjects);\nexport const selectProjectsScrollId = createSelector(projects, (state): string => state?.scrollId || null);\n","import {parse, UrlWithStringQuery} from 'url';\n\nconst ENDPOINT_PATTERN = /^(.+\\.)?s3[.-]([a-z0-9-]+)\\./;\nexport const DEFAULT_REGION = 'us-east-1';\n\n/**\n * A URI wrapper that can parse out information about an S3 URI\n *\n * @example <caption>instanciate AmazonS3URI</caption>\n * try {\n *  const uri = 'https://bucket.s3-aws-region.amazonaws.com/key'\n *  const { region, bucket, key } = new AmazonS3URI(uri)\n * } catch (err) {\n *  console.warn(`${uri} is not a valid S3 uri`) // should not happen because `uri` is valid in that example\n * }\n * @example <caption>functional interface: it automatically returns an AmazonS3URI instance</caption>\n *  const { region, bucket, key } = AmazonS3URI(uri)\n * @param uri - the URI to parse\n * @param [parseQueryString] - If true, `uri` property exposes `query` as an object instead of a string\n * @throws {TypeError|Error}\n */\nexport class AmazonS3URI {\n  private uri: UrlWithStringQuery;\n  bucket: string;\n  key: string;\n  region: string;\n  /**\n   * true if the URI contains the bucket in the path,\n   * false if it contains the bucket in the authority\n   *\n   * @type { boolean }\n   * */\n  isPathStyle = false;\n\n  constructor(uri: string) {\n    this.uri = parse(uri);\n    this.parse(uri);\n  }\n\n  private parse(uri: string) {\n    if (this.uri.protocol === 's3:') {\n      this.bucket = this.uri.host;\n\n      if (!this.bucket) {\n        throw new Error(`Invalid S3 URI: no bucket: ${uri}`);\n      }\n\n      if (!this.uri.pathname || this.uri.pathname.length <= 1) {\n        // s3://bucket or s3://bucket/\n        this.key = null;\n      } else {\n        // s3://bucket/key\n        // Remove the leading '/'.\n        this.key = this.uri.pathname.substring(1);\n      }\n      if (this.key !== null) {\n        this.key = decodeURIComponent(this.key);\n      }\n      return;\n    }\n\n    if (!this.uri.host) {\n      throw new Error(`Invalid S3 URI: no hostname: ${uri}`);\n    }\n\n    const matches = this.uri.host.match(ENDPOINT_PATTERN);\n    if (!matches) {\n      throw new Error(`Invalid S3 URI: hostname does not appear to be a valid S3 endpoint: ${uri}`);\n    }\n\n    const prefix = matches[1];\n    if (!prefix) {\n      // No bucket name in the host; parse it from the path.\n      this.isPathStyle = true;\n\n      if (this.uri.pathname === '/') {\n        this.bucket = null;\n        this.key = null;\n      } else {\n        const index = this.uri.pathname.indexOf('/', 1);\n        if (index === -1) {\n          // https://s3.amazonaws.com/bucket\n          this.bucket = this.uri.pathname.substring(1);\n          this.key = null;\n        } else if (index === this.uri.pathname.length - 1) {\n          // https://s3.amazonaws.com/bucket/\n          this.bucket = this.uri.pathname.substring(1, index);\n          this.key = null;\n        } else {\n          // https://s3.amazonaws.com/bucket/key\n          this.bucket = this.uri.pathname.substring(1, index);\n          this.key = this.uri.pathname.substring(index + 1);\n        }\n      }\n    } else {\n      // Bucket name was found in the host; path is the key.\n      this.isPathStyle = false;\n\n      // Remove the trailing '.' from the prefix to get the bucket.\n      this.bucket = prefix.substring(0, prefix.length - 1);\n\n      if (!this.uri.pathname || this.uri.pathname === '/') {\n        this.key = null;\n      } else {\n        // Remove the leading '/'.\n        this.key = this.uri.pathname.substring(1);\n      }\n    }\n\n    if (matches[2] !== 'amazonaws') {\n      this.region = matches[2];\n    }\n    // else {\n    //   this.region = DEFAULT_REGION;\n    // }\n\n    if (this.key !== null) {\n      this.key = decodeURIComponent(this.key);\n    }\n\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {select, Store} from '@ngrx/store';\nimport {from, Observable, of, Subject} from 'rxjs';\nimport {\n  Credentials, selectRevokeSucceed,\n  selectS3BucketCredentials, selectS3BucketCredentialsBucketCredentials\n} from '../../core/reducers/common-auth-reducer';\nimport {S3Client, ObjectIdentifier, DeleteObjectsCommand, GetObjectCommand} from '@aws-sdk/client-s3';\nimport {S3ClientConfig} from '@aws-sdk/client-s3';\n// import {getSignedUrl} from '@aws-sdk/s3-request-presigner';\nimport {getAllCredentials, showLocalFilePopUp} from '../../core/actions/common-auth.actions';\nimport {map, skip} from 'rxjs/operators';\nimport {convertToReverseProxy, isFileserverUrl} from '../../../shared/utils/url';\nimport {ConfigurationService} from '../../shared/services/configuration.service';\nimport {selectActiveWorkspace} from '../../core/reducers/users-reducer';\nimport {GetCurrentUserResponseUserObjectCompany} from '../../../business-logic/model/users/getCurrentUserResponseUserObjectCompany';\nimport {Environment} from '../../../../environments/base';\nimport {AmazonS3URI, DEFAULT_REGION} from '../../shared/utils/amazon-s3-uri';\nimport {fromPromise} from 'rxjs/internal-compatibility';\nimport {BuildMiddleware, MetadataBearer, RequestPresigningArguments} from '@aws-sdk/types';\nimport {Client, Command} from '@aws-sdk/smithy-client';\nimport {HttpRequest} from '@aws-sdk/protocol-http';\nimport {formatUrl} from '@aws-sdk/util-format-url';\nimport {S3RequestPresigner} from '@aws-sdk/s3-request-presigner';\n\nconst LOCAL_SERVER_PORT = 27878;\nconst FOUR_DAYS = 60 * 60 * 24 * 4;\nconst HTTP_REGEX = /^https?:\\/\\//;\n\nexport interface SignResponse {\n  type: 'popup' | 'sign' | 'none';\n  signed?: string;\n  expires?: number;\n  bucket?: Credentials;\n  azure?: boolean;\n}\n\nexport const isS3Url = (src) => src?.startsWith('s3://');\n\nconst replaceAll = (baseString: string, toReplace: string, replaceWith: string, ignore = false) =>\n  baseString.replace(new RegExp(toReplace.replace(/([\\/\\,\\!\\\\\\^\\$\\{\\}\\[\\]\\(\\)\\.\\*\\+\\?\\|\\<\\>\\-\\&])/g, '\\\\$&'), (ignore ? 'gi' : 'g')), (typeof (replaceWith) == 'string') ? replaceWith.replace(/\\$/g, '$$$$') : replaceWith);\n\nconst encodeSpecialCharacters = (src: string) => {\n  src = replaceAll(src, '%', '%25');\n  src = replaceAll(src, '#', '%23');\n  src = replaceAll(src, '\\\\', '%5C');\n  src = replaceAll(src, '^', '%5E');\n  return src;\n};\n\nexport const getBucketAndKeyFromSrc = (src) => {\n  let key = '';\n  if (src && src.includes('azure://')) {\n    /* eslint-disable @typescript-eslint/naming-convention */\n    return {\n      Bucket: 'azure',\n      Endpoint: 'azure',\n      Key: 'azure',\n      Secret: key\n    };\n    /* eslint-enable @typescript-eslint/naming-convention */\n  }\n  const srcArr = src.split('/');\n  if (!isS3Url(src)) {\n    return null;\n  } else if (srcArr[2].includes(':')) {\n    // We identify minio cae by it's port (:) and use same behavior in case user already set credentials for that endpoint\n    srcArr.forEach((part, index) => {\n      if (index > 3) {\n        key += part + '/';\n      }\n    });\n    key = key.slice(0, -1);\n    /* eslint-disable @typescript-eslint/naming-convention */\n    return {\n      Bucket: srcArr[3],\n      Endpoint: srcArr[2],\n      Key: key,\n    };\n    /* eslint-enable @typescript-eslint/naming-convention */\n  } else {\n    try {\n      src = encodeSpecialCharacters(src);\n      const amazon = new AmazonS3URI(src);\n      /* eslint-disable @typescript-eslint/naming-convention */\n      return {\n        Bucket: amazon.bucket,\n        Key: amazon.key,\n        Region: amazon.region,\n        Endpoint: null\n      };\n      /* eslint-enable @typescript-eslint/naming-convention */\n    } catch (err) {\n      console.log(err);\n      return null;\n    }\n  }\n};\nexport const inBucket = (url: string, bucket: string, endpoint: string) => {\n  const {Bucket: urlBucket, Endpoint: urlEndpoint} = getBucketAndKeyFromSrc(url);\n  return urlBucket === bucket && urlEndpoint === endpoint;\n};\n\n\nexport const getSignedUrl = async <\n  InputTypesUnion extends object,\n  InputType extends InputTypesUnion,\n  OutputType extends MetadataBearer = MetadataBearer\n  >(\n  client: Client<any, InputTypesUnion, MetadataBearer, any>,\n  command: Command<InputType, OutputType, any, InputTypesUnion, MetadataBearer>,\n  options: RequestPresigningArguments = {}\n): Promise<string> => {\n  const s3Presigner = new S3RequestPresigner({ ...client.config });\n  const presignInterceptMiddleware: BuildMiddleware<InputTypesUnion, MetadataBearer> =\n    (next, context) => async (args) => {\n      const { request } = args;\n      if (!HttpRequest.isInstance(request)) {\n        throw new Error('Request to be presigned is not an valid HTTP request.');\n      }\n      // Retry information headers are not meaningful in presigned URLs\n      delete request.headers['amz-sdk-invocation-id'];\n      delete request.headers['amz-sdk-request'];\n      // User agent header would leak sensitive information\n      delete request.headers['x-amz-user-agent'];\n      delete request.headers['x-amz-content-sha256'];\n\n      delete request.query['x-id'];\n\n      if (request.port) {\n        request.headers['host'] = `${request.hostname}:${request.port}`;\n      }\n\n      const presigned = await s3Presigner.presign(request, {\n        ...options,\n        signingRegion: options.signingRegion ?? context['signing_region'],\n        signingService: options.signingService ?? context['signing_service'],\n      });\n      return {\n        // Intercept the middleware stack by returning fake response\n        response: {},\n        output: {\n          $metadata: { httpStatusCode: 200 },\n          presigned,\n        },\n      } as any;\n    };\n  const middlewareName = 'presignInterceptMiddleware';\n  client.middlewareStack.addRelativeTo(presignInterceptMiddleware, {\n    name: middlewareName,\n    relation: 'before',\n    toMiddleware: 'awsAuthMiddleware',\n    override: true,\n  });\n\n  let presigned: HttpRequest;\n  try {\n    const output = await client.send(command);\n    //@ts-ignore the output is faked, so it's not actually OutputType\n    presigned = output.presigned;\n  } finally {\n    client.middlewareStack.remove(middlewareName);\n  }\n\n  return formatUrl(presigned);\n};\n\n\n@Injectable()\nexport class BaseAdminService {\n  bucketCredentials: Observable<any>;\n  public s3Services: {[bucket: string]: S3Client} = {};\n  revokeSucceed: Observable<any>;\n  protected store: Store<any>;\n  private readonly s3BucketCredentials: Observable<any>;\n  private previouslySignedUrls = {};\n  private localServerWorking = false;\n  private workspace: GetCurrentUserResponseUserObjectCompany;\n  private environment: Environment;\n  private deleteS3FilesSubject: Subject<{ success: boolean; files: string[] }>;\n  private credentials: any[];\n\n  constructor(store: Store<any>, protected confService: ConfigurationService) {\n    this.store = store;\n    this.revokeSucceed = store.pipe(select(selectRevokeSucceed));\n    this.revokeSucceed.subscribe(this.onRevokeSucceed);\n    this.s3BucketCredentials = store.pipe(select(selectS3BucketCredentials));\n    this.s3BucketCredentials.pipe(skip(1)).subscribe(() => {\n      this.previouslySignedUrls = {};\n    });\n    store.select(selectS3BucketCredentialsBucketCredentials)\n      .subscribe(cred => this.credentials = cred);\n    this.store.select(selectActiveWorkspace).subscribe(workspace => this.workspace = workspace);\n    confService.getEnvironment().subscribe(conf => this.environment = conf);\n    this.deleteS3FilesSubject = new Subject();\n  }\n\n  showLocalFilePopUp(url) {\n    this.store.dispatch(showLocalFilePopUp({url}));\n  }\n\n  signUrlIfNeeded(url: string, config?: { skipLocalFile?: boolean; skipFileServer?: boolean; disableCache?: number }):\n    Observable<SignResponse> {\n    config = {...{skipLocalFile: true, skipFileServer: true, disableCache: null}, ...config};\n\n    if (isFileserverUrl(url)) {\n      if (this.environment.communityServer) {\n        url = this.addTenant(url);\n      }\n      if (config.disableCache) {\n        url = this.addS3TimeStamp(url, config.disableCache);\n      }\n      if (!config.skipFileServer && this.environment.useFilesProxy) {\n        return of({type: 'sign', signed: convertToReverseProxy(url), expires: Number.MAX_VALUE});\n      }\n      return of({type: 'sign', signed: url, expires: Number.MAX_VALUE});\n    }\n\n    if (this.isLocalFile(url) && !config.skipLocalFile) {\n      this.checkLocalServerRunning(url);\n      return of({type: 'sign', signed: this.redirectToLocalServer(url), expires: Number.MAX_VALUE});\n    }\n\n    if (this.isGoogleCloudUrl(url)) {\n      return of({type: 'sign', signed: this.signGoogleCloudUrl(url), expires: Number.MAX_VALUE});\n    }\n\n    if (this.isAzureUrl(url)) {\n      const azureBucket = this.credentials.find((b) => b.Bucket && b.Bucket.toLowerCase() == 'azure');\n      if (azureBucket) {\n        return of({type: 'sign', signed: this.signAzureUrl(url, azureBucket), expires: Number.MAX_VALUE});\n      }\n    }\n    const bucketKeyEndpoint = url && getBucketAndKeyFromSrc(url);\n    if (bucketKeyEndpoint) {\n      if (this.isAzureUrl(url)) {\n        return of({type: 'popup', bucket: bucketKeyEndpoint, azure: true});\n      }\n      const s3 = this.findOrInitBucketS3(bucketKeyEndpoint);\n      if (s3) {\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        const command = new GetObjectCommand({Key: bucketKeyEndpoint.Key, Bucket: bucketKeyEndpoint.Bucket/*, ResponseContentType: 'image/jpeg'*/});\n        return fromPromise(getSignedUrl(s3, command, {\n          expiresIn: FOUR_DAYS,\n          unhoistableHeaders: new Set(['x-amz-content-sha256', 'x-id']),\n          unsignableHeaders: new Set(['x-amz-content-sha256', 'x-id']),\n        }))\n          .pipe(map(signed => ({type: 'sign', signed, expires: (new Date()).getTime() + FOUR_DAYS * 1000})));\n      } else {\n        delete bucketKeyEndpoint.Key;\n        return of({type: 'popup', bucket: bucketKeyEndpoint});\n      }\n    } else {\n      return of({type: 'sign', signed: url, expires: Number.MAX_VALUE});\n    }\n  }\n\n  findS3CredentialsInStore(bucketKeyEndpoint) {\n    return this.credentials\n      .find(bucket => bucket?.Bucket === bucketKeyEndpoint.Bucket && bucket?.Endpoint?.replace(HTTP_REGEX,'') == bucketKeyEndpoint.Endpoint);\n  }\n\n  findOrInitBucketS3(bucketKeyEndpoint) {\n    const set = this.findS3CredentialsInStore(bucketKeyEndpoint);\n    const s3Service = this.s3Services[bucketKeyEndpoint.Bucket + bucketKeyEndpoint.Endpoint];\n    if (set && s3Service) {\n      return s3Service;\n    } else {\n      if (set) {\n        this.s3Services[bucketKeyEndpoint.Bucket + bucketKeyEndpoint.Endpoint] = this.createS3Service(set);\n        return this.s3Services[bucketKeyEndpoint.Bucket + bucketKeyEndpoint.Endpoint];\n      }\n    }\n  }\n\n  createS3Service(set) {\n    // const [hostPort, path] = set.Endpoint?.split('/');\n    const [hostname, port] = set.Endpoint?.replace(HTTP_REGEX,'')?.split(':') || ['', ''];\n    const config = {\n      region: set.Region || DEFAULT_REGION,\n      credentials: {\n        accessKeyId: set.Key,\n        secretAccessKey: set.Secret\n      },\n      ...(set.Endpoint && {\n        endpoint: {\n          protocol: set.Endpoint?.startsWith('https') ? 'https' : 'http',\n          hostname,\n          ...(!['80', '443'].includes(port) && {port}),\n          path: '',\n        },\n        forcePathStyle: true,\n        tls: false,\n      }),\n    } as S3ClientConfig;\n    return new S3Client(config);\n  }\n\n  resetS3Services() {\n    this.s3Services = {};\n  }\n\n  public getAllCredentials() {\n    this.store.dispatch(getAllCredentials());\n  }\n\n  private onRevokeSucceed = (bool) => bool ? this.getAllCredentials() : false;\n\n  public isGoogleCloudUrl(src) {\n    return src?.startsWith('gs://');\n  }\n\n\n  // Uses Allegro Chrome extension injecting patch_local_link function to window - hack to get local files.\n  redirectToLocalServer(url: string): string {\n    return `http://localhost:${LOCAL_SERVER_PORT}${url.replace('file://', '/')}`;\n  }\n\n  isLocalFile(url: string): boolean {\n    return url && (url.startsWith('/') || url.startsWith('file://') ||\n      url.startsWith(':\\\\', 1) || url.startsWith('\\\\\\\\'));\n  }\n\n  checkLocalServerRunning(url: string) {\n    if (this.localServerWorking) {\n      return;\n    }\n\n    from(fetch(`http://localhost:${LOCAL_SERVER_PORT}`, {mode: 'no-cors'}))\n      .subscribe(() => {\n        this.localServerWorking = true;\n      }, () => this.showLocalFilePopUp(url));\n  }\n\n  signGoogleCloudUrl(url: string): string {\n    return 'https://storage.cloud.google.com' + (url.slice(4));\n  }\n\n  signAzureUrl(url: string, azureBucket) {\n    const sas = azureBucket ? azureBucket.Secret : '';\n    const sasQueryString = url.includes('?') ? sas.replace('?', '&') : sas;\n    return url.replace('azure://', 'https://').concat(sasQueryString);\n  }\n\n  isAzureUrl(url: string) {\n    return url.startsWith('azure://');\n  }\n\n\n  private addTenant(url: string) {\n    const u = new URL(url);\n    u.searchParams.append('tenant', this.workspace?.id);\n    return u.toString();\n  }\n\n  public deleteS3Files(files: string[], skipSubjectReturn): Observable<{ success: boolean; files: string[] }> {\n    const url = files[0];\n    const bucketKeyEndpoint = url && getBucketAndKeyFromSrc(url);\n    const s3 = this.findOrInitBucketS3(bucketKeyEndpoint) as S3Client;\n\n    /* eslint-disable @typescript-eslint/naming-convention */\n    const command = new DeleteObjectsCommand({\n      Bucket: bucketKeyEndpoint.Bucket,\n      Delete: {\n        Quiet: true,\n        Objects: files.map(file => ({Key: file} as ObjectIdentifier))\n      }\n    });\n    /* eslint-enable @typescript-eslint/naming-convention */\n    if (s3) {\n      s3.send(command).then(response => {\n        if (response.Errors?.length > 0) {\n          this.deleteS3FilesSubject.next({success: false, files});\n        } else {\n          this.deleteS3FilesSubject.next({success: true, files});\n        }\n      });\n    } else {\n      delete bucketKeyEndpoint.Key;\n      // TODO: use store\n      // this.showS3PopUp(bucketKeyEndpoint).pipe(skip(1), take(1))\n      //   .subscribe(() => this.deleteS3Files(files, true));\n    }\n    return !skipSubjectReturn && this.deleteS3FilesSubject.asObservable();\n  }\n\n  addS3TimeStamp(url: string, timestamp: number) {\n    timestamp = timestamp || new Date().getTime();\n    try {\n      const parsed = new URL(url);\n      parsed.searchParams.append('X-Amz-Date', `${timestamp}`);\n      return  parsed.toString();\n    } catch {\n      return url;\n    }\n  }\n\n}\n","import {Component, ElementRef, EventEmitter, HostListener, Input, Output, ViewChild} from '@angular/core';\nimport {MatMenuTrigger} from '@angular/material/menu';\nimport {TagsMenuComponent} from '../../ui-components/tags/tags-menu/tags-menu.component';\nimport {Store} from '@ngrx/store';\nimport {DeactivateEdit, ActivateEdit} from 'app/webapp-common/experiments/actions/common-experiments-info.actions';\nimport {ActivateModelEdit, CancelModelEdit} from 'app/webapp-common/models/actions/models-info.actions';\nimport {CountAvailableAndIsDisableSelectedFiltered} from '@common/shared/entity-page/items.utils';\nimport {MenuItems} from '../../entity-page/items.utils';\n\n@Component({\n  selector: 'sm-base-context-menu',\n  template: ''\n})\nexport class BaseContextMenuComponent {\n  public position = {x: 0, y: 0};\n  public menuItems = MenuItems;\n\n  @ViewChild('tagMenuContent') tagMenu: TagsMenuComponent;\n  @ViewChild(MatMenuTrigger) trigger: MatMenuTrigger;\n  @Input() selectedDisableAvailable: Record<string, CountAvailableAndIsDisableSelectedFiltered> = {};\n  @Input() selectedDisableAvailableIsMultiple = true;\n  @Output() menuOpened = new EventEmitter();\n  @Output() menuClosed = new EventEmitter();\n\n  @HostListener('document:click', ['$event'])\n  clickOut(event) {\n    if (!this.eRef.nativeElement.contains(event.target)) {\n      this.trigger?.closeMenu();\n      this.menuClosed.emit();\n    }\n  }\n\n  constructor(\n    protected store: Store<any>,\n    protected eRef: ElementRef\n  ) {}\n\n  openMenu(position: { x: number; y: number }) {\n    if (this.trigger?.menuOpen) {\n      this.trigger.closeMenu();\n      this.menuClosed.emit();\n    }\n    this.position = position;\n    window.setTimeout(() => {\n      this.trigger.openMenu();\n      this.menuOpened.emit();\n    }, 100);\n  }\n\n  tagMenuOpened() {\n    window.setTimeout(() => {\n      this.store.dispatch(new ActivateEdit('tags'));\n      this.store.dispatch(new ActivateModelEdit('tags'));\n    }, 200);\n    this.tagMenu?.focus();\n  }\n\n  tagMenuClosed() {\n    window.setTimeout(() => {\n      this.store.dispatch(new DeactivateEdit());\n      this.store.dispatch(new CancelModelEdit());\n    }, 200);\n    this.tagMenu?.clear();\n  }\n}\n","import {\n  Component,\n  Input,\n  ChangeDetectionStrategy,\n  ViewChild,\n  ViewContainerRef,\n  ChangeDetectorRef,\n  AfterViewInit,\n  NgZone,\n} from '@angular/core';\nimport line from 'britecharts/dist/umd/line.min';\nimport tooltip from 'britecharts/dist/umd/tooltip.min';\nimport legend from 'britecharts/dist/umd/legend.min';\nimport {select, Selection} from 'd3-selection';\n\ninterface Topic {\n  topicName: string;\n  topic: number;\n  dates: { value: number; date: string }[];\n}\n\nexport interface LineChartData {\n  dataByTopic?: Topic[];\n}\n\nconst COLOR_SCHEME = ['#a4a1fb', '#ff8a15'];\n\n@Component({\n  selector       : 'sm-line-chart',\n  templateUrl    : './line-chart.component.html',\n  styleUrls      : ['./line-chart.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class LineChartComponent implements AfterViewInit {\n\n  private lineMargin = {top: 30, bottom: 50, left: 80, right: 10};\n  private lineChartContainer: Selection<SVGElement, LineChartData, HTMLElement, any>;\n  private lineChart;\n  private lineTooltipContainer;\n  private lineTooltip;\n  private legendContainer: Selection<SVGElement, LineChartData, HTMLElement, any>;\n  private legendChart;\n  private legendWidth: number;\n  public loading     = false;\n  private _yLabel: string;\n  public chartData: LineChartData;\n  private initDone   = false;\n\n  @Input() yTickFormatter: (number) => number;\n\n  @Input() set yLabel(label: string) {\n    this._yLabel = label;\n    if (this.initDone) {\n      this.lineChart.yAxisLabel(label);\n    }\n  }\n\n  @Input() set showLoadingOverlay(show: boolean) {\n    if (!show) {\n      setTimeout(() => {\n        this.initLineChart();\n        this.loading = false;\n        this.cdr.detectChanges();\n      });\n    } else {\n      this.loading  = true;\n      this.initDone = false;\n    }\n  }\n\n  @Input() tooltipVerticalOffset = -100;\n\n  @Input() set data(data: LineChartData) {\n    if (data && (data.dataByTopic.length === 0 || data.dataByTopic.every(topic => topic.dates.length === 0))) {\n      this.chartData = undefined;\n      return;\n    }\n\n    this.chartData = data;\n    if (this.initDone) {\n      this.lineChart.xAxisCustomFormat(this.getXAxisFormatter(this.chartData))\n        .isAnimated(false);\n      this.updateChart();\n      this.updateLegend();\n    }\n  }\n\n  @ViewChild('chart', {read: ViewContainerRef, static: true}) chartRef: ViewContainerRef;\n  @ViewChild('legend', {read: ViewContainerRef, static: true}) legendRef: ViewContainerRef;\n\n  constructor(private cdr: ChangeDetectorRef, private readonly zone: NgZone) {\n  }\n\n  ngAfterViewInit() {\n    this.legendChart        = legend();\n    this.legendContainer    = select(this.legendRef.element.nativeElement);\n    this.lineChart          = line();\n    this.lineTooltip        = tooltip();\n    this.lineChartContainer = select(this.chartRef.element.nativeElement);\n    if (!this.loading) {\n      setTimeout(this.initLineChart.bind(this));\n    }\n  }\n\n  initLegend() {\n    const rect       = this.legendContainer.node().getBoundingClientRect();\n    const {width}    = rect;\n    this.legendWidth = width;\n\n    if (rect) {\n      this.legendChart\n        .width(this.legendWidth)\n        .height(40)\n        .colorSchema(COLOR_SCHEME)\n        .numberFormat('l')\n        .isHorizontal(true);\n    }\n  }\n\n  updateLegend() {\n    if (!this.chartData) {\n      return;\n    }\n\n    this.zone.runOutsideAngular(() => {\n      const data = this.chartData.dataByTopic.map(topic => ({id: topic.topic, name: topic.topicName}));\n      this.legendContainer.datum(data).call(this.legendChart);\n\n      this.legendContainer.select('defs').remove();\n      this.legendContainer.select('svg').append('defs').append('svg:clipPath')\n        .attr('id', 'legend-label-clip')\n        .append('svg:rect')\n        .attr('id', 'clip-rect')\n        .attr('x', '0')\n        .attr('y', '-10')\n        .attr('width', this.legendWidth - 100)\n        .attr('height', 20);\n      this.legendContainer.selectAll('.legend-entry-name')\n        .attr('clip-path', 'url(#legend-label-clip)')\n        .append('title')\n        .text((d: any[]) => d['name']);\n    });\n  }\n\n  initLineChart() {\n    this.zone.runOutsideAngular(() => {\n      const containerWidth: number = this.lineChartContainer.node() ?\n        this.lineChartContainer.node().getBoundingClientRect().width : 10;\n\n      this.lineChart\n        .tooltipThreshold(600)\n        .height(270)\n        .margin(this.lineMargin)\n        .lineCurve('monotoneX')\n        .isAnimated(true)\n        .grid('horizontal')\n        .width(containerWidth)\n        .colorSchema(COLOR_SCHEME)\n        .lineGradient(['#a4a1fb', '#a4a1fb'])\n        .xAxisLabel('')\n        .xTicks(8)\n        .yAxisLabelPadding(50)\n        .yAxisLabel(this._yLabel)\n        .xAxisFormat(this.lineChart.axisTimeCombinations.CUSTOM)\n        .on('customMouseOver', this.lineTooltip.show)\n        .on('customMouseMove', this.lineTooltip.update)\n        .on('customMouseOut', this.lineTooltip.hide);\n\n      this.initLegend();\n\n      if (this.chartData) {\n        this.lineChart.xAxisCustomFormat(this.getXAxisFormatter(this.chartData));\n        this.updateChart();\n        this.updateLegend();\n      }\n\n      // Tooltip Setup and start\n      const tooltipElm          = this.chartRef.element.nativeElement;\n      this.lineTooltipContainer = select(tooltipElm).select('.metadata-group .vertical-marker-container');\n      this.lineTooltip\n        .title('')\n        .valueLabel('value')\n        .dateFormat(this.lineTooltip.axisTimeCombinations.CUSTOM)\n        .dateCustomFormat('%c')\n        .tooltipOffset({\n          y: this.tooltipVerticalOffset,\n          x: 500\n        });\n\n      if (this.yTickFormatter) {\n        this.lineTooltip.valueFormatter(this.yTickFormatter);\n      }\n      // Note that if the viewport width is less than the tooltipThreshold value,\n      // this container won't exist, and the tooltip won't show up\n      this.lineTooltipContainer.datum([]).call(this.lineTooltip);\n      this.initDone = true;\n    });\n  }\n\n  updateChart() {\n    if (this.chartData) {\n      this.zone.runOutsideAngular(() => {\n        this.lineChartContainer.datum(this.chartData).call(this.lineChart);\n        if (this.yTickFormatter) {\n          this.lineChartContainer.selectAll('.y.axis .tick text').text(this.yTickFormatter);\n        }\n      });\n    }\n  }\n\n  getXAxisFormatter(data) {\n    if (!data) {\n      return;\n    }\n    data               = data.dataByTopic[0].dates;\n    const firstDate    = new Date(data[0].date);\n    const lastDate     = new Date(data[data.length - 1].date);\n    const dateTimeSpan = lastDate.getTime() - firstDate.getTime();\n\n    if (dateTimeSpan > 3 * 24 * 60 * 60 * 1000) { // more then 3 days\n      this.lineChart.xTicks(6);\n      return '%b %d';\n    } else if (dateTimeSpan > 4 * 60 * 60 * 1000) { // more then 4 hours\n      this.lineChart.xTicks(5);\n      return '%a %I%p';\n    }\n    this.lineChart.xTicks(8);\n    return '%H:%M';\n  }\n\n  onResize() {\n    this.initLegend();\n    const containerWidth: number = this.lineChartContainer.node() ?\n      this.lineChartContainer.node().getBoundingClientRect().width : 10;\n    this.lineChart.width(containerWidth)\n      .isAnimated(false);\n    this.updateChart();\n    this.updateLegend();\n  }\n}\n","<div [hidden]=\"!loading\" [class.d-flex]=\"loading\" class=\"overlay justify-content-center align-items-center\">\n  <mat-spinner></mat-spinner>\n  <div class=\"text\">Loading</div>\n</div>\n<div [hidden]=\"loading || chartData\" [class.d-flex]=\"!(loading || chartData)\"\n     class=\"overlay justify-content-center align-items-center\">\n  <div class=\"text no-data\">No data to show</div>\n</div>\n\n<div class=\"h-100\">\n  <div (window:resize)=\"onResize()\" #chart class=\"chart\"></div>\n  <div #legend></div>\n</div>\n","import {ChangeDetectionStrategy, Component, Input, OnInit, Output, EventEmitter} from '@angular/core';\nimport {FilterMetadata} from 'primeng/api/filtermetadata';\n\n@Component({\n  selector: 'sm-clear-filters-button',\n  templateUrl: `./clear-filters-button.component.html`,\n  styleUrls: ['./clear-filters-button.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ClearFiltersButtonComponent implements OnInit {\n\n  @Input() set tableFilters(tableFilters: { [s: string]: FilterMetadata }) {\n    this.isTableFiltered = Object.values(tableFilters).some(({value}) => value.length > 0);\n  };\n  @Output() clearTableFilters = new EventEmitter<null>();\n\n  public isTableFiltered: boolean;\n\n  constructor() { }\n\n  ngOnInit(): void {}\n\n}\n","<i class=\"al-icon al-ico-filter-reset\"\n   [class.disabled]=\"!isTableFiltered\"\n   [class.pointer]=\"isTableFiltered\"\n   smTooltip=\"Clear all filters\"\n   (click)=\"isTableFiltered && clearTableFilters.emit()\"\n>\n  <span class=\"path1\"></span><span class=\"path2\"></span>\n</i>\n","<div class=\"sm-menu-header\">CUSTOMIZE COLUMNS</div>\n<mat-divider></mat-divider>\n<div class=\"list-container\">\n  <sm-menu-item *ngFor=\"let col of tableCols; trackBy: trackById\"\n                [itemLabel]=\"col.header\"\n                [checked]=\"!(col?.hidden)\"\n                [selectable]=\"true\"\n                [removable]=\"!!col.metric_hash || col.isParam\"\n                [itemValue]=\"col.id\"\n                (removeItemClicked)=\"removeColFromList.emit($event)\"\n                (itemClicked)=\"selectedTableColsChanged.emit(col)\">\n  </sm-menu-item>\n</div>\n<mat-divider></mat-divider>\n<div class=\"loader\" [ngClass]=\"{'d-none': !isLoading}\">\n  <mat-spinner diameter=\"50\"></mat-spinner>\n</div>\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {ISmCol} from '../../ui-components/data/table/table.consts';\n\n@Component({\n  selector   : 'sm-custom-columns-list',\n  templateUrl: './custom-columns-list.component.html',\n  styleUrls  : ['./custom-columns-list.component.scss']\n})\nexport class CustomColumnsListComponent implements OnInit {\n  @Input() tableCols: ISmCol[];\n  @Input() isLoading;\n  @Output() removeColFromList = new EventEmitter<ISmCol['id']>();\n  @Output() selectedTableColsChanged = new EventEmitter<ISmCol>();\n\n  constructor() {\n  }\n\n  ngOnInit(): void {\n  }\n\n  trackById = (index: number, col: ISmCol) => col.id;\n}\n","<button *ngIf=\"showSettings\" class=\"btn\" smTooltip=\"Settings\" (click)=\"toggleSettings.emit()\">\n  <i class=\"fas fa-cog fa-lg\"></i>\n</button>\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\n\n@Component({\n  selector   : 'sm-experiment-settings',\n  templateUrl: './experiment-settings.html',\n  styleUrls  : ['./experiment-settings.scss']\n})\nexport class ExperimentSettingsComponent {\n\n  @Input() disabled                  = false;\n  @Input() showSettings              = false;\n  @Output() toggleSettings           = new EventEmitter();\n}\n\n","<div class=\"refresh-wrapper d-flex flex-row-reverse align-items-center\" [ngClass]=\"{'allow-autorefresh': allowAutoRefresh}\">\n  <span\n    *ngIf=\"allowAutoRefresh && autoRefreshState; else pause\"\n    class=\"pl-1 al-icon al-ico-auto-refresh-play\"\n    (click)=\"refreshList.emit(false)\"\n  ><span class=\"path1\"></span><span class=\"path2\"></span></span>\n  <ng-template #pause>\n    <span\n      class=\"pl-1 al-icon al-ico-auto-refresh-pause\"\n      (click)=\"refreshList.emit(false)\"\n    ><span class=\"path1\"></span><span class=\"path2\"></span>\n    </span>\n  </ng-template>\n  <mat-checkbox [ngModel]=\"autoRefreshState\" name=\"autoRefresh\" (ngModelChange)=\"setAutoRefresh.emit($event)\" class=\"autorefresh-checkbox\">\n    Auto Refresh\n  </mat-checkbox>\n</div>\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\n\n@Component({\n  selector   : 'sm-refresh-button',\n  templateUrl: './refresh-button.component.html',\n  styleUrls  : ['./refresh-button.component.scss']\n})\nexport class RefreshButtonComponent implements OnInit {\n  @Input() autoRefreshState: boolean;\n  @Input() allowAutoRefresh: boolean = true;\n  @Input() disabled: boolean = true;\n  @Output() refreshList = new EventEmitter();\n  @Output() setAutoRefresh = new EventEmitter<boolean>();\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n}\n\n","<ng-content select=\"[empty-state]\"></ng-content>\n<div *ngIf=\"!showSpinner && !editable && lines?.length\" class=\"diff-container h-100\">\n  <div class=\"floating-buttons\">\n    <ng-content select=\"[extra-buttons]\"></ng-content>\n    <sm-copy-clipboard *ngIf=\"formData\" [clipboardText]=\"formData\" label=\"\" class=\"copy-textarea\" tooltipText='Copy to clipboard' theme=\"text-area\"></sm-copy-clipboard>\n    <sm-search\n      class=\"dark-theme text-area\"\n      [value]=\"search\"\n      [expandOnHover]=\"true\"\n      (valueChanged)=\"onSearchValueChanged($event)\"\n    ></sm-search>\n  </div>\n  <cdk-virtual-scroll-viewport #scroll itemSize=\"19\" minBufferPx = 400, maxBufferPx = 600\n                               class=\"viewport\"\n                               [style.min-height]=\"minHeight\"\n                               [class.disabled]=\"disabled\"\n                               [class.isReadonly]=\"!editable\">\n    <div *cdkVirtualFor=\"let line of lines\" class=\"line\"><span\n      *ngFor=\"let part of (search ? line.split(search) : [line]); let last=last\"\n      >{{part}}<span class=\"found\" *ngIf=\"!last\"\n        >{{search}}</span></span></div>\n  </cdk-virtual-scroll-viewport>\n</div>\n<span *ngIf=\"!showSpinner && !lines?.length && !editable\" class=\"no-changes\">{{emptyMessage}}</span>\n<mat-spinner class=\"mx-auto mt-3\" [diameter]=\"50\" *ngIf=\"showSpinner\"></mat-spinner>\n","import {Component, EventEmitter, Input, Output, ViewChild} from '@angular/core';\nimport {CdkVirtualScrollViewport} from '@angular/cdk/scrolling';\n\n@Component({\n  selector: 'sm-scroll-textarea',\n  templateUrl: './scroll-textarea.component.html',\n  styleUrls: ['./scroll-textarea.component.scss']})\nexport class ScrollTextareaComponent {\n\n  lines: string[];\n  search: string = '';\n  lastSearchIndex = -1;\n\n  @ViewChild('scroll') scroll: CdkVirtualScrollViewport;\n  private _formData: string;\n\n  @Input() set formData(data: string) {\n    this._formData = data;\n    this.lines = data ? data.split('\\n').map( line => line.length > 800 ? line.substring(0, 800) + '...' : line) : [];\n  }\n\n  get formData() {\n    return this._formData;\n  }\n\n  @Input() isInDev: boolean = false;\n  @Input() editable: boolean;\n  @Input() disabled: boolean;\n  @Input() showSpinner: boolean;\n  @Input() emptyMessage: string = 'No changes logged';\n  @Input() minHeight = '250px';\n  @Output() freezeForm = new EventEmitter();\n\n  onSearchValueChanged(value: string) {\n    if (value != this.search) {\n      this.lastSearchIndex = -1;\n    }\n    this.search = value;\n    if (value?.length > 0) {\n      const pos = this.lines.slice(this.lastSearchIndex + 1).findIndex(line => line.includes(value));\n      if (pos > -1) {\n        this.lastSearchIndex = pos + this.lastSearchIndex + 1;\n        this.scroll.scrollToIndex(this.lastSearchIndex);\n      }\n    }\n  }\n}\n","<h4>\n  {{label}}\n  <span *ngIf=\"error\" class=\"error\" [smTooltip]=\"error\" tooltipType='validation' [showDelay]=\"0\"></span>\n</h4>\n","import {Component, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport { MatMenuTrigger } from '@angular/material/menu';\n\n@Component({\n  selector: 'sm-section-header',\n  templateUrl: './section-header.component.html',\n  styleUrls: ['./section-header.component.scss']\n})\nexport class SectionHeaderComponent implements OnInit {\n\n  @Input() label: string;\n  @Input() helpText: string;\n  @Input() showBlob: boolean;\n  @Input() error: string | null;\n\n  @Output() learnMoreClicked = new EventEmitter();\n\n\n  @ViewChild(MatMenuTrigger, { static: true }) trigger: MatMenuTrigger;\n\n  constructor() {}\n\n  ngOnInit() {}\n\n  openMenu() {\n    this.trigger.openMenu();\n  }\n\n  closeMenu() {\n    this.trigger.closeMenu();\n  }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {setFilterByUser} from '../../../core/actions/users.actions';\nimport {Store} from '@ngrx/store';\nimport {Observable} from 'rxjs/internal/Observable';\nimport {selectShowOnlyUserWork} from '../../../core/reducers/users-reducer';\n\n@Component({\n  selector: 'sm-show-only-user-work',\n  templateUrl: './show-only-user-work.component.html',\n  styleUrls: ['./show-only-user-work.component.scss']\n})\nexport class ShowOnlyUserWorkComponent implements OnInit {\n  public isUserMenuOpened: boolean;\n  public showOnlyUserWork$: Observable<boolean>;\n  constructor(private store: Store<any>) {\n    this.showOnlyUserWork$ = this.store.select(selectShowOnlyUserWork);\n  }\n\n\n\n  ngOnInit(): void {\n  }\n  userFilterChanged(userFiltered: boolean) {\n    this.store.dispatch(setFilterByUser({showOnlyUserWork: userFiltered}));\n  }\n\n  userFilterMenuOpened(isUserMenuOpened: boolean) {\n    this.isUserMenuOpened = isUserMenuOpened;\n  }\n\n}\n","<sm-menu\n  (menuOpened)=\"userFilterMenuOpened(true)\"\n  (menuClosed)=\"userFilterMenuOpened(false)\"\n  [header]=\"(showOnlyUserWork$ | async) ? 'My Work': 'Team\\`s work'\"\n  [prefixIconClass]=\"'mr-1 al-icon ' + ((showOnlyUserWork$ | async)? 'al-ico-me': 'al-ico-team')\"\n  [iconClass]=\"isUserMenuOpened?'fa fa-caret-up': 'fa fa-caret-down'\" class=\"menu\">\n  <sm-menu-item itemLabel=\"My Work\" (itemClicked)=\"userFilterChanged(true)\" iconClass=\"mr-2 al-icon al-ico-me\"\n                [iconFontSize]=\"24\"></sm-menu-item>\n  <sm-menu-item itemLabel=\"Team`s work\" (itemClicked)=\"userFilterChanged(false)\"\n                iconClass=\"mr-2 al-icon al-ico-team\" [iconFontSize]=\"24\"></sm-menu-item>\n</sm-menu>\n","import {AfterViewInit, Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {Action, ActionCreator, Store} from '@ngrx/store';\nimport {combineLatest, Observable, of, Subject, Subscription} from 'rxjs';\nimport {debounceTime, filter, finalize, map, shareReplay, take, takeUntil, throttleTime} from 'rxjs/operators';\nimport {Project} from '../../../business-logic/model/projects/project';\nimport {isReadOnly} from '../utils/shared-utils';\nimport {selectSelectedProject} from '../../core/reducers/projects.reducer';\nimport {IOutputData} from 'angular-split/lib/interface';\nimport {SplitComponent} from 'angular-split';\nimport {selectRouterParams} from '../../core/reducers/router-reducer';\nimport {ITableExperiment} from '../../experiments/shared/common-experiment-model.model';\nimport {EntityTypeEnum} from '../../../shared/constants/non-common-consts';\nimport {IFooterState} from './footer-items/footer-items.models';\nimport {\n  CountAvailableAndIsDisableSelectedFiltered,\n  selectionAllHasExample,\n  selectionAllIsArchive,\n  selectionExamplesCount,\n  selectionHasExample\n} from './items.utils';\n\n@Component({\n  selector: 'sm-base-entity-page',\n  template: ''\n})\nexport abstract class BaseEntityPage implements OnInit, AfterViewInit, OnDestroy {\n  private dragSub: Subscription;\n  protected selectedProject$: Observable<Project>;\n  protected showInfoSub: Subscription;\n  protected preventUrlUpdate = false;\n  protected setSplitSizeAction: any;\n  protected selectedExperiments: ITableExperiment[];\n  protected addTag: ActionCreator<string, any>;\n  public projectId: string;\n  public isExampleProject: boolean;\n  public selectSplitSize$?: Observable<number>;\n  public infoDisabled: boolean;\n  public splitInitialSize: number;\n  public minimizedView: boolean;\n  public footerItems = [];\n  public footerState$: Observable<IFooterState<any>>;\n  private destroy$ = new Subject();\n\n  @ViewChild('split') split: SplitComponent;\n\n  abstract createFooterItems(config: {\n      entitiesType?: EntityTypeEnum;\n      selected$: Observable<Array<any>>;\n      showAllSelectedIsActive$?: Observable<boolean>;\n      tags$?: Observable<string[]>;\n      companyTags$?:   Observable<string[]>;\n      projectTags$?: Observable<string[]>;\n      tagsFilterByProject$?: Observable<boolean>;\n  }): void;\n  abstract onFooterHandler({emitValue, item}): void;\n\n\n  protected constructor(protected store: Store<any>) {\n    this.selectedProject$ = this.store.select(selectSelectedProject);\n    this.selectedProject$.pipe(filter(p => !!p), take(1)).subscribe((project: Project) => {\n      this.isExampleProject = isReadOnly(project);\n    });\n  }\n\n  ngOnInit() {\n    this.selectSplitSize$?.pipe(filter(x => !!x), take(1))\n      .subscribe(x => this.splitInitialSize = x);\n\n    this.showInfoSub = this.store.select(selectRouterParams).subscribe(\n      params => {\n        const minimized = !!this.getParamId(params);\n        if (this.split && this.minimizedView === true && !minimized) {\n          this.splitInitialSize = this.split.getVisibleAreaSizes()[1] as number;\n        }\n        this.minimizedView = minimized;\n      }\n    );\n  }\n\n  ngAfterViewInit() {\n    if (this.setSplitSizeAction) {\n      this.dragSub = this.split.dragProgress$.pipe(throttleTime(100))\n        .subscribe((progress) => this.store.dispatch(this.setSplitSizeAction({splitSize: progress.sizes[1] as number})));\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.dragSub?.unsubscribe();\n    this.showInfoSub?.unsubscribe();\n    this.footerItems = [];\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  dispatchAndLock(action: Action) {\n    this.preventUrlUpdate = true;\n    this.store.dispatch(action);\n  }\n\n  splitSizeChange(event: IOutputData) {\n    if (this.setSplitSizeAction) {\n      this.store.dispatch(this.setSplitSizeAction({splitSize: event.sizes[1] as number}));\n    }\n    this.infoDisabled = false;\n  }\n\n  disableInfoPanel() {\n    this.infoDisabled = true;\n  }\n  clickOnSplit() {\n    this.infoDisabled = false;\n  }\n\n  tagSelected({tags, emitValue}, entitiesType: 'models' | 'experiments' | 'dataviews') {\n    this.store.dispatch(this.addTag({\n      tag: tags,\n      [entitiesType]: emitValue\n    }));\n  }\n\n  protected abstract getParamId(params);\n\n  createFooterState<T = any>(\n    selected$: Observable<Array<any>>,\n    data$?: Observable<Record<string, CountAvailableAndIsDisableSelectedFiltered>>,\n    showAllSelectedIsActive$?: Observable<boolean>,\n    companyTags$?: Observable<string[]>,\n    projectTags$?: Observable<string[]>,\n    tagsFilterByProject$?: Observable<boolean>\n  ): Observable<IFooterState<T>> {\n    data$ = data$ || of({});\n    projectTags$ = projectTags$ || of([]);\n    companyTags$ = companyTags$ || of([]);\n    tagsFilterByProject$ = tagsFilterByProject$ || of(true);\n    return combineLatest(\n      [\n        selected$,\n        data$,\n        showAllSelectedIsActive$,\n        companyTags$,\n        projectTags$,\n        tagsFilterByProject$\n      ]\n    ).pipe(\n      takeUntil(this.destroy$),\n      debounceTime(100),\n      filter(([selected]) => selected.length > 1),\n      map(([selected, data, showAllSelectedIsActive, companyTags, projectTags, tagsFilterByProject]) => {\n        const _selectionAllHasExample = selectionAllHasExample(selected);\n        const _selectionHasExample = selectionHasExample(selected);\n        const _selectionExamplesCount = selectionExamplesCount(selected);\n        const isArchive = selectionAllIsArchive(selected);\n        return {\n          selectionHasExample: _selectionHasExample,\n          selectionAllHasExample: _selectionAllHasExample,\n          selectionIsOnlyExamples: _selectionExamplesCount.length === selected.length,\n          selected,\n          selectionAllIsArchive: isArchive,\n          data,\n          showAllSelectedIsActive,\n          companyTags,\n          projectTags,\n          tagsFilterByProject\n        };\n      }\n      ),\n      filter(({selected, data}) => !!selected && !!data),\n      //shareReplay()\n    );\n  }\n}\n","import {createAction, props} from '@ngrx/store';\nimport { Task } from '../../../../business-logic/model/tasks/task';\nimport {EntityTypeEnum} from '../../../../shared/constants/non-common-consts';\nimport {TasksResetManyResponseFailed} from '../../../../business-logic/model/tasks/tasksResetManyResponseFailed';\n\nconst DELETE_PREFIX = 'DELETE_ENTITY ';\n\nexport const deleteEntities = createAction( DELETE_PREFIX + '[delete entities]',\n  props<{entityType: EntityTypeEnum; entity?: Task}>());\n\nexport const deleteModels = createAction( DELETE_PREFIX + '[delete models]');\n\nexport const setNumberOfSourcesToDelete = createAction(DELETE_PREFIX + '[set #files to delete]',\n  props<{numberOfFiles: number}>());\n\nexport const addFailedDeletedFile = createAction(DELETE_PREFIX + '[add failed deleted file path]',\n  props<{filePath: string}>());\n\nexport const addFailedDeletedFiles = createAction(DELETE_PREFIX + '[add failed deleted file paths]',\n  props<{filePaths: string[]}>());\n\nexport const deleteFileServerSources = createAction(DELETE_PREFIX + '[delete file server sources]',\n  props<{files: string[]}>());\n\nexport const deleteS3Sources = createAction(DELETE_PREFIX + '[delete s3 sources]',\n  props<{files: string[]}>());\n\nexport const setFailedDeletedEntities = createAction(DELETE_PREFIX + '[set failed delete Entities]',\n  props<{failedEntities: TasksResetManyResponseFailed[]}>());\n\nexport const resetDeleteState = createAction(DELETE_PREFIX + '[reset delete state]');\n","<sm-dialog-template iconClass=\"al-icon al-ico-trash\" [header]=\"header\" [displayX]=\"false\">\n  <ng-container *ngIf=\"!inProgress; else inProgressTemplate\">\n    <div class=\"text-center\">Are you sure you want to delete <b [innerHTML]=\"entityName\"></b>? <br/>\n      {{bodyMessage}}</div>\n    <br/>\n    <br/>\n    <div class=\"buttons\">\n      <button cdkFocusInitial (click)=\"delete()\"\n              class=\"btn btn-neon yes-button\">DELETE\n      </button>\n      <button (click)=\"closeDialog(false)\"\n              class=\"btn btn-outline-neon\">CANCEL\n      </button>\n    </div>\n  </ng-container>\n\n\n  <ng-template #inProgressTemplate>\n\n    <div>Deleting <span *ngIf=\"progressPercent > 0\">{{progressPercent}}%</span></div>\n    <mat-progress-bar [mode]=\"progressPercent? 'determinate' : 'indeterminate'\"\n                      [value]=\"progressPercent\">\n    </mat-progress-bar>\n\n    <ng-container *ngIf=\"totalFilesNumber > 0\">\n    <div *ngIf=\"!showFinishMessage; else successMessage\" class=\"progress-message\">\n      Deleting artifacts. This may take some time. Please do not close the window.\n    </div>\n    <ng-template #successMessage>\n      <div class=\"progress-message success\">\n        <i class=\"al-icon al-ico-success sm-md mr-2\"></i>The artifacts were deleted\n      </div>\n    </ng-template>\n    </ng-container>\n\n    <div [class.visible]=\"(failedEntities$ | async)?.length > 0\" class=\"files-list-container\">\n      <div (click)=\"openToggleEntities()\" class=\"pointer\">\n        <i class=\"more-info-icon fa fa-angle-right\" [ngClass]=\"{'info-open': isOpenEntities}\"></i>The following {{entityType}}s were not deleted:\n      </div>\n      <div class=\"more-info\" [ngClass]=\"{'info-open': isOpenEntities}\">\n        <ul class=\"list-container\">\n          <li *ngFor=\"let entity of (failedEntities$ | async)\">\n            <div>{{entity.name}}</div>\n            <div class=\"error-reason\">{{entity.message}}</div>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <div [class.visible]=\"failedFiles?.length > 0\" class=\"files-list-container\">\n      <div (click)=\"openToggle()\" class=\"pointer\">\n        <i class=\"more-info-icon fa fa-angle-right\" [ngClass]=\"{'info-open': isOpen}\"></i>The following artifacts were not deleted:\n      </div>\n      <div class=\"more-info mono\" [ngClass]=\"{'info-open': isOpen}\">\n        <sm-copy-clipboard label=\"\" [clipboardText]=\"failedFiles.join('\\n')\"\n                           class=\"copy pl-2 light\"\n        ></sm-copy-clipboard>\n        <a></a>\n        <div *ngFor=\"let file of failedFiles | slice:0:1000\">\n          <div>{{file}}</div>\n        </div>\n        <div *ngIf=\"failedFiles.length > 1000\">** Additional artifacts may be left **</div>\n      </div>\n    </div>\n    <br><br>\n    <div class=\"buttons\">\n      <button (click)=\"closeDialog(true)\"\n              class=\"btn btn-neon\" [disabled]=\"progressPercent < 100\">Close\n      </button>\n    </div>\n  </ng-template>\n\n</sm-dialog-template>\n","import {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {Component, Inject, OnDestroy, OnInit} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {htmlTextShorte} from '../../utils/shared-utils';\nimport {Task} from '../../../../business-logic/model/tasks/task';\nimport {selectEntitiesFailedToDelete, selectFilesFailedToDelete, selectNumberOfSourcesToDelete} from './common-delete-dialog.reducer';\nimport {Observable} from 'rxjs/internal/Observable';\nimport {Subject} from 'rxjs';\nimport {deleteEntities, resetDeleteState} from './common-delete-dialog.actions';\nimport {getDeleteProjectPopupStatsBreakdown} from '../../../../features/projects/projects-page.utils';\nimport {EntityTypeEnum} from '../../../../shared/constants/non-common-consts';\nimport {takeUntil, tap} from 'rxjs/operators';\nimport {CommonProjectReadyForDeletion} from '../../../projects/common-projects.reducer';\n\n\n@Component({\n  selector: 'sm-delete-dialog',\n  templateUrl: './common-delete-dialog.component.html',\n  styleUrls: ['./common-delete-dialog.component.scss']\n})\nexport class CommonDeleteDialogComponent implements OnInit, OnDestroy {\n\n  private unsubscribe$: Subject<boolean> = new Subject();\n  public header: string;\n  public filesNumber$: Observable<number>;\n  public entityName: string;\n  public failedFiles$: Observable<string[]>;\n  public failedEntities$: Observable<{id: string; name: string; message: string}[]>;\n  public inProgress: boolean = false;\n  public totalFilesNumber: number;\n  public progressPercent: number;\n  public noFilesToDelete: boolean;\n  public isOpen: boolean;\n  public isOpenEntities: boolean;\n  public entityType: EntityTypeEnum;\n  private numSelected: number;\n  public bodyMessage: string;\n  public showFinishMessage: boolean = false;\n  private useCurrentEntity: boolean;\n  private entity: Task;\n  public failedFiles: string[];\n\n  constructor(\n    private store: Store<any>,\n    @Inject(MAT_DIALOG_DATA) data: {\n      numSelected: number;\n      entity: Task;\n      entityType: EntityTypeEnum;\n      projectStats: CommonProjectReadyForDeletion;\n      useCurrentEntity: boolean;\n    },\n    public dialogRef: MatDialogRef<CommonDeleteDialogComponent>\n  ) {\n    this.filesNumber$ = this.store.select(selectNumberOfSourcesToDelete);\n    this.failedFiles$ = this.store.select(selectFilesFailedToDelete).pipe(tap(failed => this.isOpen = !!failed.length));\n    this.failedEntities$ = this.store.select(selectEntitiesFailedToDelete).pipe(tap(failed => this.isOpenEntities = !!failed.length));\n    this.entityType = data.entityType;\n    this.numSelected = data.numSelected;\n    this.entityName = data.numSelected === 1 ? `\"${htmlTextShorte(data.entity.name)}\"` : `${data.numSelected} ${data.entityType}s`;\n    this.header = `Delete ${data.entityType}${data.numSelected > 1 ? 's' : ''}`;\n    this.bodyMessage = this.getMessageByEntity(data.entityType, data.projectStats);\n    this.useCurrentEntity = data.useCurrentEntity;\n    this.entity = data.entity;\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribe$.next(true);\n  }\n\n  ngOnInit(): void {\n    this.filesNumber$.pipe(takeUntil(this.unsubscribe$)).subscribe(filesNumber => {\n      if (this.firstTime(filesNumber)) {\n        this.noFilesToDelete = filesNumber === 0;\n        this.totalFilesNumber = filesNumber;\n      }\n      this.progressPercent = this.noFilesToDelete ? 100 : Math.round((this.totalFilesNumber - filesNumber) / this.totalFilesNumber * 100) || 0;\n      if (this.progressPercent > 99) {\n        window.setTimeout(() => this.showFinishMessage = true, 1000);\n      }\n    });\n\n    this.failedFiles$.pipe(takeUntil(this.unsubscribe$)).subscribe(files => {\n      this.failedFiles = files;\n    });\n  }\n\n  private firstTime(filesNumber: number) {\n    return !this.totalFilesNumber && Number.isInteger(filesNumber);\n  }\n\n  closeDialog(isConfirmed) {\n    if (isConfirmed) {\n      this.store.dispatch(resetDeleteState());\n      this.dialogRef.close(true);\n    } else {\n      this.dialogRef.close(null);\n    }\n  }\n\n  delete() {\n    this.inProgress = true;\n    this.store.dispatch(deleteEntities({entityType: this.entityType, entity: this.useCurrentEntity && this.entity}));\n  }\n\n  openToggle() {\n    this.isOpen = !this.isOpen;\n  }\n\n  openToggleEntities() {\n    this.isOpenEntities = !this.isOpenEntities;\n  }\n\n  getMessageByEntity(entityType: EntityTypeEnum, stats?: CommonProjectReadyForDeletion): string {\n    switch (entityType) {\n      case EntityTypeEnum.experiment:\n        return 'This will also remove all captured logs, results, artifacts and debug samples.';\n      case EntityTypeEnum.model:\n        return 'This will also remove the model weights file. Note: Experiments using deleted models will no longer be able to run.';\n      case EntityTypeEnum.project:\n        // eslint-disable-next-line no-case-declarations\n        const entitiesBreakDown = getDeleteProjectPopupStatsBreakdown(stats, 'total');\n        return entitiesBreakDown.trim().length > 0 ? `${entitiesBreakDown} will be deleted, including their artifacts. This may take a few minutes.` : '';\n    }\n  }\n}\n","import {deactivateLoader} from '../../../core/actions/layout.actions';\nimport {Actions, createEffect, ofType} from '@ngrx/effects';\nimport {ApiProjectsService} from '../../../../business-logic/api-services/projects.service';\nimport {requestFailed} from '../../../core/actions/http.actions';\nimport {Injectable} from '@angular/core';\nimport {catchError, filter, map, mergeMap, switchMap, withLatestFrom} from 'rxjs/operators';\nimport {EmptyAction} from '../../../../app.constants';\nimport {Action, Store} from '@ngrx/store';\nimport {forkJoin, of} from 'rxjs';\nimport {setServerError} from '../../../core/actions/layout.actions';\nimport {fromFetch} from 'rxjs/fetch';\nimport {AdminService} from '~/shared/services/admin.service';\nimport {ApiTasksService} from '../../../../business-logic/api-services/tasks.service';\nimport {addFailedDeletedFile, addFailedDeletedFiles, deleteEntities, deleteFileServerSources, deleteS3Sources, setFailedDeletedEntities, setNumberOfSourcesToDelete} from './common-delete-dialog.actions';\nimport {selectSelectedExperiments} from '../../../experiments/reducers';\nimport {TasksDeleteResponse} from '../../../../business-logic/model/tasks/tasksDeleteResponse';\nimport {selectSelectedModels} from '../../../models/reducers';\nimport {ApiModelsService} from '../../../../business-logic/api-services/models.service';\nimport {Observable} from 'rxjs/internal/Observable';\nimport {CloudProviders} from './common-delete-dialog.reducer';\nimport {selectProjectForDelete} from '../../../projects/common-projects.reducer';\nimport {EntityTypeEnum} from '../../../../shared/constants/non-common-consts';\nimport {ActivateEdit} from '../../../experiments/actions/common-experiments-info.actions';\nimport {ActivateModelEdit} from '../../../models/actions/models-info.actions';\nimport {ModelsDeleteManyResponse} from '../../../../business-logic/model/models/modelsDeleteManyResponse';\nimport {TasksDeleteManyResponse} from '../../../../business-logic/model/tasks/tasksDeleteManyResponse';\nimport {ConfigurationService} from '../../services/configuration.service';\nimport {getBucketAndKeyFromSrc, SignResponse} from '../../../settings/admin/base-admin.service';\nimport {isFileserverUrl} from '../../../../shared/utils/url';\n\n@Injectable()\nexport class DeleteDialogEffectsBase {\n\n  constructor(\n    public actions$: Actions,\n    public store: Store<any>,\n    public tasksApi: ApiTasksService,\n    public modelsApi: ApiModelsService,\n    public projectsApi: ApiProjectsService,\n    public adminService: AdminService,\n    public configService: ConfigurationService\n  ) {}\n\n  deleteEntityApi(entityType: EntityTypeEnum, entities: any[]): Observable<{ failed: any[]; succeeded: string[] }> {\n    const ids = entities.map(entity => entity.id);\n    switch (entityType) {\n      case 'experiment':\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        return this.tasksApi.tasksDeleteMany({ids, return_file_urls: true, force: true}).pipe(\n          map((res: TasksDeleteManyResponse) => ({\n            failed: res.failed,\n            succeeded: res.succeeded.map(deletedExperiment =>\n              [...deletedExperiment.urls.artifact_urls, ...deletedExperiment.urls.event_urls, ...deletedExperiment.urls.model_urls]\n            ).flat()\n          })));\n      case 'model':\n        return this.modelsApi.modelsDeleteMany({ids, force: true}).pipe(\n          map((res: ModelsDeleteManyResponse) => ({failed: res.failed, succeeded: [...res.succeeded.map(model => model.url)]})));\n      case 'project':\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        return this.projectsApi.projectsDelete({project: entities[0].id, delete_contents: true}).pipe(\n          map((res: TasksDeleteResponse) => ({\n              succeeded: [...res.urls.model_urls, ...res.urls.artifact_urls, ...res.urls.event_urls],\n              failed: []\n            })));\n      default:\n        return of({succeeded: [], failed: []});\n    }\n  }\n\n  getEntitySelector(entityType: EntityTypeEnum) {\n    switch (entityType) {\n      case 'experiment':\n        return selectSelectedExperiments;\n      case 'model':\n        return selectSelectedModels;\n      case 'project':\n        return selectProjectForDelete;\n    }\n  }\n\n  pauseAutorefresh(entityType: EntityTypeEnum): Action[] {\n    switch (entityType) {\n      case 'experiment':\n        return [new ActivateEdit('delete')];\n      case 'model':\n        return [new ActivateModelEdit('delete')];\n      default:\n        return [new EmptyAction()];\n    }\n  }\n\n  deleteEntitiesEffect = createEffect(() => this.actions$.pipe(\n    ofType(deleteEntities),\n    map(action => action),\n    mergeMap((action) => of(action).pipe(\n      withLatestFrom(\n        this.store.select(this.getEntitySelector(action.entityType)),\n      ),\n      map(([, entities]) => action.entity ? [action.entity] : entities),\n      switchMap(entities =>\n        this.deleteEntityApi(action.entityType, entities).pipe(\n          map(({failed, succeeded: urlsToDelete}) => [this.parseErrors(failed, entities), this.getUrlsPerProvider(urlsToDelete)]),\n          mergeMap(([failed, urlsPerSource]: [{id: string; name: string; message: string}[], { [provider in CloudProviders]: string[] }]) => [\n              ...this.pauseAutorefresh(action.entityType),\n              setNumberOfSourcesToDelete({numberOfFiles: Object.values(urlsPerSource).flat().length}),\n              setFailedDeletedEntities({failedEntities: failed}),\n              deleteFileServerSources({files: urlsPerSource['fs']}),\n              // deleteS3Sources({files: urlsPerSource['s3']}),\n              // deleteGoogleCloudeSource(urlsPerSource['gc']),\n              // deleteAzure(urlsPerSource['azure']),\n              addFailedDeletedFiles({filePaths: urlsPerSource['misc']})\n            ]\n          ),\n          catchError(error => [\n            requestFailed(error),\n            deactivateLoader(action.type),\n            setServerError(error, null, `Can't delete ${action.entityType} ${error?.meta?.error_data?.id || ''}`)]\n          )\n        )\n      )\n    )),\n  ));\n\n  deleteFileServerSourcesEffect = createEffect(() => this.actions$.pipe(\n    ofType(deleteFileServerSources),\n    mergeMap(action => forkJoin(action.files.map(url =>\n      this.adminService.signUrlIfNeeded(url, {skipFileServer: false}).pipe(\n        switchMap((signResponse: SignResponse) =>\n          fromFetch(\n            signResponse.signed,\n            {method: 'DELETE', credentials: this.configService.getStaticEnvironment().useFilesProxy ? 'include' : 'omit'}\n          )\n        ),\n        mergeMap(res => {\n          if (res[0]?.status !== 200) {\n            return [addFailedDeletedFile({filePath: decodeURIComponent(res[0]?.url)})];\n          } else {\n            return [setNumberOfSourcesToDelete({numberOfFiles: -1})];\n          }\n        }),\n        catchError(() => [setNumberOfSourcesToDelete({numberOfFiles: -1})]),\n      )\n    ))),\n    mergeMap(a => a as Action[])\n  ));\n\n  deleteS3SourcesEffect = createEffect(() => this.actions$.pipe(\n    ofType(deleteS3Sources),\n    filter(action => action.files.length > 0),\n    map(action => {\n      const filesPerBucket = action.files.reduce((acc, fileSrc) => {\n        const {Bucket: bucket} = getBucketAndKeyFromSrc(fileSrc);\n        if (!acc[bucket]) {\n          acc[bucket] = [];\n        }\n        acc[bucket].push(fileSrc);\n        return acc;\n      }, {} as { [bucket: string]: string[] });\n      return Object.entries(filesPerBucket);\n    }),\n    mergeMap(([[, files]]) => this.adminService.deleteS3Files(files, false)),\n    // mergeMap(fetchPromise => forkJoin(fetchPromise)),\n    map((failedFiles: { success: boolean; files: string[] }) => {\n      if (failedFiles.success) {\n        return setNumberOfSourcesToDelete({numberOfFiles: failedFiles.files.length});\n      } else {\n        return addFailedDeletedFiles({filePaths: failedFiles.files});\n      }\n    }),\n    // TODO: return the correct number of files\n    catchError(() => [setNumberOfSourcesToDelete({numberOfFiles: -1})])\n  ));\n\n  public getUrlsPerProvider(commutativeUrls: string[]): { [provider in CloudProviders]: string[] } {\n\n    return commutativeUrls.reduce((acc, url) => {\n      const sourceType = this.getSourceType(url);\n      acc[sourceType].push(url);\n      return acc;\n    }, {fs: [], gc: [], s3: [], azure: [], misc: []});\n  }\n\n  parseErrors(failed, entities): {id: string; name: string; message: string}[] {\n    return failed.map( failedEntity => ({\n      id: failedEntity.id,\n      name: entities.find(entity => entity.id === failedEntity.id)?.name || failedEntity.id,\n      message: failedEntity.error.msg\n    }));\n  }\n\n  getSourceType(src: string): CloudProviders {\n    if (isFileserverUrl(src)) {\n      return 'fs';\n    } else {\n      return 'misc';\n    }\n    // else if (this.adminService.isS3Url(src)) {\n    //   return 's3';\n    // } else if (this.adminService.isGoogleCloudUrl(src)) {\n    //   return 'gc';\n    // } else if (this.adminService.isAzureUrl(src)) {\n    //   return 'azure';\n    // } else {\n    //   return 'misc';\n    // }\n  }\n\n}\n","import {Actions} from '@ngrx/effects';\nimport {ApiProjectsService} from '../../business-logic/api-services/projects.service';\nimport {Injectable} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {AdminService} from '~/shared/services/admin.service';\nimport {ApiTasksService} from '../../business-logic/api-services/tasks.service';\nimport {ApiModelsService} from '../../business-logic/api-services/models.service';\nimport {DeleteDialogEffectsBase} from '../../webapp-common/shared/entity-page/entity-delete/base-delete-dialog.effects';\nimport {ConfigurationService} from '../../webapp-common/shared/services/configuration.service';\n\n\n@Injectable()\nexport class DeleteDialogEffects extends DeleteDialogEffectsBase {\n  constructor(actions$: Actions,\n              store: Store<any>,\n              tasksApi: ApiTasksService,\n              modelsApi: ApiModelsService,\n              projectsApi: ApiProjectsService,\n              adminService: AdminService,\n              configService: ConfigurationService) {\n    super(actions$, store, tasksApi, modelsApi, projectsApi, adminService, configService);\n  }\n  // (Nir) don't delete this. Other repositories need to override some base functions.\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {StoreModule} from '@ngrx/store';\nimport {EffectsModule} from '@ngrx/effects';\nimport {SMMaterialModule} from '../../material/material.module';\nimport {commonDeleteDialogReducer} from './common-delete-dialog.reducer';\nimport {UiComponentsModule} from '../../ui-components/ui-components.module';\nimport {CommonDeleteDialogComponent} from './common-delete-dialog.component';\nimport {MatProgressBarModule} from '@angular/material/progress-bar';\nimport {SMSharedModule} from '../../shared.module';\nimport {DeleteDialogEffects} from '../../../../features/delete-entity/delete-dialog.effects';\n\n@NgModule({\n  imports: [\n    UiComponentsModule,\n    CommonModule,\n    SMMaterialModule,\n    StoreModule.forFeature('deleteEntityDialog', commonDeleteDialogReducer),\n    EffectsModule.forFeature([DeleteDialogEffects]),\n    MatProgressBarModule,\n    SMSharedModule\n  ],\n  declarations: [CommonDeleteDialogComponent]\n})\nexport class CommonDeleteDialogModule { }\n","import {createFeatureSelector, createSelector} from '@ngrx/store';\nimport * as actions from './common-delete-dialog.actions';\n\nexport type CloudProviders = 'fs' | 'gc' | 's3' | 'azure' | 'misc'\n\nexport interface DeleteEntityDialog {\n  numberOfSourcesToDelete: number;\n  failedDelete: string[];\n  failedEntitiesDelete: {id: string; name: string; message: string}[];\n}\n\nconst deleteEntityInitState: DeleteEntityDialog = {\n  numberOfSourcesToDelete: null,\n  failedDelete: [],\n  failedEntitiesDelete: []\n};\n\nexport const selectDeleteEntityDialog = createFeatureSelector<DeleteEntityDialog>('deleteEntityDialog');\nexport const selectNumberOfSourcesToDelete = createSelector(selectDeleteEntityDialog, (state): number => state.numberOfSourcesToDelete);\nexport const selectFilesFailedToDelete = createSelector(selectDeleteEntityDialog, (state): string[] => state.failedDelete);\nexport const selectEntitiesFailedToDelete = createSelector(selectDeleteEntityDialog, (state): {id: string; name: string; message: string}[] => state.failedEntitiesDelete);\n\nexport function commonDeleteDialogReducer<ActionReducer>(state: DeleteEntityDialog = deleteEntityInitState, action): DeleteEntityDialog {\n  switch (action.type) {\n    case actions.setNumberOfSourcesToDelete.type:\n      return {\n        ...state,\n        numberOfSourcesToDelete: action.numberOfFiles === -1 ? state.numberOfSourcesToDelete - 1 : action.numberOfFiles\n      };\n    case actions.addFailedDeletedFile.type:\n      return {\n        ...state,\n        failedDelete: state.failedDelete.includes(action.filePath) ? state.failedDelete : [...state.failedDelete, action.filePath],\n        numberOfSourcesToDelete: state.numberOfSourcesToDelete - 1\n      };\n    case actions.addFailedDeletedFiles.type:\n      return {\n        ...state,\n        failedDelete: Array.from(new Set([...state.failedDelete, ...action.filePaths])).sort(),\n        numberOfSourcesToDelete: state.numberOfSourcesToDelete - action.filePaths.length\n      };\n    case actions.setFailedDeletedEntities.type:\n      return {\n        ...state,\n        failedEntitiesDelete: action.failedEntities\n      };\n    case actions.resetDeleteState.type:\n      return {...state, failedDelete: [], numberOfSourcesToDelete: null, failedEntitiesDelete: []};\n    default:\n      return state;\n  }\n}\n","<sm-compare-footer *ngIf=\"footerState\">\n  <ng-container *ngFor=\"let footerItem of footerItems; trackBy: trackBy\"   >\n\n      <ng-template\n        #templateRef\n        [ngTemplateOutletContext]=\"{ $implicit: footerItem.getItemState(footerState)}\"\n        [ngTemplateOutlet]=\"templateRef\"\n        let-footerItemState\n      >\n        <ng-container *ngIf=\"!footerItem.isTag; else tags\">\n        <span\n          *ngIf=\"!footerItemState?.preventCurrentItem\"\n          [ngClass]=\"footerItemState?.wrapperClass\"\n          matTooltipPosition=\"above\"\n          [smTooltip]=\"footerItem.disable || footerItemState.disable\n                                  ? footerItem.disableDescription || footerItemState.disableDescription\n                                  : footerItemState.description   || footerItem.description\"\n        >\n          <button\n            class=\"compare-button-container\"\n            [ngClass]=\"footerItem.class || footerItemState?.class\"\n            (click)=\"footerItem.emit && footerItemClick.emit({item: footerItem, emitValue: footerItemState?.emitValue })\"\n            [class.disabled]=\"footerItemState?.disable ? footerItemState?.disable : null\"\n          >\n            <i *ngIf=\"footerItem.icon\" [class]=\"'sm al-icon ' + footerItem.icon + ' sm-md al-color blue-100'\"></i>\n            <i *ngIf=\"footerItemState?.icon\" [class]=\"'sm al-icon ' + footerItemState?.icon + ' sm-md al-color blue-100'\"></i>\n            <div *ngIf=\"footerItem.title\" class=\"title\">{{footerItem.title}}</div>\n            <div *ngIf=\"footerItemState?.title\" class=\"title ml-1\">{{footerItemState?.title}}</div>\n          </button>\n        </span>\n    </ng-container>\n    <ng-template #tags>\n              <span class=\"tags-container\"\n                    matTooltipPosition=\"above\"\n                    [smTooltip]=\"footerItem.disable || footerItemState.disable\n                                  ? footerItem.disableDescription || footerItemState.disableDescription\n                                  : footerItemState.description   || footerItem.description\"\n              >\n        <button mat-menu-item\n                [matMenuTriggerFor]=\"tagMenu\"\n                [disabled]=\"footerItemState.disable\"\n                (menuOpened)=\"tagMenuOpened()\"\n                (menuClosed)=\"tagMenuClosed()\"\n        >\n        <i [class]=\"'al-icon ' + icons.TAG + ' sm-md'\"></i>\n      </button>\n      <mat-menu #tagMenu=\"matMenu\">\n        <sm-tags-menu\n          class=\"light-theme\"\n          [tags]=\"footerItemState.tags\"\n          [tagsFilterByProject]=\"footerItemState.tagsFilterByProject\"\n          [projectTags]=\"footerItemState.projectTags\"\n          [companyTags]=\"footerItemState.companyTags\"\n          (tagSelected)=\"tagSelected.emit({tags: $event, emitValue: footerItemState.emitValue})\">\n        </sm-tags-menu>\n      </mat-menu>\n      </span>\n\n      </ng-template>\n    </ng-template>\n  </ng-container>\n</sm-compare-footer>\n","import {ChangeDetectionStrategy, Component, ElementRef, EventEmitter, Input, Output} from '@angular/core';\nimport {EntityTypeEnum} from '~/shared/constants/non-common-consts';\nimport {IFooterState, ItemFooterModel} from '../footer-items/footer-items.models';\nimport {BaseContextMenuComponent} from '@common/shared/components/base-context-menu/base-context-menu.component';\nimport {Store} from '@ngrx/store';\nimport {ICONS} from '@common/constants';\nimport {trackByIndex} from '@common/shared/utils/forms-track-by';\n\n@Component({\n  selector   : 'sm-entity-footer',\n  templateUrl: './entity-footer.component.html',\n  styleUrls  : ['./entity-footer.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class EntityFooterComponent  extends BaseContextMenuComponent {\n\n  @Input() entitiesType: EntityTypeEnum;\n  @Input() footerItems: ItemFooterModel[] = [];\n  @Input() footerState: IFooterState<any>;\n  @Output() footerItemClick = new EventEmitter<{item: ItemFooterModel; emitValue: any}>();\n  @Output() tagSelected = new EventEmitter();\n\n  icons = ICONS;\n  trackBy = trackByIndex;\n  constructor(store: Store<any>, eRef: ElementRef) {\n    super(store, eRef);\n  }\n\n}\n","import {EntityTypeEnum} from '../../../../shared/constants/non-common-consts';\nimport {IconNames, ICONS} from '../../../constants';\nimport {ItemFooterModel, IFooterState} from './footer-items.models';\nimport {MenuItems} from '../items.utils';\n\nexport class ArchiveFooterItem extends ItemFooterModel {\n  id = MenuItems.archive;\n\n  constructor(public entitiesType: EntityTypeEnum) {\n    super();\n  }\n\n  getItemState(state: IFooterState<any>): { icon?: IconNames; title?: string; description?: string; disable?: boolean; disableDescription?: string; emit?: boolean; emitValue?: boolean; preventCurrentItem?: boolean; class?: string; wrapperClass?: string } {\n      const archive = state.data[this.id];\n      const icon = (state.selectionAllIsArchive ? ICONS.RESTORE : ICONS.ARCHIVE) as Partial<IconNames>;\n      const name = icon === ICONS.RESTORE ? 'Restore' : 'Archive';\n\n      return {\n        description: this.menuItemText.transform(archive?.available, icon === ICONS.RESTORE ? 'Restore from Archive' : 'Archive'),\n        icon,\n        disable: archive?.disable,\n        disableDescription: state.selectionIsOnlyExamples ? name : `Only ${this.entitiesType} owned can be ${name}`\n      };\n  }\n}\n","import {IconNames, ICONS} from '../../../constants';\nimport {EntityTypeEnum} from '../../../../shared/constants/non-common-consts';\nimport {MenuItems} from '../items.utils';\nimport { ItemFooterModel} from './footer-items.models';\nexport const compareLimitations = 10;\nexport class CompareFooterItem extends ItemFooterModel  {\n  id = MenuItems.compare;\n  icon = ICONS.COMPARE as Partial<IconNames>;\n  class = 'compare';\n  title = 'COMPARE';\n  emit = true;\n  disableDescription = `${compareLimitations} or fewer ${this.entitiesType}s can be compared`;\n\n  constructor(public entitiesType: EntityTypeEnum) {\n    super();\n  }\n  getItemState(state): any {\n    return {\n      disable: state.selected.length > 10,\n    };\n\n  }\n}\n","import {ItemFooterModel, IFooterState} from './footer-items.models';\nimport {IconNames, ICONS} from '../../../constants';\nimport {MenuItems} from '../items.utils';\n\nexport class DeleteFooterItem extends ItemFooterModel {\n  id = MenuItems.delete;\n  emit = true;\n  icon = ICONS.REMOVE as Partial<IconNames>;\n  disableDescription = 'Delete';\n\n  constructor() {\n    super();\n  }\n\n  getItemState(state: IFooterState<any>): { icon?: IconNames; title?: string; description?: string; disable?: boolean; disableDescription?: string; emit?: boolean; emitValue?: boolean; preventCurrentItem?: boolean; class?: string; wrapperClass?: string } {\n    return {\n      preventCurrentItem: !state.selectionAllIsArchive,\n      disable: state.data[this.id]?.disable,\n      description: this.menuItemText.transform(state.data[MenuItems.delete]?.available , 'Delete'),\n    };\n  }\n}\n","import {IFooterState, ItemFooterModel} from './footer-items.models';\nimport {IconNames} from '../../../constants';\n\nexport class GenericFooterItem extends ItemFooterModel {\n  emit = true;\n  constructor({icon = null,\n                title = '',\n                disable = false,\n                disableDescription = '',\n                className = ''\n              } = {}) {\n    super();\n    this.icon = icon;\n    this.title = title;\n    this.disable = disable;\n    this.disableDescription = disableDescription;\n    this.class = className;\n  }\n\n  getItemState(state: IFooterState<any>): { icon?: IconNames; title?: string; description?: string; disable?: boolean; disableDescription?: string; emit?: boolean; emitValue?: boolean; preventCurrentItem?: boolean; class?: string; wrapperClass?: string } {\n    return {};\n  }\n}\n","import {GenericFooterItem} from './generic-footer-item';\nimport {IFooterState} from './footer-items.models';\nimport {IconNames} from '../../../constants';\n\nexport class DividerFooterItem extends GenericFooterItem {\n  constructor() {\n    super({className: 'divider'});\n  }\n\n  getItemState(state: IFooterState<any>): { icon?: IconNames; title?: string; description?: string; disable?: boolean; disableDescription?: string; emit?: boolean; emitValue?: boolean; preventCurrentItem?: boolean; class?: string; wrapperClass?: string } {\n    return {};\n  }\n}\n","import {Observable} from 'rxjs/internal/Observable';\nimport {IconNames} from '@common/constants';\nimport {of} from 'rxjs';\nimport { MenuItemTextPipe } from '@common/shared/pipes/menu-item-text.pipe';\n\nexport abstract class ItemFooterModel {\n  id: string;\n  icon: IconNames;\n  title: string;\n  description: string;\n  disable: boolean;\n  disableDescription: string;\n  emit = true;\n  isTag?: boolean;\n  class = '';\n  wrapperClass = '';\n  state$: Observable<IItemFooterState> = of({});\n  tags$?: Observable<string[]>;\n  companyTags$?:   Observable<string[]>;\n  projectTags$?: Observable<string[]>;\n  tagsFilterByProject$?: Observable<boolean>;\n\n  menuItemText = new MenuItemTextPipe();\n  abstract getItemState(state: IFooterState<any>): {\n    icon?: IconNames;\n    title?: string;\n    description?: string;\n    disable?: boolean;\n    disableDescription?: string;\n    emit?: boolean;\n    emitValue?: any;\n    preventCurrentItem?: boolean;\n    class?: string;\n    wrapperClass?: string;\n    tags?: string[];\n    tagSelected?: string[];\n    projectTags?: string[];\n    companyTags?: string[];\n    tagsFilterByProject?: boolean;\n  };\n}\n\nexport interface IItemFooterState {\n  icon?: Partial<IconNames>;\n  title?: string;\n  emitValue?: any;\n  description?: string;\n  disableDescription?: string;\n  disable?: boolean;\n  class?: string;\n  preventCurrentItem?: boolean;\n}\n\nexport interface IFooterState<T extends any> {\n  selectionHasExample: boolean;\n  selectionAllHasExample: boolean;\n  selected: Array<T>;\n  showAllSelectedIsActive: boolean;\n  selectionAllIsArchive: boolean;\n  selectionIsOnlyExamples: boolean;\n  data: Record<string, {  available: number; disable: boolean; selectedFiltered: Array<T> }>;\n  companyTags: string[];\n  projectTags: string[];\n  tagsFilterByProject: boolean;\n}\n\n\n\n\n\n\n\n\n\n\n","import {ItemFooterModel, IFooterState} from './footer-items.models';\nimport {IconNames, ICONS} from '../../../constants';\n\nexport class HasReadOnlyFooterItem extends ItemFooterModel {\n  emit = true;\n  icon = ICONS.ALERT as Partial<IconNames>;\n  description = `Selected read-only items cannot be modified`;\n  wrapperClass = 'has-example-item';\n\n  constructor() {\n    super();\n  }\n\n  getItemState(state: IFooterState<any>): { icon?: IconNames; title?: string; description?: string; disable?: boolean; disableDescription?: string; emit?: boolean; emitValue?: boolean; preventCurrentItem?: boolean; class?: string; wrapperClass?: string } {\n    return {\n      preventCurrentItem: !state.selectionHasExample,\n      title: `Selected read-only items cannot be modified`\n    };\n  }\n}\n","import {ItemFooterModel, IFooterState} from './footer-items.models';\nimport {IconNames, ICONS} from '../../../constants';\nimport {MenuItems} from '../items.utils';\n\nexport class MoveToFooterItem extends ItemFooterModel {\n  id = MenuItems.moveTo;\n  emit = true;\n  icon = ICONS.MOVE_TO as Partial<IconNames>;\n  disableDescription = 'Move To';\n  constructor() {\n    super();\n  }\n\n  getItemState(state: IFooterState<any>): { icon?: IconNames; title?: string; description?: string; disable?: boolean; disableDescription?: string; emit?: boolean; emitValue?: boolean; preventCurrentItem?: boolean; class?: string; wrapperClass?: string } {\n    return {\n      disable: state.data[this.id]?.disable,\n      description: this.menuItemText.transform(state.data[MenuItems.moveTo]?.available, 'Move To') ,\n      // disableDescription: selectionIsOnlyExamples ? 'Move To' : this.disableDescription\n    };\n  }\n}\n","import {IFooterState, ItemFooterModel} from './footer-items.models';\nimport {IconNames, ICONS} from '../../../constants';\nimport {MenuItems} from '../items.utils';\nimport {EntityTypeEnum} from '../../../../shared/constants/non-common-consts';\n\nexport class PublishFooterItem extends ItemFooterModel {\n  id = MenuItems.publish;\n  emit = true;\n  icon = ICONS.PUBLISHED as Partial<IconNames>;\n\n  constructor(private entityType: EntityTypeEnum) {\n    super();\n    this.disableDescription = entityType === EntityTypeEnum.experiment ? this.disableDescription : ``;\n  }\n\n  getItemState(state: IFooterState<any>): { icon?: IconNames; title?: string; description?: string; disable?: boolean; disableDescription?: string; emit?: boolean; emitValue?: boolean; preventCurrentItem?: boolean; class?: string; wrapperClass?: string } {\n    return {\n      disable: state.data[this.id]?.disable,\n      description: this.menuItemText.transform(state.data[MenuItems.publish]?.available, 'Publish'),\n      disableDescription: state.selectionIsOnlyExamples ? 'Publish' : `You can only publish ${this.entityType}s that have already been executed`\n    };\n  }\n}\n","import {EntityTypeEnum} from '../../../../shared/constants/non-common-consts';\nimport {IFooterState, ItemFooterModel} from './footer-items.models';\nimport {MenuItems, selectionTags} from '../items.utils';\n\nexport class SelectedTagsFooterItem extends ItemFooterModel {\n\n  id = MenuItems.tags;\n  isTag = true;\n  disableDescription = 'Tags';\n\n  constructor(\n    public entitiesType: EntityTypeEnum,\n  ) {\n    super();\n  }\n  getItemState(state: IFooterState<any>): {\n    icon?: any; title?: string; description?: string; disable?: boolean; disableDescription?: string;\n    emit?: boolean; emitValue?: any; preventCurrentItem?: boolean; class?: string; wrapperClass?: string; tags: string[];\n    companyTags: string[];\n    projectTags: string[];\n    tagsFilterByProject: boolean;\n  } {\n    const tags = state.data[this.id];\n    return {\n      disable: state.selectionAllHasExample,\n      description: this.menuItemText.transform(tags.selectedFiltered.length, 'Add Tag'),\n      disableDescription: 'Tags',\n      emitValue: tags.selectedFiltered,\n      tags: selectionTags(state.selected),\n      companyTags: state.companyTags,\n      projectTags: state.projectTags,\n      tagsFilterByProject: state.tagsFilterByProject\n    };\n  }\n}\n","import {EntityTypeEnum} from '../../../../shared/constants/non-common-consts';\nimport {IFooterState, ItemFooterModel} from './footer-items.models';\nimport {MenuItems} from '../items.utils';\n\nexport class ShowItemsFooterSelected extends ItemFooterModel {\n  id = MenuItems.showAllItems;\n  emit = true;\n  class = 'show-all';\n\n\n  constructor(public entitiesType: EntityTypeEnum) {\n    super();\n  }\n\n  getItemState(state: IFooterState<any>) {\n    return {\n      title: state.showAllSelectedIsActive ?\n        `SHOW ALL ${this.entitiesType.toUpperCase()}S` :\n        `SHOW ${state.selected.length} SELECTED ${this.entitiesType.toUpperCase()}S`,\n      emitValue: state.showAllSelectedIsActive,\n      preventCurrentItem: false\n    };\n  }\n}\n","import {isReadOnly} from '../utils/shared-utils';\nimport {TaskStatusEnum} from '../../../business-logic/model/tasks/taskStatusEnum';\nimport {ModelsArchiveManyResponse} from '../../../business-logic/model/models/modelsArchiveManyResponse';\nimport {TasksArchiveManyResponse} from '../../../business-logic/model/tasks/tasksArchiveManyResponse';\nimport {EntityTypeEnum} from '../../../shared/constants/non-common-consts';\nimport {addMessage} from '@common/core/actions/layout.actions';\nimport {openMoreInfoPopup} from '@common/core/actions/projects.actions';\nimport { TaskTypeEnum } from '../../../business-logic/model/tasks/taskTypeEnum';\nimport {Task} from \"~/business-logic/model/tasks/task\";\nimport {TASKS_STATUS} from '@common/tasks/tasks.constants';\nimport {TASK_TYPES} from '~/app.constants';\n\nexport interface CountAvailableAndIsDisable {\n  available: number;\n  disable: boolean;\n}\nexport interface CountAvailableAndIsDisableSelectedFiltered extends CountAvailableAndIsDisable {\n  selectedFiltered: any[];\n}\n\nexport const countAvailableAndIsDisable = (selectedFiltered: any[]) => ({\n    available: selectedFiltered.length,\n    disable:  selectedFiltered.length === 0\n  });\n\nexport const selectionHasExample = (selectedElements: any[]) => selectedElements.some((exp => isReadOnly(exp)));\nexport const selectionAllHasExample = (selectedElements: any[]) => selectedElements.every((exp => isReadOnly(exp)));\nexport const selectionAllIsArchive = (selectedElements: any[]) => selectedElements.every( s => s?.system_tags?.includes('archived'));\nexport const selectionIsArchive = (selectedElements: any) => selectedElements?.system_tags?.includes('archived');\nexport const selectionExamplesCount = (selectedElements: any) => selectedElements.filter((exp => isReadOnly(exp)));\nexport const  canEnqueue = (task: Task): boolean => {\n  return !!(task && (TASKS_STATUS.CREATED === task.status || TASKS_STATUS.STOPPED === task.status) && task.type !== TASK_TYPES.MANUAL_ANNOTATION);\n}\n\nexport const canDequeue = (task: Task): boolean => {\n  return !!(task && TASKS_STATUS.QUEUED === task.status);\n}\n\nexport const selectionDisabledAbort = (selectedElements: any[]) => {\n  const selectedFiltered = selectedElements.filter( (_selected) => TaskStatusEnum.InProgress === _selected?.status  && !isReadOnly(_selected));\n  return {selectedFiltered, ...countAvailableAndIsDisable(selectedFiltered)};\n};\nexport const selectionDisabledPublishExperiments = (selectedElements: any[]) => {\n  const selectedFiltered = selectedElements.filter(_selected => ([TaskStatusEnum.Stopped, TaskStatusEnum.Closed, 'completed', TaskStatusEnum.Failed].includes(_selected?.status)  && !isReadOnly(_selected)) );\n  return {selectedFiltered, ...countAvailableAndIsDisable(selectedFiltered)};\n};\nexport const selectionDisabledPublishModels = (selectedElements: any[]) => {\n  const selectedFiltered = selectedElements.filter(_selected => (!isReadOnly(_selected) && !_selected?.ready) );\n  return {selectedFiltered, ...countAvailableAndIsDisable(selectedFiltered)};\n};\nexport const selectionDisabledReset = (selectedElements: any[]) => {\n  const selectedFiltered = selectedElements.filter(_selected => ![TaskStatusEnum.Created, TaskStatusEnum.Published, TaskStatusEnum.Publishing].includes(_selected?.status)  && !isReadOnly(_selected));\n  return {selectedFiltered, ...countAvailableAndIsDisable(selectedFiltered)};\n};\n\nexport const selectionDisabledAbortAllChildren = (selectedElements: any[]) => {\n  const selectedFiltered = selectedElements.filter(_selected => [TaskTypeEnum.Controller, TaskTypeEnum.Optimizer].includes(_selected?.type)  && !isReadOnly(_selected));\n  return {selectedFiltered, ...countAvailableAndIsDisable(selectedFiltered)};\n};\nexport const selectionDisabledDelete = (selectedElements: any[]) => {\n  const selectedFiltered = selectedElements.filter(_selected =>  selectionIsArchive(_selected) && !isReadOnly(_selected));\n  return {selectedFiltered, ...countAvailableAndIsDisable(selectedFiltered)};\n};\nexport const selectionDisabledMoveTo = (selectedElements: any[]) => {\n  const selectedFiltered = selectedElements.filter(_selected =>  !isReadOnly(_selected));\n  return {selectedFiltered, ...countAvailableAndIsDisable(selectedFiltered)};\n};\nexport const selectionDisabledQueue = (selectedElements: any[]) => {\n  const selectedFiltered = selectedElements.filter(_selected => _selected?.status === TaskStatusEnum.Queued && !isReadOnly(_selected));\n  return {selectedFiltered, ...countAvailableAndIsDisable(selectedFiltered)};\n};\nexport const selectionDisabledViewWorker = (selectedElements: any[]) => {\n  const selectedFiltered = selectedElements.filter(_selected => _selected?.status === TaskStatusEnum.InProgress && !isReadOnly(_selected));\n  return {selectedFiltered, ...countAvailableAndIsDisable(selectedFiltered)};\n};\n\nexport const selectionDisabledEnqueue = (selectedElements: any[]) => {\n  const selectedFiltered = selectedElements.filter(_selected => canEnqueue(_selected) && !isReadOnly(_selected));\n  return {selectedFiltered, ...countAvailableAndIsDisable(selectedFiltered)};\n};\nexport const selectionDisabledDequeue = (selectedElements: any[]) => {\n  const selectedFiltered = selectedElements.filter(_selected => canDequeue(_selected) && !isReadOnly(_selected));\n  return {selectedFiltered, ...countAvailableAndIsDisable(selectedFiltered)};\n};\nexport const selectionDisabledArchive = (selectedElements: any[]) => {\n  const selectedFiltered = selectedElements.filter(_selected => !isReadOnly(_selected));\n  return {selectedFiltered, ...countAvailableAndIsDisable(selectedFiltered)};\n};\nexport const selectionDisabledTags = (selectedElements: any[]) => {\n  const selectedFiltered = selectedElements.filter(_selected => !isReadOnly(_selected));\n  return {selectedFiltered, ...countAvailableAndIsDisable(selectedFiltered)};\n};\n\nexport const selectionTags = <T extends {tags?: string[]}>(selectedElements: Array<T>): string[] => {\n  const _selectedTags = {};\n  selectedElements.forEach( _selected => {\n    _selected?.tags?.forEach( tag => {\n      if (!_selectedTags[tag]) {\n        _selectedTags[tag] = 1;\n      } else {\n        _selectedTags[tag]++;\n      }\n    });\n  });\n  return  Object.entries(_selectedTags)\n    .filter(([, amount]) => amount === selectedElements.length)\n    .map( ([tag]) => tag);\n};\n\nexport enum MenuItems {\n  abort = 'abort',\n  abortAllChildren='abortAllChildren',\n  archive = 'archive',\n  compare = 'compare',\n  delete = 'delete',\n  enqueue = 'enqueue',\n  dequeue = 'dequeue',\n  queue = 'queue',\n  moveTo = 'moveTo',\n  publish = 'publish',\n  reset = 'reset',\n  viewWorker = 'viewWorker',\n  tags = 'tags',\n  showAllItems = 'showAllItems'\n}\nexport enum MoreMenuItems {\n  restore = 'restore'\n}\n\nexport type AllMenuItems = MenuItems | MoreMenuItems;\n\nfunction pastify(verb: AllMenuItems): string {\n  switch (verb) {\n    case MenuItems.abort:\n      return 'aborted';\n    case MenuItems.archive:\n      return 'archived';\n    case MoreMenuItems.restore:\n      return 'restored';\n    case MenuItems.delete:\n      return 'deleted';\n    case MenuItems.dequeue:\n      return 'dequeued';\n    case MenuItems.enqueue:\n      return 'enqueued';\n    case MenuItems.reset:\n      return 'reset';\n    case MenuItems.publish:\n      return 'published';\n    default:\n      return verb;\n  }\n}\n\nexport function getNotificationAction(res: ModelsArchiveManyResponse | TasksArchiveManyResponse, action, operationName: AllMenuItems, entityType: EntityTypeEnum, notificationActions = []) {\n  const totalNum = res.failed.length + res.succeeded.length;\n  const allFailed = res.succeeded.length === 0;\n\n  const message = allFailed ? `${totalNum === 1 ? '' : totalNum} ${entityType}${totalNum > 1 ? 's' : ''} failed to ${operationName}` :\n    `${totalNum === 1 ? '' : res.succeeded.length} ${totalNum > res.succeeded.length ? 'of ' + totalNum : ''} ${entityType}${res.succeeded.length > 1 ? 's' : ''} ${pastify(operationName)} successfully`;\n\n  return addMessage(res.failed.length > 0 ? 'error' : 'success', message, [\n    res.failed.length > 0 ? {actions: [openMoreInfoPopup({parentAction: action, operationName, res, entityType: EntityTypeEnum[entityType]})], name: 'More info'} : null,\n    ...notificationActions\n  ].filter(a => a));\n}\n","<div *ngIf=\"noGraphs\" class=\"no-output\" >\n  <i class=\"icon no-output-icon\" [ngClass]=\"isDarkTheme ? 'i-no-plots-dark' : 'i-no-plots'\"></i>\n  <h3>NO CHART DATA</h3>\n</div>\n<sm-graph-settings-bar\n  [class.showSettings]=\"showSettings && minimized\"\n  [smoothWeight]=\"smoothWeight\"\n  [xAxisType]=\"xAxisType\"\n  [groupBy]=\"groupBy\"\n  [groupByOptions]=\"groupByOptions\"\n  (changeWeight)=\"changeWeight.emit($event)\"\n  (toggleSettings)=\"toggleSettings.emit()\"\n  (changeXAxisType)=\"changeXAxisType.emit($event)\"\n  (changeGroupBy)=\"changeGroupBy.emit($event)\"\n></sm-graph-settings-bar>\n<div class=\"metrics-section\" [class.with-settings]=\"showSettings\">\n  <div #allMetrics\n       class=\"all-metrics\"\n       [class.row]=\"!isGroupGraphs\"\n  >\n    <div *ngFor=\"let metric of (graphList | filter: hiddenList); trackBy: trackByFn\" class=\"metric-group-container less-padding\"\n         #metricGroup\n         [class.two-in-a-row]=\"!isGroupGraphs && graphList.length > 1 && isWidthBigEnough()\"\n         [style.height.percent]=\"\"\n    >\n      <div [id]=\"EXPERIMENT_GRAPH_ID_PREFIX + metric\" class=\"graph-id\">\n        <div>\n          <div class=\"metric-group-header\" *ngIf=\"isGroupGraphs\">{{metric}}</div>\n          <div [class.row]=\"isGroupGraphs\"\n               [class.single-graph]=\"graphsData[metric].length === 1\">\n            <ng-container *ngFor=\"let chartItem of graphsData[metric];trackBy: trackByIdFn.bind(this, metric)\">\n              <sm-single-graph\n                #singleGraph\n                [class.less-padding]=\"isGroupGraphs\"\n                [class.two-in-a-row]=\"isGroupGraphs && chartItem?.data[0]?.type !== 'table' && graphsData[metric].length > 1 && isWidthBigEnough()\"\n                [graphsNumber]=\"graphsData[metric].length\"\n                [legendStringLength]=\"legendStringLength\"\n                [chart]=\"chartItem\"\n                [id]=\"SINGLE_GRAPH_ID_PREFIX + EXPERIMENT_GRAPH_ID_PREFIX + metric + chartItem.layout.title + chartItem.iter + chartItem.variant + (chartItem.layout.images && chartItem.layout.images[0]?.source)\"\n                [isCompare]=\"isCompare\"\n                [disableResize]=\"disableResize\"\n                [isDarkTheme]=\"isDarkTheme\"\n                [showLoaderOnDraw]=\"showLoaderOnDraw\"\n                [legendConfiguration]=\"legendConfiguration\"\n                [smoothWeight]=\"smoothWeight\"\n                [xAxisType]=\"xAxisType\"\n                [height]=\"height\"\n                [moveLegendToTitle]=\"groupBy === groupByCharts.None\"\n                [identifier]=\"SINGLE_GRAPH_ID_PREFIX + EXPERIMENT_GRAPH_ID_PREFIX + metric + chartItem.layout.title + chartItem.iter + chartItem.variant + (chartItem.layout.images && chartItem.layout.images[0]?.source)\"\n                (resizeStarted)=\"resizeStarted(metricGroup, singleGraph)\"\n                (resizing)=\"onResizing($event)\"\n                (sizeChanged)=\"sizeChanged($event)\">\n              </sm-single-graph>\n              <div class=\"resize-overlay\" [class.active]=\"activeResizeElement && activeResizeElement !== singleGraph\"></div>\n            </ng-container>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Input,\n  OnDestroy,\n  Output,\n  QueryList,\n  Renderer2,\n  ViewChild,\n  ViewChildren\n} from '@angular/core';\nimport {sortMetricsList} from '../../tasks/tasks.utils';\nimport {SingleGraphComponent} from './single-graph/single-graph.component';\nimport {EXPERIMENT_GRAPH_ID_PREFIX, SINGLE_GRAPH_ID_PREFIX} from '../../experiments/shared/common-experiments.const';\nimport {ScalarKeyEnum} from '../../../business-logic/model/events/scalarKeyEnum';\nimport {getOr} from 'lodash/fp';\nimport {AdminService} from '~/shared/services/admin.service';\nimport {GroupByCharts} from '../../experiments/reducers/common-experiment-output.reducer';\nimport {Store} from '@ngrx/store';\nimport {selectPlotlyReady} from '../../core/reducers/view.reducer';\nimport {ResizeEvent} from 'angular-resizable-element';\nimport {filter, map, skip, take, tap} from 'rxjs/operators';\nimport {Subscription} from 'rxjs';\nimport {ExtFrame, ExtLegend} from './single-graph/plotly-graph-base';\nimport {getSignedUrl} from '../../core/actions/common-auth.actions';\nimport {selectSignedUrl} from '../../core/reducers/common-auth-reducer';\n\n@Component({\n  selector: 'sm-experiment-graphs',\n  templateUrl: './experiment-graphs.component.html',\n  styleUrls: ['./experiment-graphs.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n\nexport class ExperimentGraphsComponent implements OnDestroy {\n\n  groupByOptions = [\n    {\n      name: 'Metric',\n      value: GroupByCharts.Metric\n    },\n    {\n      name: 'None',\n      value: GroupByCharts.None\n    }\n  ];\n  public groupByCharts = GroupByCharts;\n  readonly EXPERIMENT_GRAPH_ID_PREFIX = EXPERIMENT_GRAPH_ID_PREFIX;\n  readonly SINGLE_GRAPH_ID_PREFIX = SINGLE_GRAPH_ID_PREFIX;\n  public graphList: Array<any> = [];\n  public noGraphs: boolean = false;\n  public graphsData: any;\n  private observer: IntersectionObserver;\n  private _smoothWeight: any;\n  private _xAxisType: ScalarKeyEnum;\n  @ViewChild('allMetrics', {static: true}) allMetrics: ElementRef;\n  private visibleEntries: IntersectionObserverEntry[] = [];\n  private timer: number;\n  public plotlyReady$ = this.store.select(selectPlotlyReady);\n  public plotlyReady: boolean;\n  private subs = new Subscription();\n  public height: number = 450;\n  private width: number;\n  private graphsPerRow: number = 2;\n  private minWidth: number = 400;\n  private resizeTextElement: HTMLDivElement;\n  private graphsNumberLimit: number;\n  public activeResizeElement: SingleGraphComponent;\n  private _hiddenList: string[];\n\n  @HostListener('window:resize')\n  onResize() {\n    clearTimeout(this.timer);\n    this.prepareRedraw();\n    this.timer = window.setTimeout(() => {\n      this.graphsPerRow = this.allGraphs.length === this.allMetricGroups.length ? 1: this.graphsPerRow;\n      this.calculateGraphsLayout();\n    }, 200);\n  }\n\n  @Input() set hiddenList(list: string[]) {\n    this._hiddenList = list || [];\n    window.setTimeout(() => this.prepareRedraw());\n  }\n  get hiddenList() {\n    return this._hiddenList;\n  }\n  @Input() isGroupGraphs: boolean;\n  @Input() legendStringLength;\n  @Input() minimized: boolean;\n  @Input() isDarkTheme: boolean;\n  @Input() showLoaderOnDraw = true;\n  @Input() legendConfiguration: Partial<ExtLegend & {noTextWrap: boolean}> = {};\n  @Input() breakPoint: number = 700;\n  @Input() isCompare: boolean = false;\n  @Input() disableResize: boolean = false;\n\n\n  @Input() set smoothWeight(smooth: number) {\n    this._smoothWeight = smooth;\n  }\n\n  get smoothWeight() {\n    return this._smoothWeight;\n  }\n\n  @Input() groupBy: GroupByCharts;\n\n  @Input() set xAxisType(axisType: ScalarKeyEnum) {\n    this._xAxisType = axisType;\n    this.prepareRedraw();\n  }\n\n  get xAxisType() {\n    return this._xAxisType;\n  }\n\n  @ViewChildren('metricGroup') allMetricGroups !: QueryList<ElementRef>;\n  @ViewChildren(SingleGraphComponent) allGraphs !: QueryList<SingleGraphComponent>;\n\n  constructor(\n    private el: ElementRef,\n    private changeDetection: ChangeDetectorRef,\n    private adminService: AdminService,\n    private store: Store<any>,\n    private renderer: Renderer2\n  ) {\n    this.subs.add(this.plotlyReady$.pipe(\n        tap(ready => this.plotlyReady = ready),\n        skip(1), // Only work on page load 1: false 2: true\n        filter(ready => !!ready)\n      ).subscribe(() => {\n        this.prepareRedraw();\n        this.graphInView(this.visibleEntries);\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this.subs.unsubscribe();\n    this.allMetricGroups = null;\n    this.graphsPerRow = null;\n  }\n\n  @Output() resetGraphs = new EventEmitter();\n  @Output() changeWeight = new EventEmitter<number>();\n  @Output() changeXAxisType = new EventEmitter<ScalarKeyEnum>();\n  @Output() changeGroupBy = new EventEmitter<GroupByCharts>();\n  @Output() toggleSettings = new EventEmitter();\n\n  @Input() set splitSize(splitSize: number) {\n    this.calculateGraphsLayout();\n  }\n\n  @Input() showSettings: boolean = false;\n\n  @Input() set metrics(graphGroups: {[label: string]: ExtFrame[]}) {\n    this.noGraphs = (graphGroups !== undefined) && (graphGroups !== null) && Object.keys(graphGroups).length === 0;\n    if (!graphGroups) {\n      this.graphList = [];\n      return;\n    }\n    this.graphsData = this.sortGraphsData(graphGroups);\n    Object.values(this.graphsData).forEach((graphs: ExtFrame[]) => {\n      graphs.forEach((graph: ExtFrame) => {\n        if (getOr(0, 'layout.images.length', graph) > 0) {\n          graph.layout.images.forEach((image: Plotly.Image) => {\n              this.store.dispatch(getSignedUrl({url: image.source, config: {skipFileServer: false, skipLocalFile: false, disableCache: graph.timestamp}}));\n              this.subs.add(this.store.select(selectSignedUrl(image.source))\n                .pipe(\n                  filter(signed => !!signed?.signed),\n                  map(({signed: signedUrl}) => signedUrl),\n                  take(1)\n                ).subscribe(url => image.source = url)\n              );\n            }\n        );\n        }\n      });\n    });\n    this.graphList = sortMetricsList(Object.keys(graphGroups));\n    this.changeDetection.detectChanges(); // forcing detectChanges for the intersection observer\n    const options = {\n      root: this.allMetrics.nativeElement,\n      rootMargin: '0px',\n      threshold: 0.1\n    };\n\n    this.observer = new IntersectionObserver(this.graphInView.bind(this), options);\n    window.setTimeout(() => this.prepareRedraw());\n  }\n\n  observeGraphs() {\n    if (!this.observer) {\n      return;\n    }\n    this.observer.takeRecords();\n    const graphElements = document.querySelectorAll('sm-single-graph');\n    for (const key in graphElements) {\n      if (!graphElements.hasOwnProperty(key)) {\n        continue;\n      }\n      this.observer.observe(graphElements[key]);\n    }\n  }\n\n  private prepareRedraw() {\n    if (!this.allGraphs) {\n      return;\n    }\n    this.allGraphs.forEach(graph => graph.shouldRefresh = true);\n    this.observeGraphs();\n  }\n\n  graphInView(entries: IntersectionObserverEntry[]) {\n    this.maintainVisibleEntries(entries);\n    for (const entity of entries) {\n      if (entity.intersectionRatio === 0) {\n        continue;\n      }\n      const el = entity.target;\n      const graphComponent = this.allGraphs.find(graphComp => graphComp.identifier === el.id);\n      if (this.plotlyReady && (!graphComponent?.alreadyDrawn || graphComponent?.shouldRefresh)) {\n        graphComponent.drawGraph(true);\n      }\n    }\n  }\n\n  private maintainVisibleEntries(entries: IntersectionObserverEntry[]) {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        if (!this.visibleEntries.includes(entry)) {\n          this.visibleEntries.push(entry);\n        }\n      } else {\n        this.visibleEntries = this.visibleEntries.filter(visEntry => visEntry.target !== entry.target);\n      }\n    });\n  }\n\n  sortGraphsData = (data: {[label: string]: ExtFrame[]}) =>\n    Object.entries(data).reduce((acc, [label, graphs]) =>\n      ({...acc,\n       [label]: graphs.sort((a, b) => {\n         a.layout.title = a.layout.title || '';\n         b.layout.title = b.layout.title || '';\n         return a.layout.title === b.layout.title ?\n           b.iter - a.iter :\n           (a.layout.title as string).localeCompare((b.layout.title as string), undefined, {numeric: true, sensitivity: 'base'});\n      })\n    }), {} as {[label: string]: ExtFrame[]});\n\n  trackByFn = (index: number, item) => item;\n\n  trackByIdFn = (metric: string, index: number, item: ExtFrame) =>\n    metric + item.layout.title + item.iter;\n\n  isWidthBigEnough() {\n    return this.el.nativeElement.clientWidth > this.breakPoint;\n  }\n\n  private calculateGraphsLayout() {\n    if (this.allGraphs) {\n      const containerWidth = this.el.nativeElement.clientWidth;\n      while (containerWidth / this.graphsPerRow < this.minWidth && this.graphsPerRow > 1) {\n        this.graphsPerRow -= 1;\n      }\n      const width = Math.floor(containerWidth / this.graphsPerRow);\n      this.width = width - 4;\n      if (!this.isGroupGraphs) {\n        this.allMetricGroups.forEach(metricGroup => this.renderer.setStyle(metricGroup.nativeElement, 'width', `${this.width}px`));\n      } else {\n        this.allGraphs.forEach(singleGraph => this.renderer.setStyle(singleGraph.elementRef.nativeElement, 'width', `${this.width}px`));\n      }\n    }\n    this.prepareRedraw();\n    this.graphInView(this.visibleEntries);\n  }\n\n  sizeChanged($event: ResizeEvent) {\n    this.activeResizeElement = null;\n    if ($event.edges.right) {\n      const containerWidth = this.el.nativeElement.clientWidth;\n      const userWidth = $event.rectangle.width;\n      this.graphsPerRow = Math.min(Math.floor(containerWidth / userWidth), this.graphsNumberLimit);\n\n      if (!this.isGroupGraphs) {\n        this.allMetricGroups.forEach(metricGroup => {\n          this.width = containerWidth / this.graphsPerRow - (this.graphsPerRow < 4 ? 10 : 4);\n          this.renderer.setStyle(metricGroup.nativeElement, 'width', `${this.width}px`);\n        });\n      } else {\n        this.allGraphs.forEach(singleGraph => {\n          this.width = containerWidth / this.graphsPerRow - (this.graphsPerRow < 4 ? 10 : 4);\n          this.renderer.setStyle(singleGraph.elementRef.nativeElement, 'width', `${this.width}px`);\n        });\n      }\n    }\n    if ($event.edges.bottom) {\n      this.height = $event.rectangle.height;\n      if (!this.isGroupGraphs) {\n        this.allMetricGroups.forEach(metricGroup => this.renderer.setStyle(metricGroup.nativeElement, 'height', `${this.height}px`));\n      } else {\n        this.allGraphs.forEach(singleGraph => this.renderer.setStyle(singleGraph.elementRef.nativeElement, 'height', `${this.height}px`));\n      }\n    }\n    this.prepareRedraw();\n    setTimeout(() => this.graphInView(this.visibleEntries));\n  }\n\n  resizeStarted(metricGroup: HTMLDivElement, singleGraph: SingleGraphComponent) {\n    this.activeResizeElement = singleGraph;\n    this.changeDetection.detectChanges();\n    this.graphsNumberLimit = this.isGroupGraphs ? metricGroup.querySelectorAll('sm-single-graph').length : this.graphList.length;\n    this.resizeTextElement = singleGraph.elementRef.nativeElement.querySelector('.whitebg.resize-active.resize-ghost-element .resize-overlay-text');\n  }\n\n  onResizing($event: ResizeEvent) {\n    if ($event.edges.right && this.resizeTextElement) {\n      const graphsPerRow = Math.min(Math.floor(this.el.nativeElement.clientWidth / $event.rectangle.width), this.graphsNumberLimit);\n      const text = `${graphsPerRow > 1 ? graphsPerRow + ' graphs' : '1 graph'} per row`;\n      this.renderer.setProperty(this.resizeTextElement, 'textContent', text);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {ExperimentGraphsComponent} from './experiment-graphs.component';\nimport {UiComponentsModule} from '../ui-components/ui-components.module';\nimport {SingleGraphComponent} from './single-graph/single-graph.component';\nimport {GraphSettingsBarComponent} from './graph-settings-bar/graph-settings-bar.component';\nimport { MatSliderModule } from '@angular/material/slider';\nimport {PlotlyGraphBase} from './single-graph/plotly-graph-base';\nimport {FormsModule} from '@angular/forms';\nimport {ResizableModule} from 'angular-resizable-element';\nimport {GraphDisplayerComponent} from './graph-displayer/graph-displayer.component';\nimport {GraphScalarDataToMetric} from './graph-scalar-data-to-metric.pipe';\nimport {GraphPlotDataToMetric} from './graph-plot-data-to-metric.pipe';\nimport {SharedPipesModule} from '../pipes/shared-pipes.module';\n\nconst declarations= [\n  ExperimentGraphsComponent,\n  PlotlyGraphBase,\n  SingleGraphComponent,\n  GraphSettingsBarComponent,\n  GraphDisplayerComponent,\n  GraphScalarDataToMetric,\n  GraphPlotDataToMetric,\n];\n@NgModule({\n  declarations: declarations,\n  exports: declarations,\n  imports: [\n    CommonModule,\n    UiComponentsModule,\n    MatSliderModule,\n    FormsModule,\n    ResizableModule,\n    SharedPipesModule,\n  ]\n})\nexport class ExperimentGraphsModule { }\n","<div class=\"modal-container\" [class.dark-theme]=\"darkTheme\" #modalContainer>\n  <div class=\"graph-displayer-header\">\n    <div class=\"chart-title\">{{chart?.layout?.title || chart?.metric}}</div>\n    <div class=\"ml-auto d-flex align-items-center\">\n      <div [class.load-spinner]=\"isFetchingData$ | async\" class=\"d-flex align-items-center mr-3\"></div>\n      <div class=\"pointer d-flex align-items-center mr-3\" *ngIf=\"(isFetchingData$ | async) === false && isFullDetailsMode\" smTooltip=\"refresh\" matTooltipPosition=\"below\" (click)=\"refresh()\"><i class=\"al-icon al-ico-refresh\"></i></div>\n      <div (click)=\"closeGraphDisplayer()\" matTooltipPosition=\"below\" smTooltip=\"Close\" class=\"icon-container pointer d-flex align-items-center\">\n        <i class=\"al-icon al-ico-dialog-x al-color blue-400 light-grey-blue\"></i>\n      </div>\n    </div>\n\n  </div>\n  <div class=\"graph-controls\" *ngIf=\"isFullDetailsMode\">\n    <div class=\"d-flex align-items-center\"  *ngIf=\"!isCompare\">\n      <span class=\"label-text axis-text-margin-left\">Horizontal Axis</span>\n      <mat-form-field appearance=\"outline\" class=\"axis-type-field\">\n        <mat-select [value]=\"xAxisType$ | async\" (selectionChange)=\"xAxisTypeChanged($event)\" panelClass=\"light-theme\"\n                    name=\"scriptType\" [disabled]=\"isFetchingData$ | async\">\n          <mat-option *ngFor=\"let type of xAxisTypeOption\" [value]=\"type.value\">{{type.name}}</mat-option>\n        </mat-select>\n      </mat-form-field>\n    </div>\n    <div class=\"smooth-options d-flex align-items-center ml-3\">\n      <span class=\"label-text smoothing-text\">Smoothing</span>\n      <mat-slider\n        [value]=\"smoothWeight\"\n        [max]=\"0.999\"\n        [min]=\"0\"\n        [step]=\"0.001\"\n        (input)=\"changeWeight($event.value)\"\n      >\n      </mat-slider>\n      <mat-form-field\n        appearance=\"outline\"\n        class=\"smooth-input\">\n        <input\n          matInput\n          name=\"minCount\"\n          type=\"number\"\n          [min]=\"0\"\n          [ngModel]=\"smoothWeight\"\n          (ngModelChange)=\"changeWeight($any($event))\"\n        />\n      </mat-form-field>\n\n    </div>\n  </div>\n  <div class=\"graph-container\">\n    <sm-single-graph\n      #singleGraph\n      [class.less-padding]=\"true\"\n      [class.two-in-a-row]=\"false\"\n      [chart]=\"chart\"\n      [disableResize]=\"true\"\n      [smoothWeight]=\"smoothWeight\"\n      [hideTitle]=\"true\"\n      [isMaximized]=\"true\"\n      [height]=\"height\"\n      [id]=\"id\"\n      [identifier]=\"id\"\n      [isCompare]=\"isCompare\"\n      [xAxisType]=\"xAxisType\"\n      [moveLegendToTitle]=\"false\"\n      [isDarkTheme]=\"darkTheme\"\n    >\n    </sm-single-graph>\n  </div>\n</div>\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  HostListener,\n  Inject,\n  OnDestroy,\n  OnInit,\n  ViewChild\n} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {ExtFrame} from '../single-graph/plotly-graph-base';\nimport {Store} from \"@ngrx/store\";\nimport {\n  getGraphDisplayFullDetailsScalars,\n  setGraphDisplayFullDetailsScalars,\n  setGraphDisplayFullDetailsScalarsIsOpen,\n  setXtypeGraphDisplayFullDetailsScalars\n} from '../../../experiments/actions/common-experiment-output.actions';\nimport {Observable} from 'rxjs/internal/Observable';\nimport {Subscription} from 'rxjs';\nimport {cloneDeep} from 'lodash/fp';\nimport {\n  selectFullScreenChart,\n  selectFullScreenChartIsFetching,\n  selectFullScreenChartXtype\n} from '../../../experiments/reducers';\nimport {ScalarKeyEnum} from '../../../../business-logic/model/events/scalarKeyEnum';\nimport {MatSelectChange} from '@angular/material/select';\n\n@Component({\n  selector: 'sm-graph-displayer',\n  templateUrl: './graph-displayer.component.html',\n  styleUrls: ['./graph-displayer.component.scss']\n})\nexport class GraphDisplayerComponent implements OnInit, AfterViewInit, OnDestroy {\n  @ViewChild('singleGraph') singleGraph;\n  @ViewChild('modalContainer') modalContainer;\n  height;\n  public isFetchingData$: Observable<boolean>;\n  public xAxisType$: Observable<\"iter\" | \"timestamp\" | \"iso_time\">;\n  public xAxisType: \"iter\" | \"timestamp\" | \"iso_time\";\n  private xtypeSub: Subscription;\n  public isCompare: boolean;\n  public isFullDetailsMode: boolean;\n\n  @HostListener('window:resize')\n  onResize() {\n    this.height = this.modalContainer.nativeElement.clientHeight - 80;\n    setTimeout(this.singleGraph.drawGraph(true), 0);\n  }\n\n  public chart: ExtFrame;\n  public id: string;\n  public darkTheme: boolean;\n  public chart$: Observable<ExtFrame>;\n  private chartSub: Subscription;\n  xAxisTypeOption = [\n    {\n      name: 'Iterations',\n      value: ScalarKeyEnum.Iter\n    },\n    {\n      name: 'Time from start',\n      value: ScalarKeyEnum.Timestamp\n    },\n    {\n      name: 'Wall time',\n      value: ScalarKeyEnum.IsoTime\n    },\n  ];\n  smoothWeight: any = 0;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: { chart: ExtFrame; id: string; xAxisType: any; smoothWeight; darkTheme: boolean; isCompare: boolean},\n              public dialogRef: MatDialogRef<GraphDisplayerComponent>,\n              private store: Store<any>,\n              private cdr: ChangeDetectorRef\n  ) {\n    this.chart$ = this.store.select(selectFullScreenChart);\n    this.xAxisType$ = this.store.select(selectFullScreenChartXtype);\n    this.isFetchingData$ = this.store.select(selectFullScreenChartIsFetching);\n    this.store.dispatch(setXtypeGraphDisplayFullDetailsScalars({xAxisType: data.xAxisType}));\n    this.store.dispatch(setGraphDisplayFullDetailsScalars({data: data.chart}));\n    this.store.dispatch(setGraphDisplayFullDetailsScalarsIsOpen({isOpen: true}));\n    this.chart = data.chart;\n    this.isCompare = data.isCompare;\n    this.isFullDetailsMode = ['multiScalar', 'scalar'].includes(this.chart.layout.type) && !this.isCompare;\n    this.id = data.id;\n    this.darkTheme = data.darkTheme;\n  }\n\n\n  ngOnInit(): void {\n    if (this.isFullDetailsMode) {\n      this.store.dispatch(getGraphDisplayFullDetailsScalars({\n        task: this.chart.data[0].task,\n        metric: {metric: (this.chart.metric) },\n      }));\n    }\n    this.xtypeSub = this.xAxisType$.subscribe((xType) => this.xAxisType = xType);\n  }\n\n  ngAfterViewInit(): void {\n    this.height = this.modalContainer.nativeElement.clientHeight - 80;\n    this.chartSub = this.chart$.subscribe(chart => {\n      this.singleGraph.shouldRefresh = true;\n      this.chart = cloneDeep(chart);\n      if (this.chart) {\n        this.cdr.detectChanges();\n        setTimeout(this.singleGraph.drawGraph(true), 0);\n      }\n    });\n  }\n\n  closeGraphDisplayer() {\n    this.dialogRef.close();\n  }\n\n  xAxisTypeChanged($event: MatSelectChange) {\n    if (\n      ((ScalarKeyEnum.Iter === this.xAxisType) && [ScalarKeyEnum.IsoTime, ScalarKeyEnum.Timestamp].includes($event.value)) ||\n      ([ScalarKeyEnum.IsoTime, ScalarKeyEnum.Timestamp].includes(this.xAxisType) && (ScalarKeyEnum.Iter === ($event.value)))) {\n      this.store.dispatch(getGraphDisplayFullDetailsScalars({\n        task: this.chart.data[0].task,\n        metric: {metric: (this.chart.metric)},\n        key: $event.value\n      }));\n    } else {\n      this.store.dispatch(setXtypeGraphDisplayFullDetailsScalars({xAxisType: $event.value}));\n    }\n  }\n\n  changeWeight(value: number) {\n    this.smoothWeight = value;\n  }\n\n  ngOnDestroy(): void {\n    this.store.dispatch(setGraphDisplayFullDetailsScalarsIsOpen({isOpen: false}));\n    this.chartSub.unsubscribe();\n    this.xtypeSub.unsubscribe();\n  }\n\n  refresh() {\n    this.store.dispatch(getGraphDisplayFullDetailsScalars({\n      task: this.chart.data[0].task,\n      metric: {metric: (this.chart.metric) }\n    }));\n  }\n}\n","<div class=\"x-axis-options\" [class.vertical-layout]=\"verticalLayout\">\n  <div class=\"d-flex justify-content-between\" [class.w-100]=\"verticalLayout\">\n    <span class=\"label-text axis-text-margin-left\">Group by</span>\n    <mat-form-field appearance=\"outline\" class=\"group-by-field\">\n      <mat-select [value]=\"groupBy\"  (selectionChange)=\"groupByChanged($event)\" panelClass=\"light-theme\"\n                  name=\"scriptType\">\n        <mat-option *ngFor=\"let type of groupByOptions\" [value]=\"type.value\">{{type.name}}</mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n  <div class=\"d-flex justify-content-between\" [class.w-100]=\"verticalLayout\">\n    <span class=\"label-text axis-text-margin-left\">Horizontal Axis</span>\n    <mat-form-field appearance=\"outline\" class=\"axis-type-field\">\n      <mat-select [value]=\"xAxisType\" (selectionChange)=\"xAxisTypeChanged($event)\" panelClass=\"light-theme\"\n                  name=\"scriptType\">\n        <mat-option *ngFor=\"let type of xAxisTypeOption\" [value]=\"type.value\">{{type.name}}</mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n  <div class=\"smooth-options\">\n    <span class=\"label-text smoothing-text\">Smoothing</span>\n    <mat-slider\n      [value]=\"smoothWeight\"\n      [max]=\"0.999\"\n      [min]=\"0\"\n      [step]=\"0.001\"\n      (input)=\"changeWeight.emit($event.value)\"\n    >\n    </mat-slider>\n    <mat-form-field appearance=\"outline\" class=\"smooth-input\">\n      <input\n        matInput\n        name=\"minCount\"\n        type=\"number\"\n        [min]=\"0\"\n        [ngModel]=\"smoothWeight\"\n        (ngModelChange)=\"changeWeight.emit($any($event))\"\n      />\n    </mat-form-field>\n    <i (click)=\"toggleSettings.emit()\" class=\"fas fa-times pointer close-settings\"></i>\n  </div>\n</div>\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {ScalarKeyEnum} from '../../../../business-logic/model/events/scalarKeyEnum';\nimport {MatSelectChange} from '@angular/material/select';\nimport {GroupByCharts} from '../../../experiments/reducers/common-experiment-output.reducer';\n\n@Component({\n  selector: 'sm-graph-settings-bar',\n  templateUrl: './graph-settings-bar.component.html',\n  styleUrls: ['./graph-settings-bar.component.scss']\n})\nexport class GraphSettingsBarComponent {\n  readonly ScalarKeyEnum = ScalarKeyEnum;\n  @Input() smoothWeight: number;\n  @Input() xAxisType: ScalarKeyEnum = ScalarKeyEnum.Iter;\n  @Input() groupBy: GroupByCharts = 'metric';\n  @Input() groupByOptions: {name: string; value: GroupByCharts }[];\n  @Input() verticalLayout: boolean = false;\n  @Output() changeWeight = new EventEmitter();\n  @Output() changeXAxisType = new EventEmitter<ScalarKeyEnum>();\n  @Output() changeGroupBy = new EventEmitter<GroupByCharts>();\n  @Output() toggleSettings = new EventEmitter();\n\n  xAxisTypeOption = [\n    {\n      name: 'Iterations',\n      value: ScalarKeyEnum.Iter\n    },\n    {\n      name: 'Time from start',\n      value: ScalarKeyEnum.Timestamp\n    },\n    {\n      name: 'Wall time',\n      value: ScalarKeyEnum.IsoTime\n    },\n  ];\n\n  xAxisTypeChanged(key: MatSelectChange) {\n    this.changeXAxisType.emit(key.value);\n  }\n\n  groupByChanged(key: MatSelectChange) {\n    this.changeGroupBy.emit(key.value);\n  }\n}\n","import {hslToRgb, rgbToHsl} from '../../services/color-hash/color-hash.utils';\nimport {Subscription} from 'rxjs';\nimport {Input, OnDestroy, Directive} from '@angular/core';\nimport {Config, Frame, Layout, LayoutAxis, Legend, PlotData} from 'plotly.js';\nimport {selectScaleFactor} from '../../../core/reducers/view.reducer';\nimport {Store} from '@ngrx/store';\n\nexport interface ExtFrame extends Omit<Frame, 'data' | 'layout'> {\n  iter: number;\n  metric: string;\n  task: string;\n  timestamp: number;\n  type: string;\n  variant: string;\n  worker: string;\n  data: ExtData[];\n  layout: Partial<ExtLayout>;\n  config: Partial<Config>;\n}\n\nexport interface ExtLegend extends Legend {\n  valign: 'top' | 'middle' | 'bottom';\n}\n\nexport interface ExtLayoutAxis extends Omit<LayoutAxis, 'spikesnap'> {\n  spikesnap: string;\n}\n\nexport interface ExtLayout extends Omit<Layout, 'xaxis' | 'yaxis' | 'legend'> {\n  type: string;\n  xaxis: Partial<ExtLayoutAxis>;\n  yaxis: Partial<ExtLayoutAxis>;\n  legend: Partial<ExtLegend>;\n  uirevision: number | string;\n  name: string;\n}\n\nexport interface ExtData extends PlotData {\n  task: string;\n  cells: any;\n  header: any;\n  name: string;\n  isSmoothed: boolean;\n  colorHash: string;\n}\n\n@Directive({\n  selector: 'base-plotly-graph'\n})\nexport class PlotlyGraphBase implements OnDestroy {\n  public isSmooth = false;\n  public colorSub: Subscription;\n  public scaleExists: boolean;\n\n  @Input() isCompare: boolean = false;\n  private scaleSub: Subscription;\n\n\n  constructor(protected store: Store) {\n    this.scaleSub = store.select(selectScaleFactor).subscribe(scaleFactor => this.scaleExists = scaleFactor !== 100);\n  }\n\n  public _reColorTrace(trace: ExtData, newColor: number[]): void {\n    if (Array.isArray(trace.line?.color) || Array.isArray(trace.marker?.color)) {\n      return;\n    }\n    let colorString = `rgb(${newColor[0]},${newColor[1]},${newColor[2]})`;\n    if (this.isSmooth && !trace.isSmoothed) {\n      const colorHSL = rgbToHsl(newColor);\n      colorHSL[2] = Math.min(colorHSL[2] + 0.3, 0.9);\n      const lighterColor = hslToRgb(colorHSL);\n      colorString = `rgb(${lighterColor[0]},${lighterColor[1]},${lighterColor[2]})`;\n    }\n    if (trace.line) {\n      trace.line.color = colorString;\n    } else if (trace.marker) {\n      trace.marker.color = colorString;\n    } else {\n      // Guess that a graph without a lne or a marker should have a line, may cause havoc\n      trace.line = {};\n      trace.line.color = colorString;\n    }\n  }\n\n  public _getTraceColor(trace: ExtData): string {\n    if (trace.line) {\n      return trace.line.color as string;\n    }\n    if (trace.marker) {\n      return trace.marker.color as string;\n    }\n    return '';\n  }\n\n  public addIdToDuplicateExperiments(data: ExtData[], taskId: string): ExtData[]{\n    const namesHash = {};\n    for (let i = 0; i < data.length; i++) {\n      if (!data[i].name) {\n        continue;\n      }\n      const name = data[i].name;\n      if (namesHash[name]) {\n        namesHash[name].push(i);\n      } else {\n        namesHash[name] = [i];\n      }\n    }\n    const filtered = Object.entries(namesHash).filter((entry: any) => entry[1].length > 1);\n    const duplicateIndexes = filtered.reduce((acc, entry: any) => acc.concat(entry[1]), []);\n    const merged = [...duplicateIndexes];\n\n    for (let i = 0; i < merged.length; i++) {\n      const key = merged[i];\n      data[key].colorHash = data[key].name;\n\n      // Warning: \"data[key].task\" in compare case. taskId in subplots (multiple plots with same name)\n      if (data[key].task || taskId) {\n        data[key].name = `${data[key].name}.${(data[key].task || taskId).substring(0, 7)}`;\n      }\n    }\n    return data;\n  }\n\n  public extractColorKey(html: string): string {\n    const div = document.createElement('div');\n    div.innerHTML = html;\n    const el = div.querySelector('.color-key');\n    return el ? el.getAttribute('data-color-key') : '';\n  }\n\n  ngOnDestroy(): void {\n    this.colorSub?.unsubscribe();\n    this.scaleSub?.unsubscribe();\n  }\n\n}\n","<div #drawHere\n     [style.height.px]=\"height\"\n     [class.whitebg]=\"!isDarkTheme\"\n     [class.dark-theme]=\"isDarkTheme\"\n     [class.loading]=\"loading\"\n     mwlResizable\n     [validateResize]=\"validateResize\"\n     [enableGhostResize]=\"!disableResize\"\n     [ghostElementPositioning]=\"'absolute'\"\n     (resizing)=\"resizing.emit($event);\"\n     (resizeEnd)=\"sizeChanged.emit($event)\"\n     (resizeStart)=\"resizeStarted.emit()\"\n     [class.whitebg-table]=\"type === 'table'\"\n     [class.move-title]=\"type !== 'parcoords'\"\n>\n  <div\n    *ngIf=\"!disableResize\"\n    class=\"resize-handle-right\"\n    mwlResizeHandle\n    [resizeEdges]=\"{ right: true }\">\n    <div class=\"right-line\"></div>\n    <div class=\"right-handle\"></div>\n  </div>\n  <div\n    *ngIf=\"!disableResize\"\n    class=\"resize-handle-bottom\"\n    mwlResizeHandle\n    [resizeEdges]=\"{ bottom: true }\">\n    <div class=\"bottom-line\"></div>\n    <div class=\"bottom-handle\"></div>\n  </div>\n  <div class=\"resize-overlay-text\"></div>\n  <div *ngIf=\"loading\" class=\"plot-loader\">Loading...</div>\n</div>\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input, NgZone,\n  Output,\n  Renderer2,\n  ViewChild\n} from '@angular/core';\nimport {ColorHashService} from '../../services/color-hash/color-hash.service';\nimport {chooseTimeUnit, wordWrap} from '../../../tasks/tasks.utils';\nimport {attachColorChooser} from '../../ui-components/directives/choose-color/choose-color.directive';\nimport {debounceTime, filter} from 'rxjs/operators';\nimport {cloneDeep, escape, get, getOr} from 'lodash/fp';\nimport {\n  AxisType,\n  Config,\n  Data,\n  Datum,\n  Margin,\n  ModeBarButton,\n  ModeBarDefaultButtons,\n  PlotData,\n  PlotlyHTMLElement, PlotMarker,\n  Root\n} from 'plotly.js';\nimport {ScalarKeyEnum} from '../../../../business-logic/model/events/scalarKeyEnum';\nimport {ExtData, ExtFrame, ExtLayout, ExtLegend, PlotlyGraphBase} from './plotly-graph-base';\nimport {Store} from '@ngrx/store';\nimport {ResizeEvent} from 'angular-resizable-element';\nimport {select} from 'd3-selection';\nimport {MatDialog} from '@angular/material/dialog';\nimport {GraphDisplayerComponent} from '../graph-displayer/graph-displayer.component';\nimport {PALLET} from '../../../constants';\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\ndeclare const Plotly;\nconst DARK_THEME_GRAPH_LINES_COLOR = '#39405f';\nconst DARK_THEME_GRAPH_TICK_COLOR = '#c1cdf3';\n\n@Component({\n  selector: 'sm-single-graph',\n  templateUrl: './single-graph.component.html',\n  styleUrls: ['./single-graph.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SingleGraphComponent extends PlotlyGraphBase {\n  public alreadyDrawn: boolean = false;\n  private originalChart: ExtFrame;\n  private _chart: ExtFrame;\n  private smoothnessTimeout: number;\n  private chartData: HTMLDivElement;\n  public shouldRefresh: boolean = false;\n  private yaxisType: AxisType = 'linear';\n  public type: PlotData['type'] | 'table';\n  private previousOffsetWidth: number;\n\n  @Input() identifier: string;\n  @Input() hideTitle: boolean = false;\n  @Input() disableResize: boolean = false;\n  @Input() isDarkTheme: boolean;\n  @Input() showLoaderOnDraw = true;\n  @Input() isMaximized: boolean = false;\n  @Input() legendConfiguration: Partial<ExtLegend & { noTextWrap: boolean }> = {};\n  @Input() height: number = 450;\n  public loading: boolean;\n\n  @Input() set chart(chart: ExtFrame) {\n    this.originalChart = cloneDeep(chart);\n    this._chart = chart;\n  }\n\n  get chart(): ExtFrame {\n    return this._chart;\n  }\n\n  @Input() moveLegendToTitle = false;\n  @Input() legendStringLength: number;\n  @Input() graphsNumber: number;\n  @Input() xAxisType: ScalarKeyEnum;\n\n  @Input() set smoothWeight(ratio: number) {\n    this.isSmooth = ratio > 0;\n    if (this.alreadyDrawn) {\n      clearTimeout(this.smoothnessTimeout);\n      this.smoothnessTimeout = window.setTimeout(() => {\n        this._chart = cloneDeep(this.originalChart);\n        this.drawGraph(true);\n      }, 400);\n    }\n    this._smoothWeight = ratio;\n  }\n\n  get smoothWeight() {\n    return this._smoothWeight;\n  }\n\n  @Output() sizeChanged = new EventEmitter<ResizeEvent>();\n  @Output() resizing = new EventEmitter<ResizeEvent>();\n  @Output() resizeStarted = new EventEmitter();\n\n  @ViewChild('drawHere', {static: true}) singleGraphContainer: ElementRef;\n  private chartElm;\n  private _smoothWeight: number;\n\n\n  constructor(\n    protected renderer: Renderer2,\n    private colorHash: ColorHashService,\n    private changeDetector: ChangeDetectorRef,\n    public elementRef: ElementRef,\n    protected store: Store,\n    private dialog: MatDialog,\n    private readonly zone: NgZone\n  ) {\n    super(store);\n  }\n\n  drawGraph(forceRedraw = false) {\n    if (this.showLoaderOnDraw) {\n      this.loading = true;\n      this.changeDetector.detectChanges();\n    }\n    const container = this.singleGraphContainer.nativeElement;\n    if (this.alreadyDrawn && !forceRedraw && !this.shouldRefresh) {\n      return;\n    }\n    this.alreadyDrawn = this.alreadyDrawn && !forceRedraw;\n    this.shouldRefresh = false;\n    const [root, data, layout, config, graphEl] = this.drawPlotly();\n    if (!document.body.contains(graphEl)) {\n      container.appendChild(graphEl);\n    }\n    let skipReact = false;\n    // root.height > 0 to avoid rare plotly exception\n    if (this.singleGraphContainer.nativeElement.offsetWidth !== this.previousOffsetWidth && (root as HTMLElement).offsetHeight > 0) {\n      skipReact = true;\n      this.zone.runOutsideAngular(() => Plotly.relayout(root, {\n        width: Math.max(getOr(0, 'data[0].cells.values.length', data) * 100, this.singleGraphContainer.nativeElement.offsetWidth - 3)\n      }).then(() => {\n        this.loading = false;\n        this.changeDetector.detectChanges();\n        this.updateLegend();\n      }));\n    }\n    this.previousOffsetWidth = this.singleGraphContainer.nativeElement.offsetWidth;\n\n    if (!skipReact) {\n      this.zone.runOutsideAngular(() => Plotly.react(root, data, layout, config).then(() => {\n        this.loading = false;\n        this.changeDetector.detectChanges();\n      }));\n\n    }\n\n    this.initColorSubscription();\n    if (!this.alreadyDrawn) {\n      setTimeout(() => {\n        this.subscribeColorButtons(container);\n        this.updateLegend();\n      });\n    }\n    this.alreadyDrawn = true;\n  }\n\n  drawPlotly(): [Root, Data[], Partial<ExtLayout>, Partial<Config>, Element] {\n    this.chartData = this.chartData || this.renderer.createElement('div');\n    this.chartElm = this.chartElm || this.renderer.createElement('div');\n    this.chartElm.classList.add('chart');\n    if (!document.body.contains(this.chartElm)) {\n      this.chartData.appendChild(this.chartElm);\n    }\n\n    const graph = this.formatChartLines() as ExtFrame;\n    this.type = getOr(graph.layout.type, 'data[0].type', graph);\n    let layout = {\n      ...this.addParametersIfDarkTheme({\n        font: {\n          color: '#FFFFFF',\n          family: '\"Heebo\", sans-serif, sans-serif',\n        }\n      }),\n      ...graph.layout,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      ...this.addParametersIfDarkTheme({plot_bgcolor: 'transparent'}),\n      height: this.height,\n      modebar: {\n        color: '#8F9DC9',\n        activecolor: '#4D66FF',\n        ...this.addParametersIfDarkTheme({\n          activecolor: PALLET.blue500,\n          bgcolor: 'transparent',\n        }),\n      },\n      title: {\n        ...(!this.hideTitle && {text: this.addIterationString(graph.layout.title as string, graph.iter)}),\n        ...this.addParametersIfDarkTheme({\n          font: {\n            color: this.isDarkTheme ? PALLET.blue100 : 'dce0ee'\n          },\n        }),\n      },\n      ...this.addParametersIfDarkTheme({\n        xaxis: {\n          color: DARK_THEME_GRAPH_LINES_COLOR,\n          gridcolor: DARK_THEME_GRAPH_LINES_COLOR,\n          zerolinecolor: DARK_THEME_GRAPH_LINES_COLOR,\n          tickfont: {\n            color: DARK_THEME_GRAPH_TICK_COLOR\n          },\n          title: {\n            text: graph.layout.xaxis.title,\n            font: {\n              color: '#dce0ee'\n            }\n          },\n        },\n        yaxis: {\n          color: DARK_THEME_GRAPH_LINES_COLOR,\n          gridcolor: DARK_THEME_GRAPH_LINES_COLOR,\n          zerolinecolor: DARK_THEME_GRAPH_LINES_COLOR,\n          tickfont: {\n            color: DARK_THEME_GRAPH_TICK_COLOR\n          }\n        }\n      }),\n      uirevision: 'static', // Saves the UI state between redraws https://plot.ly/javascript/uirevision/\n      legend: {\n        traceorder: 'normal',\n        xanchor: 'left',\n        yanchor: 'top',\n        x: this.moveLegendToTitle ? 0 : 1,\n        y: 1,\n        borderwidth: 2,\n        bordercolor: '#FFFFFF',\n        orientation: 'v',\n        valign: 'top',\n        font: {color: '#000', size: 12, family: 'sans-serif'},\n        ...this.addParametersIfDarkTheme({\n          bgcolor: 'transparent',\n          bordercolor: 'transparent',\n          font: {color: '#dce0ee', size: 12, family: 'sans-serif'},\n        }),\n        ...this.legendConfiguration\n      },\n      showlegend: this.chartElm.layout && Object.prototype.hasOwnProperty.call(this.chartElm.layout, 'showlegend') ? this.chartElm.layout.showlegend : graph.layout?.showlegend !== false,\n      margin: graph.layout.margin ? graph.layout.margin : {\n        l: 70,\n        r: 50,\n        t: 80,\n        b: 90,\n        pad: 0,\n        autoexpand: true\n      } as Partial<Margin>,\n    } as Partial<ExtLayout>;\n\n    if (this.type === 'table') {\n      this.changeDetector.detectChanges();\n      // override header design\n      graph.data[0].header = {\n        ...graph.data[0].header,\n        line: {width: 1, color: this.isDarkTheme ? '#39405F' : '#d4d6e0'},\n        align: 'left',\n        font: {\n          color: [this.isDarkTheme ? PALLET.blue200 : PALLET.blue400],\n          size: 12\n        },\n        fill: {...graph.data[0].header?.fill, color: this.isDarkTheme ? PALLET.blue800 : PALLET.blue50}\n      };\n\n      // override cells design\n      graph.data[0].cells = {\n        ...graph.data[0].cells,\n        align: 'left',\n        height: 30,\n        font: {\n          color: [this.isDarkTheme ? PALLET.blue200 : PALLET.blue400],\n          size: 12\n        },\n        fill: {...graph.data[0].cells, color: this.isDarkTheme ? PALLET.blue950 : '#ffffff'},\n        line: {width: 1, color: this.isDarkTheme ? DARK_THEME_GRAPH_LINES_COLOR : PALLET.blue100}\n      };\n      layout.width = Math.max(getOr(0, 'data[0].cells.values.length', graph) * 100, this.singleGraphContainer.nativeElement.offsetWidth - 3);\n      layout.title = {\n        ...layout.title as Record<string, any>,\n        text: this.addIterationString(layout.name, graph.iter) || (layout.title as Record<string, any>).text,\n        xanchor: 'left',\n        xref: 'paper',\n        x: 0\n      };\n      layout.margin = {\n        l: 24,\n        t: 52,\n        r: 24,\n        b: 0\n      };\n      layout.height = Math.min(getOr(15, 'data[0].cells.values[0].length', graph) * 30 + 150, this.height);\n    }\n    const barLayoutConfig = {\n      hovermode: 'closest',\n    };\n\n    const scatterLayoutConfig: Partial<ExtLayout> = {\n      // spikedistance: -1,\n      // hoverdistance: -1,\n      // hovermode    : 'x',\n      xaxis: {\n        ...graph.layout.xaxis,\n        spikecolor: '#000000FF',\n        showspikes: true,\n        spikemode: 'across',\n        spikesnap: 'cursor',\n        spikethickness: 1,\n        spikedash: 'solid',\n        rangeslider: {visible: false},\n        fixedrange: false,\n        ...this.addParametersIfDarkTheme({\n          color: DARK_THEME_GRAPH_LINES_COLOR,\n          title: {\n            text: graph.layout.xaxis.title,\n            font: {\n              color: '#dce0ee'\n            }\n          },\n          gridcolor: DARK_THEME_GRAPH_LINES_COLOR,\n          zerolinecolor: DARK_THEME_GRAPH_LINES_COLOR,\n          tickfont: {\n            color: DARK_THEME_GRAPH_TICK_COLOR\n          }\n\n        })\n      },\n      yaxis: {\n        ...graph.layout.yaxis,\n        spikecolor: '#000000FF',\n        showspikes: false,\n        spikemode: 'across',\n        spikesnap: 'cursor',\n        spikethickness: 1,\n        spikedash: 'dash',\n        rangeslider: {visible: false},\n        fixedrange: false,\n        type: this.yaxisType,\n        ...this.addParametersIfDarkTheme({\n          color: DARK_THEME_GRAPH_LINES_COLOR,\n          gridcolor: DARK_THEME_GRAPH_LINES_COLOR,\n          zerolinecolor: DARK_THEME_GRAPH_LINES_COLOR,\n          tickfont: {\n            color: DARK_THEME_GRAPH_TICK_COLOR\n          }\n        })\n      },\n    };\n\n    if (['multiScalar', 'scalar'].includes(graph.layout.type)) {\n      if (['scatter', 'scatter3d'].includes(this.type)) {\n        layout = {...layout, ...scatterLayoutConfig} as Partial<ExtLayout>;\n      }\n    }\n    if (['bar'].includes(this.type)) {\n      layout = {...layout, ...barLayoutConfig} as Partial<ExtLayout>;\n    }\n\n    const modBarButtonsToAdd: ModeBarButton[] = [];\n\n    if (['multiScalar', 'scalar'].includes(graph.layout.type)) {\n      modBarButtonsToAdd.push({\n        name: 'Log view',\n        title: this.getLogButtonTitle(this.yaxisType === 'log'),\n        icon: this.getLogIcon(this.yaxisType === 'log'),\n        click: (gd: PlotlyHTMLElement, ev: MouseEvent) => {\n          this.yaxisType = this.yaxisType === 'log' ? 'linear' : 'log';\n          const icon = this.getLogIcon(this.yaxisType === 'log');\n          let path: SVGPathElement;\n          let svg: HTMLElement;\n          if ((ev.target as SVGElement).tagName === 'svg') {\n            svg = ev.target as HTMLElement;\n            path = (ev.target as SVGElement).firstChild as SVGPathElement;\n          } else {\n            path = ev.target as SVGPathElement;\n            svg = path.parentElement as HTMLElement;\n          }\n          svg.parentElement.attributes['data-title'].value = this.getLogButtonTitle(this.yaxisType === 'log');\n          path.attributes[0].value = icon.path;\n          this.smoothnessTimeout = window.setTimeout(() => {\n            this._chart = cloneDeep(this.originalChart);\n            this.drawGraph(true);\n          }, 400);\n        }\n      });\n    }\n    if (!['table', 'parcoords'].includes(get('data[0].type', graph)) && graph.layout?.showlegend !== false && !this.moveLegendToTitle) {\n      modBarButtonsToAdd.push({\n        name: 'Hide legend',\n        title: this.getHideButtonTitle(),\n        icon: this.getToggleLegendIcon(),\n        click: (element, ev: any) => {\n          const pathElement = ev.target.tagName === 'path' ? ev.target : (ev.target as HTMLElement).querySelector('path');\n          const svg = pathElement.parentElement;\n          pathElement.style.fill = this.chartElm.layout?.showlegend ? 'rgb(77, 102, 255)' : 'rgb(143, 157, 201)';\n          svg.parentElement.attributes['data-title'].value = this.getHideButtonTitle();\n          this.chartElm.layout.showlegend = !this.chartElm.layout.showlegend;\n          if (this.chartElm.layout.showlegend) {\n            setTimeout(() => {\n              this.subscribeColorButtons(this.singleGraphContainer.nativeElement);\n              this.updateLegend();\n            }, 20);\n          }\n          this.zone.runOutsideAngular(() => Plotly.relayout(this.chartElm, {showlegend: this.chartElm.layout.showlegend}));\n        }\n      });\n    }\n    modBarButtonsToAdd.push({\n      name: 'Download JSON',\n      title: 'Download JSON',\n      icon: this.getIcon(),\n      click: () => {\n        this.downloadGraphAsJson(cloneDeep(this.originalChart));\n      }\n    });\n    if (!this.isMaximized) {\n      const maximizeButton: ModeBarButton = {\n        name: 'Maximize',\n        title: 'Maximize Graph',\n        icon: this.getMaximizeIcon(),\n        click: () => {\n          this.maximizeGraph();\n        }\n      };\n      modBarButtonsToAdd.push(maximizeButton);\n    }\n    const config = {\n      modeBarButtonsToRemove: ['sendDataToCloud'] as ModeBarDefaultButtons[],\n      displaylogo: false,\n      modeBarButtonsToAdd: modBarButtonsToAdd\n    };\n\n    return [this.chartElm, graph.data, layout, config, this.chartData];\n  }\n\n  private updateLegend() {\n    const graph = select(this.singleGraphContainer.nativeElement);\n    graph.selectAll('.legendpoints path')\n      .attr('d', 'M5.5,0A5.5,5.5 0 1,1 0,-5.5A5.5,5.5 0 0,1 5.5,0Z');\n    graph.selectAll('.legendtoggle')\n      .on('click', () => window.setTimeout(() => graph.selectAll('.legendpoints path')\n        .attr('d', 'M5.5,0A5.5,5.5 0 1,1 0,-5.5A5.5,5.5 0 0,1 5.5,0Z'), 300)\n      );\n  }\n\n  private formatChartLines() {\n    if (this.alreadyDrawn) {\n      return this.chart;\n    }\n\n    const graph = this.chart;\n    if (this.isCompare) {\n      graph.data = this.addIdToDuplicateExperiments(this.chart.data, this.chart.task);\n    }\n    const smoothLines = [];\n    const timeUnit = chooseTimeUnit(graph.data) as { time: number; str: string };\n\n    for (let i = 0; i < graph.data.length; i++) {\n      if (!graph.data[i].name) {\n        graph.data[i].name = `graph.metric ${i}`;\n      }\n\n      if (!this.alreadyDrawn && !graph.data[i].name.includes('<span style=\"display: none;\"')) {\n        graph.data[i].name = escape(graph.data[i].name);\n\n        if (this.xAxisType === ScalarKeyEnum.Timestamp) {\n          const zeroTime = graph.data[i].x[0] as number;\n          graph.data[i].x = (graph.data[i].x as Datum[]).map((timestamp: number) => (timestamp - zeroTime) / timeUnit.time);\n          // graph.data[i].hovertext = graph.data[i].x.map(timestamp => timeInWords((timestamp - zeroTime)));\n        }\n        if (graph.data[i].type === 'bar' && !graph.data[i].marker) {\n          graph.data[i].marker = {} as Partial<PlotMarker>;\n        }\n        const colorKey = this.generateColorKey(graph, i);\n        const wrappedText = !this.legendConfiguration.noTextWrap ? wordWrap(graph.data[i].name, this.legendStringLength || 19) : graph.data[i].name;\n        graph.data[i].name = wrappedText + `<span style=\"display: none;\" class=\"color-key\" data-color-key=\"${colorKey}\"></span>`;\n      }\n\n      const color = this.colorHash.initColor(this.extractColorKey(graph.data[i].name));\n      this._reColorTrace(graph.data[i], color);\n\n      if (this.isSmooth) {\n        graph.data[i].legendgroup = graph.data[i].name;\n        graph.data[i].showlegend = false;\n        graph.data[i].hoverinfo = 'skip';\n        smoothLines.push(this.resmoothDataset(graph.data[i], color));\n      }\n    }\n    this.setAxisText(graph, timeUnit);\n    graph.data = graph.data.concat(smoothLines);\n    return graph;\n  }\n\n  public generateColorKey(graph: ExtFrame, i: number) {\n    const variant = graph.data[i].colorHash || graph.data[i].name;\n    if (!this.isCompare) {\n      return `${variant}?`;  // \"?\" to adjust desired colors (legend title is removing this ?)\n    } else {\n      const task = graph.data[i].task;\n      return `${variant}-${task}`;\n    }\n  }\n\n  private resmoothDataset(line: ExtData, color) {\n    const newLine = cloneDeep(line);\n\n    const data = newLine.y;\n    let last = data.length > 0 ? data[0] as number : NaN;\n    newLine.legendgroup = line.name;\n    newLine.showlegend = true;\n    newLine.isSmoothed = true;\n    newLine.hovertext = newLine.hovertext ? newLine.hovertext + '(Smoothed)' : '(Smoothed)';\n    newLine.hoverinfo = 'all';\n\n    this._reColorTrace(newLine, color);\n    let smoothed;\n    data.forEach((d, index) => {\n      if (!isFinite(last)) {\n        smoothed = d;\n      } else {\n        // 1st-order IIR low-pass filter to attenuate the higher-\n        // frequency components of the time-series.\n        smoothed = last * this.smoothWeight + (1 - this.smoothWeight) * d;\n        newLine.y[index] = smoothed;\n      }\n      last = smoothed;\n    });\n    return newLine;\n  }\n\n  private initColorSubscription(forceRedraw = false) {\n    if (this.colorSub) {\n      // Subscription is already running\n      if (forceRedraw) {\n        this.colorSub.unsubscribe();\n      } else {\n        return;\n      }\n    }\n    this.colorSub = this.colorHash.getColorsObservable()\n      .pipe(\n        filter(colorObj => !!colorObj),\n        debounceTime(100)\n      )\n      .subscribe(colorObj => {\n        const graph = this.chart;\n        let changed: boolean = false;\n        graph.data.forEach(trace => {\n          const name = trace.name;\n          if (!name) {\n            return;\n          }\n          const colorKey = this.extractColorKey(name);\n          const oldColor = this._getTraceColor(trace);\n          const newColorArr = colorObj[colorKey];\n          const newColor = newColorArr ? `rgb(${newColorArr[0]},${newColorArr[1]},${newColorArr[2]})` : false;\n          if (oldColor !== newColor && newColor) {\n            changed = true;\n            this._reColorTrace(trace, newColorArr);\n          }\n        });\n        if (changed) {\n          this.zone.runOutsideAngular(() => Plotly.redraw(this.chartElm));\n          this.updateLegend();\n        }\n\n      });\n  }\n\n  private subscribeColorButtons(container) {\n    if (this.scaleExists) {\n      const legend = container.querySelector('.groups') as SVGGElement;\n      legend.style.transform = 'translate(-10px, 0)';\n    }\n    if (this.moveLegendToTitle) {\n      const graphTitle = container.querySelector('.gtitle') as SVGTextElement;\n      if (graphTitle) {\n        const endOfTitlePosition = (this.singleGraphContainer.nativeElement.offsetWidth / 2) + (graphTitle.getClientRects()[0].width / 2);\n        const legend = container.querySelector('.legend') as SVGGElement;\n        legend.style.transform = `translate(${endOfTitlePosition}px, 30px)`;\n        legend.classList.add('hide-text');\n      }\n    }\n    const traces = container.querySelectorAll('.traces');\n    for (const trace of traces) {\n      const textEl = trace.querySelector('.legendtext') as SVGTextElement;\n      const text = textEl ? this.extractColorKey(textEl.getAttribute('data-unformatted')) : '';\n\n      const title = document.createElementNS('http://www.w3.org/2000/svg', 'title');\n      title.textContent = text.replace('?', '');\n      textEl.parentElement.appendChild(title);\n\n      const layers = trace.querySelector('.layers');\n      const parentEl = layers.parentElement;\n      parentEl.removeChild(layers); // Needed because z-index in svg is by element order\n      parentEl.appendChild(layers);\n      attachColorChooser(text, layers, this.colorHash, this.store);\n    }\n  }\n\n\n  private setAxisText(chart: ExtFrame, timeUnit?: { time: number; str: string }) {\n    const title = this.getAxisText(timeUnit);\n    if (!chart.layout.xaxis) {\n      chart.layout.xaxis = {};\n    }\n    if (title) {\n      chart.layout.xaxis.title = title;\n    }\n    return chart;\n  }\n\n  downloadGraphAsJson(chart: ExtFrame) {\n    let timeUnit;\n    if (this.xAxisType === ScalarKeyEnum.Timestamp) {\n      chart.data.forEach(graphData => {\n        if (!graphData.name) {\n          return;\n        }\n\n        timeUnit = typeof timeUnit === 'undefined' ? chooseTimeUnit(chart.data) : timeUnit;\n        const zeroTime = graphData.x[0] as number;\n        graphData.x = (graphData.x as number[]).map(timestamp => (timestamp - zeroTime) / timeUnit.time);\n        // graph.data[i].hovertext = graph.data[i].x.map(timestamp => timeInWords((timestamp - zeroTime)));\n      });\n    }\n    const exportName = `${chart.layout.title} -  ${this.getAxisText(timeUnit)}`;\n    const dataStr = 'data:text/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(chart.data));\n    const downloadAnchorNode = document.createElement('a');\n    downloadAnchorNode.setAttribute('href', dataStr);\n    downloadAnchorNode.setAttribute('download', exportName + '.json');\n    document.body.appendChild(downloadAnchorNode); // required for firefox\n    downloadAnchorNode.click();\n    downloadAnchorNode.remove();\n  }\n\n  getIcon() {\n    return {\n      width: 1792,\n      path: 'M1344 1344q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm256 0q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm128-224v320q0 40-28 68t-68 28h-1472q-40 0-68-28t-28-68v-320q0-40 28-68t68-28h465l135 136q58 56 136 56t136-56l136-136h464q40 0 68 28t28 68zm-325-569q17 41-14 70l-448 448q-18 19-45 19t-45-19l-448-448q-31-29-14-70 17-39 59-39h256v-448q0-26 19-45t45-19h256q26 0 45 19t19 45v448h256q42 0 59 89z',\n      ascent: 1792,\n      descent: 0,\n      transform: 'translate(0, -100)'\n    };\n  }\n\n  getToggleLegendIcon() {\n    return {\n      width: 1000,\n      fill: 'rgb(77, 102, 255)',\n      path: 'M200,250H50a50,50,0,0,1,0-100H200a50,50,0,0,1,0,100Zm800-50a50,50,0,0,0-50-50H400a50,50,0,0,0,0,100H950A50,50,0,0,0,1000,200ZM250,400a50,50,0,0,0-50-50H50a50,50,0,0,0,0,100H200A50,50,0,0,0,250,400Zm750,0a50,50,0,0,0-50-50H400a50,50,0,0,0,0,100H950A50,50,0,0,0,1000,400ZM250,600a50,50,0,0,0-50-50H50a50,50,0,0,0,0,100H200A50,50,0,0,0,250,600Zm750,0a50,50,0,0,0-50-50H400a50,50,0,0,0,0,100H950A50,50,0,0,0,1000,600ZM250,800a50,50,0,0,0-50-50H50a50,50,0,0,0,0,100H200A50,50,0,0,0,250,800Zm750,0a50,50,0,0,0-50-50H400a50,50,0,0,0,0,100H950A50,50,0,0,0,1000,800Z',\n      ascent: 1000,\n      descent: 0,\n      transform: 'translate(0, -100)'\n    };\n  }\n\n  getMaximizeIcon() {\n    return {\n      width: 1000,\n      height: 1000,\n      fill: 'rgb(77, 102, 255)',\n      path: 'M920,80V436.38L771.51,287.89,559.4,500,500,440.6,712.11,228.49,563.62,80ZM500,559.4,440.6,500,228.49,712.11,80,563.62V920H436.38L287.89,771.51Z',\n      ascent: 1000,\n      descent: 0,\n      transform: 'translate(0, -100)'\n    };\n  }\n\n  getLogIcon(onOrOff: boolean) {\n    if (!onOrOff) {\n      return {\n        width: 1000,\n        path: 'M797,772a29.4,29.4,0,0,1-3.1-.16c-130-13.31-240.09-51.57-327.17-113.74-70.33-50.2-125.62-115.78-164.34-194.91C236.94,329.34,241.79,203.92,242,198.64A30,30,0,0,1,302,201.31h0c-.05,1.16-4.17,117.36,55.41,237.65,34.47,69.59,83.42,127.19,145.5,171.2,78.3,55.51,178.29,89.82,297.18,102A30,30,0,0,1,797,772Zm111,80.5H147.5V92H38v28H92.5v29H37v28H92.5v41H38v28H92.5v64H38v28H92.5V446H38v28H92.5V639H38v28H92.5V852.5H0v55H92.5V1000h55V907.5H908Z',\n        ascent: 1000,\n        descent: 0,\n        transform: 'translate(0, -100)'\n      };\n    }\n    return {\n      width: 1000,\n      path: 'M908,907.5H147.5V1000h-55V907.5H0v-55H92.5V120H37V92H147.5V852.5H908ZM883.79,239.14a30,30,0,0,0-41.65,8.07L672,499.21,471.48,411.78a59.49,59.49,0,0,0-117.89-.59l-154.22,71.6a30,30,0,1,0,25.26,54.42l151.74-70.45a59.48,59.48,0,0,0,71.85.33L667,562.5A29.91,29.91,0,0,0,679,565c.85,0,1.68,0,2.52-.12s1.65.11,2.47.11a30,30,0,0,0,24.89-13.21l183-271A30,30,0,0,0,883.79,239.14ZM894,627a30,30,0,0,0-41-11l-129.1,74.28a59.5,59.5,0,0,0-87.83,25.11L219.32,711H219a30,30,0,0,0-.31,60l424.43,4.47a59.48,59.48,0,0,0,106.65-30.82L883,668A30,30,0,0,0,894,627Z',\n      ascent: 1000,\n      descent: 0,\n      transform: 'translate(0, -100)'\n    };\n  }\n\n  getLogButtonTitle(onOrOff: boolean) {\n    return `Switch to ${onOrOff ? 'Linear' : 'Logarithmic'} scale`;\n  }\n\n  private getAxisText(timeUnit: { time: number; str: string }) {\n    switch (this.xAxisType) {\n      case ScalarKeyEnum.Iter:\n        return 'Iterations';\n      case ScalarKeyEnum.IsoTime:\n        return 'Wall Time';\n      case ScalarKeyEnum.Timestamp:\n        return (timeUnit && timeUnit.str) ? `${timeUnit.str} From Start` : 'Relative Time';\n      default:\n        return null;\n    }\n  }\n\n  private getHideButtonTitle() {\n    return this.chartElm.layout?.showlegend ? 'Show legend' : 'Hide legend';\n  }\n\n  validateResize($event: ResizeEvent): boolean {\n    return $event.rectangle.width > 300 && $event.rectangle.height > 250;\n  }\n\n  private maximizeGraph() {\n\n    this.dialog.open(GraphDisplayerComponent, {\n      data: {\n        // signed url are updated after originChart was cloned - need to update images urls!\n        chart: cloneDeep({\n          ...this.originalChart,\n          layout: {...this.originalChart.layout, images: this.chart.layout?.images}\n        }),\n        id: this.identifier,\n        xAxisType: this.xAxisType,\n        smoothWeight: this.smoothWeight,\n        darkTheme: this.isDarkTheme,\n        isCompare: this.isCompare,\n      },\n      panelClass: ['image-displayer-dialog', this.isDarkTheme ? 'dark-theme' : 'light-theme'],\n      height: '100%',\n      maxHeight: 'auto',\n      width: '100%',\n      maxWidth: 'auto'\n    });\n  }\n\n  private addParametersIfDarkTheme(object: Record<string, unknown>) {\n    return this.isDarkTheme ? object : {};\n  }\n\n  private addIterationString(name: string, iter: number) {\n    return name + ((iter || (this.graphsNumber > 1 && iter === 0)) ? ` - Iteration ${iter}` : '');\n  }\n}\n","<div class=\"status-icon-container\">\n  <div [ngClass]=\"status\" class=\"d-flex align-items-center justify-content-between\">\n    <div></div>\n    <div class=\"d-flex\">\n      <i [class]=\"'icon xs i-'+status+' bw'\" [smTooltip]=\"EXPERIMENTS_STATUS_LABELS[status]\"></i>\n      <div class=\"label\" *ngIf=\"showLabel\">\n        {{'  ' + (EXPERIMENTS_STATUS_LABELS[status] ? EXPERIMENTS_STATUS_LABELS[status] : '') | uppercase}}\n      </div>\n      <span class=\"view-only d-inline\" *ngIf=\"viewOnly === true; else developmentTemp\">  (view only) </span>\n      <ng-template #developmentTemp>\n        <span class=\"view-only d-inline\" *ngIf=\"development === true\">  (note: changes will be overridden if re-run locally) </span>\n      </ng-template>\n    </div>\n    <div class=\"right-buttons d-flex align-items-center\">\n      <div *ngIf=\"showMaximize\" (click)=\"maximizedClicked.emit()\"\n        smTooltip=\"View Full Screen\" matTooltipPosition=\"left\" class=\"d-flex fullscreen\">\n        <i class=\"al-icon al-ico-info-max pointer\"></i>\n      </div>\n      <div (click)=\"closeInfoClicked.emit()\" class=\"d-flex align-items-center\">\n        <i class=\"al-icon al-ico-dialog-x pointer\"></i>\n      </div>\n    </div>\n  </div>\n</div>\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {EXPERIMENTS_STATUS_LABELS} from '../../../features/experiments/shared/experiments.const';\n\n@Component({\n  selector   : 'sm-experiment-info-header-status-icon-label',\n  templateUrl: './experiment-info-header-status-icon-label.component.html',\n  styleUrls  : ['./experiment-info-header-status-icon-label.component.scss']\n})\nexport class ExperimentInfoHeaderStatusIconLabelComponent {\n  @Input() showLabel               = true;\n  @Input() status                  = '';\n  @Input() viewOnly                = false;\n  @Input() development             = false;\n  @Input() showMaximize: boolean;\n  @Output() closeInfoClicked       = new EventEmitter();\n  @Output() maximizedClicked       = new EventEmitter();\n\n  public EXPERIMENTS_STATUS_LABELS = EXPERIMENTS_STATUS_LABELS;\n\n  constructor() {}\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {EXPERIMENTS_STATUS_LABELS} from '../../../features/experiments/shared/experiments.const';\n\n@Component({\n  selector   : 'sm-experiment-info-header-status-progress-bar',\n  templateUrl: './experiment-info-header-status-progress-bar.component.html',\n  styleUrls  : ['./experiment-info-header-status-progress-bar.component.scss']\n})\nexport class ExperimentInfoHeaderStatusProgressBarComponent implements OnInit {\n  @Input() status;\n  @Input() editable          = true;\n  @Input() development        = false;\n  @Input() showMaximize: boolean;\n  @Output() closeInfoClicked = new EventEmitter();\n  @Output() maximizedClicked = new EventEmitter();\n\n  readonly EXPERIMENTS_STATUS_LABELS = EXPERIMENTS_STATUS_LABELS;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n}\n","<div [class]=\"'progress-bar-container ' + status\">\n  <sm-experiment-info-header-status-icon-label\n    (closeInfoClicked)=\"closeInfoClicked.emit()\"\n    (maximizedClicked)=\"maximizedClicked.emit()\"\n    [showMaximize]=\"showMaximize\"\n    [status]=\"status\"\n    [viewOnly]=\"!editable\"\n    [development]=\"development\"\n    class=\"w-100\">\n  </sm-experiment-info-header-status-icon-label>\n</div>\n","import {Injectable} from '@angular/core';\nimport {CanDeactivate} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\nimport {ConfirmDialogComponent} from '../ui-components/overlay/confirm-dialog/confirm-dialog.component';\n\n@Injectable()\nexport class GeneralLeavingBeforeSaveAlertGuard implements CanDeactivate<any> {\n  constructor(private dialog: MatDialog) {\n  }\n\n  public canDeactivate(component: any): Observable<boolean> | Promise<boolean> | boolean {\n\n    if (!component.isDirty) {\n      return true;\n    }\n\n\n    return Observable.create(observer => {\n      const confirmDialogRef: MatDialogRef<any, boolean> = this.dialog.open(ConfirmDialogComponent, {\n        data: {\n          title: 'Attention',\n          body: 'You have unsaved changes. Do you want to stay on this page or leave without saving?',\n          yes: 'Leave',\n          no: 'Stay',\n          iconClass: 'i-alert',\n        }\n      });\n\n      confirmDialogRef.afterClosed().subscribe((confirmed) => {\n        if (confirmed) {\n          observer.next(true);\n          observer.complete();\n        } else {\n          observer.next(false);\n          observer.complete();\n        }\n      });\n    });\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, CanDeactivate, RouterStateSnapshot} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {get} from 'lodash/fp';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport {ConfirmDialogComponent} from '../ui-components/overlay/confirm-dialog/confirm-dialog.component';\nimport {Store} from '@ngrx/store';\nimport {GuardBase} from '../../../shared/guards/guard-base';\n\n@Injectable()\nexport class LeavingBeforeSaveAlertGuard extends GuardBase implements CanDeactivate<any> {\n  private inEditMode: boolean;\n  constructor(private dialog: MatDialog, private store: Store<any>) {\n    super(store);\n    this.inEditMode$.subscribe(inEditModes => {\n      if (inEditModes.includes(true)) {\n        this.inEditMode = true;\n      } else {\n        this.inEditMode = false;\n      }\n    });\n  }\n\n  public canDeactivate(component: any, currentRoute: ActivatedRouteSnapshot, currentState: RouterStateSnapshot, nextState?: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n\n    const unGuard = get('root.queryParams.unGuard', nextState);\n    if (unGuard === 'true') {\n      return true;\n    }\n    if (!this.inEditMode) {\n      return true;\n    }\n\n    const confirmation$ = Observable.create(observer => {\n      const confirmDialogRef: MatDialogRef<any, boolean> = this.dialog.open(ConfirmDialogComponent, {\n        data: {\n          title    : 'Attention',\n          body     : 'You have unsaved changes. Do you want to stay on this page or leave without saving?',\n          yes      : 'Leave',\n          no       : 'Stay',\n          iconClass: 'i-alert',\n        }\n      });\n\n      confirmDialogRef.afterClosed().subscribe((confirmed) => {\n        if (confirmed) {\n          observer.next(true);\n          observer.complete();\n        } else {\n          observer.next(false);\n          observer.complete();\n        }\n      });\n    });\n\n    return confirmation$;\n  }\n}\n\n","import {combineLatest, Observable, ObservableInput, ObservedValueOf} from 'rxjs';\nimport {selectIsExperimentInEditMode} from '../../webapp-common/experiments/reducers';\nimport {selectIsModelInEditMode} from '../../webapp-common/models/reducers';\nimport {Store} from '@ngrx/store';\nimport {debounceTime} from 'rxjs/operators';\n\nexport class GuardBase {\n  public inEditMode$: Observable<[ObservedValueOf<ObservableInput<any>>, ObservedValueOf<ObservableInput<any>>]>;\n  constructor(store: Store<any>) {\n    this.inEditMode$ = combineLatest([\n      store.select(selectIsExperimentInEditMode),\n      store.select(selectIsModelInEditMode)\n    ]).pipe(debounceTime(0));\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {MatDialogModule} from '@angular/material/dialog';\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\nimport {MatCheckboxModule} from '@angular/material/checkbox';\nimport {MatDividerModule} from '@angular/material/divider';\nimport {MatExpansionModule} from '@angular/material/expansion';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatSelectModule} from '@angular/material/select';\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\nimport {MatTooltipModule} from '@angular/material/tooltip';\nimport {MatMenuModule} from '@angular/material/menu';\nimport {MatChipsModule} from '@angular/material/chips';\nimport {MatSidenavModule} from \"@angular/material/sidenav\";\nimport {MatListModule} from \"@angular/material/list\";\n\n\n@NgModule({\n  imports: [\n    MatExpansionModule,\n    MatDividerModule,\n    MatSelectModule,\n    MatDialogModule,\n    MatTooltipModule,\n    MatMenuModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatCheckboxModule,\n    MatSlideToggleModule,\n    MatAutocompleteModule,\n    MatChipsModule\n  ],\n  exports: [\n    MatExpansionModule,\n    MatDividerModule,\n    MatSelectModule,\n    MatDialogModule,\n    MatMenuModule,\n    MatTooltipModule,\n    MatInputModule,\n    MatCheckboxModule,\n    MatFormFieldModule,\n    MatSlideToggleModule,\n    MatAutocompleteModule,\n    MatChipsModule,\n    MatSidenavModule,\n    MatListModule,\n  ],\n  declarations: []\n})\nexport class SMMaterialModule {\n}\n","import {Input, Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'advancedFilter',\n})\nexport class AdvancedFilterPipe implements PipeTransform {\n\n  transform(arr: any[], query: string): any[] {\n    if (!arr || !query) {\n      return arr;\n    }\n    return arr.filter(item => JSON.stringify(item).toLowerCase().includes(query.toLowerCase()));\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'breadcrumbsEllipsis'\n})\nexport class BreadcrumbsEllipsisPipe implements PipeTransform {\n\n  transform(value: string, ...args: unknown[]) {\n\n    const count = (value.match(/\\//g) || []).length;\n\n    if (count > 1) {\n      return `<div class=\"sub-path\">${value.substring(0, value.indexOf('/'))}</div>/<i class=\"al-ico-dots al-icon sm\"></i><div class=\"sub-path\">${value.substr(value.lastIndexOf('/'))}</div>`;\n    }\n    return `<div class=\"sub-path double-width\">${value}</div>`;\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'duration',\n  pure: true\n})\nexport class DurationPipe implements PipeTransform {\n\n  transform(value: any): any {\n\n    if (!value && value !== 0) {\n      return '';\n    }\n    if (value === 0) {\n      return '>1 s';\n    } else {\n      const result = [];\n      let units = 's';\n      let calcSeconds = value;\n      // 2- Extract hours:\n      const days = Math.floor(calcSeconds / 86400);\n      if (days) {\n        units = 'd';\n        result.push(days.toString().padStart(days.toString().length, '0'));\n      }\n      calcSeconds = calcSeconds % 86400;\n      const hours = Math.floor(calcSeconds / 3600) % 100;\n      if (days && !hours) {\n        return `${result}${units}`;\n      } else if (hours) {\n        if(units === 'd') {\n          result.push(hours.toString().padStart(2, '0'));\n        } else {\n          result.push(hours.toString());\n        }\n        if (result.length === 2) {\n          return `${result.join(':')}${units}`;\n        }\n        units = 'h';\n      }\n      calcSeconds = calcSeconds % 3600; // seconds remaining after extracting hours\n      // 3- Extract minutes:\n      const minutes = Math.floor(calcSeconds / 60) % 100;\n      if (hours && !minutes) {\n        return `${result}${units}`;\n      } else if (minutes) {\n        result.push(minutes.toString().padStart(2, '0'));\n        if (result.length === 2) {\n          return `${result.join(':')}${units}`;\n        }\n        units = 'm';\n      }\n      // 4- Keep only seconds not extracted to minutes:\n      calcSeconds = calcSeconds % 60; // seconds remaining after extracting hours\n      // 3- Extract minutes:\n      const seconds = Math.floor(calcSeconds) % 100;\n      if (seconds) {\n        result.push(seconds.toString().padStart(2, '0'));\n        if (result.length === 2) {\n          return `${result.join(':')}${units}`;\n        }\n        units = 's';\n      }\n      return `${result.join(':')}${units}`;\n    }\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'filterInternal'\n})\nexport class FilterInternalPipe implements PipeTransform {\n  transform(arr) {\n    return arr?.filter(item=> !item.key.startsWith('_'));\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {get} from 'lodash/fp';\n\n@Pipe({\n  name: 'filter',\n})\nexport class FilterPipe implements PipeTransform {\n\n  transform(arr, query: string | string[], key?: string) {\n    if (!arr || !query) {\n      return arr;\n    }\n\n    if (Array.isArray(query)) {\n      return arr.filter(item => !(query as string[]).includes((key ? get(key, item) : item)));\n    } else if (typeof query === 'string') {\n      return arr.filter(item => (key ? get(key, item) : item)?.toLowerCase().includes(query?.toLowerCase()));\n    }\n    return arr;\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'filterLast',\n})\nexport class FilterLast implements PipeTransform {\n  transform(items: any[]): any[] {\n    const itemsCopy = [...items];\n    itemsCopy.pop();\n    return itemsCopy;\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'filterOut',\n})\nexport class FilterOutPipe implements PipeTransform {\n\n  transform(arr: any[], field: string, value: string): any[] {\n    if (!arr || !field || !value) {\n      return arr;\n    }\n    return arr.filter(item => item[field] !== value);\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'hideHashTitle',\n  pure: true\n})\nexport class HideHashTitlePipe implements PipeTransform {\n\n  transform(value: string, args?: any): any {\n    return value.replace(/^.{0,5}hash_/, '');\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'hideHash',\n  pure: true\n})\nexport class HideHashPipe implements PipeTransform {\n\n  transform(value: string, args?: any): any {\n    if (value.startsWith('hash_') || value.startsWith('a_hash_') || value === '') {\n      return '';\n    } else {\n      return value + ' : ';\n    }\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {escapeRegex} from '../utils/shared-utils';\n\n@Pipe({\n  name: 'highlightSearchText'\n})\nexport class HighlightSearchTextPipe implements PipeTransform {\n\n  transform(value: any, args: any): any {\n    if (!args || typeof args !== 'string' ) {\n      return value;\n    }\n    const re           = new RegExp(escapeRegex(args), 'gi'); // 'gi' for case insensitive and can use 'g' if you want the search to be case sensitive.\n    const originalTerm = value.match(re) && value.match(re)[0];\n    if (originalTerm) {\n      return value.replace(re, '<b>' + originalTerm + '</b>');\n    } else {\n      return value;\n    }\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'idToObjectsArray',\n})\nexport class IdToObjectsArrayPipe implements PipeTransform {\n\n  transform(arr: string[]): any[] {\n    if (!arr) {\n      return arr;\n    }\n    return arr.map(parameter => ({id: parameter}));\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'initials'\n})\nexport class InitialsPipe implements PipeTransform {\n\n  transform(value: string): unknown {\n    if (value !== null) {\n      return value.split(' ').map(part => part[0]).join('');\n    }\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {last} from 'lodash/fp';\n\n@Pipe({\n  name: 'isAudio'\n})\nexport class IsAudioPipe implements PipeTransform {\n  static audioExtensions = ['wav', 'mp3', 'flac', 'mid', 'au', 'ra', 'snd'];\n\n  transform(value: string, args?: any): any {\n    if(!value){\n      return false;\n    }\n    const path = value.split('?')[0];\n    return IsAudioPipe.audioExtensions.includes(last(path.split('.')).toLowerCase());\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {last} from 'lodash/fp';\n\n@Pipe({\n  name: 'isVideo'\n})\nexport class IsVideoPipe implements PipeTransform {\n  static videoExtensions = ['ogv', 'mp4', 'webm', 'ogg', 'm4v', 'avi', 'mov', 'wmv'];\n\n  transform(value: string, args?: any): any {\n    if(!value){\n      return false;\n    }\n    const path = value.split('?')[0];\n    return IsVideoPipe.videoExtensions.includes(last(path.split('.')).toLowerCase());\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'menuItemText'\n})\nexport class MenuItemTextPipe implements PipeTransform {\n\n  transform(numberOfItems: number, itemName: string, isMultiple = true): string {\n    if (!isMultiple) {\n      return itemName;\n    }\n    if (numberOfItems > 0) {\n      return `${itemName} (${numberOfItems} item${numberOfItems > 1 ? 's' : ''}) `;\n    }\n    return itemName;\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'msToHours',\n  pure: true\n})\nexport class MsToHoursPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n\n    if (!value) {\n      return '';\n    } else {\n      let seconds = value / 1000;\n      // 2- Extract hours:\n      const hours = parseInt((seconds / 3600).toString(), 10); // 3,600 seconds in 1 hour\n\n      seconds = seconds % 3600; // seconds remaining after extracting hours\n      // 3- Extract minutes:\n      const minutes = ('0' + parseInt((seconds / 60).toString(), 10)).slice(-2); // 60 seconds in 1 minute\n      // 4- Keep only seconds not extracted to minutes:\n      seconds = seconds % 60;\n      return ('(' + hours + ':' + minutes + ' hrs)');\n    }\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'msToSec',\n  pure: true\n})\nexport class MsToSecPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n\n    if (!value) {\n      return '';\n    } else {\n      if (value < 1000) {\n        return (value + ' ms');\n      }\n      const result = [];\n      let seconds = value / 1000;\n      // 2- Extract hours:\n      //      const hours = ('0' + parseInt((seconds / 3600).toString(), 10)).slice(-2); // 3,600 seconds in 1 hour\n      const hours = Math.floor(seconds / 3600) % 100;\n      if (hours) {\n        result.push(hours.toString().padStart(2, '0') + 'h');\n      }\n\n      seconds = seconds % 3600; // seconds remaining after extracting hours\n      // 3- Extract minutes:\n      const minutes = Math.floor(seconds / 60) % 100;\n      if (minutes) {\n        result.push(minutes.toString().padStart(2, '0') + 'm');\n      }\n      //      const minutes = ('0' + parseInt((seconds / 60).toString(), 10)).slice(-2); // 60 seconds in 1 minute\n      // 4- Keep only seconds not extracted to minutes:\n      result.push(Math.floor(seconds % 60).toString().padStart(2, '0') + 's');\n\n      return result.join(' ');\n    }\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport {NA} from '../../../app.constants';\n\n@Pipe({\n  name: 'NA'\n})\nexport class NAPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    return value ? value : NA;\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'noUnderscore'\n})\nexport class NoUnderscorePipe implements PipeTransform {\n\n  transform(value: string, args?: any): any {\n    if (value) {\n      value = value.replace(/[_-]/g, ' ');\n    }\n    return value;\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'numberToK'\n})\nexport class NumberToKPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    let showFloat = false;\n    let number;\n    if(value < 1000 || isNaN(value)) {\n      return value;\n    }\n    let str = '';\n    let power = 1;\n    if (value >= 1000 && value < 1000 * 1000) {\n      power = 3;\n      str   = 'K';\n      if(value > 999 && value <= 9999 ) {\n        showFloat = true;\n      }\n    }\n    else if(value >= 1000 * 1000 && value < 1000 * 1000 * 1000) {\n      power = 6;\n      str   = 'M';\n    }\n    else {\n      power = 9;\n        str   = 'B';\n    }\n    if( showFloat ) {\n      number = parseFloat((value / (Math.pow(10, power))).toFixed(1));\n    }\n    else {\n      number = Math.floor((value / (Math.pow(10, power))));\n    }\n\n    return number + '' + str;\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'projectLocation'\n})\nexport class ProjectLocationPipe implements PipeTransform {\n\n  transform(value: string, ...args: unknown[]): string {\n    if (!value) {\n      return '';\n    }\n    const lastSeparator = value.lastIndexOf('/');\n    return lastSeparator > 0 ? value.substring(0, lastSeparator) : 'Projects root';\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {getOr} from 'lodash/fp';\n\n@Pipe({\n  name: 'replaceViaMapPipe',\n})\nexport class ReplaceViaMapPipe implements PipeTransform {\n\n  transform(value: string, replaceMap: { [key: string]: string }): string {\n    if (!value || !replaceMap) {\n      return value;\n    }\n    return getOr(value, value, replaceMap);\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeHtml, SafeStyle, SafeScript, SafeUrl, SafeResourceUrl } from '@angular/platform-browser';\n\n@Pipe({\n  name: 'safe'\n})\nexport class SafePipe implements PipeTransform {\n\n  constructor(protected sanitizer: DomSanitizer) {}\n\n  public transform(value: any, type: 'html' | 'style' | 'script' | 'url' | 'resourceUrl'): SafeHtml | SafeStyle | SafeScript | SafeUrl | SafeResourceUrl {\n    switch (type) {\n      case 'html': return this.sanitizer.bypassSecurityTrustHtml(value);\n      case 'style': return this.sanitizer.bypassSecurityTrustStyle(value);\n      case 'script': return this.sanitizer.bypassSecurityTrustScript(value);\n      case 'url': return this.sanitizer.bypassSecurityTrustResourceUrl(value);\n      case 'resourceUrl': return this.sanitizer.bypassSecurityTrustResourceUrl(value);\n      default: throw new Error(`Invalid safe type specified: ${type}`);\n    }\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'safeUrlParameter'\n})\nexport class safeAngularUrlParameterPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    if (!value) {\n      return;\n    }\n    return encodeURIComponent(value);\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'camelToTitle',\n  pure: true\n})\nexport class CamelToTitlePipe implements PipeTransform {\n\n  transform(value: string): string {\n\n    if (!value || typeof(value) !== 'string') {\n      return value;\n    }\n\n    const words = value.match(/[A-Za-z][a-z]*/g);\n\n    return words.map(this.capitalize).join(' ');\n  }\n\n  capitalize(word) {\n    return word.charAt(0).toUpperCase() + word.substring(1);\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'FilenameFromPath'\n})\nexport class FilenameFromPath implements PipeTransform {\n\n  transform(value: string, args?: any): any {\n    if (value) {\n      value = value.replace(/.*[^\\/]\\//, '').replace(/\\?.*$/, '');\n    }\n    return value || '';\n\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'floor'\n})\nexport class FloorPipe implements PipeTransform {\n\n  transform(value: number, decimalDigits= 0): number {\n    const magicNum = Math.pow(10, decimalDigits);\n\n    return Math.floor(value * magicNum) / magicNum;\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'join'\n})\nexport class JoinPipe implements PipeTransform {\n\n  defaultSeparator = ', ';\n  transform(value: Array<string>, separator?: any): any {\n    if(!Array.isArray(value)) {\n      throw 'Join pipe accept arrays only.';\n    }\n\n    return value.join(separator || this.defaultSeparator);\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n\n@Pipe({\n  name: 'keyval'\n})\nexport class KeyvalPipe implements PipeTransform {\n\n  transform(arr: Array<object>, key, value): any {\n\n    if(!Array.isArray(arr)) {\n      if(!arr) {\n        return ''\n      }\n      throw 'Keyval pipe accept arrays only.';\n    }\n    if(!key) {\n      throw 'Keyval pipe key is required.';\n    }\n    if(!value) {\n      throw 'Keyval pipe value is required.';\n    }\n\n    const map = arr.reduce((map, obj) => {\n      if(!obj[key]) {\n        throw `Keyval pipe: key: ${key} is not object: .` + JSON.stringify(obj);\n      }\n      if(!obj[value]) {\n        throw `Keyval pipe: value: ${value} is not exists on object: .` + JSON.stringify(obj);\n      }\n      map[obj[key]] = obj[value];\n      return map;\n    }, {});\n\n    let str = '';\n    let first = true;\n    Object.entries(map).forEach(([key, value]) => {\n      str += first ? `${key}=${value}` : ',' + `${key}=${value}`;\n      first = false;\n    });\n\n    return str;\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {uniqBy} from 'lodash/fp';\n\n@Pipe({\n  name: 'uniqueBy'})\nexport class UniqueByPipe implements PipeTransform {\n\n  transform(arr: Array<any>, key: string | (any) | null): any {\n\n    if (!Array.isArray(arr)) {\n      return '';\n    }\n\n    return uniqBy(key, arr);\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'keyValue'\n})\nexport class KeyValuePipe implements PipeTransform {\n\n  transform(value: Map<any, any>, args?: any): Array<{key: any, value: any}> {\n    return Object.entries(value).map(([key, val]) => ({key, value: val}));\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'toExponential'\n})\nexport class ToExponentialPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    if (value === 0) {\n      return 0;\n    }\n    if (!value) {\n      return;\n    }\n    return Number.parseFloat(value).toExponential(3);\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'timeTillNow'\n})\nexport class TimeTillNowPipe implements PipeTransform {\n  transform(value: any, args?: any): any {\n    if (!value) {\n      return '';\n    }\n    const now       = new Date();\n    const startDate = new Date(value);\n    const ms = now.getTime() - startDate.getTime();\n    let seconds = ms / 1000;\n    // 2- Extract hours:\n    const hours = parseInt((seconds / 3600).toString(), 10); // 3,600 seconds in 1 hour\n\n    seconds = seconds % 3600; // seconds remaining after extracting hours\n    // 3- Extract minutes:\n    const minutes = ('0' + parseInt((seconds / 60).toString(), 10)).slice(-2); // 60 seconds in 1 minute\n    // 4- Keep only seconds not extracted to minutes:\n    seconds = seconds % 60;\n    return ( hours + ':' + minutes + ' hrs');\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {isReadOnly} from '../utils/shared-utils';\n\n@Pipe({\n  name: 'hasExampleItem'\n})\nexport class HasExampleItemPipe implements PipeTransform {\n\n  transform(value: Array<any>, args?: any): any {\n    return value.find(item => isReadOnly(item));\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {IOption} from '@common/shared/ui-components/inputs/select-autocomplete-with-chips/select-autocomplete-with-chips.component';\n\n@Pipe({\n  name: 'selectOptionValueToLabel',\n})\nexport class SelectOptionValueToLabelPipe implements PipeTransform {\n  transform(value: string, options: Array<IOption>): string {\n    if (!options) {\n      return value;\n    }\n    const option = options.find(option => option.value === value);\n    return option ? option.label : value;\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'labelValue'\n})\nexport class LabelValuePipe implements PipeTransform {\n  constructor() {\n  }\n\n  transform(value: string[], args?: any): Array<{ label: string; value: string }> {\n    if (!value) {\n      return;\n    }\n    if (!value.every(item => typeof item === 'string')) {\n      return value as any;\n    }\n    return value.map(item => ({label: item === '*' ? 'Any Label' : item, value: item}));\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'filterById',\n})\nexport class FilterByIdPipe implements PipeTransform {\n\n  transform(obj: any, id: string, mapTo: string): any[] {\n    if (!obj || !id) {\n      return obj;\n    }\n    return obj.filter(parameter=> parameter.id!== id).map(parameter => parameter[mapTo])\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'toPropertyArray',\n})\nexport class ToPropertyArrayPipe implements PipeTransform {\n\n  transform(arr: any[], property: string): string[] {\n    if (!arr || !property) {\n      return arr;\n    }\n    return arr.map(parameter=> parameter[property]);\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport * as uuid from 'uuid';\n\n@Pipe({\n  name: 'uuid'\n})\nexport class UuidPipe implements PipeTransform {\n\n  transform(value: string): string {\n    return `${value}-${uuid.v4()}`;\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport {isEmpty} from 'lodash/fp';\n\n@Pipe({\n  name: 'isEmpty'\n})\nexport class IsEmptyPipe implements PipeTransform {\n\n  transform(value: unknown): unknown {\n    return isEmpty(value);\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {CamelToTitlePipe} from './camel-to-title.pipe';\nimport {FilenameFromPath} from './filename-from-path.pipe';\nimport {FilterPipe} from './filter.pipe';\nimport {FloorPipe} from './floor.pipe';\nimport {JoinPipe} from './join.pipe';\nimport {KeyvalPipe} from './keyval.pipe';\nimport {NoUnderscorePipe} from './no-underscore.pipe';\nimport {NumberToKPipe} from './number-to-k.pipe';\nimport {UniqueByPipe} from './unique-by.pipe';\nimport {KeyValuePipe} from './key-value.pipe';\nimport {NAPipe} from './na.pipe';\nimport {MsToHoursPipe} from './ms-to-hours.pipe';\nimport {SortPipe} from './sort.pipe';\nimport {ToExponentialPipe} from './to-exponential.pipe';\nimport {HighlightSearchTextPipe} from './highlight-search-text.pipe';\nimport {HideHashPipe} from './hide-hash.pipe';\nimport {TimeAgoPipe} from './timeAgo';\nimport {TimeTillNowPipe} from './time-till-now.pipe';\nimport {MsToSecPipe} from './ms-to-sec.pipe';\nimport {HasExampleItemPipe} from './has-example-item.pipe';\nimport {AdvancedFilterPipe} from './advanced-filter.pipe';\nimport {SafePipe} from './safe.pipe';\nimport {SelectOptionValueToLabelPipe} from './selectOptionValueToLabel.pipe';\nimport {IsVideoPipe} from './is-video.pipe';\nimport {ToPercentagePipe} from './to-precentage.pipe';\nimport {SimpleFilterPipe} from './simple-filter.pipe';\nimport {IsAudioPipe} from './is-audio.pipe';\nimport {ShowSelectedFirstPipe} from './show-selected-first.pipe';\nimport {CountPipe} from './count.pipe';\nimport {LabelValuePipe} from './label-value.pipe';\nimport {HideHashTitlePipe} from './hide-hash-title.pipe';\nimport {safeAngularUrlParameterPipe} from './safeAngularUrlParameter.pipe';\nimport {ReplaceViaMapPipe} from './replaceViaMap';\nimport {FilterByIdPipe} from './filterById.pipe';\nimport {FilterOutPipe} from './filterOut.pipe';\nimport {DurationPipe} from \"./duration.pipe\";\nimport {BreadcrumbsEllipsisPipe} from './breadcrumbs-ellipsis.pipe';\nimport {ShortProjectNamePipe} from './short-project-name.pipe';\nimport {ProjectLocationPipe} from \"./project-location.pipe\";\nimport {StringIncludedInArrayPipe} from './string-included-in-array.pipe';\nimport {FilterLast} from \"./filterLast.pipe\";\nimport {ToPropertyArrayPipe} from \"@common/shared/pipes/toPropertyArray.pipe\";\nimport {MenuItemTextPipe} from \"@common/shared/pipes/menu-item-text.pipe\";\nimport {InitialsPipe} from './initials.pipe';\nimport {UuidPipe} from './uuid.pipe';\nimport {FilterInternalPipe} from './filter-internal.pipe';\nimport {IdToObjectsArrayPipe} from \"./idToObjectsArray.pipe\";\nimport {IsEmptyPipe} from './is-empty.pipe';\nimport {HighlightSearchPipe} from './highlight-search.pipe';\nimport { TemplateInjectorPipe } from './template-injector.pipe';\nimport { TestConditionalPipe } from './test-conditional.pipe';\nimport { GroupHasErrorsPipe } from './group-has-errors.pipe';\nimport { FormgroupHasRequiredFieldPipe } from './formgroup-has-required-field.pipe';\n\nconst pipes = [\n  CamelToTitlePipe, FilenameFromPath, FilterPipe, FloorPipe, KeyValuePipe, NAPipe, SortPipe, IsVideoPipe, IsAudioPipe,FilterInternalPipe,UuidPipe,\n  JoinPipe, KeyvalPipe, LabelValuePipe, NoUnderscorePipe, NumberToKPipe, UniqueByPipe, MsToHoursPipe, MsToSecPipe, DurationPipe,\n  ToExponentialPipe, HighlightSearchTextPipe, HighlightSearchPipe, HideHashPipe, HideHashTitlePipe, TimeAgoPipe, TimeTillNowPipe, HasExampleItemPipe, safeAngularUrlParameterPipe,\n  AdvancedFilterPipe, SafePipe, SelectOptionValueToLabelPipe, ToPercentagePipe, ReplaceViaMapPipe, FilterByIdPipe, FilterLast, FilterOutPipe, SimpleFilterPipe,\n  BreadcrumbsEllipsisPipe, ShortProjectNamePipe, ProjectLocationPipe,StringIncludedInArrayPipe, ToPropertyArrayPipe, MenuItemTextPipe, InitialsPipe, IdToObjectsArrayPipe, IsEmptyPipe,\n  TemplateInjectorPipe, TestConditionalPipe, GroupHasErrorsPipe, FormgroupHasRequiredFieldPipe\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n  ],\n  declarations: [pipes, ShowSelectedFirstPipe, CountPipe ],\n  providers: [pipes],\n    exports: [pipes, ShowSelectedFirstPipe, CountPipe]\n})\nexport class SharedPipesModule {\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {escapeRegex} from '../utils/shared-utils';\n\n@Pipe({\n  name: 'highlightSearch'\n})\nexport class HighlightSearchPipe implements PipeTransform {\n\n  transform(value: any, args: any): any {\n    if (!args || typeof args !== 'string' ) {\n      return value;\n    }\n    const re           = new RegExp(escapeRegex(args), 'gi'); // 'gi' for case insensitive and can use 'g' if you want the search to be case sensitive.\n    const originalTerm = value.match(re) && value.match(re)[0];\n    if (originalTerm) {\n      return value.replace(re, '<span class=\"highlight-text\">' + originalTerm + '</span>');\n    } else {\n      return value;\n    }\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport {getOr} from 'lodash/fp';\n\n@Pipe({\n  name: 'templateInjector',\n})\nexport class TemplateInjectorPipe implements PipeTransform {\n\n  transform(formChanged, formGroup:any, index: number): string {\n    if(!formGroup.collapsibleTitleTemplate){\n      return `${formGroup.title || formGroup.name || 'Item '} #${index+1}`\n    }\n    const nameValueMap = {};\n    formGroup.fields.forEach(field=> nameValueMap[field.name] = field.val )\n    const match = new RegExp(/\\$\\{[ ]*([.a-zA-Z_-]*)[ ]*\\}/ig);\n    const variables = Array.from(formGroup.collapsibleTitleTemplate.matchAll(match));\n    let label = formGroup.collapsibleTitleTemplate;\n    variables.forEach(variableArr => {\n      const getter = variableArr[1];\n      const val = getOr('', getter, nameValueMap);\n      label = label.replace('${index}', (index+1).toString());\n      label = label.replace(variableArr[0], val===null? '': val);\n      label = label? label: `${formGroup.title || formGroup.name || 'Item '} #${index+1}`\n    });\n    return label;\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'testConditional',\n})\nexport class TestConditionalPipe implements PipeTransform {\n\n  transform(form: any, groupedApplicationForm: [string, any[]][], conditional: {\n    op: string, entries: [{\n      name: string,\n      value: string\n    }]\n  }, groupName?: string, groupIndex?: number): boolean {\n    let conditions = []\n    conditional?.entries?.forEach(ent => {\n        const fieldVal = groupName ?\n          groupedApplicationForm.filter(group => group[0] === groupName)[0][1][groupIndex].fields.filter(field => field.name === ent.name)[0].val :\n          groupedApplicationForm.filter(field => field[0] === ent.name)[0][1][0].fields[0].val\n        const r = new RegExp(ent.value);\n        conditions.push(r.test(fieldVal));\n      }\n    )\n    if (conditional?.op === 'or') {\n      return conditions.some(con => con);\n    } else {\n      return conditions.filter((con) => !con).length === 0;\n    }\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'groupHasErrors'\n})\nexport class GroupHasErrorsPipe implements PipeTransform {\n  transform(formValueChanged, invalid): string {\n    return invalid? 'Group configuration is invalid': '';\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'formgroupHasRequiredField'\n})\nexport class FormgroupHasRequiredFieldPipe implements PipeTransform {\n\n  transform(formGroup: any): string {\n    return formGroup.fields.some(field => field.required)? '*': '';\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'shortProjectName'\n})\nexport class ShortProjectNamePipe implements PipeTransform {\n\n  transform(value: string): string {\n    if (!value) {\n      return '';\n    }\n    const shortName = value.substring(value.lastIndexOf('/') + 1);\n    return `${((value.startsWith('[') && !shortName.startsWith('['))? '[' : '') + shortName }`;\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\nexport function sortByArr(a, b, colsOrder=[]) {\n  const indexOfA = colsOrder.indexOf(a);\n  const indexOfB = colsOrder.indexOf(b);\n  return ((indexOfA >= 0) ? indexOfA : 99) - ((indexOfB >= 0) ? indexOfB : 99);\n}\n\n@Pipe({\n  name: 'showSelectedFirst'\n})\nexport class ShowSelectedFirstPipe implements PipeTransform {\n  transform(arr: Array<any>, selectedArr: Array<any>): Array<any> {\n    if (arr.length > 0 && selectedArr.length > 0) {\n      return arr.sort((a, b) => sortByArr(a.value, b.value, selectedArr));\n    } else {\n      return arr;\n    }\n  }\n}\n\n\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'simpleFilter'\n})\nexport class SimpleFilterPipe implements PipeTransform {\n  transform(items: any[], term: string): any {\n    if (!term) {\n      return items;\n    }\n    return items.filter(item => item.toLowerCase().includes(term.toLowerCase()));\n  }\n}\n\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {sortByField} from '../../tasks/tasks.utils';\n\n@Pipe({\n  name: 'sort'\n})\nexport class SortPipe implements PipeTransform {\n\n  transform(arr: Array<any>, field: string): any[] {\n    return field ? sortByField(arr, field) : [...arr].sort();\n  }\n}\n\n@Pipe({\n  name: 'sortHumanize'\n})\nexport class SortHumanizePipe implements PipeTransform {\n  private collator = new Intl.Collator(undefined, {numeric: true, sensitivity: 'base'});\n\n  transform(array: Array<any>, field?: string): any[] {\n    const arr = [...array];\n    if(field) {\n      arr.sort((a, b) => this.collator.compare(a[field], b[field]));\n    } else {\n      arr.sort((a, b) => this.collator.compare(a, b));\n    }\n    return arr;\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'stringIncludedInArray'\n})\nexport class StringIncludedInArrayPipe implements PipeTransform {\n\n  transform(value: string, stingsArr: string[] = []): boolean {\n    if (!value) {\n      return false;\n    }\n    return stingsArr.includes(value);\n  }\n\n}\n","import {Pipe, PipeTransform, NgZone, ChangeDetectorRef, OnDestroy} from '@angular/core';\n\n@Pipe({\n  name: 'timeAgo',\n  pure: false\n})\nexport class TimeAgoPipe implements PipeTransform, OnDestroy {\n  private timer: number;\n\n  constructor(private changeDetectorRef: ChangeDetectorRef, private ngZone: NgZone) {\n  }\n\n  transform(value: any) {\n    if (!(Date.parse(value) > 0 && !Number.isInteger(value))) {\n      return value;\n    }\n    this.removeTimer();\n    // let d            = this.convertUTCDateToLocalDate(new Date(value));\n    if (!value.endsWith('+00:00')) {\n      value = value + '+00:00';\n    }\n    const d            = new Date(value);\n    const now          = new Date();\n    const seconds      = Math.round(Math.abs((now.getTime() - d.getTime()) / 1000));\n    const timeToUpdate = (Number.isNaN(seconds)) ? 1000 : this.getSecondsUntilUpdate(seconds) * 1000;\n    this.timer         = this.ngZone.runOutsideAngular(() => {\n      if (typeof window !== 'undefined') {\n        return window.setTimeout(() => {\n          this.ngZone.run(() => this.changeDetectorRef.markForCheck());\n        }, timeToUpdate);\n      }\n      return null;\n    });\n    const minutes      = Math.round(Math.abs(seconds / 60));\n    const hours        = Math.round(Math.abs(minutes / 60));\n    const days         = Math.round(Math.abs(hours / 24));\n    const months       = Math.round(Math.abs(days / 30.416));\n    const years        = Math.round(Math.abs(days / 365));\n    if (Number.isNaN(seconds)) {\n      return '';\n    } else if (seconds <= 45) {\n      return 'a few seconds ago';\n    } else if (seconds <= 90) {\n      return 'a minute ago';\n    } else if (minutes <= 45) {\n      return minutes + ' minutes ago';\n    } else if (minutes <= 90) {\n      return 'an hour ago';\n    } else if (hours <= 22) {\n      return hours + ' hours ago';\n    } else if (hours <= 36) {\n      return 'a day ago';\n    } else if (days <= 25) {\n      return days + ' days ago';\n    } else if (days <= 45) {\n      return 'a month ago';\n    } else if (days <= 345) {\n      return months + ' months ago';\n    } else if (days <= 545) {\n      return 'a year ago';\n    } else { // (days > 545)\n      return years + ' years ago';\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.removeTimer();\n  }\n\n  private removeTimer() {\n    if (this.timer) {\n      window.clearTimeout(this.timer);\n      this.timer = null;\n    }\n  }\n\n  private getSecondsUntilUpdate(seconds: number) {\n    const min = 60;\n    const hr  = min * 60;\n    const day = hr * 24;\n    if (seconds < min) { // less than 1 min, update every 2 secs\n      return 2;\n    } else if (seconds < hr) { // less than an hour, update every 30 secs\n      return 30;\n    } else if (seconds < day) { // less then a day, update every 5 mins\n      return 300;\n    } else { // update every hour\n      return 3600;\n    }\n  }\n\n  convertUTCDateToLocalDate(date) {\n    if (date) {\n      const newDate = new Date(date.getTime() + date.getTimezoneOffset() * 60 * 1000);\n      const offset  = date.getTimezoneOffset() / 60;\n      const hours   = date.getHours();\n      newDate.setHours(hours - offset);\n      return newDate;\n    }\n    return;\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'toPercentage'\n})\nexport class ToPercentagePipe implements PipeTransform {\n\n  transform(value: any, ...args: any[]): any {\n    if (value !== -1) {\n      return Math.floor(value * 100);\n    } else {\n      return null;\n    }\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {PortalComponent} from './portal.component';\nimport {PortalModule} from '@angular/cdk/portal';\n\n@NgModule({\n  declarations: [PortalComponent],\n  exports     : [PortalComponent],\n  imports     : [\n    CommonModule,\n    PortalModule\n  ]\n})\nexport class SMPortalModule {\n}\n","import {ISmAction} from '../../core/models/actions';\nimport {Project} from '../../../business-logic/model/projects/project';\nimport {CreationStatusEnum} from './project-dialog.reducer';\nimport {ProjectsCreateRequest} from '../../../business-logic/model/projects/projectsCreateRequest';\nimport {createAction, props} from \"@ngrx/store\";\n\nconst CREATE_PROJECT_DIALOG_PREFIX = 'CREATE_PROJECT_DIALOG_';\n\nexport const CREATE_PROJECT_ACTIONS = {\n  GET_PROJECTS           : CREATE_PROJECT_DIALOG_PREFIX + 'GET_PROJECTS',\n  SET_PROJECTS           : CREATE_PROJECT_DIALOG_PREFIX + 'SET_PROJECTS',\n  RESET_STATE            : CREATE_PROJECT_DIALOG_PREFIX + 'RESET_STATE',\n  CREATE_NEW_PROJECT     : CREATE_PROJECT_DIALOG_PREFIX + 'CREATE_NEW_PROJECT',\n  SET_CREATION_STATUS    : CREATE_PROJECT_DIALOG_PREFIX + 'SET_CREATION_STATUS',\n  NAVIGATE_TO_NEW_PROJECT: CREATE_PROJECT_DIALOG_PREFIX + 'NAVIGATE_TO_NEW_PROJECT'\n};\n\n\nexport class GetProjects implements ISmAction {\n  readonly type = CREATE_PROJECT_ACTIONS.GET_PROJECTS;\n\n  constructor() {\n  }\n}\n\nexport class SetProjects implements ISmAction {\n  readonly type = CREATE_PROJECT_ACTIONS.SET_PROJECTS;\n  public payload: { projects: Array<Project> };\n\n  constructor(projects: Array<Project>) {\n    this.payload = {projects};\n  }\n}\n\nexport class ResetState implements ISmAction {\n  readonly type = CREATE_PROJECT_ACTIONS.RESET_STATE;\n\n  constructor() {\n  }\n}\n\n\n\nexport class CreateNewProject implements ISmAction {\n  readonly type = CREATE_PROJECT_ACTIONS.CREATE_NEW_PROJECT;\n\n  constructor(public payload: ProjectsCreateRequest) {\n  }\n}\n\nexport class NavigateToNewProject implements ISmAction {\n  readonly type = CREATE_PROJECT_ACTIONS.NAVIGATE_TO_NEW_PROJECT;\n\n  constructor(public payload: string) {\n    this.payload = payload;\n  }\n}\nexport class SetNewProjectCreationStatus implements ISmAction {\n  readonly type = CREATE_PROJECT_ACTIONS.SET_CREATION_STATUS;\n  public payload: { creationStatus: CreationStatusEnum };\n\n  constructor(creationStatus: CreationStatusEnum) {\n    this.payload = {creationStatus};\n  }\n}\n\nexport const moveProject = createAction(\n  CREATE_PROJECT_DIALOG_PREFIX + 'MOVE_PROJECT',\n  props<{project?: string; new_location?: string; name: string}>()\n);\n","<form #projectForm='ngForm' class=\"d-flex flex-column\">\n  <mat-form-field appearance=\"outline\" hideRequiredMarker class=\"mat-light\">\n    <mat-label>Project name</mat-label>\n    <mat-error *ngIf=\"name.touched && name.errors?.required\">*Please add name.</mat-error>\n    <mat-error *ngIf=\"name.touched && name.errors?.uniqueName\">*Project name in this path already exists.</mat-error>\n    <mat-error *ngIf=\"name.touched && name.errors?.minlength\">*Project name should contain more than 3 characters.</mat-error>\n    <mat-error *ngIf=\"name.touched && name.errors?.pattern\">Project name shouldn't contain slash (/)</mat-error>\n    <input name=\"projectName\"\n           [(ngModel)]=\"project.name\"\n           #name=\"ngModel\"\n           matInput\n           autocomplete=\"off\"\n           smUniqueNameValidator\n           [forbiddenPrefix]=\"location.value + '/'\"\n           [existingNames]=\"projectsNames\"\n           [pattern]=\"'^[^/]+$'\"\n           required minlength=\"3\">\n  </mat-form-field>\n\n  <mat-form-field appearance=\"outline\" hideRequiredMarker\n                  (click)=\"location.value && clearLocation(); location.reset(); locationRef.blur(); locationRef.focus()\">\n    <mat-error *ngIf=\"location.touched && location.errors?.required\">*Please add location.</mat-error>\n    <mat-error *ngIf=\"location?.errors?.minlength\">Please provide a name longer than 3 characters</mat-error>\n\n    <mat-label>Create in</mat-label>\n    <input type=\"text\"\n           matInput\n           #location=\"ngModel\"\n           #locationRef\n           name=\"location\"\n           [ngModel]=\"project.parent\"\n           [matAutocomplete]=\"auto\"\n           placeholder=\"Search for project path\"\n           required\n           minlength=\"3\"\n           (blur)=\"detectChanges()\"\n           (click)=\"location.value && clearLocation(); location.reset(); locationRef.blur(); locationRef.focus()\">\n    <span matSuffix *ngIf=\"location.value && (!isAutoCompleteOpen) && !(project.parent | stringIncludedInArray:projectsNames)\" class=\"creat-new-suffix\">(Create New)</span>\n    <i matSuffix [class]=\"'fa mr2 ' + (location.value? 'fa-times pointer':'fa-search')\"\n       (click)=\"location.value && clearLocation(); location.reset(); locationRef.focus()\"\n       smClickStopPropagation></i>\n    <mat-autocomplete (opened)=\"setIsAutoCompleteOpen(true)\"\n                      (closed)=\"setIsAutoCompleteOpen(false)\"\n                      (optionSelected)=\"locationSelected($event)\"\n                      #auto=\"matAutocomplete\" autoActiveFirstOption\n                      class=\"light-theme\" classList=\"light-theme\">\n      <mat-option\n        class=\"item\"\n        *ngIf=\"(location.value && !(location.value | stringIncludedInArray:projectsNames))\"\n        [value]=\"location.value\"\n      >\"{{location.value}}\" <span class=\"new\">(Create New)</span></mat-option>\n      <mat-option\n        *ngFor=\"let projectName of projectsNames | simpleFilter:location.value\"\n        [value]=\"projectName\" [smTooltip]=\"projectName\" matTooltipPosition=\"above\"\n      >\n        <div [innerHTML]=\"projectName | highlightSearchText:location.value\"></div>\n      </mat-option>\n    </mat-autocomplete>\n  </mat-form-field>\n  <mat-form-field appearance=\"outline\" hideRequiredMarker>\n    <mat-error *ngIf=\"description?.touched && description?.invalid\">*Please add description.\n    </mat-error>\n    <mat-label>Description</mat-label>\n    <textarea class=\"project-description\"\n              name=\"description\"\n              matInput\n              [(ngModel)]=\"project.description\"\n              #description=\"ngModel\"\n    ></textarea>\n  </mat-form-field>\n  <mat-form-field appearance=\"outline\">\n    <mat-error *ngIf=\"default_output_destination?.touched && default_output_destination?.errors?.required\">*Please add\n      default destination.\n    </mat-error>\n    <mat-error *ngIf=\"default_output_destination?.touched && default_output_destination?.errors?.pattern\">*Illegal\n      output destination (e.g. s3://bucket. gs://bucket)\n    </mat-error>\n    <mat-label>Default output destination</mat-label>\n    <input class=\"project-output-dest\"\n           matInput\n           name=\"default_output_destination\"\n           [(ngModel)]=\"project.default_output_destination\"\n           #default_output_destination=\"ngModel\"\n           [pattern]=\"outputDestPattern\"\n           placeholder=\"e.g. s3://bucket. gs://bucket\">\n  </mat-form-field>\n  <div class=\"row\">\n    <div class=\"col-24 create-project-button\">\n      <button class=\"btn btn-dark-fill center\" [disabled]=\"projectForm.invalid\" (click)=\"send()\">CREATE PROJECT\n      </button>\n    </div>\n  </div>\n</form>\n","import {ChangeDetectorRef, Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges, ViewChild} from '@angular/core';\nimport {URI_REGEX} from '../../../../app.constants';\nimport {Project} from '../../../../business-logic/model/projects/project';\nimport {NgForm} from '@angular/forms';\nimport {MatAutocompleteSelectedEvent} from \"@angular/material/autocomplete\";\n\n\n@Component({\n  selector: 'sm-create-new-project-form',\n  templateUrl: './create-new-project-form.component.html',\n  styleUrls: ['./create-new-project-form.component.scss']\n})\nexport class CreateNewProjectFormComponent implements OnChanges {\n  constructor(private changeDetection: ChangeDetectorRef) {\n  }\n\n  public projectsNames: Array<string>;\n  public outputDestPattern = `${URI_REGEX.S3_WITH_BUCKET}$|${URI_REGEX.S3_WITH_BUCKET_AND_HOST}$|${URI_REGEX.FILE}$|${URI_REGEX.NON_AWS_S3}$|${URI_REGEX.GS_WITH_BUCKET}$|${URI_REGEX.GS_WITH_BUCKET_AND_HOST}$`;\n  public project = {\n    name: '',\n    description: '',\n    default_output_destination: null,\n    system_tags: [],\n    parent: ''\n  };\n  private _projects: Project[];\n\n\n  @Input() set projects(projects) {\n    this._projects = projects;\n    this.projectsNames = ['Projects root'].concat(projects.map(project => project.name));\n    // this.projectsNames =projects.map(project => project.name);\n  }\n\n  get projects(): Project[] {\n    return this._projects;\n  }\n\n  @Input() baseProjectId;\n\n  @Output() projectCreated = new EventEmitter();\n  @ViewChild('projectForm') public form: NgForm;\n  isAutoCompleteOpen: boolean;\n\n  send() {\n    if (this.project.default_output_destination === '') {\n      this.project.default_output_destination = null;\n    }\n    this.projectCreated.emit(this.project);\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.projects.length > 0) {\n      this.project.parent = this.baseProjectId? this.projects.find(project => project.id === this.baseProjectId)?.name: 'Projects root';\n    }\n  }\n\n  detectChanges() {\n    // this.form.controls.projectName.updateValueAndValidity();\n    this.changeDetection.detectChanges();\n  }\n\n  clearLocation() {\n    this.project.parent = '';\n  }\n\n\n  setIsAutoCompleteOpen(focus: boolean) {\n    this.isAutoCompleteOpen = focus;\n  }\n\n  locationSelected($event: MatAutocompleteSelectedEvent) {\n    this.project.parent = $event.option.value;\n  }\n}\n\n","<div class=\"dynamic-subtitle\">\n  <div class=\"line\">Move <span class=\"p-name\">{{projectName | shortProjectName}}</span> from <span\n    class=\"p-name\">{{projectName | projectLocation}}</span></div>\n  <div class=\"line\">To <span *ngIf=\"project.parent; else placeH\" class=\"p-name\">{{project.parent}}</span>\n    <ng-template #placeH><span class=\"p-holder\">Project…</span></ng-template>\n  </div>\n</div>\n<form #moveToForm=\"ngForm\" (submit)=\"send()\">\n  <mat-form-field class=\"w-100\"\n                  appearance=\"outline\"\n                  hideRequiredMarker=\"true\"\n                  (click)=\"project.parent && clear(); projectInputRef.blur(); projectInputRef.focus()\">\n    <mat-label>Destination</mat-label>\n    <input matInput type=\"text\"\n           [matAutocomplete]=\"auto\"\n           [ngModel]=\"project.parent\"\n           name=\"projectName\"\n           placeholder=\"Search for project path\"\n           #projectInputRef\n           #projectInput=\"ngModel\"\n           smUniquePathValidator\n           [currentName]=\"projectName | shortProjectName\"\n           [existingPaths]=\"projectsNames\"\n           smUniqueNameValidator\n           smInvalidPrefixValidator\n           [invalidPrefix]=\"projectName\"\n           [existingNames]=\"[projectName | projectLocation]\"\n           required\n           minlength=\"3\"\n           (keydown.enter)=\"projectInput.control.markAsTouched()\"\n    >\n    <span matSuffix *ngIf=\"projectInput.value && (!isAutoCompleteOpen) && !(project.parent | stringIncludedInArray:projectsNames)\" class=\"creat-new-suffix\">(Create New)</span>\n    <i matSuffix [class]=\"'fa mr2 ' + (project.parent? 'fa-times pointer':'fa-search')\"\n       (click)=\"project.parent && clear(); projectInputRef.focus()\"\n       smClickStopPropagation></i>\n    <mat-error *ngIf=\"projectInput?.errors?.required\">Please provide a Project</mat-error>\n    <mat-error *ngIf=\"projectInput?.errors?.minlength\">Please provide a project name longer than 3 characters</mat-error>\n    <mat-error *ngIf=\"projectInput?.errors?.uniqueName\">Can't move a project to it's current location</mat-error>\n    <mat-error *ngIf=\"projectInput?.errors?.invalidPrefix\">Can't move a project to it's nested projects</mat-error>\n    <mat-error *ngIf=\"projectInput?.errors?.uniquePath\">{{projectInput.value}} already contains a project named {{projectName | shortProjectName}}</mat-error>\n    <mat-autocomplete #auto=\"matAutocomplete\"\n                      name=\"ExperimentProject\"\n                      (opened)=\"setIsAutoCompleteOpen(true)\"\n                      (closed)=\"setIsAutoCompleteOpen(false)\"\n                      (optionSelected)=\"locationSelected($event)\"\n                      class=\"light-theme\"\n                      classList=\"light-theme\"\n                      autoActiveFirstOption\n    >\n      <mat-option\n        class=\"item\"\n        *ngIf=\"(projectInput.value && !(projectInput.value | stringIncludedInArray:projectsNames))\"\n        [value]=\"projectInput.value\"\n      >\"{{projectInput.value}}\" <span class=\"new\">(Create New)</span></mat-option>\n      <mat-option *ngFor=\"let projectName of projectsNames | simpleFilter:projectInput.value\" [value]=\"projectName\" [smTooltip]=\"projectName\" matTooltipPosition=\"above\">\n        <div [innerHTML]=\"projectName | highlightSearchText:projectInput.value\"></div>\n      </mat-option>\n    </mat-autocomplete>\n  </mat-form-field>\n</form>\n<div class=\"buttons d-flex justify-content-center\">\n  <button [disabled]=\"projectName === project?.parent || moveToForm.invalid\" (click)=\"send()\" cdkFocusInitial\n          class=\"btn btn-neon yes-button\" #moveButton>\n    MOVE\n  </button>\n  <button (click)=\"closeDialog()\" class=\"btn btn-outline-neon\">\n    CANCEL\n  </button>\n\n</div>\n","import {ChangeDetectorRef, Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges, ViewChild} from '@angular/core';\nimport {Project} from '../../../../business-logic/model/projects/project';\nimport {NgForm} from '@angular/forms';\nimport {MatAutocompleteSelectedEvent} from \"@angular/material/autocomplete\";\n\n\n@Component({\n  selector: 'sm-project-move-to-form',\n  templateUrl: './project-move-to-form.component.html',\n  styleUrls: ['./project-move-to-form.component.scss']\n})\nexport class ProjectMoveToFormComponent implements OnChanges, OnInit {\n  public projectName: string;\n  public isAutoCompleteOpen: boolean;\n  public filterText: string = '';\n  public projectsNames: Array<string>;\n  public project = {\n    parent: ''\n  };\n  private _projects: Project[];\n\n  @ViewChild('moveToForm', {static: true}) moveToForm: NgForm;\n\n  constructor(private changeDetection: ChangeDetectorRef) {\n  }\n\n  ngOnInit(): void {\n  }\n\n\n  @Input() set projects(projects) {\n    this._projects = projects;\n    this.projectsNames = ['Projects root'].concat(projects.map(project => project.name));\n  }\n\n  get projects(): Project[] {\n    return this._projects;\n  }\n\n  @Input() baseProjectId;\n\n  @Output() moveProject = new EventEmitter();\n  @Output() dismissDialog = new EventEmitter();\n  @ViewChild('projectForm') public form: NgForm;\n\n  send() {\n    this.moveProject.emit({location: this.project.parent, name: this.projectName});\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.projects.length > 0 && this.baseProjectId) {\n      this.projectName = this.projects.find(project => project.id === this.baseProjectId)?.name;\n    }\n  }\n\n  detectChanges() {\n    // this.form.controls.projectName.updateValueAndValidity();\n    this.changeDetection.detectChanges();\n  }\n\n  clear() {\n    this.project.parent = '';\n  }\n\n  setIsAutoCompleteOpen(focus: boolean) {\n    this.isAutoCompleteOpen = focus;\n  }\n\n\n  locationSelected($event: MatAutocompleteSelectedEvent) {\n    this.project.parent = $event.option.value;\n  }\n\n  closeDialog() {\n    this.dismissDialog.emit();\n  }\n}\n\n","<sm-dialog-template [iconClass]=\"modeParameters[mode]?.icon\" [header]=\"modeParameters[mode]?.header\">\n  <sm-create-new-project-form *ngIf=\"mode==='create'\" [projects]=\"projects$| async\" [baseProjectId]=\"baseProjectId\"  (projectCreated)=\"createProject($event)\">\n  </sm-create-new-project-form>\n  <sm-project-move-to-form *ngIf=\"mode==='move'\" [projects]=\"projects$| async\" [baseProjectId]=\"baseProjectId\"  (moveProject)=\"moveProject($event)\" (dismissDialog)=\"closeDialog()\">\n  </sm-project-move-to-form>\n\n</sm-dialog-template>\n","import * as createNewProjectActions from './project-dialog.actions';\nimport {moveProject} from './project-dialog.actions';\nimport * as createProjectSelectors from './project-dialog.reducer';\nimport {CREATION_STATUS} from './project-dialog.reducer';\n\nimport {Component, Inject, OnDestroy, OnInit} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {Store} from '@ngrx/store';\nimport {Observable, Subscription} from 'rxjs';\nimport {ProjectsCreateRequest} from '../../../business-logic/model/projects/projectsCreateRequest';\n\n@Component({\n  selector: 'sm-project-create-dialog',\n  templateUrl: './project-dialog.component.html',\n  styleUrls: ['./project-dialog.component.scss']\n})\nexport class ProjectDialogComponent implements OnInit, OnDestroy {\n  public projects$: Observable<any>;\n  private creationStatusSubscription: Subscription;\n  public baseProjectId: string;\n  public mode: string;\n  public header: string;\n  public modeParameters: { [mode: string]: { header: string; icon: string } } = {\n    create: {\n      header: 'NEW PROJECT',\n      icon: 'al-color blue-300 al-ico-projects'\n    },\n    move: {\n      header: 'MOVE TO',\n      icon: 'al-color blue-300 al-ico-move-to'\n    },\n\n  };\n\n  constructor(private store: Store<any>, private matDialogRef: MatDialogRef<ProjectDialogComponent>, @Inject(MAT_DIALOG_DATA) data: { projectId: string, mode: string }) {\n    this.baseProjectId = data.projectId;\n    this.mode = data.mode;\n    this.projects$ = this.store.select(createProjectSelectors.selectProjects);\n  }\n\n  ngOnInit(): void {\n    this.store.dispatch(new createNewProjectActions.GetProjects());\n    this.creationStatusSubscription = this.store.select(createProjectSelectors.selectCreationStatus).subscribe(status => {\n      if (status === CREATION_STATUS.SUCCESS) {\n        return this.matDialogRef.close(true);\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.store.dispatch(new createNewProjectActions.ResetState());\n    this.creationStatusSubscription.unsubscribe();\n  }\n\n  public createProject(projectForm) {\n    const project = this.convertFormToProject(projectForm);\n    this.store.dispatch(new createNewProjectActions.CreateNewProject(project));\n  }\n\n  moveProject(event) {\n    if (event.location === 'Projects root') {\n      event.location = '';\n    }\n    this.store.dispatch(moveProject({project: this.baseProjectId, new_location: event.location, name: event.name}));\n  }\n\n  private convertFormToProject(projectForm: any): ProjectsCreateRequest {\n    return {\n      name: `${projectForm.parent === 'Projects root' ? '' : projectForm.parent + '/'}${projectForm.name}`,\n      description: projectForm.description,\n      system_tags: projectForm.system_tags,\n      default_output_destination: projectForm.default_output_destination\n    };\n  }\n\n\n  closeDialog() {\n    this.matDialogRef.close();\n  }\n}\n","import * as createNewProjectActions from './project-dialog.actions';\nimport {CREATE_PROJECT_ACTIONS} from './project-dialog.actions';\nimport {MESSAGES_SEVERITY} from '../../../app.constants';\nimport {activeLoader, addMessage, deactivateLoader} from '../../core/actions/layout.actions';\nimport {Actions, createEffect, Effect, ofType} from '@ngrx/effects';\nimport {ApiProjectsService} from '../../../business-logic/api-services/projects.service';\nimport {requestFailed} from '../../core/actions/http.actions';\nimport {Injectable} from '@angular/core';\nimport {CREATION_STATUS} from './project-dialog.reducer';\nimport {catchError, filter, map, mergeMap, switchMap, withLatestFrom} from 'rxjs/operators';\nimport {Router} from '@angular/router';\nimport {getAllSystemProjects} from '../../core/actions/projects.actions';\nimport {Store} from '@ngrx/store';\nimport {selectActiveWorkspace} from '../../core/reducers/users-reducer';\nimport {ShortProjectNamePipe} from '../pipes/short-project-name.pipe';\nimport {ProjectLocationPipe} from '../pipes/project-location.pipe';\n\n@Injectable()\nexport class ProjectDialogEffects {\n  constructor(\n    private actions: Actions,\n    private projectsApiService: ApiProjectsService,\n    private router: Router,\n    private store: Store<any>,\n    private shortProjectName: ShortProjectNamePipe,\n    private projectLocation: ProjectLocationPipe\n) {\n  }\n\n  @Effect()\n  activeLoader = this.actions.pipe(\n    ofType(CREATE_PROJECT_ACTIONS.CREATE_NEW_PROJECT, CREATE_PROJECT_ACTIONS.GET_PROJECTS),\n    map(action => activeLoader(action.type))\n  );\n\n  @Effect({dispatch: false})\n  navigateToNewProject = this.actions.pipe(\n    ofType<createNewProjectActions.NavigateToNewProject>(CREATE_PROJECT_ACTIONS.NAVIGATE_TO_NEW_PROJECT),\n    filter(action => !!action.payload),\n    map((action) => this.router.navigateByUrl(`projects/${action.payload}`))\n  );\n\n  @Effect()\n  createProject = this.actions.pipe(\n    ofType<createNewProjectActions.CreateNewProject>(CREATE_PROJECT_ACTIONS.CREATE_NEW_PROJECT),\n    withLatestFrom(this.store.select(selectActiveWorkspace)),\n    switchMap(([action]) => this.projectsApiService.projectsCreate(action.payload)\n      .pipe(\n        mergeMap(() => [\n            deactivateLoader(action.type),\n            new createNewProjectActions.SetNewProjectCreationStatus(CREATION_STATUS.SUCCESS),\n            getAllSystemProjects(),\n            addMessage(MESSAGES_SEVERITY.SUCCESS, `${this.shortProjectName.transform(action.payload.name)} has been created successfully in ${this.projectLocation.transform(action.payload.name)}`),\n          ]\n        ),\n        catchError(error => [deactivateLoader(action.type), requestFailed(error), addMessage(MESSAGES_SEVERITY.ERROR, 'Project Created Failed'), new createNewProjectActions.SetNewProjectCreationStatus(CREATION_STATUS.FAILED)])\n      )\n    )\n  );\n\n  moveProject = createEffect(() => this.actions.pipe(\n    ofType(createNewProjectActions.moveProject),\n    withLatestFrom(this.store.select(selectActiveWorkspace)),\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    switchMap(([action]) => this.projectsApiService.projectsMove({project: action.project, new_location: action.new_location})\n      .pipe(\n        mergeMap(() => [\n            deactivateLoader(action.type),\n            new createNewProjectActions.SetNewProjectCreationStatus(CREATION_STATUS.SUCCESS),\n            getAllSystemProjects(),\n            addMessage(MESSAGES_SEVERITY.SUCCESS, `${this.shortProjectName.transform(action.name)} has been moved from ${this.projectLocation.transform(action.name)} to ${action.new_location}`),\n          ]\n        ),\n        catchError(error => [deactivateLoader(action.type), requestFailed(error), addMessage(MESSAGES_SEVERITY.ERROR, 'Project Move Failed'), new createNewProjectActions.SetNewProjectCreationStatus(CREATION_STATUS.FAILED)])\n      )\n    )\n  ));\n\n  @Effect()\n  getAllProjects = this.actions.pipe(\n    ofType<createNewProjectActions.GetProjects>(CREATE_PROJECT_ACTIONS.GET_PROJECTS),\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    switchMap(action => this.projectsApiService.projectsGetAllEx({only_fields: ['name']})\n      .pipe(\n        mergeMap(res => [deactivateLoader(action.type), new createNewProjectActions.SetProjects(res.projects)]),\n        catchError(error => [requestFailed(error)])\n      )\n    )\n  );\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {StoreModule} from '@ngrx/store';\nimport {EffectsModule} from '@ngrx/effects';\nimport {SMMaterialModule} from '../material/material.module';\nimport {projectDialogReducer} from './project-dialog.reducer';\nimport {ProjectDialogEffects} from './project-dialog.effects';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {UiComponentsModule} from '../ui-components/ui-components.module';\nimport {ProjectDialogComponent} from './project-dialog.component';\nimport {CreateNewProjectFormComponent} from './create-new-project-form/create-new-project-form.component';\nimport {SharedPipesModule} from '../pipes/shared-pipes.module';\nimport {ProjectMoveToFormComponent} from \"./project-move-to-form/project-move-to-form.component\";\n\n@NgModule({\n  imports: [\n    UiComponentsModule,\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    SMMaterialModule,\n    StoreModule.forFeature('projectCreateDialog', projectDialogReducer),\n    EffectsModule.forFeature([ProjectDialogEffects]),\n    SharedPipesModule\n  ],\n  declarations: [ProjectDialogComponent, CreateNewProjectFormComponent, ProjectMoveToFormComponent]\n})\nexport class ProjectDialogModule { }\n","import {Project} from '../../../business-logic/model/projects/project';\nimport {createFeatureSelector, createSelector} from '@ngrx/store';\nimport {CREATE_PROJECT_ACTIONS} from './project-dialog.actions';\nimport {sortBy} from 'lodash/fp';\n\nexport type CreationStatusEnum = 'success' | 'failed' | 'inProgress';\nexport const CREATION_STATUS = {\n  SUCCESS    : 'success' as CreationStatusEnum,\n  FAILED     : 'failed' as CreationStatusEnum,\n  IN_PROGRESS: 'inProgress' as CreationStatusEnum,\n};\n\nexport interface ICreateProjectDialog {\n  projects: Array<Project>;\n  creationStatus: CreationStatusEnum;\n}\n\nconst createProjectInitState: ICreateProjectDialog = {\n  projects      : [],\n  creationStatus: null\n};\n\nexport const selectCreateProjectDialog = createFeatureSelector<ICreateProjectDialog>('projectCreateDialog');\nexport const selectProjects            = createSelector(selectCreateProjectDialog, (state): Array<Project> => state.projects);\nexport const selectCreationStatus      = createSelector(selectCreateProjectDialog, (state): CreationStatusEnum => state.creationStatus);\n\nexport function projectDialogReducer<ActionReducer>(state: ICreateProjectDialog = createProjectInitState, action): ICreateProjectDialog {\n  switch (action.type) {\n    case CREATE_PROJECT_ACTIONS.SET_CREATION_STATUS:\n      return {...state, creationStatus: action.payload.creationStatus};\n    case CREATE_PROJECT_ACTIONS.SET_PROJECTS:\n      return {...state, projects: sortBy('name', action.payload.projects)};\n    case CREATE_PROJECT_ACTIONS.RESET_STATE:\n      return {...createProjectInitState};\n    default:\n      return state;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {IHue} from './color-hash.model';\nimport {BehaviorSubject} from 'rxjs';\nimport {Store} from '@ngrx/store';\nimport {UsersState} from '../../../core/reducers/users-reducer';\nimport {filter, take} from 'rxjs/operators';\nimport {selectColorPreferences} from '../../ui-components/directives/choose-color/choose-color.reducer';\nimport {addUpdateColorPreferences, ColorPreference} from '../../ui-components/directives/choose-color/choose-color.actions';\nimport {getHslContrast, hexToRgb, hslToRgb, RGB2HEX, rgbToHsl} from './color-hash.utils';\nimport stc from 'string-to-color';\nimport hexRgb from 'hex-rgb';\n\nexport interface ColorCache {[label: string]: number[]};\nexport const DOT_PLACEHOLDER = '--DOT--';\n\n\n@Injectable()\nexport class ColorHashService {\n  hueRanges: Array<IHue>;\n\n  hash;\n  lightness;\n  private _colorCache: BehaviorSubject<ColorCache> = new BehaviorSubject({});\n  getColorCache() {\n    return this._colorCache.asObservable();\n  }\n\n  setColorCache(obj: ColorCache) {\n    this._colorCache.next(obj);\n  }\n\n  constructor(private store: Store<UsersState>) {\n    this.store.select(selectColorPreferences)\n      .pipe(\n        filter(preferenceColors => !!preferenceColors),\n        take(1)\n      )\n      .subscribe(preferenceColors => this.batchUpdateColorCache(preferenceColors));\n  }\n\n  public initColor(label: string) {\n    const colorCache = this._colorCache.getValue();\n    if (colorCache && colorCache[label]) {\n      return colorCache[label];\n    }\n    const {red, green, blue} = hexRgb(stc(label));\n    const color = [red, green, blue];\n    this.setColorForString(label, color, false);\n    return color;\n  }\n\n  public getColorsObservable() {\n    return this.getColorCache();\n  }\n\n  private batchUpdateColorCache(colors: ColorPreference) {\n    const newColorCache = {...this._colorCache.getValue(), ...colors};\n    const filteredCache = {};\n    Object.keys(newColorCache).forEach(color => {\n      const regex             = new RegExp(DOT_PLACEHOLDER, 'g');\n      const cleanKey          = color.replace(regex, '.');\n      filteredCache[cleanKey] = newColorCache[color];\n    });\n    this.setColorCache(filteredCache);\n  }\n\n  private updateColorCache(str: string, color: number[]) {\n    const newColorCache = this._colorCache.getValue();\n    newColorCache[str]  = color;\n    this.setColorCache(newColorCache);\n  }\n\n  setColorForString(str: string, color: number[], savePreference: boolean = true) {\n    this.updateColorCache(str, color);\n    if (savePreference) {\n      const cleanString     = str.replace(/\\./, DOT_PLACEHOLDER);\n      this.store.dispatch(addUpdateColorPreferences({[cleanString]: color}));\n    }\n  }\n\n  public hex(hash: string) {\n    const rgb = this.initColor(hash);\n    return RGB2HEX(rgb);\n  }\n\n  public getRgbString(str, opacity = -1) {\n    const color = this.initColor(str);\n    if (opacity !== -1) {\n      return `rgba(${color[0]},${color[1]},${color[2]},${opacity})`;\n    } else {\n      return `rgb(${color[0]},${color[1]},${color[2]})`;\n    }\n  }\n\n  getMonochromaticHarmony(color, isDarkBg = false) {\n    const backgroundSaturation = 0.10;\n    const minLightness         = 0.20;\n    const maxLightness         = 0.95;\n    const stepSize             = 0.05;\n    const contrastLimit        = 3.9;\n\n    const rgb         = Array.isArray(color) ? color : hexToRgb(color);\n    const originalHsl = rgbToHsl(rgb);\n    const hsl         = [...originalHsl];\n    hsl[1]            = backgroundSaturation;\n    hsl[2]            = isDarkBg ? minLightness : maxLightness;\n    let contrast      = getHslContrast(originalHsl, hsl);\n    while (contrast < contrastLimit) {\n      contrast = getHslContrast(originalHsl, hsl);\n      hsl[2]   = isDarkBg ? hsl[2] + stepSize : hsl[2] - stepSize;\n      if ((!isDarkBg && hsl[2] < minLightness) || (isDarkBg && hsl[2] > maxLightness)) {\n        break;\n      }\n    }\n    return hslToRgb(hsl);\n  }\n}\n\n","export function rgbToHsl(rgbArray): [number, number, number] {\n  let [r, g, b] = [...rgbArray];\n  r /= 255, g /= 255, b /= 255;\n\n  const max   = Math.max(r, g, b), min = Math.min(r, g, b);\n  let h, s, l = (max + min) / 2;\n\n  if (max == min) {\n    h = s = 0; // achromatic\n  } else {\n    const d = max - min;\n    s       = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n\n    h /= 6;\n  }\n\n  return [h, s, l];\n}\n\nexport function hslToRgb(hslArray) {\n  let [h, s, l, a] = [...hslArray];\n  let r, g, b;\n\n  if (s == 0) {\n    r = g = b = l; // achromatic\n  } else {\n\n\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    const p = 2 * l - q;\n\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n\n  return [Math.floor(r * 255), Math.floor(g * 255), Math.floor(b * 255), a ? a : null];\n}\n\nexport function hue2rgb(p, q, t) {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\n\nexport function getLuminanace(r, g, b) {\n  const a = [r, g, b].map(function (v) {\n    v /= 255;\n    return v <= 0.03928\n      ? v / 12.92\n      : Math.pow((v + 0.055) / 1.055, 2.4);\n  });\n  return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722;\n}\n\nexport function getHslContrast(hsl1, hsl2): number {\n  return getContrast(hslToRgb(hsl1), hslToRgb(hsl2));\n}\n\nexport function getContrast(rgb1, rgb2) {\n  const l1 = getLuminanace(rgb1[0], rgb1[1], rgb1[2]) + 0.05;\n  const l2 = getLuminanace(rgb2[0], rgb2[1], rgb2[2]) + 0.05;\n  return (Math.max(l1, l2) / Math.min(l1, l2));\n}\n\n\nexport const RGB2HEX = (rgbArray: number[]) => {\n  if (!rgbArray) {\n    return '#888888';\n  }\n  return '#' + rgbArray.map(x => {\n    const base16 = x.toString(16);\n    return (base16.length == 1) ? '0' + base16 : base16;  //Add zero if we get only one character\n  }).join('');\n};\n\nexport const rgba2String = (rgba: number[]) => `rgba(${rgba.join(',')})`;\n\nexport const normalizeColorToString = (color) => {\n  if (typeof color === 'string') {\n    if (color.includes('#')) {\n      return color; // It's already hex\n    }\n    if (color.includes('rgb')) {\n      // rgb() or rgba()\n      const openParenthisis    = color.indexOf('(');\n      const closingParenthisis = color.indexOf(')');\n      color             = color.slice(openParenthisis + 1, closingParenthisis).split(',');\n    }\n  }\n  if (Array.isArray(color)) {\n    if (color.length === 3) {\n      return RGB2HEX(color);\n    } else if (color.length === 4) {\n      return rgba2String(color);\n    }\n  }\n};\n\n/**\n * Convert HSL to RGB\n *\n * @see {@link http://zh.wikipedia.org/wiki/HSL和HSV色彩空间} for further information.\n * @param {Number} H Hue ∈ [0, 360)\n * @param {Number} S Saturation ∈ [0, 1]\n * @param {Number} L Lightness ∈ [0, 1]\n * @returns {Array} R, G, B ∈ [0, 255]\n */\nexport function HSL2RGB(H, S, L) {\n  H /= 360;\n\n  const q = L < 0.5 ? L * (1 + S) : L + S - L * S;\n  const p = 2 * L - q;\n\n  return [H + 1 / 3, H, H - 1 / 3].map(function (color) {\n    if (color < 0) {\n      color++;\n    }\n    if (color > 1) {\n      color--;\n    }\n    if (color < 1 / 6) {\n      color = p + (q - p) * 6 * color;\n    } else if (color < 0.5) {\n      color = q;\n    } else if (color < 2 / 3) {\n      color = p + (q - p) * 6 * (2 / 3 - color);\n    } else {\n      color = p;\n    }\n    return Math.round(color * 255);\n  });\n}\n\nexport const hexToRgb = hex => {\n  hex          = hex.replace('#', '');\n  const bigint = parseInt(hex, 16);\n  const r      = (bigint >> 16) & 255;\n  const g      = (bigint >> 8) & 255;\n  const b      = bigint & 255;\n\n  return [r, g, b];\n};\n\nexport const rgbaToValues = (color: string) =>\n  color.slice(5, -1).split(',').map(c => parseFloat(c));\n\nexport const invertRgb = (rgb: [number, number, number]) => rgb.map(c => 255 - c);\n","import {Injectable} from '@angular/core';\nimport {environment} from '../../../../environments/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {BehaviorSubject, of, timer, throwError} from 'rxjs';\nimport {catchError, map, retryWhen, mergeMap} from 'rxjs/operators';\nimport {Environment} from '../../../../environments/base';\nimport { retryOperation } from '../utils/promie-with-retry';\n\nexport const fetchConfigOutSideAngular = async (): Promise<Environment> => {\n  return retryOperation(() => fetch('/configuration.json').then(res => res.json()), 500, 2) as Promise<Environment>;\n};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConfigurationService {\n\n  public static globalEnvironment = environment as Environment;\n  public globalEnvironmentObservable = new BehaviorSubject(environment as Environment);\n\n  constructor(private httpClient: HttpClient,) {\n  }\n\n  initConfigurationService() {\n    if ((window as any).configuration) {\n      this.setEnv((window as any).configuration);\n      return of(null);\n    }\n    return this.httpClient.get('/configuration.json')\n      .pipe(\n        retryWhen(errors => errors.pipe(\n            mergeMap((err, i) => i > 2 ? throwError('Error from retry!') : timer(500))\n        )),\n        catchError(() => of({})),\n        map(env => {\n          ConfigurationService.globalEnvironment = {...ConfigurationService.globalEnvironment, ...env};\n          this.globalEnvironmentObservable.next(ConfigurationService.globalEnvironment);\n        })\n      );\n  }\n\n  setEnv(env) {\n    ConfigurationService.globalEnvironment = {...ConfigurationService.globalEnvironment, ...env};\n    this.globalEnvironmentObservable.next(ConfigurationService.globalEnvironment);\n  }\n  // If someone must have it the rxjs way\n  getEnvironment() {\n    return this.globalEnvironmentObservable.asObservable();\n  }\n\n  getStaticEnvironment() {\n    return ConfigurationService.globalEnvironment;\n  }\n}\n","import { Injectable } from '@angular/core';\n\ninterface Error {\n  meta: {\n    result_code: number;\n    result_subcode: number;\n    result_msg: string;\n    error_data?: any;\n  };\n  data: any;\n}\n@Injectable({\n  providedIn: 'root'\n})\nexport class ErrorService {\n\n  template(strings, ...keys) {\n    return (values => {\n      const result = [strings[0]];\n      keys.forEach((key, i) => {\n        const value = values[key];\n        result.push(value, strings[i + 1]);\n      });\n      return result.join('');\n    });\n  }\n\n  private codes = {\n    400: {\n      51: this.template`This operation could not be completed at this time. Please try again later. \\n${'resultMsg'}`,\n      52: this.template`Could not complete identity verification. The provider may be down - Please try again later`,\n      53: this.template`Could not complete identity verification. The provider may be down - Please try again later`,\n      54: this.template`Could not resolve link destination. Contact the person who provided you with the link to join their team.`,\n      55: this.template`Could not complete identity verification. Your sign-up session has probably timed out, please try again.\n** If this issue persists, the identity provider may be down - please try again later.`,\n      56: this.template`The invitation to ${'user_name'}'s team has expired. Contact ${'user_name'} to join their team, or sign up for a free standalone account.`,\n      57: this.template`Account already exists for this ${'provider'}  identity. Use 'Log In' Instead.`,\n      58: this.template`No account exists. Use the provider you signed up with or sign up to create a new account`,\n      62: this.template`Please check your email to continue the signup process`,\n      67: this.template`${'email'} is not registered - please contact your admin`,\n      1205: this.template`This workspace is at its limit for concurrently running instances.`\n    }\n  };\n\n  constructor() { }\n\n  getErrorMsg(error: Error, extraParams: Record<string, string> = {}) {\n    const template = this.codes?.[error?.meta?.result_code]?.[error?.meta?.result_subcode];\n    if (template) {\n      let params = {resultMsg: error?.meta?.result_msg, ...extraParams};\n      if (error?.meta?.error_data) {\n        params = {...error.meta.error_data, ...params};\n      }\n      try {\n        return template(params);\n      } catch {\n        console.warn('failed to render error message', error);\n      }\n    }\n    return error?.meta?.result_msg || '';\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {catchError, filter, map, mergeMap, retryWhen, switchMap, tap} from 'rxjs/operators';\nimport {HTTP} from '~/app.constants';\nimport {UsersGetAllResponse} from '~/business-logic/model/users/usersGetAllResponse';\nimport {AuthCreateUserResponse} from '~/business-logic/model/auth/authCreateUserResponse';\nimport {v1 as uuidV1} from 'uuid';\nimport {EMPTY, Observable, of, throwError, timer} from 'rxjs';\nimport {MatDialog} from '@angular/material/dialog';\nimport {ConfirmDialogComponent} from '../ui-components/overlay/confirm-dialog/confirm-dialog.component';\nimport {LoginModeResponse} from '~/business-logic/model/LoginModeResponse';\nimport {clone} from 'lodash/fp';\nimport {ApiLoginService} from '~/business-logic/api-services/login.service';\nimport {ConfigurationService} from './configuration.service';\nimport {Environment} from '../../../../environments/base';\nimport {USER_PREFERENCES_KEY, UserPreferences} from '@common/user-preferences';\nimport {setUserLoginState} from '@common/login/login.actions';\nimport {fetchCurrentUser} from '@common/core/actions/users.actions';\nimport {Store} from '@ngrx/store';\nimport {ConfirmDialogConfig} from '@common/shared/ui-components/overlay/confirm-dialog/confirm-dialog.model';\nimport {Router} from '@angular/router';\n\nexport type LoginMode = 'simple' | 'password' | 'ssoOnly';\n\nexport const LoginModeEnum = {\n  simple: 'simple' as LoginMode,\n  password: 'password' as LoginMode,\n  ssoOnly: 'ssoOnly' as LoginMode\n};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BaseLoginService {\n  signupMode: boolean;\n  protected basePath = HTTP.API_BASE_URL;\n  private userKey: string;\n  private userSecret: string;\n  private companyID: string;\n  private _loginMode: LoginMode;\n  private _guestUser: { enabled: boolean; username: string; password: string };\n  private environment: Environment;\n  get guestUser() {\n    return clone(this._guestUser);\n  }\n  private _sso: {name: string; url: string; displayName?: string}[];\n  get sso() {\n    return this._sso;\n  }\n  protected _authenticated: boolean;\n  get authenticated(): boolean {\n    return this._authenticated;\n  }\n\n  constructor(\n    protected httpClient: HttpClient,\n    protected loginApi: ApiLoginService,\n    protected dialog: MatDialog,\n    protected configService: ConfigurationService,\n    protected store: Store,\n    protected router: Router,\n    protected userPreferences: UserPreferences\n  ) {\n    configService.globalEnvironmentObservable.subscribe(env => {\n      const firstLogin = !window.localStorage.getItem(USER_PREFERENCES_KEY.firstLogin);\n      this.environment = env;\n      this.signupMode = !!this.environment.communityServer && firstLogin;\n    });\n  }\n\n  initCredentials() {\n    const fromEnv = () => {\n      this.userKey = this.environment.userKey;\n      this.userSecret = this.environment.userSecret;\n      this.companyID = this.environment.companyID;\n    };\n\n    return this.getLoginMode().pipe(\n      retryWhen(errors => errors.pipe(\n        mergeMap((err, i) => i > 2 ? throwError('Error from retry!') : timer(500))\n      )),\n      catchError(() => {\n        this.openServerError();\n        return of({});\n      }),\n      switchMap(mode => mode === LoginModeEnum.simple ? this.httpClient.get('credentials.json') : of(fromEnv())),\n      tap((credentials: any) => {\n        this.userKey = credentials.userKey;\n        this.userSecret = credentials.userSecret;\n        this.companyID = credentials.companyID;\n      }),\n      catchError(() => of(fromEnv()))\n    );\n  }\n\n  getHeaders(): HttpHeaders {\n    let headers = new HttpHeaders();\n    const auth = window.btoa(this.userKey + ':' + this.userSecret);\n    headers = headers.append('Authorization', 'Basic ' + auth);\n    //    headers = headers.append('Content-Type', 'application/x-www-form-urlencoded');\n    return headers;\n  }\n\n  getLoginMode(): Observable<LoginMode> {\n    if (this._loginMode !== undefined) {\n      return of(this._loginMode);\n    } else {\n      return this.getLoginSupportedModes(this.signupMode && 'signup')\n        .pipe(\n          // for testing: map(res => ({...res, server_errors: {missed_es_upgrade: true}}) ),\n          tap(res => (res?.server_errors && this.shouldOpenServerError(res.server_errors)) && this.openEs7MessageDialog(res.server_errors)),\n          filter(res => !this.shouldOpenServerError(res?.server_errors)),\n          tap((res: LoginModeResponse) => {\n            this._authenticated = res.authenticated;\n            this._loginMode = res.basic.enabled ? LoginModeEnum.password : res.sso_providers?.length > 0 ? LoginModeEnum.ssoOnly : LoginModeEnum.simple;\n            this._guestUser = res.basic.guest;\n            this._sso = res.sso_providers;\n          }),\n          map(() => this._loginMode)\n        );\n    }\n  }\n\n  public getLoginSupportedModes(additionalState = ''): Observable<LoginModeResponse> {\n    const url = new URL(window.location.href);\n    let state = url.searchParams.get('redirect') ??\n      url.searchParams.get('state') ??\n      (url.pathname === '/login' ? '/' : url.pathname + url.search);\n    if (additionalState && state) {\n      const stateUrl = new URL(`http://aaa${state}`);\n      stateUrl.searchParams.append(additionalState, '');\n      state = stateUrl.pathname + stateUrl.search;\n    }\n    return this.loginApi.loginSupportedModes({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      callback_url_prefix: url.origin + '/callback_',\n      state: (state === '/' || state.startsWith('callback_') || state.startsWith('/callback_')) ? undefined : state\n    }).pipe(map((res: LoginModeResponse) => {\n      const auth0 = res.sso_providers.find(provider => provider.name == 'auth0');\n      if (auth0 && this.signupMode) {\n        const auth0Url = new URL(auth0.url);\n        auth0Url.searchParams.set('screen_hint', 'signup');\n        auth0.url = auth0Url.toString();\n      }\n      return {\n        /* eslint-disable @typescript-eslint/naming-convention */\n        ...res,\n        ...(res.sso_providers ?\n          {sso_providers: res.sso_providers.map(provider => ({...provider, displayName: provider.display_name}))} :\n          res.sso && {sso_providers: Object.keys(res.sso).map((key: string) => ({name: key, url: res.sso[key]}))})\n        /* eslint-enable @typescript-eslint/naming-convention */\n      };\n    }));\n  }\n\n  getUsers() {\n    return this.httpClient.post<UsersGetAllResponse>(`${this.basePath}/users.get_all`, null, {headers: this.getHeaders()})\n      .pipe(\n        map((x: any) => x.data.users)\n      );\n  }\n\n  passwordLogin(user: string, password: string) {\n    let headers = new HttpHeaders();\n    const auth = window.btoa(user + ':' + password);\n    headers = headers.append('Authorization', 'Basic ' + auth);\n    headers = headers.append('Access-Control-Allow-Credentials', '*');\n    return this.httpClient.post<AuthCreateUserResponse>(`${this.basePath}/auth.login`, null, {headers, withCredentials: true});\n  }\n\n  login(userId: string) {\n    let headers = this.getHeaders();\n    headers = headers.append(`${this.environment.headerPrefix}-Impersonate-As`, userId);\n    return this.httpClient.post(`${this.basePath}/auth.login`, null, {headers, withCredentials: true});\n  }\n\n  createUser(name: string) {\n    let headers = this.getHeaders();\n    headers = headers.append('Content-Type', 'application/json');\n    const data = {\n      /* eslint-disable @typescript-eslint/naming-convention */\n      email: uuidV1() + '@test.ai',\n      name,\n      company: this.companyID,\n      given_name: name.split(' ')[0],\n      family_name: name.split(' ')[1] ? name.split(' ')[1] : name.split(' ')[0]\n      /* eslint-enable @typescript-eslint/naming-convention */\n    };\n    return this.httpClient.post<AuthCreateUserResponse>(`${this.basePath}/auth.create_user`, data, {headers})\n      .pipe(map((x: any) => x.data.id));\n  }\n\n  autoLogin(name: string, callback: (res) => void) {\n    return this.createUser(name)\n      .subscribe(id => this.login(id)\n        .subscribe((res: any) => {\n          callback(res);\n        }));\n  }\n\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  private shouldOpenServerError(serverErrors: {missed_es_upgrade: boolean; es_connection_error: boolean}) {\n    return serverErrors?.missed_es_upgrade || serverErrors?.es_connection_error;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  private openEs7MessageDialog(serverErrors: {missed_es_upgrade: boolean; es_connection_error: boolean}) {\n\n    // Mocking application header\n    const imgElement = new Image();\n    imgElement.setAttribute('src', this.environment.branding.logo);\n    imgElement.setAttribute('style', 'width: 100%; height: 64px; background-color: #141822; padding: 15px;');\n    document.body.appendChild(imgElement);\n\n    const body = `The ClearML Server database seems to be unavailable.<BR>Possible reasons for this state are:<BR><BR>\n<ul>\n  ${serverErrors?.missed_es_upgrade ? '<li>Upgrading the Trains Server from a version earlier than v0.16 without performing the required data migration (see <a target=\"_blank\" href=\"https://allegro.ai/clearml/docs/deploying_trains/trains_server_es7_migration/\">instructions</a>).</li>' : ''}\n  <li>Misconfiguration of the Elasticsearch container storage: Check the directory mappings in the docker-compose YAML configuration file\n     are correct and the target directories have the right permissions (see <a target=\"_blank\" href=\"https://allegro.ai/clearml/docs/deploying_trains/trains_deploy_overview/#option-3-a-self-hosted-trains-server\">documentation</a>).</li>\n  <li>Other errors in the database startup sequence: Check the elasticsearch logs in the elasticsearch container for problem description.</li>\n</ul>\n<BR>\nAfter the issue is resolved and Trains Server is up and running, reload this page.`;\n\n    const confirmDialogRef = this.dialog.open(ConfirmDialogComponent, {\n      disableClose: true,\n      data: {\n        title: 'Database Error',\n        body,\n\n        yes: 'Reload',\n        iconClass: 'i-alert'\n      }\n    });\n    confirmDialogRef.afterClosed().subscribe(() => {\n      window.location.reload();\n    });\n  }\n\n  private openServerError() {\n    // Mocking application header\n    const imgElement = new Image();\n    imgElement.setAttribute('src', this.environment.branding.logo);\n    imgElement.setAttribute('style', 'width: 100%; height: 64px; background-color: #141822; padding: 15px;');\n    document.body.appendChild(imgElement);\n\n    const body = this.environment.serverDownMessage;\n\n    const confirmDialogRef = this.dialog.open(ConfirmDialogComponent, {\n      disableClose: true,\n      data: {\n        width: 440,\n        title: 'Server Unavailable',\n        body,\n        yes: 'Reload',\n        iconClass: 'i-alert',\n        centerText: true\n      } as ConfirmDialogConfig\n    });\n    confirmDialogRef.afterClosed().subscribe(() => {\n      window.location.reload();\n    });\n  }\n\n  clearLoginCache() {\n    this._loginMode = undefined;\n  }\n\n  afterLogin(resolve, store) {\n    this.userPreferences.loadPreferences()\n      .subscribe(() => {\n        store.dispatch(fetchCurrentUser());\n        resolve(null);\n      });\n  }\n\n  loginFlow(resolve, skipInvite = false) {\n    if (location.search.includes('invite') && !skipInvite) {\n      const currentURL = new URL(location.href);\n      const inviteId = currentURL.searchParams.get('invite');\n      this.store.dispatch(setUserLoginState({user: null, inviteId, crmForm: null}));\n    }\n    const redirectToLogin = (status) => {\n      if (status === 401) {\n        const redirectUrl: string = window.location.pathname + window.location.search;\n        if (\n          !['/login/signup', '/login', '/dashboard', '/'].includes(redirectUrl) &&\n          (this.guestUser?.enabled || ConfigurationService.globalEnvironment.autoLogin)\n        ) {\n          if (this.guestUser?.enabled) {\n            this.passwordLogin(this.guestUser.username, this.guestUser.password)\n              .subscribe(() => this.afterLogin.bind(this)(resolve, this.store));\n          } else if (ConfigurationService.globalEnvironment.autoLogin) {\n            const name = `${(new Date()).getTime().toString()}`;\n            this.autoLogin(name, this.afterLogin.bind(this, resolve, this.store));\n          } else {\n            resolve(null);\n          }\n        } else if (!['/login/signup', '/login'].includes(redirectUrl)) {\n          const targetUrl = (redirectUrl && redirectUrl != '/') ? `/login?redirect=${encodeURIComponent(redirectUrl)}` : '/login';\n          window.history.replaceState(window.history.state, '', targetUrl);\n        }\n      }\n      resolve(null);\n      return EMPTY;\n    };\n\n    if (this.authenticated === false) {\n      redirectToLogin(401);\n    } else {\n      this.store.dispatch(fetchCurrentUser());\n      this.userPreferences.loadPreferences().pipe(\n        catchError((err) => redirectToLogin(err.status))\n      ).subscribe(\n        () => {\n          resolve(null);\n        },\n        () => {\n          // Do nothing\n        });\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {setTagColors, TagColor} from '../../core/actions/projects.actions';\nimport {Store} from '@ngrx/store';\nimport {selectTagColors, selectTagsColors} from '../../core/reducers/projects.reducer';\nimport {Subscription} from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TagColorService {\n  public static predefined = [\n    {foreground: 'white', background: '#803d3d'},\n    {foreground: 'white', background: '#833e65'},\n    {foreground: 'white', background: '#492d4e'},\n    {foreground: 'white', background: '#5b3b80'},\n    {foreground: 'white', background: '#38406e'},\n    {foreground: 'white', background: '#013b6a'},\n    {foreground: 'white', background: '#023f5c'},\n    {foreground: 'white', background: '#385879'},\n    {foreground: 'white', background: '#3a7777'},\n    {foreground: 'white', background: '#326c34'},\n    {foreground: 'white', background: '#2e521b'},\n    {foreground: 'white', background: '#44573f'},\n    {foreground: 'white', background: '#605c2b'},\n    {foreground: 'white', background: '#846300'},\n    {foreground: 'white', background: '#895200'},\n    {foreground: 'white', background: '#7b331e'},\n    {foreground: 'white', background: '#6e5056'},\n    {foreground: 'white', background: '#596c71'},\n    {foreground: 'white', background: '#2a4958'},\n    {foreground: 'white', background: '#434141'},\n  ] as TagColor[];\n\n  private tagsColors: { [p: string]: TagColor };\n\n  constructor(private store: Store) {\n    store.select(selectTagsColors).subscribe(tagsColors => this.tagsColors = tagsColors);\n  }\n\n  getColor(tag: string) {\n    return this.store.select(selectTagColors, {tag})\n      .pipe(map(tagColor => tagColor ? tagColor : this.calcColor(tag) ));\n  }\n\n  calcColor(tag: string) {\n    const sum = Array.from(tag)\n      .map(chr => chr.charCodeAt(0))\n      .reduce((accumulator, currentValue) => accumulator + currentValue, 0);\n    return  {...TagColorService.predefined[sum % 20]};\n  }\n\n  setColor(tag: string, colors: Partial<TagColor>) {\n    if (!colors.background || !colors.foreground) {\n      const curr = this.tagsColors[tag] || this.calcColor(tag);\n      this.store.dispatch(setTagColors({tag, colors: {\n        background: colors.background || curr.background,\n        foreground: colors.foreground || curr.foreground\n      }}));\n    } else {\n      this.store.dispatch(setTagColors({tag, colors: colors as TagColor}));\n    }\n  }\n}\n\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {RouterModule} from '@angular/router';\nimport {CopyClipboardComponent} from './ui-components/indicators/copy-clipboard/copy-clipboard.component';\nimport {InlineEditComponent} from './ui-components/inputs/inline-edit/inline-edit.component';\nimport {SpinnerComponent} from './ui-components/overlay/spinner/spinner.component';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {ClipboardModule} from 'ngx-clipboard';\nimport {UiComponentsModule} from './ui-components/ui-components.module';\nimport {ChipsModule} from './ui-components/buttons/chips/chips.module';\nimport {SharedPipesModule} from './pipes/shared-pipes.module';\nimport {ExperimentCardComponent} from './ui-components/panel/experiment-card/experiment-card.component';\nimport {ModelCardComponent} from './ui-components/panel/model-card/model-card.component';\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\nimport {MatButtonToggleModule} from '@angular/material/button-toggle';\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\nimport {ExperimentInfoHeaderStatusProgressBarComponent} from './experiment-info-header-status-progress-bar/experiment-info-header-status-progress-bar.component';\nimport {ExperimentInfoHeaderStatusIconLabelComponent} from './experiment-info-header-status-icon-label/experiment-info-header-status-icon-label.component';\nimport {TableModule} from 'primeng/table';\nimport {SectionHeaderComponent} from './components/section-header/section-header.component';\nimport {LineChartComponent} from './components/charts/line-chart/line-chart.component';\nimport {DonutComponent} from './components/charts/donut/donut.component';\nimport {NgxFilesizeModule} from 'ngx-filesize';\nimport {NgxJsonViewerComponent} from './components/ngx-json-viewer/ngx-json-viewer.component';\nimport {ExperimentRefreshComponent} from './components/experiment-refresh/experiment-refresh.component';\nimport {LeavingBeforeSaveAlertGuard} from './guards/leaving-before-save-alert.guard';\nimport {CustomColumnsListComponent} from './components/custom-columns-list/custom-columns-list.component';\nimport { BaseContextMenuComponent } from './components/base-context-menu/base-context-menu.component';\nimport {EntityFooterComponent} from './entity-page/entity-footer/entity-footer.component';\nimport {CheckPermissionDirective} from '../../shared/directives/check-permission.directive';\nimport {ScrollTextareaComponent} from './components/scroll-textarea/scroll-textarea.component';\nimport { ShowOnlyUserWorkComponent } from './components/show-only-user-work/show-only-user-work.component';\nimport {GeneralLeavingBeforeSaveAlertGuard} from './guards/general-leaving-before-save-alert.guard';\nimport {SortHumanizePipe} from './pipes/sort.pipe';\nimport { ScatterPlotComponent } from './components/charts/scatter-plot/scatter-plot.component';\nimport {\n  ClearFiltersButtonComponent,\n} from './components/clear-filters-button/clear-filters-button.component';\nimport { AppendComponentOnTopElementDirective } from './directive/append-component-on-top-element.directive';\nimport {MultiLineTooltipComponent} from './components/multi-line-tooltip/multi-line-tooltip.component';\n\nconst _declarations = [\n  ExperimentInfoHeaderStatusProgressBarComponent,\n  ExperimentInfoHeaderStatusIconLabelComponent,\n  ModelCardComponent,\n  ExperimentCardComponent,\n  SpinnerComponent,\n  InlineEditComponent,\n  CopyClipboardComponent,\n  SectionHeaderComponent,\n  LineChartComponent,\n  DonutComponent,\n  NgxJsonViewerComponent,\n  ExperimentRefreshComponent,\n  CustomColumnsListComponent,\n  EntityFooterComponent,\n  CheckPermissionDirective,\n  ScrollTextareaComponent,\n  SortHumanizePipe,\n  ShowOnlyUserWorkComponent,\n  AppendComponentOnTopElementDirective,\n  MultiLineTooltipComponent,\n];\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule,\n    FormsModule,\n    ReactiveFormsModule,\n    TableModule,\n    ClipboardModule,\n    UiComponentsModule,\n    SharedPipesModule,\n    MatProgressSpinnerModule,\n    MatButtonToggleModule,\n    MatSnackBarModule,\n    NgxFilesizeModule,\n    ChipsModule\n  ],\n  declarations: [\n    _declarations,\n    BaseContextMenuComponent,\n    ScatterPlotComponent,\n    ClearFiltersButtonComponent,\n  ],\n    exports: [..._declarations, UiComponentsModule, TableModule, ClipboardModule, SharedPipesModule, MatSnackBarModule,\n        NgxFilesizeModule, ScatterPlotComponent, ClearFiltersButtonComponent\n    ],\n  providers   : [LeavingBeforeSaveAlertGuard, GeneralLeavingBeforeSaveAlertGuard]\n})\nexport class SMSharedModule {\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {ChipsComponent} from './chips.component';\nimport {ChooseColorModule} from '../../directives/choose-color/choose-color.module';\n\n\n@NgModule({\n  imports     : [\n    CommonModule,\n    ChooseColorModule\n  ],\n  providers   : [],\n  declarations: [ChipsComponent],\n  exports     : [ChipsComponent],\n})\n\nexport class ChipsModule { }\n","import {Component, Input} from '@angular/core';\n\n@Component({\n  selector   : 'sm-loading-button',\n  templateUrl: './loading-button.component.html',\n  styleUrls  : ['./loading-button.component.scss']\n})\nexport class LoadingButtonComponent {\n  @Input() label    = 'CREATE NEW';\n  @Input() disabled = false;\n  @Input() loading;\n}\n","<button class=\"btn btn-dark-fill ld-ext-right \" [ngClass]=\"{'running': loading}\" [disabled]=\"disabled\">\n\n  <div class=\"button-label\">{{label}}</div>\n\n  <ng-content></ng-content>\n\n  <div class=\"ld ld-ring ld-cycle\"></div>\n</button>\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\n\n@Component({\n  selector   : 'sm-toggle-archive',\n  templateUrl: './toggle-archive.component.html',\n  styleUrls  : ['./toggle-archive.component.scss']\n})\nexport class ToggleArchiveComponent implements OnInit {\n  @Input() showArchived: boolean;\n  @Output() toggleArchived = new EventEmitter();\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n}\n","<button (click)=\"toggleArchived.emit(!showArchived)\" class=\"btn btn-primary d-flex justify-content-between align-items-center\">\n  <i [class]=\"'al-icon sm ' + (showArchived? ' al-ico-exit-archive' : 'al-ico-archive' )\"></i>\n  <span class=\"button-label\">{{showArchived? 'EXIT': 'OPEN'}} ARCHIVE</span>\n</button>\n","<div class=\"code-footer\" [ngClass]=\"{'open-code': isCodeOpen}\" [style.top]=\"isCodeOpen? openCodeTop: closedCodeTop\" >\n  <div class=\"code\" [ngClass]=\"{'open-code': isCodeOpen}\" [style.height]=\"isCodeOpen && codeHeight\">\n      <pre class=\"prettyprint\" *ngIf=\"hack\">\n        <div class=\"lang-python\">{{codeResult}}</div>\n      </pre>\n    </div>\n  <div *ngIf=\"!isCodeOpen\" class=\"closed-code-label pointer\" (click)=\"isCodeOpen = true\">\n    {{closedCodeLabel}}\n  </div>\n  <div *ngIf=\"isCodeOpen\" class=\"closed-code-label pointer\" ngxClipboard [cbContent]=\"codeResult\"\n       (cbOnSuccess)=\"textCopied()\" [ngClass]=\"{'copied': copied}\">\n    <div *ngIf=\"copied\" class=\"icon i-v-neon copied-v\"></div>\n    {{copied? ' COPIED': 'COPY TO CLIPBOARD'}}\n  </div>\n</div>\n","import {Component, Input, ChangeDetectorRef} from '@angular/core';\n\ndeclare const nunjucks;\ndeclare const PR;\n\n@Component({\n  selector   : 'sm-code',\n  templateUrl: './code.component.html',\n  styleUrls  : ['./code.component.scss']\n})\nexport class CodeComponent {\n\n  public CODE_TEMPLATES_PATH = 'examples/code/';\n  public hack: boolean       = true;\n  public isCodeOpen: boolean = false;\n  public copied: boolean     = false;\n  public codeResult: string;\n\n  @Input() closedCodeLabel;\n  @Input() codeSnippet: string;\n  @Input() codeHeight    = '25vh';\n  @Input() openCodeTop   = '0vh';\n  @Input() closedCodeTop = '0vh';\n  @Input() codeTemplateFileName: string;\n\n  @Input() set params(params) {\n    if (params) {\n      this.copied = false;\n      nunjucks.render(this.CODE_TEMPLATES_PATH + this.codeTemplateFileName, params, (err, res) => {\n        this.codeResult = res;\n        this.rerenderCode();\n      });\n      this.rerenderCode();\n    }\n  }\n\n  constructor(private changeDetectorRef: ChangeDetectorRef) {\n    nunjucks.configure('static', {web: {useCache: true, async: true}});\n  }\n  public textCopied(){\n    this.copied = true;\n    setTimeout(() => {\n      this.copied = false;\n      this.changeDetectorRef.detectChanges();\n    }, 2000);\n  }\n\n  private rerenderCode() {\n    if (!this.changeDetectorRef['destroyed']) {\n      this.hack = false;\n      this.changeDetectorRef.detectChanges();\n      this.hack = true;\n      this.changeDetectorRef.detectChanges();\n      PR.prettyPrint();\n    }\n  }\n}\n","<div class=\"title\">{{titleText}}</div>\n<sm-search\n  [value]=\"searchText\"\n  [minimumChars]=\"0\"\n  [debounceTime]=\"0\"\n  placeholder=\"Search parameters\"\n  class=\"underline-search\"\n  (valueChanged)=\"searchQ($event)\"\n></sm-search>\n<div class=\"actions\">\n  <div class=\"pointer\" (click)=\"onClearSelection()\">Clear Selection</div>\n  <ng-content></ng-content>\n</div>\n<div class=\"list\">\n  <mat-expansion-panel *ngFor=\"let bigItem of (itemsObjectList | keyvalue: compareByKey); trackBy: trackByKeyFn\"\n                       [expanded]=\"searchText?.length > 0\"\n                       [hidden]=\"(bigItem.value | advancedFilter:searchText).length === 0\">\n    <mat-expansion-panel-header expandedHeight=\"40px\" collapsedHeight=\"40px\" (click)=\"toggleExpand(bigItem.key)\">\n      <div class=\"ellipsis item-key\" [smTooltip]=\"renameMap[bigItem.key]\" [showDelay]=\"500\">{{renameMap[bigItem.key] || bigItem.key}}</div>\n    </mat-expansion-panel-header>\n    <div *ngFor=\"let item of bigItem.value | filter:searchText:'value'; trackBy: trackByValFn\"\n         class=\"item pointer\"\n         [class.disabled]=\"cb.disabled\"\n         [smTooltip]=\"!item.checked && selectionLimitReached? 'You can only select up to ' + limitSelection + ' parameters' : ''\"\n         customClass=\"parameter-tooltip\"\n         (click)=\"!cb.disabled && toggleParamToDisplay(bigItem.key + '.' + item.value, item.checked)\">\n      <mat-checkbox #cb\n                    smClickStopPropagation\n                    [ngModel]=\"item.checked\"\n                    [disabled]=\"selectionLimitReached && !item.checked\"\n                    (ngModelChange)=\"toggleParamToDisplay(bigItem.key + '.' + item.value, item.checked)\"\n      >\n      </mat-checkbox>\n      <label class=\"ellipsis\">{{item.value}}</label>\n    </div>\n  </mat-expansion-panel>\n</div>\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, Input, Output} from '@angular/core';\nimport {compareByFieldFunc} from '@common/tasks/tasks.utils';\n\nexport type HyperParams<T> = ReadonlyMap<string, T[]>;\n\n@Component({\n  selector: 'sm-grouped-checked-filter-list',\n  templateUrl: './grouped-checked-filter-list.component.html',\n  styleUrls: ['./grouped-checked-filter-list.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class GroupedCheckedFilterListComponent {\n\n  renameMap = {_legacy: 'General'};\n\n  public expanded = {};\n  public searchText: string;\n  public itemsObjectList: HyperParams<{ checked: boolean; value: string }>;\n  public selectionLimitReached: boolean;\n\n  @Input() limitSelection = 9999;\n  @Input() titleText: string;\n  @Input() placeholderText: string;\n  @Input() selectedItemsListMapper = (data) => data.id;\n  @Input() selectedItemsListPrefix = 'hyperparams.';\n  private _itemsList: { [section: string]: { [key: string]: any } };\n  private _selectedItemsList: string[];\n\n  @Input() set selectedItemsList(selectedItemsList: any[]) {\n    this._selectedItemsList = selectedItemsList;\n    if (selectedItemsList && this.itemsList) {\n      this.itemsObjectList = this.getItemsObjectList(this.itemsList);\n    }\n    this.selectionLimitReached = selectedItemsList && (Object.values(selectedItemsList) as any).flat().length >= this.limitSelection;\n  }\n\n  get selectedItemsList() {\n    return this._selectedItemsList;\n  }\n\n  @Input() filterItemsLabel: string;\n  @Input() selectFilteredItems: boolean;\n\n  @Input() set itemsList(itemsList: { [section: string]: { [key: string]: any } }) {\n    this._itemsList = itemsList;\n    if (this.selectedItemsList && itemsList) {\n      this.itemsObjectList = this.getItemsObjectList(itemsList);\n    }\n  }\n\n  get itemsList() {\n    return this._itemsList;\n  }\n\n  private getItemsObjectList = (itemsList: { [section: string]: { [key: string]: string } }) =>\n    Object.entries(itemsList).reduce((acc, [section, params]) => ({\n          ...acc,\n          [section]: Object.entries(params).map(([paramKey,]) => ({\n              value: paramKey,\n              checked: this.selectedItemsList.map(this.selectedItemsListMapper).includes(`${this.selectedItemsListPrefix}${section}.${paramKey}`)\n            }))\n        })\n      , {}) as HyperParams<{ checked: boolean; value: string }>;\n\n  @Output() selectedItems = new EventEmitter<{ param: string; value: any }>();\n  @Output() clearSelection = new EventEmitter();\n  @Output() hideFilteredItems = new EventEmitter();\n\n  constructor(private changeDetectorRef: ChangeDetectorRef) {\n  }\n\n  public toggleParamToDisplay(param, value) {\n    this.selectedItems.emit({param, value});\n  }\n\n  public searchQ(value) {\n    this.searchText = value;\n    this.changeDetectorRef.detectChanges();\n\n  }\n\n  onClearSelection() {\n    this.clearSelection.emit();\n  }\n\n  trackByKeyFn = (index, item) => item.key;\n\n  trackByValFn = (index, item) => item.value;\n\n  compareByKey = compareByFieldFunc('key');\n\n  toggleExpand(name) {\n    this.expanded[name] = !this.expanded[name];\n  }\n}\n","<div *ngIf=\"showRow\" class=\"labeled-row\">\n  <div class=\"label-container\" [ngClass]=\"labelClass\">{{label}}</div>\n  <div class=\"content\">\n    <ng-content></ng-content>\n  </div>\n</div>\n\n","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'sm-labeled-row',\n  templateUrl: './labeled-row.component.html',\n  styleUrls: ['./labeled-row.component.scss']\n})\nexport class LabeledRowComponent implements OnInit {\n  @Input() label: string;\n  @Input() showRow? = true;\n  @Input() labelClass: string;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import {ChangeDetectionStrategy, Component, EventEmitter, Input, Output} from '@angular/core';\nimport {SelectableListItem} from '../selectable-list/selectable-list.model';\n\n@Component({\n  selector       : 'sm-selectable-filter-list',\n  templateUrl    : './selectable-filter-list.component.html',\n  styleUrls      : ['./selectable-filter-list.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SelectableFilterListComponent {\n  private _searchTerm: string;\n  private _list: Array<SelectableListItem>;\n  public filteredList: SelectableListItem[];\n  public searchText: string;\n\n  @Input() set searchTerm(searchTerm: string) {\n    this.filteredList = this.list ? this.filterList(this.list, searchTerm) : [];\n    this._searchTerm  = searchTerm;\n  }\n\n  get searchTerm() {\n    return this._searchTerm;\n  }\n\n  @Input() checkedList: Array<any> = [];\n  @Input() selected: string;\n  @Input() placeholder: string = 'Search';\n  @Input() titleLabel: string;\n  @Input() checkAllIcon: string;\n  @Output() itemSelect             = new EventEmitter<string>();\n  @Output() hiddenChanged          = new EventEmitter<Array<SelectableListItem['value']>>();\n  @Output() searchTermChanged      = new EventEmitter<string>();\n\n  @Input() set list(list: Array<SelectableListItem>) {\n    this._list        = list;\n    this.filteredList = this.filterList(list, this.searchTerm);\n  }\n\n  get list() {\n    return this._list;\n  }\n\n  filterList(list, searchTerm): Array<SelectableListItem> {\n    if (!searchTerm || searchTerm === '') {\n      return list.slice();\n    } else {\n      return list.filter((item) => item.name.toLowerCase().includes(searchTerm.toLowerCase()));\n    }\n  }\n\n  onSearchTermChanged(value: string) {\n    this.searchText = value;\n    this.searchTermChanged.emit(value);\n  }\n\n  public toggleHide(id) {\n    const newHiddenList = this.checkedList.includes(id) ? this.checkedList.filter(i => i !== id) : [...this.checkedList, id];\n    this.hiddenChanged.emit(newHiddenList);\n  }\n\n  toggleHideAll() {\n    if (this.checkedList.length > 0) {\n      this.hiddenChanged.emit([]);\n\n    } else {\n      const allValues = this.list.map((i) => i.value);\n      this.hiddenChanged.emit(allValues);\n    }\n  }\n\n}\n","<div class=\"d-flex justify-content-between mb-2\">\n  <span class=\"font-weight-bold\">{{titleLabel}}</span>\n</div>\n<sm-search\n  [value]=\"searchText\"\n  class=\"underline-search\"\n  [minimumChars]=\"0\"\n  [debounceTime]=\"0\"\n  [placeholder]=\"placeholder\"\n  (valueChanged)=\"onSearchTermChanged($event)\"\n></sm-search>\n<span class=\"toggle-all-text\" (click)=\"toggleHideAll()\">{{checkedList.length > 0 ? 'Show all' : 'Hide all'}} </span>\n<sm-selectable-list\n  [list]=\"filteredList\"\n  [selected]=\"selected\"\n  [checkedList]=\"checkedList\"\n  (onItemSelect)=\"itemSelect.emit($event)\"\n  (onItemCheck)=\"toggleHide($event)\"\n>\n</sm-selectable-list>\n","import {ChangeDetectionStrategy, Component, EventEmitter, Input, Output} from '@angular/core';\nimport {PlotData} from 'plotly.js';\nimport {isEqual} from 'lodash/fp';\n\nexport interface GroupedList {\n  [metric: string]: { [variant: string]: { [experimentId: string]: PlotData } };\n}\n\n@Component({\n  selector: 'sm-selectable-grouped-filter-list',\n  templateUrl: './selectable-grouped-filter-list.component.html',\n  styleUrls: ['./selectable-grouped-filter-list.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SelectableGroupedFilterListComponent {\n  private _searchTerm: string;\n  private _list: GroupedList;\n  public filteredList: GroupedList;\n  public searchText: string;\n\n  @Input() set list(list: GroupedList) {\n    if (!isEqual(this._list, list)) {\n      this.hideChildrenForHiddenParent(list);\n    }\n    this._list = list;\n    this.filteredList = this.filterList(list, this.searchTerm);\n  }\n\n  get list() {\n    return this._list;\n  }\n\n  @Input() set searchTerm(searchTerm: string) {\n    this.filteredList = this.list ? this.filterList(this.list, searchTerm) : [];\n    this._searchTerm = searchTerm;\n  }\n\n  get searchTerm() {\n    return this._searchTerm;\n  }\n\n  @Input() checkedList: Array<any> = [];\n  @Input() selected: string;\n  @Input() titleLabel: string;\n  @Input() checkAllIcon: string;\n  @Output() itemSelect = new EventEmitter<string>();\n  @Output() hiddenChanged = new EventEmitter<any>();\n  @Output() searchTermChanged = new EventEmitter<string>();\n\n\n  filterList(list, searchTerm) {\n    if (!searchTerm || searchTerm === '') {\n      return list;\n    } else {\n      const filtered = {};\n      Object.keys(list).forEach(key => {\n        if (key.toLowerCase().includes(searchTerm.toLowerCase())) {\n          filtered[key] = list[key];\n        } else {\n          const subFiltered = {};\n          Object.keys(list[key]).forEach(subKey => {\n            if (subKey.toLowerCase().includes((searchTerm).toLowerCase())) {\n              subFiltered[subKey] = list[key][subKey];\n            }\n          });\n          if (Object.keys(subFiltered).length > 0) {\n            filtered[key] = subFiltered;\n          }\n        }\n      });\n      return filtered;\n    }\n  }\n\n  private hideChildrenForHiddenParent(list: GroupedList) {\n    const newHiddenList = [...this.checkedList];\n    let hiddenListChanged = false;\n    Object.entries(list).forEach(([parent, children]) => {\n      if (this.checkedList.includes(parent) && Object.keys(children).length > 0) {\n        hiddenListChanged = true;\n        Array.prototype.push.apply(newHiddenList, (Object.keys(children).map(child => parent + child)));\n      }\n    });\n    if (hiddenListChanged) {\n      this.hiddenChanged.emit(Array.from(new Set(newHiddenList)));\n    }\n  }\n\n  onSearchTermChanged(value: string) {\n    this.searchText = value;\n    this.searchTermChanged.emit(value);\n  }\n\n  public toggleHide({pathString, parent}) {\n    let newHiddenList = this.checkedList.includes(pathString) ? this.checkedList.filter(i => i !== pathString) : [...this.checkedList, pathString];\n    newHiddenList = this.AreAllChildrenHidden(parent, newHiddenList) ? [...newHiddenList, parent] : newHiddenList.filter(i => i !== parent);\n    this.hiddenChanged.emit(newHiddenList);\n  }\n\n  private AreAllChildrenHidden(parent, newHiddenList: any[]) {\n    return Object.keys(this.list[parent]).every(item => newHiddenList.includes(parent + item));\n  }\n\n  toggleHideAll() {\n    if (Object.keys(this.checkedList).length > 0) {\n      this.hiddenChanged.emit([]);\n    } else {\n      const allValues = [];\n      Object.keys(this.list).forEach(key => {\n        allValues.push(key);\n        Object.keys(this.list[key]).forEach(itemKey => {\n          allValues.push(key + itemKey);\n        });\n      });\n      this.hiddenChanged.emit(allValues);\n    }\n  }\n\n  toggleHideGroup(event) {\n    const key = event.key;\n    let allValues = [...this.checkedList];\n    if (event.hide) {\n      allValues = !allValues.includes(key) ? [...allValues, key] : allValues;\n      Object.keys(this.list[key]).forEach(itemKey => {\n        const keyItemKey = key + itemKey;\n        if (!allValues.includes(keyItemKey)) {\n          allValues.push(keyItemKey);\n        }\n      });\n    } else {\n      allValues = allValues.filter(i => i !== key);\n      Object.keys(this.list[key]).forEach(itemKey => {\n        const keyItemKey = key + itemKey;\n        if (allValues.includes(keyItemKey)) {\n          allValues = allValues.filter(longKey => longKey !== (keyItemKey));\n        }\n      });\n    }\n    this.hiddenChanged.emit(allValues);\n  }\n}\n","<div class=\"d-flex justify-content-between mb-2\">\n  <span class=\"font-weight-bold\">{{titleLabel}}</span>\n</div>\n<sm-search\n  [value]=\"searchText\"\n  [minimumChars]=\"0\"\n  [debounceTime]=\"0\"\n  class=\"underline-search\"\n  placeholder=\"Find scalars\"\n  (valueChanged)=\"onSearchTermChanged($event)\"\n></sm-search>\n<span class=\"toggle-all-text\" (click)=\"toggleHideAll()\">{{checkedList.length > 0 ? 'Show all' : 'Hide all'}} </span>\n<sm-grouped-selectable-list\n  [list]=\"filteredList\"\n  [searchTerm]=\"searchTerm\"\n  [selected]=\"selected\"\n  [checkedList]=\"checkedList\"\n  (onItemSelect)=\"itemSelect.emit($event)\"\n  (onItemCheck)=\"toggleHide($event)\"\n  (onGroupCheck)=\"toggleHideGroup($event)\"\n>\n</sm-grouped-selectable-list>\n","<ul class=\"list\">\n  <li\n    *ngFor=\"let item of showList\"\n    class=\"item\"\n    [class.unchecked]=\"!item.visible\"\n    (click)=\"onItemSelect.emit(item.value)\"\n  >\n    <div class=\"pointer ellipsis pr-3\" [smTooltip]=\"item.value\" [showDelay]=\"500\">{{item.value}}</div>\n    <i (click)=\"onItemCheck.emit(item.value); $event.stopPropagation()\" class=\"fa\" [class]=\"item.visible? checkIcon[0] : checkIcon[1]\"></i>\n  </li>\n</ul>\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport {SelectableListItem} from './selectable-list.model';\n\n@Component({\n  selector       : 'sm-selectable-list',\n  templateUrl    : './selectable-list.component.html',\n  styleUrls      : ['./selectable-list.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SelectableListComponent implements OnChanges{\n  public showList: SelectableListItem[] = [];\n\n  @Input() list: SelectableListItem[] = [];\n  @Input() checkedList: string[];\n  @Input() selected: SelectableListItem['value'];\n  @Input() checkIcon: string[]               = ['fa-eye', 'fa-eye-slash'];\n  @Output() onItemSelect                   = new EventEmitter<string>();\n  @Output() onItemCheck                    = new EventEmitter<string>();\n\n  constructor(private cdr: ChangeDetectorRef) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if ((changes.list || changes.checkedList)) {\n      this.showList = this.list.map(item => ({...item, visible: !this.checkedList.includes(item.name) } as SelectableListItem));\n      this.cdr.detectChanges();\n    }\n  }\n}\n","<div class=\"row headers\" *ngIf=\"!hideHeaders\">\n  <div *ngFor=\"let col of cols; trackBy: trackById\" [class]=\"col.class\">{{col.header}}</div>\n</div>\n<div cdkDropList (cdkDropListDropped)=\"drop($event)\" [cdkDropListDisabled]=\"!enableDragAndDrop\">\n  <div\n    *ngFor=\"let row of rowsData; let i = index; trackBy: trackByFn\"\n    cdkDrag\n    cdkDragPreviewContainer=\"parent\"\n    class=\"table-row\"\n    [class.toggleable]=\"isRowToggleable(i)\"\n    [class.open]=\"open[i]\"\n    [class.draggable]=\"enableDragAndDrop\"\n    (click)=\"toggleRow(i)\"\n  >\n    <div class=\"row align-items-center\">\n      <ng-template\n        [ngTemplateOutlet]=\"templateRef\"\n        [ngTemplateOutletContext]=\"{$implicit: cols[i], row: row, rowIndex: i}\">\n      </ng-template>\n    </div>\n  </div>\n  <div *ngIf=\"rowsData?.length === 0\" class=\"empty-state\">\n    {{ noDataMessage || 'No data to show'}}\n  </div>\n</div>\n","import { Component, ContentChild, EventEmitter, Input, Output, TemplateRef } from '@angular/core';\nimport { CdkDragDrop } from '@angular/cdk/drag-drop';\nimport {FormsTrackBy, trackById} from '../../../utils/forms-track-by';\n\n@Component({\n  selector: 'sm-simple-table-2',\n  templateUrl: './simple-table.component.html',\n  styleUrls: ['./simple-table.component.scss'],\n})\nexport class SimpleTableComponent2 extends FormsTrackBy {\n\n  public open = [];\n  public trackById = trackById;\n\n  get formData() {\n    return this.rowsData;\n  }\n  @Input() rowsConfig: Array<{ collapsible: boolean }> = [];\n  @Input() rowsData: Array<any>;\n  @Input() cols: { class: string; header: string; subHeader?: string }[];\n  @Input() hideHeaders = false;\n  @Input() enableDragAndDrop = false;\n  @Input() noDataMessage: string;\n  @Output() entryDropped = new EventEmitter<CdkDragDrop<any>>();\n\n  @ContentChild(TemplateRef) templateRef: TemplateRef<any>;\n\n  isRowToggleable(rowIndex) {\n    return this.rowsConfig[rowIndex] && this.rowsConfig[rowIndex].collapsible;\n  }\n\n  toggleRow(rowIndex) {\n    if (this.isRowToggleable(rowIndex)) {\n      this.open[rowIndex] = !this.open[rowIndex];\n    }\n  }\n\n  drop($event: CdkDragDrop<any, any>) {\n    this.entryDropped.emit($event);\n  }\n}\n","<div class=\"table-card\"\n     [class.two-columns]=\"tableType === 'model'\"\n     [ngClass]=\"{'selected':selected, 'odd': odd, 'checked':checked, 'contexted': activeContextRow?.id ===rowData?.id && contextMenuOpen}\">\n    <div class=\"d-flex align-items-start justify-content-around content-row mx-2\">\n      <ng-content select=\"sm-checkbox-control\"></ng-content>\n    </div>\n    <div *ngIf=\"rowData.type\" class=\"d-flex align-items-start justify-content-around content-row mr-3\">\n      <ng-content select=\"sm-experiment-type-icon-label\"></ng-content>\n    </div>\n    <div class=\"d-flex flex-column flex-grow-1 columns-container\">\n      <div class=\"d-flex content-row flex-shrink-1\">\n        <div class=\"name-container\">\n          <div class=\"ellipsis name\">{{cardName}}</div>\n          <ng-content select=\"[sm-name-icon]\"></ng-content>\n\n        </div>\n        <div class=\"d-flex ml-auto\">\n          <ng-content select=\"sm-experiment-system-tags\"></ng-content>\n          <ng-content select=\"sm-experiment-status-icon-label\"></ng-content>\n          <ng-content select=\"sm-model-tags\"></ng-content>\n        </div>\n      </div>\n      <ng-content select=\"sm-tag-list\"></ng-content>\n      <ng-content select=\"[compact-columns-data]\"></ng-content>\n  </div>\n","import {Component, Input} from '@angular/core';\nimport {get} from 'lodash/fp';\n\n@Component({\n  selector   : 'sm-table-card',\n  templateUrl: './table-card.component.html',\n  styleUrls  : ['./table-card.component.scss']\n})\nexport class TableCardComponent {\n  public odd: boolean;\n  @Input() columns;\n  @Input() cardName;\n  @Input() rowData;\n  @Input() activeContextRow;\n  @Input() contextMenuOpen;\n  @Input() tableType;\n\n\n  @Input() set rowNumber(rowNumber) {\n    this.odd = rowNumber % 2 === 1;\n  }\n\n  @Input() selected;\n  @Input() checked: boolean;\n\n  constructor() {\n  }\n\n  _get(selector, obj) {\n    return get(selector, obj);\n  }\n\n  getValueFromRow(row) {\n    return get(row.id, this.rowData);\n  }\n}\n","import {TableSelectionState} from '@common/constants';\nimport {allItemsAreSelected} from '../../../utils/shared-utils';\nimport {unionBy} from 'lodash/fp';\nimport {AfterViewInit, EventEmitter, Input, Output, QueryList, ViewChildren, Directive, OnDestroy} from '@angular/core';\nimport {ISmCol, TABLE_SORT_ORDER, TableSortOrderEnum} from './table.consts';\nimport {filter, take} from 'rxjs/operators';\nimport {TableComponent} from './table.component';\nimport {SortMeta} from 'primeng/api';\n\n@Directive()\nexport abstract class BaseTableView implements AfterViewInit, OnDestroy{\n  public selectionState: TableSelectionState;\n  protected entitiesKey: string;\n  public selectedEntitiesKey: string;\n  public contextMenuActive: boolean;\n  public table: TableComponent;\n\n  @Input() selectionMode: 'multiple' | 'single' | null = 'single';\n  @Input() colsOrder: string[];\n  private _tableSortFields: SortMeta[];\n  public tableSortFieldsObject: {[fieldName: string]: {index: number; field: string; order: TableSortOrderEnum}} = {};\n\n  @Input() set tableSortFields(tableSortFields: SortMeta[]) {\n    this._tableSortFields = tableSortFields;\n    this.tableSortFieldsObject = tableSortFields.reduce((acc, sortField, i) => {\n      acc[sortField.field] = {\n        index: i,\n        field: sortField.field,\n        order: sortField.order > 0 ? TABLE_SORT_ORDER.ASC : TABLE_SORT_ORDER.DESC\n      };\n      return acc;\n    }, {});\n  }\n\n  get tableSortFields() {\n    return this._tableSortFields;\n  }\n\n  @Input() tableSortOrder: TableSortOrderEnum;\n  @Input() minimizedView: boolean;\n  protected prevSelected: any;\n\n  @Input() set split(size: number) {\n    this.table?.resize();\n  }\n\n\n  @Output() filterChanged = new EventEmitter() as EventEmitter<{ col: ISmCol; value: any; andFilter?: boolean }>;\n  @Output() columnsReordered = new EventEmitter<string[]>();\n  @ViewChildren(TableComponent) tables: QueryList<TableComponent>;\n\n  ngAfterViewInit(): void {\n    this.tables.changes\n      .pipe(filter((comps: QueryList<TableComponent>) => !!comps.first), take(1))\n      .subscribe((comps: QueryList<TableComponent>) => {\n        this.table = comps.first;\n        window.setTimeout(() => this.table?.focusSelected());\n        this.afterTableInit();\n      });\n    this.tables.forEach(item => this.table = item);\n  }\n\n  updateSelectionState() {\n    this.selectionState = allItemsAreSelected(this[this.entitiesKey], this[this.selectedEntitiesKey]) ? 'All' : this[this.selectedEntitiesKey].length > 0 ? 'Partial' : 'None';\n  }\n\n  headerCheckboxClicked() {\n    let selectionUnion;\n    if (this.selectionState === 'None') {\n      selectionUnion = unionBy('id', this[this.entitiesKey], this[this.selectedEntitiesKey]);\n    } else {\n      selectionUnion = [];\n    }\n    this.emitSelection(selectionUnion);\n  }\n\n  isRowSelected(entity: { id: any }) {\n    if (!entity || this[this.selectedEntitiesKey] === undefined) {\n      return false;\n    }\n\n    return this[this.selectedEntitiesKey].length > 0 &&\n      (this[this.selectedEntitiesKey].some((selectedEntity: { id: any }) => selectedEntity.id === entity.id));\n  }\n\n  setContextMenuStatus(menuStatus: boolean) {\n    this.contextMenuActive = menuStatus;\n  }\n\n  getSelectionRange<T>(change: { field: string; value: boolean; event: Event }, entity: T): T[] {\n    let addList = [entity];\n    if ((change.event as MouseEvent).shiftKey && this.prevSelected) {\n      let index1 = this[this.entitiesKey].indexOf(this.prevSelected);\n      let index2 = this[this.entitiesKey].indexOf(entity);\n      if (index1 > index2) {\n        [index1, index2] = [index2, index1];\n      }\n      addList = this[this.entitiesKey].slice(index1, index2 + 1);\n    }\n    this.prevSelected = entity;\n    return addList;\n  }\n\n  tableFilterChanged(col: ISmCol, event) {\n    this.filterChanged.emit({col, value: event.value, andFilter: event.andFilter});\n    this.scrollTableToTop();\n  }\n\n  tableAllFiltersChanged(event: {col: string; value: unknown; matchMode?: string}) {\n    this.filterChanged.emit({col: {id: event.col}, value: event.value, andFilter: event.matchMode === 'AND'});\n    this.scrollTableToTop();\n  }\n\n  scrollTableToTop() {\n    this.table?.table.scrollTo({top: 0});\n  }\n\n  afterTableInit() {\n    const key = this.selectedEntitiesKey.slice(0, -1);\n    if (this[key]) {\n      window.setTimeout(() => this.table.scrollToElement(this[key]), 100);\n    }\n  }\n\n  abstract emitSelection(selection: any[]);\n\n  ngOnDestroy(): void {\n    this.table = null;\n  }\n}\n","<div class=\"filter-sort-container d-flex align-items-center\"\n     [ngClass]=\"isFiltered() ? 'active' : 'deactive'\">\n  <div mat-button class='cell pointer'>\n    <i [class]=\"'icon ' + (isFiltered()? 'i-filter-on':'i-filter-off')\" [matMenuTriggerFor]=\"menu\"></i>\n  </div>\n  <mat-menu #menu=\"matMenu\" class=\"table-card-filter-menu\" classList=\"light-theme\">\n    <ng-container *ngFor=\"let option of (options | keyvalue); trackBy: trackByKey\">\n      <ng-template let-col\n                   [ngTemplateOutletContext]=\"{$implicit: getColumnByOption(option)}\"\n                   [ngTemplateOutlet]=\"column\" #column\n      >\n        <button mat-menu-item [matMenuTriggerFor]=\"subMenu\" (menuOpened)=\"menuOpened.emit(col)\">\n          <i [class.hidden]=\"!isOptionFiltered(option.key)\" class=\"filter-point icon i-v-black xs\"></i> {{col?.header}}\n        </button>\n        <mat-menu #subMenu=\"matMenu\" class=\"table-card-filter-menu light-theme\" (close)=\"closeMenu(col)\">\n          <form class=\"filter-form\">\n            <mat-form-field appearance=\"fill\" *ngIf=\"col?.searchableFilter\" smClickStopPropagation class=\"tags-menu-input w-100\">\n              <input matInput (input)=\"setSearchTerm($event, option.key)\" name=\"filter\" [(ngModel)]=\"searchTerms[option.key]\" autocomplete=\"off\">\n              <i matSuffix [class]=\"'fa mr2 ' + (searchTerms[option.key]? 'fa-times pointer':'fa-search')\" (click)=\"searchTerms[option.key] && clearSearch(option.key)\"></i>\n            </mat-form-field>\n          </form>\n          <div *ngIf=\"col?.andFilter\" class=\"filter-type\" smClickStopPropagation>\n          <span class=\"link mr-3\" [class.selected]=\"filterMatch[option.key] !== 'AND'\"\n                (click)=\"toggleCombination(option.key)\">Any</span>\n            <span class=\"link\" [class.selected]=\"filterMatch[option.key] === 'AND'\"\n                  (click)=\"toggleCombination(option.key)\">All</span>\n          </div>\n          <div class=\"results\" [class.scroll]=\"col.searchableFilter\" *ngIf=\"col\" smClickStopPropagation>\n             <sm-checkbox-three-state-list\n               [supportExcludeFilter]=\"col.excludeFilter\"\n               [checkedList]=\"value[col.id]\"\n               [options]=\"option.value | filter : searchTerms[option.key]: 'label'\"\n               (filterChanged)=\"emitFilterChangedCheckBox(option.key, $event)\"\n             > </sm-checkbox-three-state-list>\n          </div>\n          <div class=\"fixed-options\" *ngIf=\"option.key==='tags'\">\n            <mat-divider></mat-divider>\n            <div *ngIf=\"subOptions?.length\" class=\"fixed-options-subheader\">\n              {{fixedOptionsSubheader}}\n            </div>\n            <sm-menu-item\n              *ngFor=\"let option of subOptions; trackBy: trackByLabel\"\n              [itemLabel]=\"option.label\"\n              [checked]=\"subValue?.includes(option.value)\" [selectable]=\"true\" [itemValue]=\"option.value\"\n              (itemClicked)=\"onSubFilterChanged({id:'system_tags'},$event)\"\n            ></sm-menu-item>\n          </div>\n        </mat-menu>\n      </ng-template>\n    </ng-container>\n  </mat-menu>\n</div>\n\n","import {Component, EventEmitter, Input, Output, ViewChild} from '@angular/core';\nimport {ISmCol} from '../table.consts';\nimport {addOrRemoveFromArray} from '../../../../utils/shared-utils';\nimport {MatMenuTrigger} from '@angular/material/menu';\n\n@Component({\n  selector   : 'sm-table-card-filter-template',\n  templateUrl: './table-card-filter-template.component.html',\n  styleUrls  : ['./table-card-filter-template.component.scss']\n})\nexport class TableCardFilterTemplateComponent {\n\n  private _value: Array<string>;\n  public searchTerms = {};\n\n  @Input() set value(value: any) {\n    this._value = value;\n  }\n\n  get value() {\n    return this._value;\n  }\n\n  @Input() fixedOptionsSubheader;\n  @Input() subValue: string[] = [];\n  @Input() subOptions: {label: string; value: string}[];\n  @Input() options: { [col: string]: { label: string; value: string; tooltip?: string }[] };\n  @Input() columns: ISmCol[];\n  @Input() filterMatch: {[colId: string]: string};\n  @Output() subFilterChanged = new EventEmitter();\n  @Output() filterChanged = new EventEmitter<{col: string; value: unknown; matchMode?: string}>();\n  @Output() menuClosed = new EventEmitter<ISmCol>();\n  @Output() menuOpened = new EventEmitter<ISmCol>();\n\n  @ViewChild(MatMenuTrigger, {static: true}) trigger: MatMenuTrigger;\n\n  trackByKey = (index: number, item: {key: string; value: { label: string; value: string; tooltip?: string }[]}) => item['key'];\n  trackByLabel = (index: number, item) => item.label;\n\n  onFilterChanged(colId: string, val) {\n    if (val) {\n      const newValues = addOrRemoveFromArray(this.value[colId], val.itemValue);\n      this.filterChanged.emit({col: colId, value: newValues, matchMode: this.filterMatch?.[colId]});\n    }\n  }\n\n  emitFilterChangedCheckBox(colId: string, values: string[]) {\n    this.filterChanged.emit({col: colId, value: values, matchMode: this.filterMatch?.[colId]});\n\n  }\n  onSubFilterChanged(col, val) {\n    if (val) {\n      const newValues = addOrRemoveFromArray(this.subValue, val.itemValue);\n      this.subFilterChanged.emit({col, value: newValues});\n    }\n  }\n\n  isFiltered() {\n    return ((this.value && Object.keys(this.value).filter(col => this.value[col].length > 0).length > 0) || (this.subValue && this.subValue.length > 0));\n  }\n\n\n  isOptionFiltered(key: string) {\n    return this.value && this.value[key]?.length > 0;\n  }\n\n\n  setSearchTerm($event, key: string) {\n    this.searchTerms[key] = $event.target.value;\n  }\n\n  closeMenu(col: ISmCol) {\n    this.searchTerms = {};\n    this.menuClosed.emit(col);\n  }\n\n  clearSearch(key: string) {\n    this.searchTerms[key]='';\n    this.setSearchTerm({target:{value:''}}, key);\n  }\n\n  toggleCombination(colId: string) {\n    this.filterMatch[colId] = this.filterMatch[colId] === 'AND' ? '' : 'AND';\n    if (this.value?.[colId]?.length > 1) {\n      this.filterChanged.emit({col: colId, value: this.value[colId], matchMode: this.filterMatch[colId]});\n    }\n  }\n\n  getColumnByOption(option: any) {\n    return this.columns.find(col => col.id === option.key);\n  }\n}\n","import {ChangeDetectorRef, Component, EventEmitter, Input, Output} from '@angular/core';\nimport {getValueOrDefault, hasValue} from '../../../../utils/helpers.util';\n\nexport interface IDurationThan {\n  checked: boolean;\n  value: number | '' | null;\n}\n\nexport const emptyDuration ={\n  checked: false,\n  value: 0\n};\n\nexport type DurationParameters = 'lessThan' | 'greaterThan';\n\n@Component({\n  template: ''\n})\nexport abstract class TableDurationSortBase {\n  @Output() filterChanged = new EventEmitter<{ value: any }>();\n  @Output() onHasError = new EventEmitter<boolean>();\n\n  @Input() set value(value: Array<string | number | null>) {\n    this.updateValue(value);\n  }\n\n  abstract parseServerDataFunction(data: null | string | number): number;\n  abstract prepareDataToServerFunction(data: null | string | number): string | number | null;\n\n  constructor(private cdr: ChangeDetectorRef) {\n  }\n  lessThan: IDurationThan = {\n    checked: false,\n    value: null\n  };\n\n  greaterThan: IDurationThan = {\n    checked: false,\n    value: null\n  };\n\n  hasTimeError = false;\n  private isFirstTimeUpdate = true;\n  public updateValue(value: Array<string | number | null>): void {\n\n    if(value === undefined || value?.length === 0) {\n      this.greaterThan = emptyDuration;\n      this.lessThan = emptyDuration;\n      this.isFirstTimeUpdate = true;\n      this._updateValue();\n      return;\n    }\n\n    if (this.isFirstTimeUpdate) {\n      this.isFirstTimeUpdate = false;\n      const data = dataInputOutputHelper.decodeFromServerData(value, {greaterThan: this.greaterThan, lessThan: this.lessThan}, this.parseServerDataFunction);\n      this.greaterThan = data.greaterThan;\n      this.lessThan    = data.lessThan;\n      this._updateValue();\n    }\n\n  }\n\n  /**\n   * If we need to have data adjustment after we have a new value;\n   * If no uses, keep it empty;\n   */\n  abstract _updateValue(): void;\n\n  get isFiltered(): boolean {\n    return this.shouldValidate();\n  }\n\n  /**\n   * Set checkbox as active or not and update the State;\n   * @param checked;\n   * @param checkBoxName\n   */\n  public setCheckBox(checked: boolean, checkBoxName: DurationParameters, shouldValidate = true): void {\n    this[checkBoxName] = {...this[checkBoxName], checked};\n    shouldValidate && this.validateAfterChanges();\n  }\n\n  /**\n   * Set the time for the current object;\n   * If checked, update the Store;\n   * @param value\n   * @param valueName\n   */\n  public timeStampChanged(value: number, valueName: DurationParameters): void {\n    if (this.checkIfSameValues(value, valueName)) {\n      return;\n    }\n    if (!hasValue(this[valueName].value) && hasValue(value)) {\n      this.setCheckBox(true, valueName, false);\n    } else if (!hasValue(value)) {\n      this.setCheckBox(false, valueName);\n    }\n\n    this[valueName] = {...this[valueName], value};\n\n    if (this[valueName]?.checked) {\n      this.validateAfterChanges();\n    }\n\n  }\n\n  /**\n   * Prevent from updating if we have the same value from the input;\n   * @param value\n   * @param valueName\n   * @private\n   */\n  private checkIfSameValues(value: number, valueName: DurationParameters) {\n    return value === this[valueName].value;\n  }\n\n  /**\n   * After value changed \\ checkbox active Validate if need to update the Store;\n   * @private\n   */\n  private validateAfterChanges() {\n    if (this.shouldValidate()) {\n      const isValidAfterChanges = this.isValidAfterChanges();\n      this.hasTimeError = !isValidAfterChanges;\n      this.onHasError.emit(!isValidAfterChanges);\n      if (isValidAfterChanges) {\n        this.updateState();\n      } else {\n        this.cdr.detectChanges();\n      }\n      return;\n    }\n\n    if (!this.lessThan.checked && !this.greaterThan.checked) {\n      this.resetValues();\n      return;\n    }\n  }\n\n  private resetValues() {\n    this.updateState();\n  }\n\n  private shouldValidate() {\n    return this.greaterThan.checked || this.lessThan.checked;\n  }\n\n  private isValidAfterChanges() {\n    if (this.greaterThan.checked && this.lessThan.checked) {\n      return this.lessThan.value >= this.greaterThan.value;\n    }\n    return this.greaterThan.checked || this.lessThan.checked;\n  }\n\n  /**\n   * Update the Store;\n   * @private\n   */\n  private updateState() {\n    const value = dataInputOutputHelper.encodeToServerData({greaterThan: this.greaterThan, lessThan: this.lessThan}, this.prepareDataToServerFunction);\n    this.filterChanged.emit({value});\n  }\n}\n\nconst enum SERVER_POSITION {\n  GREATER_THAN,\n  LESS_THAN\n}\n/**\n * Server communication helper;\n * to the server [greaterThan, lessThan]\n * from the server [greaterThan, lessThan] -> {greaterThan, lessThan}\n */\nexport class dataInputOutputHelper {\n    static encodeToServerData(\n                              data: { greaterThan: IDurationThan; lessThan: IDurationThan },\n                              prepareDataToServerFunction: (data) => string | number\n    ): Array<string | number | null> {\n      let greaterThan = null;\n      let lessThan = null;\n      const positions = [] as Array<string | number | null>;\n\n      if (data?.greaterThan?.checked) {\n        greaterThan = prepareDataToServerFunction(data.greaterThan.value);\n      }\n      if (data?.lessThan?.checked) {\n        lessThan = prepareDataToServerFunction(data.lessThan.value);\n      }\n\n      if (lessThan !== null || greaterThan !== null) {\n        positions[SERVER_POSITION.LESS_THAN] = lessThan;\n        positions[SERVER_POSITION.GREATER_THAN] = greaterThan;\n      }\n\n      return positions;\n    }\n  static decodeFromServerData(\n              data: Array<string | number | null> | null = [],\n              useOldValues?: {greaterThan?: IDurationThan; lessThan?: IDurationThan},\n              parseServerDataFunction?: (data) => number): {greaterThan: IDurationThan; lessThan: IDurationThan}\n  {\n      // no data from the store\n      if(data.length === 0) {\n        return {\n          greaterThan: {\n            value: useOldValues?.greaterThan.value ?? null,\n            checked: false\n          },\n          lessThan: {\n            value: useOldValues?.lessThan.value ?? null,\n            checked: false\n          }\n        };\n      }\n      // got data from the store\n      return {\n        greaterThan: {\n          value: (getValueOrDefault(parseServerDataFunction(data[SERVER_POSITION.GREATER_THAN]), useOldValues?.greaterThan.value ?? null) ),\n          checked: data[SERVER_POSITION.GREATER_THAN] !== null && data[SERVER_POSITION.GREATER_THAN] !== ''\n        },\n        lessThan: {\n          value: (getValueOrDefault(parseServerDataFunction(data[SERVER_POSITION.LESS_THAN]), useOldValues?.lessThan.value ?? null) ),\n          checked: data[SERVER_POSITION.LESS_THAN] !== null && data[SERVER_POSITION.LESS_THAN] !== ''\n        }\n      };\n    }\n}\n","<form class=\"filter-form p-4\" #templateForm=\"ngForm\" smClickStopPropagation smKeyDownStopPropagation>\n  <div>\n    <div class=\"mb-1 label\">From</div>\n    <div class=\"d-flex \">\n      <!--<sm-checkbox-control\n        [formData]=\"greaterThan.checked\"\n        (formDataChanged)=\"setCheckBox(hasGreaterThanValue ? $event.value : false, 'greaterThan')\"\n        class=\"align-self-center pr-2\"\n      >\n      </sm-checkbox-control>-->\n\n      <div class=\"input-duration d-flex align-items-center\">\n        <div class=\"input-border-duration-container pr-3 \">\n          <div class=\"d-flex align-items-center mat-datepicker-container\">\n            <input matInput\n                   [value]=\"_greaterThan.date\"\n                   [matDatepicker]=\"fromPicker\"\n                   placeholder=\"Date\"\n                   (dateChange)=\"$event.value ? setCheckBox(true, 'greaterThan') : null;\n                                  onDateHandler($any($event.value), '_greaterThan')\"\n            >\n            <mat-datepicker-toggle matSuffix [for]=\"fromPicker\"></mat-datepicker-toggle>\n            <mat-datepicker #fromPicker [startAt]=\"$any(_greaterThan.date)\"></mat-datepicker>\n          </div>\n        </div>\n        <div class=\"input-border-duration-container\">\n          <sm-duration-input-list name=\"lessThan\"\n                                  [durationValue]=\"_greaterThan.date ? _greaterThan.time || MINIMUM_TIME_DISPLAY : null\"\n                                  [inputs]=\"[{type: 'hours', placeholder: '--'}, {type: 'minutes', placeholder: '--'}]\"\n                                  [returnFactor]=\"1000\"\n                                  [readonly]=\"!_greaterThan.date\"\n                                  (onDurationChanged)=\"onTimeHandler($event, '_greaterThan')\"></sm-duration-input-list>\n        </div>\n      </div>\n      <div class=\"d-flex align-items-center pl-2\">\n        <i [class]=\"'al-icon ' + (hasGreaterThanValue ? 'al-ico-dialog-x' : 'al-ico-time') + ' sm'\"\n           (click)=\"hasGreaterThanValue ? onResetHandler('greaterThan') : onAutoFillCurrentTimeHandler('greaterThan')\"\n           [smTooltip]=\"hasGreaterThanValue ? 'Clear' : 'Autofill current time'\"\n\n           matTooltipPosition=\"above\"\n        ></i>\n      </div>\n\n    </div>\n  </div>\n\n  <div class=\"pt-2\">\n    <div class=\"mb-1 label\">To</div>\n    <div class=\"d-flex \">\n    <!--  <sm-checkbox-control\n        (formDataChanged)=\"setNowCheckBox(hasLessThanValue ? $event.value : false, 'lessThan')\"\n        [formData]=\"isNowChecked\"\n        class=\"align-self-center pr-2\"\n      >\n      </sm-checkbox-control>-->\n\n      <div class=\"input-duration d-flex align-items-center\" >\n          <div class=\"input-border-duration-container pr-3 \">\n          <div class=\"d-flex align-items-center mat-datepicker-container\">\n            <input matInput\n                   class=\"input-to\"\n                   [value]=\"_lessThan.date\"\n                   [matDatepicker]=\"toPicker\"\n                   placeholder=\"Now\"\n                   (dateChange)=\"$event.value ? setCheckBox(true, 'lessThan') : null;\n                                  onDateHandler($any($event.value), '_lessThan')\"\n            >\n            <mat-datepicker-toggle matSuffix [for]=\"toPicker\"></mat-datepicker-toggle>\n            <mat-datepicker #toPicker [startAt]=\"_lessThan.date\"></mat-datepicker>\n          </div>\n        </div>\n        <div class=\"input-border-duration-container\">\n          <sm-duration-input-list\n            [durationValue]=\"_lessThan.date ? _lessThan.time || MINIMUM_TIME_DISPLAY : null\"\n            name=\"greaterThan\"\n            [inputs]=\"[{type: 'hours', placeholder: '--'}, {type: 'minutes', placeholder: '--'}]\"\n            (onDurationChanged)=\"onTimeHandler($event, '_lessThan')\"\n            [readonly]=\"!_lessThan.date\"\n            [returnFactor]=\"1000\"></sm-duration-input-list>\n        </div>\n      </div>\n      <div class=\"d-flex align-items-center pl-2\">\n        <i *ngIf=\"hasLessThanValue\"\n          [class]=\"'al-icon ' + (hasLessThanValue ? 'al-ico-dialog-x' : 'al-ico-time') + ' sm'\"\n           (click)=\"hasLessThanValue ? onResetToDateInput() : onFakeNowCheckbox()\"\n           [smTooltip]=\"hasLessThanValue ? 'Clear' : 'Autofill current time'\"\n           matTooltipPosition=\"above\"\n        ></i>\n      </div>\n    </div>\n  </div>\n</form>\n\n<sm-table-filter-duration-error *ngIf=\"hasTimeError\" [isFullWidth]=\"true\"></sm-table-filter-duration-error>\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit} from '@angular/core';\nimport {DurationParameters, TableDurationSortBase} from '../table-duration-sort.base';\nimport {TIME_IN_MILLI} from '../../../../../utils/time-util';\nimport {MAT_DATE_FORMATS, MAT_DATE_LOCALE} from '@angular/material/core';\nimport {isNil} from 'lodash/fp';\nimport {hasValue} from '../../../../../utils/helpers.util';\n\nexport const MY_DATE_FORMATS = {\n  parse: {\n    dateInput: 'DD/MM/YYYY',\n  },\n  display: {\n    dateInput: 'DD/MM/YYYY',\n    monthYearLabel: 'MMMM YYYY',\n    dateA11yLabel: 'LL',\n    monthYearA11yLabel: 'MMMM YYYY'\n  },\n};\n\ntype privateParameters = '_lessThan' | '_greaterThan';\nconst fromPrivateToGlobal = (privateParameters: privateParameters) => privateParameters.replace('_', '') as DurationParameters;\nconst fromGlobalToPrivate = (parameter: DurationParameters) => '_' + parameter.replace('_', '') as privateParameters;\nconst addUserTimezoneToIsoDate = (data) => {\n  const myDate = new Date(data);\n  const offset = myDate.getTimezoneOffset() * TIME_IN_MILLI.ONE_MIN;\n\n  const withOffset = myDate.getTime();\n  const withoutOffset = withOffset - offset;\n  return withoutOffset;\n}\n@Component({\n  selector: 'sm-table-filter-duration-date-time',\n  templateUrl: './table-filter-duration-date-time.component.html',\n  styleUrls: ['./table-filter-duration-date-time.component.scss'],\n  providers:[\n    { provide: MAT_DATE_LOCALE, useValue: 'en-GB' },\n    { provide: MAT_DATE_FORMATS, useValue: MY_DATE_FORMATS }\n\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TableFilterDurationDateTimeComponent  extends TableDurationSortBase implements OnInit {\n  _selectedDate: Date;\n  _selectedTimeInSeconds: number;\n\n  _lessThan = {\n    date: undefined,\n    time: 0\n  };\n  _greaterThan = {\n    date: undefined,\n    time: 0\n  };\n  isFakeNowCheckbox = false;\n  MINIMUM_TIME_DISPLAY = 0.001\n  constructor(cdr: ChangeDetectorRef) {\n    super(cdr);\n  }\n\n  ngOnInit(): void {\n  }\n\n  get hasGreaterThanValue() {\n    return this._greaterThan.date || this._greaterThan.time;\n  }\n  get hasLessThanValue() {\n    return this.isFakeNowCheckbox || this._lessThan.date || this._lessThan.time;\n  }\n  parseServerDataFunction(data): number {\n    if (data) {\n      return addUserTimezoneToIsoDate(data)\n    }\n    return +new Date(data || 0);\n  }\n\n  prepareDataToServerFunction(data): string | null {\n    return  isNil(data) || data === '' || isNaN(data) ? null : new Date(data).toISOString().split('.')[0];\n  }\n\n\n  _updateValue() {\n    const {lessThan: {value: lessThanValue}, greaterThan: {value: greaterThanValue}} = this;\n\n    let lessThanDate, greaterThanDate;\n\n    if (lessThanValue) {\n      lessThanDate = mutedDateToNoHourMinutesSeconds(new Date(lessThanValue));\n    }\n    if (greaterThanValue) {\n      greaterThanDate = mutedDateToNoHourMinutesSeconds(new Date(greaterThanValue));\n    }\n    const lessThanTime = lessThanValue || 0;\n    const greaterThanTime = greaterThanValue || 0;\n\n    this._lessThan = {time: getTimeInSecondsFromDate(lessThanTime), date: lessThanDate};\n    this._greaterThan = {time: getTimeInSecondsFromDate(greaterThanTime), date: greaterThanDate};\n  }\n\n  /**\n   * Handle the change in mat datepicker\n   * @param value\n   * @param valueName\n   * @param emitValue\n   */\n  onDateHandler(value: Date, valueName: privateParameters, emitValue = true): void {\n    this[valueName] = {...this[valueName], date: value};\n    if (!hasValue(value)) {\n      this[valueName] = {...this[valueName], time: null};\n      this.setCheckBox(false, fromPrivateToGlobal(valueName));\n    }else if (!hasValue(this[valueName].time) || this[valueName].time < this.MINIMUM_TIME_DISPLAY) {\n      this.onTimeHandler(this.MINIMUM_TIME_DISPLAY, valueName, false);\n    }\n    emitValue && this.combineDateAndTimeAndEmitValue(valueName);\n  }\n\n  /**\n   * Handle changed in the time component\n   * @param value\n   * @param valueName\n   * @param emitValue\n   */\n  onTimeHandler(value: number, valueName: privateParameters, emitValue = true): void {\n    this[valueName] = {...this[valueName], time: value};\n    emitValue && this.combineDateAndTimeAndEmitValue(valueName);\n  }\n\n  combineDateAndTimeAndEmitValue(valueName: privateParameters): void {\n    const {time: timeInSeconds, date} = this[valueName];\n\n    const timeObject = new Date(+date + timeInSeconds * TIME_IN_MILLI.ONE_SEC);\n\n    const parameterName = valueName.substr(1) as DurationParameters;\n    const returnDateObject = date ? +timeObject : undefined;\n\n    this.timeStampChanged(returnDateObject, parameterName);\n  }\n\n  onResetToDateInput() {\n    this.isFakeNowCheckbox = false;\n    this.onResetHandler('lessThan');\n  }\n  onResetHandler(paramName: DurationParameters): void {\n    const privateParam = fromGlobalToPrivate(paramName);\n\n    this.setCheckBox(false, paramName);\n    this.onDateHandler(null, privateParam, false);\n    this.onTimeHandler(0, privateParam);\n  }\n\n  onAutoFillCurrentTimeHandler(paramName: DurationParameters) {\n    const privateParam = `_${paramName}` as privateParameters;\n\n    let currentTime = new Date();\n\n    const timeInSecondsFromDate = getTimeInSecondsFromDate(currentTime);\n\n    this.onTimeHandler(timeInSecondsFromDate, privateParam as privateParameters, true);\n    currentTime = mutedDateToNoHourMinutesSeconds(currentTime);\n\n    this.onDateHandler(currentTime, privateParam);\n\n    return true;\n  }\n\n  onFakeNowCheckbox() {\n      this.isFakeNowCheckbox = true;\n  }\n}\n\n/**\n * Remove Seconds, Minutes and Hours from Date object\n * @param date\n */\nfunction mutedDateToNoHourMinutesSeconds(_date: Date | number) {\n  const date = new Date(_date);\n  date.setSeconds(0);\n  date.setMinutes(0);\n  date.setHours(0);\n  return date;\n}\n\n/**\n * Get how many seconds in the Date object;\n * @example getTimeInSecondsFromDate(01-01-2021 00:01:00)  => 60 seconds\n * @param _date\n */\nexport function getTimeInSecondsFromDate(_date: number | Date): number {\n  if (_date === 0) { return 0; }\n\n  const date = new Date(_date);\n  const seconds = date.getSeconds();\n  const minutes = date.getMinutes() * 60;\n  const hours = date.getHours() * 60 * 60;\n  return seconds + minutes + hours;\n}\n","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'sm-table-filter-duration-error',\n  templateUrl: './table-filter-duration-error.component.html',\n  styleUrls: ['./table-filter-duration-error.component.scss']\n})\nexport class TableFilterDurationErrorComponent implements OnInit {\n\n  @Input() hasError: boolean;\n  @Input() isFullWidth;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"error pl-4 pb-4\" [class.is-full-width]=\"isFullWidth\">When two terms are specified, the first must precede (or equal) the second</div>\n","<form class=\"filter-form p-4\" #templateForm=\"ngForm\" smClickStopPropagation smKeyDownStopPropagation [formGroup]=\"iterationsForm\">\n\n  <div>\n    <div class=\"mb-1 label\">Equals or greater than</div>\n    <div class=\"d-flex \">\n     <!-- <sm-checkbox-control\n        (formDataChanged)=\"setCheckBox($event.value, 'greaterThan')\"\n        [formData]=\"greaterThan.checked\"\n        class=\"align-self-center pr-2\"\n      >\n      </sm-checkbox-control>-->\n      <div class=\"input-border-duration-container\">\n        <div>\n          <input\n                 matInput\n                 formControlName=\"greaterThan\"\n                 type=\"number\"\n                 name=\"greaterThan\"\n          >\n        </div>\n        <div class=\"reset\">\n          <i *ngIf=\"greaterThan.value !== null\"\n             [class]=\"'al-icon al-ico-dialog-x sm'\"\n             (click)=\"iterationsForm.get('greaterThan').setValue(null)\"\n          ></i>\n        </div>\n      </div>\n\n    </div>\n  </div>\n  <sm-divider [label]=\"'and'\"></sm-divider>\n  <div>\n    <div class=\"mb-1 label\">Equals or less than</div>\n    <div class=\"d-flex \" >\n    <!--  <sm-checkbox-control\n        [formData]=\"lessThan.checked\"\n        (formDataChanged)=\"setCheckBox($event.value, 'lessThan')\"\n        class=\"align-self-center pr-2\"\n      >\n      </sm-checkbox-control>-->\n      <div class=\"input-border-duration-container\">\n        <div>\n          <input\n                   type=\"number\"\n                   formControlName=\"lessThan\"\n                   name=\"greaterThan\"\n          >\n        </div>\n        <div class=\"reset\">\n          <i *ngIf=\"lessThan.value !== null\"\n             [class]=\"'al-icon al-ico-dialog-x sm'\"\n             (click)=\"iterationsForm.get('lessThan').setValue(null)\"\n          ></i>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</form>\n\n<sm-table-filter-duration-error *ngIf=\"hasTimeError\"  [isFullWidth]=\"true\"></sm-table-filter-duration-error>\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  OnDestroy,\n  OnInit,\n} from '@angular/core';\nimport {IDurationThan, DurationParameters, TableDurationSortBase} from '../table-duration-sort.base';\nimport {FormControl, FormGroup} from '@angular/forms';\nimport {distinctUntilChanged, debounceTime, map} from 'rxjs/operators';\nimport {merge, Subscription} from 'rxjs';\nimport {isNil} from 'lodash/fp';\n\nfunction getDurationValue(data: IDurationThan) {\n  return isNil(data.value) || !data.checked ? '' : data.value;\n}\n\n\n@Component({\n  selector: 'sm-table-filter-duration-numeric',\n  templateUrl: './table-filter-duration-numeric.component.html',\n  styleUrls: ['./table-filter-duration-numeric.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n\n})\nexport class TableFilterDurationNumericComponent extends TableDurationSortBase implements OnInit, OnDestroy {\n  iterationsForm = new FormGroup( {\n    greaterThan: new FormControl(''),\n    lessThan: new FormControl('')\n  });\n  private subscription: Subscription;\n\n  constructor(cdr: ChangeDetectorRef) {\n    super(cdr);\n  }\n\n  ngOnInit(): void {\n    const greaterThan$ = this.iterationsForm.get('greaterThan').valueChanges.pipe( map (value => ({name: 'greaterThan', value})));\n    const lessThan$ = this.iterationsForm.get('lessThan').valueChanges.pipe( map (value => ({name: 'lessThan', value})));\n\n    this.subscription = merge(greaterThan$, lessThan$ )\n      .pipe(\n        debounceTime(200),\n        distinctUntilChanged()\n      )\n      .subscribe( ({value, name}: {value: number; name: DurationParameters}) => {\n        if (this[name].checked !== !!value) {\n          this.setCheckBox(!!value, name, false);\n        }\n        this.timeStampChanged(value, name);\n      });\n  }\n\n  parseServerDataFunction(data): number {\n    return +data;\n  }\n  prepareDataToServerFunction(data): string | number | null {\n    return isNil(data) || data === '' ? null : +data ;\n  }\n  _updateValue(): void {\n    const greaterThan = getDurationValue(this.greaterThan);\n    const lessThan = getDurationValue(this.lessThan);\n    this.iterationsForm.get('greaterThan').setValue(greaterThan);\n    this.iterationsForm.get('lessThan').setValue(lessThan);\n  }\n\n  ngOnDestroy() {\n    this.subscription?.unsubscribe();\n  }\n}\n","<form class=\"filter-form p-4\" #templateForm=\"ngForm\" smClickStopPropagation smKeyDownStopPropagation>\n  <div>\n    <div class=\"mb-1 label\">Equals or greater than</div>\n    <div class=\"d-flex \" >\n    <!--  <sm-checkbox-control\n        (formDataChanged)=\"setCheckBox($event.value, 'greaterThan')\"\n        [formData]=\"greaterThan.checked\"\n        class=\"align-self-center pr-2\"\n      >\n      </sm-checkbox-control>-->\n      <div class=\"input-duration\">\n        <div class=\"input-border-duration-container \">\n          <sm-duration-input-list\n            [durationValue]=\"greaterThan.value\"\n            name=\"greaterThan\"\n            [inputs]=\"['days', 'hours', 'minutes', 'seconds']\"\n            [hasResetIcon]=\"true\"\n            (onDurationChanged)=\"timeStampChanged($event > 0 ? $event : null, 'greaterThan')\"\n            (onResetIcon)=\"timeStampChanged(null, 'greaterThan')\"\n            [returnFactor]=\"1000\">\n          </sm-duration-input-list>\n        </div>\n      </div>\n    </div>\n  </div>\n  <sm-divider [label]=\"'and'\"></sm-divider>\n  <div>\n    <div class=\"mb-1 label\">Equals or less than</div>\n    <div class=\"d-flex \" >\n     <!-- <sm-checkbox-control\n        [formData]=\"lessThan.checked\"\n        (formDataChanged)=\"setCheckBox($event.value, 'lessThan')\"\n        class=\"align-self-center pr-2\"\n      >\n      </sm-checkbox-control>-->\n      <div class=\"input-duration\">\n        <div class=\"input-border-duration-container \">\n          <sm-duration-input-list name=\"lessThan\"\n                                  [ngModel]=\"lessThan.value\"\n                                  [durationValue]=\"{standalone: true}\"\n                                  [inputs]=\"['days', 'hours', 'minutes', 'seconds']\"\n                                  [returnFactor]=\"1000\"\n                                  [hasResetIcon]=\"true\"\n                                  (onResetIcon)=\"timeStampChanged(null, 'lessThan')\"\n                                  (onDurationChanged)=\"timeStampChanged($event > 0 ? $event : null, 'lessThan')\">\n          </sm-duration-input-list>\n        </div>\n      </div>\n    </div>\n  </div>\n</form>\n\n<sm-table-filter-duration-error *ngIf=\"hasTimeError\"></sm-table-filter-duration-error>\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit} from '@angular/core';\nimport {DurationParameters, TableDurationSortBase} from '../table-duration-sort.base';\nimport {isNil} from 'lodash/fp';\n\n@Component({\n  selector: 'sm-table-filter-duration',\n  templateUrl: './table-filter-duration.component.html',\n  styleUrls: ['./table-filter-duration.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n\n})\nexport class TableFilterDurationComponent extends TableDurationSortBase implements OnInit {\n\n  constructor(cdr: ChangeDetectorRef) {\n    super(cdr);\n  }\n\n  ngOnInit(): void {\n  }\n\n  _updateValue(): void {\n  }\n\n  parseServerDataFunction(data): number {\n    return +data;\n  }\n\n  prepareDataToServerFunction(data): number {\n    return isNil(data) || data === '' ? null : +data ;\n  }\n\n  timeStampChanged(value: number, name: DurationParameters) {\n    if (this[name].checked !== !!value) {\n      this.setCheckBox(!!value, name, false);\n    }\n    super.timeStampChanged(value, name);\n  }\n\n}\n","<div class=\"filter-sort-container d-flex align-items-center\" [class.active]=\"value?.length > 0 || subValue?.length > 0\">\n  <div class='d-flex pointer'>\n    <i class=\"sort-icon\" [class]=\"enableSort?  'icon sm ' + sortedClass():''\" (click)=\"switchSortOrder($event)\"></i>\n  </div>\n  <ng-template #headerWithoutFilters>\n    <div [smTooltip]=\"tooltip ? header : undefined\"\n         matTooltipPosition=\"above\"\n         class=\"menu-button pointer\"\n         [class.active]=\"isSorted\"\n         (click)=\"enableSort && switchSortOrder($event)\">{{header}}\n    </div>\n  </ng-template>\n  <ng-container *ngIf=\"enableFilter; else: headerWithoutFilters\">\n    <div\n      (click)=\"enableSort && switchSortOrder($event)\"\n      [class.pointer]=\"enableSort\"\n      [smTooltip]=\"tooltip ? header : undefined\"\n      matTooltipPosition=\"above\"\n      class=\"ellipsis menu-button\"\n      [class.active]=\"isSorted || isFiltered()\">{{header}}</div>\n    <sm-menu #menu\n             smMenuClass=\"light-theme\"\n             [enableSearch]=\"enableSearch\"\n             [fixedOptionsSubheader]=\"subOptions?.length ? fixedOptionsSubheader : ''\"\n             (searchValueChanged)=\"searchValueChanged.emit($any($event.target).value)\"\n             [searchValue]=\"searchValue\"\n             [buttonClass]=\"'table-filter-button ' + (isFiltered() ? 'active' : 'deactive')\"\n             [iconClass]=\"'icon ' + (isFiltered()? 'i-filter-on':'i-filter-off')\"\n             (menuClosed)=\"menuClosed.emit()\"\n         (menuOpened)=\"menuOpened.emit()\"\n    >\n      <ng-container [ngSwitch]=\"filterType\">\n        <sm-table-filter-duration\n          *ngSwitchCase=\"FILTER_TYPE.duration\"\n          [value]=\"value\"\n          (filterChanged)=\"filterChanged.emit($event)\"></sm-table-filter-duration>\n        <sm-table-filter-duration-numeric\n          *ngSwitchCase=\"FILTER_TYPE.durationNumeric\"\n          [value]=\"value\"\n          (filterChanged)=\"filterChanged.emit($event)\"\n        ></sm-table-filter-duration-numeric>\n        <sm-table-filter-duration-date-time\n          *ngSwitchCase=\"FILTER_TYPE.durationDate\"\n          [value]=\"value\"\n          (filterChanged)=\"filterChanged.emit($event)\"\n        ></sm-table-filter-duration-date-time>\n        <ng-container *ngSwitchDefault>\n          <div *ngIf=\"supportAndFilter\" class=\"filter-type\" smClickStopPropagation>\n            <span class=\"link mr-3\" [class.selected]=\"!andFilter\" (click)=\"toggleCombination()\">Any</span>\n            <span class=\"link\" [class.selected]=\"andFilter\" (click)=\"toggleCombination()\">All</span>\n          </div>\n          <div [class.options-section]=\"enableSearch\" smClickStopPropagation class=\"d-flex align-items-start flex-column table-filter-sort-template checkbox-list\">\n            <sm-checkbox-three-state-list\n              [supportExcludeFilter]=\"supportExcludeFilter\"\n              [options]=\"options\"\n              [checkedList]=\"value\"\n              (filterChanged)=\"emitFilterChanged($event)\"\n            ></sm-checkbox-three-state-list>\n            <div fixedOptions>\n              <sm-menu-item\n                *ngFor=\"let option of subOptions; trackBy: trackByLabel\"\n                [itemLabel]=\"option.label\"\n                [checked]=\"subValue?.includes(option.value)\" [selectable]=\"true\" [itemValue]=\"option.value\"\n                (itemClicked)=\"onSubFilterChanged($event)\"\n              ></sm-menu-item>\n            </div>\n          </div>\n        </ng-container>\n      </ng-container>\n      <div *ngIf=\"columnExplain && options.length\" class=\"column-explanation\">{{columnExplain}}</div>\n\n    </sm-menu>\n  </ng-container>\n</div>\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Input,\n  Output\n} from '@angular/core';\nimport {FormControl} from '@angular/forms';\nimport {ColHeaderFilterTypeEnum, ISmCol, TABLE_SORT_ORDER, TableSortOrderEnum} from '../table.consts';\nimport {addOrRemoveFromArray} from '../../../../utils/shared-utils';\n\n@Component({\n  selector: 'sm-table-filter-sort-template',\n  templateUrl: './table-filter-sort-template.component.html',\n  styleUrls: ['./table-filter-sort-template.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TableFilterSortTemplateComponent {\n\n  public readonly TABLE_SORT_ORDER = TABLE_SORT_ORDER;\n\n  public formControl = new FormControl();\n  header;\n  enableSort = true;\n  enableFilter: boolean;\n  enableSearch = false;\n  isSorted: boolean;\n  filterType: ColHeaderFilterTypeEnum;\n  supportAndFilter: boolean;\n  supportExcludeFilter: boolean;\n  columnExplain: string;\n  private _value: string[];\n\n  FILTER_TYPE = ColHeaderFilterTypeEnum;\n  @Input() sortOrder: { index: number; field: string; order: TableSortOrderEnum };\n\n  @Input() set column(col: ISmCol) {\n    this.header = col.header;\n    this.enableSort = col.sortable;\n    this.enableFilter = col.filterable;\n    this.enableSearch = col.searchableFilter;\n    this.filterType = col.filterType;\n    this.supportAndFilter = col.andFilter;\n    this.supportExcludeFilter = col.excludeFilter;\n    this.columnExplain = col.columnExplain;\n  }\n\n  @Input() searchValue;\n  @Input() fixedOptionsSubheader;\n\n  @Input() set value(filters: Array<string>) {\n    if (Array.isArray(filters)) {\n      this.formControl.setValue(filters);\n      this._value = filters;\n    }\n  }\n\n  get value() {\n    return this._value;\n  }\n\n  @Input() subValue: string[] = [];\n  @Input() andFilter: boolean = null;\n\n  @Input() options: Array<{ label: string; value: string; tooltip?: string }>;\n  @Input() subOptions: Array<{ label: string; value: string }>;\n  @Input() tooltip: boolean = false;\n  @Output() filterChanged = new EventEmitter();\n  @Output() subFilterChanged = new EventEmitter();\n  @Output() menuClosed = new EventEmitter();\n  @Output() menuOpened = new EventEmitter();\n  @Output() sortOrderChanged = new EventEmitter<boolean>();\n  @Output() searchValueChanged = new EventEmitter<string>();\n\n  constructor() {}\n  trackByLabel = (index: number, item) => item.label;\n\n  switchSortOrder($event: MouseEvent) {\n    this.sortOrderChanged.emit($event.shiftKey);\n  }\n\n  onSubFilterChanged(val) {\n    if (val) {\n      const newValues = addOrRemoveFromArray(this.subValue, val.itemValue);\n      this.subFilterChanged.emit({value: newValues});\n    }\n  }\n\n  isFiltered() {\n    const filtered = (this.value && this.value.length > 0) || (this.subValue && this.subValue.length > 0);\n    return filtered;\n  }\n\n  sortedClass() {\n    switch (this.sortOrder?.order) {\n      case TABLE_SORT_ORDER.DESC:\n        this.isSorted = true;\n        return 'i-sort-on-down';\n      case  TABLE_SORT_ORDER.ASC:\n        this.isSorted = true;\n        return 'i-sort-on-up';\n      default:\n        this.isSorted = false;\n        return 'i-sort-off';\n    }\n  }\n\n  toggleCombination() {\n    this.andFilter = !this.andFilter;\n    this.emitFilterChanged();\n  }\n\n  emitFilterChanged(value?: string[]) {\n    this.filterChanged.emit({\n      value: value || this.value,\n      andFilter: this.andFilter\n    });\n  }\n}\n","export function custumFilterFunc() {\n  // this._first = 0;\n  if (this.lazy) {\n    this.onLazyLoad.emit(this.createLazyLoadMetadata());\n  }\n  else {\n    if (!this.value || !this.columns) {\n      return;\n    }\n    this.filteredValue = [];\n    for (let i = 0; i < this.value.length; i++) {\n      let localMatch = true;\n      let globalMatch = false;\n      for (let j = 0; j < this.columns.length; j++) {\n        const col = this.columns[j], filterMeta = this.filters[col.filterField || col.field];\n        // local\n        if (filterMeta) {\n          const filterValue = filterMeta.value, filterField = col.filterField || col.field,\n            filterMatchMode = filterMeta.matchMode || 'startsWith',\n            dataFieldValue = this.resolveFieldData(this.value[i], filterField);\n          const filterConstraint = this.filterConstraints[filterMatchMode];\n          if (!filterConstraint(dataFieldValue, filterValue)) {\n            localMatch = false;\n          }\n          if (!localMatch) {\n            break;\n          }\n        }\n        // global\n        if (!col.excludeGlobalFilter && this.globalFilter && !globalMatch) {\n          globalMatch = this.filterConstraints['contains'](this.resolveFieldData(this.value[i], col.filterField || col.field), this.globalFilter.value);\n        }\n      }\n      let matches = localMatch;\n      if (this.globalFilter) {\n        matches = localMatch && globalMatch;\n      }\n      if (matches) {\n        this.filteredValue.push(this.value[i]);\n      }\n    }\n    if (this.filteredValue.length === this.value.length) {\n      this.filteredValue = null;\n    }\n    if (this.paginator) {\n      this.totalRecords = this.filteredValue ? this.filteredValue.length : this.value ? this.value.length : 0;\n    }\n    this.updateDataToRender(this.filteredValue || this.value);\n  }\n  this.onFilter.emit({\n    filters      : this.filters,\n    filteredValue: this.filteredValue || this.value\n  });\n}\n\nexport function custumSortSingle() {\n  if (this.value) {\n    if (this.sortColumn && this.sortColumn.sortable === 'custom') {\n      this.preventSortPropagation = true;\n      this.sortColumn.sortFunction.emit({\n        field: this.sortField,\n        order: this.sortOrder\n      });\n    }\n    else {\n      this.value.sort((data1, data2) => {\n        const value1 = this.resolveFieldData(data1, this.sortField);\n        const value2 = this.resolveFieldData(data2, this.sortField);\n        let result = null;\n        if (value1 == null && value2 != null) {\n          result = -1;\n        } else if (value1 != null && value2 == null) {\n          result = 1;\n        } else if (value1 == null && value2 == null) {\n          result = 0;\n        } else if (typeof value1 === 'string' && typeof value2 === 'string') {\n          result = value1.localeCompare(value2);\n        } else {\n          result = (value1 < value2) ? -1 : (value1 > value2) ? 1 : 0;\n        }\n        return (this.sortOrder * result);\n      });\n    }\n    // this._first = 0;\n    if (this.hasFilter()) {\n      this._filter();\n    }\n  }\n}\n","import {AfterViewInit, Directive} from '@angular/core';\nimport {ResizableColumn} from 'primeng/table';\nimport {fromEvent, Subscription} from 'rxjs';\n\n@Directive({\n  selector: '[smResizableColumn]'\n})\nexport class ResizableColumnDirective extends ResizableColumn implements AfterViewInit{\n  private sub: Subscription;\n\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    if (this.resizer) {\n      this.sub = fromEvent(this.resizer, 'dblclick').subscribe((event: MouseEvent) => {\n        const width = this.calcWidth(this.el.nativeElement);\n        const delta = width - this.el.nativeElement.offsetWidth;\n        this.dt.onColumnResizeBegin(event);\n        this.dt.onColumnResize({pageX: event.pageX + delta});\n        this.dt.onColumnResizeEnd();\n      });\n    }\n  }\n\n  ngOnDestroy(): void {\n    super.ngOnDestroy();\n    this.sub?.unsubscribe();\n  }\n\n  private calcWidth(column: HTMLTableHeaderCellElement) {\n    const index = column.cellIndex;\n    const table = this.dt;\n    const rows = [...table.el.nativeElement.getElementsByTagName('tr')] as HTMLTableRowElement[];\n\n    const dummyContainer = document.createElement('span');\n    dummyContainer.style.position = 'fixed';\n    // attach the dummy container to our table so all relevant styles will apply to it\n    table.el.nativeElement.appendChild(dummyContainer);\n\n    this.cloneItemIntoDummy(column, dummyContainer);\n    // add all relevant cells to dummy container\n    rows.forEach(row => {\n      const cells = row.getElementsByTagName('td');\n      if (cells.length > index) {\n        this.cloneItemIntoDummy(cells.item(index), dummyContainer);\n      }\n    });\n    // measure and detach container\n    const width = dummyContainer.offsetWidth;\n    table.el.nativeElement.removeChild(dummyContainer);\n\n    return width;\n  }\n\n  private cloneItemIntoDummy(eCell: HTMLElement, eDummyContainer: HTMLElement): void {\n    // shamelessly copied from ag-grid\n    // make a deep clone of the cell\n    const eCellClone: HTMLElement = eCell.cloneNode(true) as HTMLElement;\n    // the original has a fixed width, we remove this to allow the natural width based on content\n    eCellClone.style.width = '';\n    // the original has position = absolute, we need to remove this so it's positioned normally\n    eCellClone.style.position = 'static';\n    eCellClone.style.left = '';\n    // we put the cell into a containing div, as otherwise the cells would just line up\n    // on the same line, standard flow layout, by putting them into divs, they are laid\n    // out one per line\n    const eCloneParent = document.createElement('div');\n\n    // table-row, so that each cell is on a row.\n    eCloneParent.style.display = 'table-row';\n    eCloneParent.appendChild(eCellClone);\n    eDummyContainer.appendChild(eCloneParent);\n  }\n\n}\n","<p-table\n  class=\"table\"\n  dataKey=\"id\"\n  [filterDelay]=\"0\"\n  [globalFilterFields]=\"enableTableSearch? globalFilterFields: null\"\n  [scrollHeight]=\"'flex'\"\n  [autoLayout]=\"false\"\n  [columns]=\"columns\"\n  [selectionMode]=\"selectionMode\"\n  [rows]=\"rowsNumber\"\n  [value]=\"tableData\"\n  [selection]=\"selection\"\n  [reorderableColumns]=\"reorderableColumns\"\n  [resizableColumns]=\"resizableColumns && !minView\"\n  columnResizeMode=\"expand\"\n  [scrollable]=\"scrollable || resizableColumns\"\n  [virtualScroll]=\"virtualScroll\"\n  [virtualRowHeight]=\"minView ? cardHeight : rowHeight\"\n  (onColReorder)=\"onColReorder($event)\"\n  [first]=\"first\"\n  [rowHover]=\"true\"\n  [contextMenu]=\"cm\"\n  (firstChange)=\"onFirstChanged($event)\"\n  (onSort)=\"onSortChanged($event)\"\n  (onRowSelect)=\"onRowSelected($event)\"\n  (onRowUnselect)=\"onRowDeselected($event)\"\n  (onContextMenuSelect)=\"openContext($event)\"\n  (onColResize)=\"colResize($event)\"\n  [rowTrackBy]=\"trackByFunction\"\n>\n  <ng-template pTemplate=\"emptymessage\">\n    <tr class=\"no-data-row\">\n      <div [attr.colspan]=\"columns.length\" [class.simple]=\"simple\">\n        <div class=\"no-data\" [style.margin-left.px]=\"buttonLeft\">{{noDataMessage}}</div>\n      </div>\n    </tr>\n  </ng-template>\n\n  <ng-template pTemplate=\"header\" let-columns *ngIf=\"!noHeader\">\n    <tr class=\"header ui-state-default\" *ngIf=\"!minView; else cardHeader\">\n      <th *ngFor=\"let col of columns; trackBy: trackByColFn\"\n          [attr.data-col-id]=\"col.id\"\n          pReorderableColumn\n          smResizableColumn\n          [pResizableColumnDisabled]=\"col?.disableDrag\"\n          [pReorderableColumnDisabled]=\"!reorderableColumns || col?.disableDrag\"\n          [class.disable-drag]=\"!reorderableColumns || col?.disableDrag\"\n          [class.resize-enabled]=\"resizableColumns\"\n          [class.resize-disabled]=\"!resizableColumns\"\n          [class.selected-col-header]=\"col?.disablePointerEvents\"\n          [style.min-width]=\"col.style?.minWidth\"\n          [style.max-width]=\"col.style?.maxWidth\"\n          [style.flex-basis]=\"col.style?.width\"\n      >\n        <ng-container [ngSwitch]=\"col?.headerType\">\n          <ng-container *ngSwitchCase=\"ColHeaderTypeEnum.sortFilter\">\n            <ng-container *ngTemplateOutlet=\"sortFilterTemplate; context: {$implicit: col}\"></ng-container>\n          </ng-container>\n          <ng-container *ngSwitchCase=\"ColHeaderTypeEnum.checkBox\">\n            <ng-container *ngTemplateOutlet=\"checkboxTemplate; context: {$implicit: col}\"></ng-container>\n          </ng-container>\n          <ng-container *ngSwitchDefault>\n            <div class=\"col-header\" [class.text-center]=\"col.textCenter\">{{col.header}}</div>\n          </ng-container>\n        </ng-container>\n      </th>\n    </tr>\n    <ng-template #cardHeader>\n      <tr class=\"header\">\n        <th class=\"table-header\" style=\"flex-basis:100%\">\n          <div class=\"table-header-title\">{{minimizedTableHeader}}</div>\n          <div class=\"table-actions\">\n            <div class=\"recent-title\">\n              <sm-menu header=\"SORTED BY \" class=\"menu\">\n                <div *ngFor=\"let col of sortableCols\">\n                  <sm-menu-item [itemLabel]=\"col.header\"\n                                [sortOrder]=\"getOrder(col.id)\"\n                                (itemClicked)=\"sortItemClick($event, col.id)\"></sm-menu-item>\n                </div>\n              </sm-menu>\n            </div>\n            <ng-container *ngTemplateOutlet=\"cardHeaderTemplate\"></ng-container>\n          </div>\n        </th>\n      </tr>\n    </ng-template>\n  </ng-template>\n  <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-index=\"rowIndex\">\n    <tr\n      [pSelectableRow]=\"rowData\"\n      [pContextMenuRow]=\"rowData\"\n      [style.height.px]=\"minView ? this.cardHeight : this.rowHeight\"\n      [class.even]=\"(index + 1) % 2 === 0\"\n      [class.checked]=\"isRowSelected(rowData)\"\n      [class.simple]=\"simple\"\n      [class.contexted]=\"activeContextRow?.id ===rowData?.id && contextMenuOpen\"\n      [class.selected]=\"selectionMode==='single'? selection?.id === rowData?.id : selection?.includes(rowData)\"\n      [class.cards-table]=\"minView\"\n      [class.pointer]=\"!!selectionMode\"\n      (click)=\"!minView && rowClicked.emit({e: $event, data: rowData})\"\n    >\n      <ng-container *ngIf=\"!minView; else cardBody\">\n        <td\n          *ngFor=\"let col of columns; trackBy: trackByColFn; index as i\"\n          [class.ui-resizable-column]=\"resizableColumns\"\n          [class.simple]=\"simple\"\n          [style.min-width]=\"col.style?.minWidth\"\n          [style.max-width]=\"col.style?.maxWidth\"\n          [style.flex-basis]=\"col.style?.width\"\n        >\n          <ng-container *ngIf=\"bodyTemplate\">\n            <ng-container *ngTemplateOutlet=\"bodyTemplate; context: {$implicit: col, rowData: rowData, rowIndex: index}\">\n            </ng-container>\n          </ng-container>\n          <ng-container *ngIf=\"!bodyTemplate\">\n            {{getBodyData(rowData, col)}}\n          </ng-container>\n        </td>\n      </ng-container>\n     <ng-template #cardBody>\n        <td class=\"pointer p-0\" role=\"button\">\n          <ng-container\n            *ngTemplateOutlet=\"cardTemplate;  context: {rowData: rowData, rowNumber: index, selected:  (selectionMode==='single'? selection?.id === rowData.id :  selection?.includes(rowData))}\">\n          </ng-container>\n        </td>\n      </ng-template>\n    </tr>\n    <tr *ngIf=\"index === rowsNumber - 1 && lazyLoading && !noMoreData\" class=\"table-load-more\">\n      <div class=\"load-more-wrapper\">\n        <button #loadButton\n                class=\"btn btn-primary\"\n                (click)=\"loadMore()\"\n                [style.margin-left.px]=\"buttonLeft\">\n          <i *ngIf=\"loading\" class=\"load-spinner\"></i>\n          {{loading ? 'LOADING...' : 'LOAD MORE' }}\n        </button>\n      </div>\n    </tr>\n  </ng-template>\n  <ng-template pTemplate=\"footer\" let-columns>\n    <ng-container *ngTemplateOutlet=\"footerTemplate\">\n    </ng-container>\n  </ng-template>\n</p-table>\n<p-contextMenu #cm [model]=\"menuItems\" class=\"d-none\"></p-contextMenu>\n","import {\n  AfterContentInit,\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  QueryList,\n  Renderer2,\n  TemplateRef,\n  TrackByFunction,\n  ViewChild,\n  ViewChildren\n} from '@angular/core';\nimport {get} from 'lodash/fp';\nimport {MenuItem, PrimeTemplate, SortMeta} from 'primeng/api';\nimport {FilterMetadata} from 'primeng/api/filtermetadata';\nimport {ContextMenu} from 'primeng/contextmenu';\nimport {Table} from 'primeng/table';\nimport {Subject, Subscription} from 'rxjs';\nimport {filter, take, throttleTime} from 'rxjs/operators';\nimport {custumFilterFunc, custumSortSingle} from './overrideFilterFunc';\nimport {ColHeaderTypeEnum, ISmCol, TableSortOrderEnum} from './table.consts';\nimport {sortCol} from '../../../utils/tableParamEncode';\nimport {Store} from '@ngrx/store';\nimport {selectScaleFactor} from '@common/core/reducers/view.reducer';\nimport {trackById} from '@common/shared/utils/forms-track-by';\n\n@Component({\n  selector: 'sm-table',\n  templateUrl: './table.component.html',\n  styleUrls: ['./table.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TableComponent implements AfterContentInit, AfterViewInit, OnInit, OnDestroy {\n\n  public active = false;\n  public bodyTemplate: TemplateRef<any>;\n  public sortTemplate: TemplateRef<any>;\n  public cardTemplate: TemplateRef<any>;\n  public footerTemplate: TemplateRef<any>;\n  public cardHeaderTemplate: TemplateRef<any>;\n  public checkboxTemplate: any;\n  public sortFilterTemplate: any;\n  public headerTemplate: TemplateRef<any>;\n  public trackByColFn: TrackByFunction<ISmCol> = trackById;\n  private loadMoreSubscription: Subscription;\n  private loadMoreDebouncer: Subject<any>;\n  public menuItems = [] as MenuItem[];\n  minView: boolean;\n  private _filters: { [s: string]: FilterMetadata };\n\n\n  readonly ColHeaderTypeEnum = ColHeaderTypeEnum;\n  table: Table;\n  @ViewChildren(Table) public tableComp: QueryList<Table>;\n  loadButton: ElementRef<HTMLDivElement>;\n  @ViewChildren('loadButton') loadButtons: QueryList<ElementRef<HTMLDivElement>>;\n  @ViewChild('cm', {static: true}) menu: ContextMenu;\n  @ContentChildren(PrimeTemplate) templates: QueryList<any>;\n  private _tableData: any;\n  private _columnsOrder: string[];\n  public loading: boolean;\n  private scrollLeft = 0;\n  public buttonLeft: number;\n  private resizeTimer: number;\n  private scaleFactor: number;\n  private waiting: boolean;\n  private scrollContainer: HTMLDivElement;\n\n  @Input() set tableData(tableData) {\n    this.loading = false;\n    this.rowsNumber = tableData ? tableData.length : 0;\n    this._tableData = tableData;\n  }\n\n  get tableData() {\n    return this._tableData;\n  }\n\n  _columns: ISmCol[];\n\n  @Input() set columnsOrder(columnsOrder: string[]) {\n    this._columnsOrder = columnsOrder;\n    this.orderColumns();\n  }\n\n  get columnsOrder() {\n    return this._columnsOrder;\n  }\n\n  @Input() set columns(columns: ISmCol[]) {\n    this._columns = columns.filter(col => !col.hidden);\n    this.orderColumns();\n  }\n\n  get columns() {\n    return this._columns;\n  }\n\n  @Input() reorderableColumns = false;\n  @Input() resizableColumns = false;\n  @Input() scrollable = false;\n  @Input() sortOrder: TableSortOrderEnum;\n  @Input() sortFields: SortMeta[];\n  @Input() selection: any;\n  @Input() activeContextRow;\n  @Input() contextMenuOpen = false;\n  @Input() first = 0;\n  @Input() rowsNumber = 10;\n  @Input() selectionMode: 'multiple' | 'single' | null = 'single';\n  @Input() rowHeight = 48;\n  @Input() cardHeight = 90;\n  @Input() lazyLoading = false;\n  @Input() keyboardControl: boolean = false;\n  @Input() noMoreData: boolean;\n  @Input() rowHover: boolean;\n  @Input() noHeader: boolean = false;\n  @Input() simple: boolean = false;\n\n\n  @Input() set minimizedView(minView: boolean) {\n    const delay = this.minView === undefined ? 0 : 3000;\n\n    this.minView = minView;\n    if (!minView) {\n      window.setTimeout(() => this.table && this.updateFilter());\n    }\n    this.resize(delay);\n  }\n\n  @Input() set filters(filters: { [s: string]: FilterMetadata }) {\n    this._filters = filters;\n    if (!this.minView) {\n      this.table.filters = filters;\n      if (this.active) {\n        this.table.first = 0;\n        this.firstChanged.emit(0);\n      }\n    }\n  }\n\n  @Input() noDataMessage = 'No data to show';\n  @Input() checkedItems = [];\n  @Input() virtualScroll: boolean;\n  @Input() globalFilterFields: string[];\n  @Input() enableTableSearch: boolean = false;\n  @Input() minimizedTableHeader: string;\n\n  @Output() sortChanged = new EventEmitter<{ field: ISmCol['id']; isShift: boolean }>();\n  @Output() rowClicked = new EventEmitter();\n  @Output() rowSelectionChanged = new EventEmitter<{ data: Array<any>; originalEvent?: Event }>();\n  @Output() firstChanged = new EventEmitter();\n  @Output() loadMoreClicked = new EventEmitter();\n  @Output() onRowRightClick = new EventEmitter();\n  @Output() colReordered = new EventEmitter();\n  @Output() columnResized = new EventEmitter<{ columnId: string; widthPx: number }>();\n  search: string;\n\n  @HostListener('window:resize')\n  resize(delay = 50) {\n    window.clearTimeout(this.resizeTimer);\n    this.resizeTimer = window.setTimeout(() => {\n      this.updateLoadButton(null);\n      if (this.table && this.resizableColumns) {\n        const element = (this.table.el.nativeElement as HTMLDivElement);\n        let totalWidth = 0;\n        if (this.minView) {\n          const scrollableBody = element.getElementsByClassName('p-datatable-wrapper')[0];\n          const scroll = scrollableBody && scrollableBody.scrollHeight > scrollableBody.clientHeight ? 8 : 0;\n          let width = element.getBoundingClientRect().width - scroll;\n          if (this.scaleFactor) {\n            width *= this.scaleFactor / 100;\n          }\n          this.table.resizeColumnElement = element.getElementsByTagName('th')[0];\n          this.table.resizeTableCells(width, null);\n          totalWidth = width;\n        } else {\n          this.columns.forEach((col, index) => {\n            if(col.style?.width?.endsWith('px')) {\n              const colWidth = parseInt(col.style.width.slice(0, -2));\n              totalWidth += colWidth;\n              this.table.resizeColumnElement = element.getElementsByTagName('th')[index];\n              this.table.resizeTableCells(colWidth, null);\n            } else {\n              const width = element.getElementsByTagName('th')[index].getBoundingClientRect().width;\n              totalWidth += this.scaleFactor ? width * this.scaleFactor / 100 : width;\n            }\n          });\n        }\n        this.table.tableViewChild.nativeElement.style.width = `${totalWidth}px`;\n      }\n    }, delay);\n  }\n\n  @HostListener('keydown', ['$event'])\n  keyDownHandler(event: KeyboardEvent) {\n    if (this.keyboardControl === false || !['ArrowDown', 'ArrowUp'].includes(event.key)) {\n      return;\n    }\n    event.preventDefault();\n    if (event.key == 'ArrowDown') {\n      this.incrementIndex(1);\n    } else if (event.key == 'ArrowUp') {\n      this.incrementIndex((-1));\n    }\n    setTimeout(() => {\n      let selected = this.element.nativeElement.querySelectorAll('.table-card.selected');\n      if (selected.length < 1) {\n        selected = this.element.nativeElement.querySelectorAll('tr.ui-state-highlight'); // support obsolote scrolling in table\n      }\n      if (selected && selected.length === 1) {\n        selected[0].scrollIntoView({block: 'nearest', inline: 'nearest'});\n      }\n      selected = null;\n    }, 0);\n\n  }\n\n  constructor(\n    private element: ElementRef,\n    private renderer: Renderer2,\n    private cdr: ChangeDetectorRef,\n    private store: Store\n  ) {\n    this.loadMoreDebouncer = new Subject();\n    this.loadMoreSubscription = this.loadMoreDebouncer\n      .pipe(throttleTime(1500))\n      .subscribe(\n        () => this.loadMoreClicked.emit()\n      );\n\n    store.select(selectScaleFactor)\n      .pipe(filter(s => !!s), take(1))\n      .subscribe(scale => this.scaleFactor = scale);\n  }\n\n  ngOnInit(): void {\n    // In order to know if we should reset first to 0 on filter input.\n    this.active = true;\n  }\n\n  ngAfterViewInit(): void {\n    const gotTable = (item: Table) => {\n      if (!this.table) {\n        this.table = item;\n        this.scrollContainer = this.table.el.nativeElement.getElementsByClassName('p-datatable-wrapper')[0] as HTMLDivElement;\n        if (this.scrollContainer) {\n          this.scrollContainer.onscroll = (e: Event) => {\n            if (!this.waiting) {\n              this.waiting = true;\n              window.setTimeout(() => {\n                this.waiting = false;\n                this.updateLoadButton(e);\n              }, 60);\n            }\n          };\n        }\n        this.updateLoadButton(null);\n        this.updateFilter();\n      }\n    };\n\n    this.tableComp.changes\n      .pipe(filter((comps: QueryList<Table>) => !!comps.first), take(1))\n      .subscribe((comps: QueryList<Table>) => gotTable(comps.first));\n    this.tableComp.forEach(gotTable);\n    this.loadButtons.changes\n      .pipe(filter((comps: QueryList<ElementRef<HTMLDivElement>>) => !!comps.first), take(1))\n      .subscribe((comps: QueryList<ElementRef<HTMLDivElement>>) => {\n        this.loadButton = comps.first;\n        this.updateLoadButton(null);\n      });\n  }\n\n  ngAfterContentInit(): void {\n    this.templates.forEach((item) => {\n      switch (item.getType()) {\n        case 'body':\n          this.bodyTemplate = item.template;\n          break;\n        case 'header':\n          this.headerTemplate = item.template;\n          break;\n        case 'sort':\n          this.sortTemplate = item.template;\n          break;\n        case 'card':\n          this.cardTemplate = item.template;\n          break;\n        case 'sort-filter':\n          this.sortFilterTemplate = item.template;\n          break;\n        case 'checkbox':\n          this.checkboxTemplate = item.template;\n          break;\n        case 'cardFilter':\n          this.cardHeaderTemplate = item.template;\n          break;\n        case 'footer':\n          this.footerTemplate = item.template;\n          break;\n        default:\n          this.bodyTemplate = item.template;\n          break;\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.loadMoreSubscription.unsubscribe();\n    this.loadMoreDebouncer.complete();\n    this.loadMoreDebouncer.unsubscribe();\n    this.scrollContainer = null;\n    this.menu = null;\n    this.table = null;\n    this.loadButton = null;\n  }\n\n  onSortChanged(event) {\n    this.sortChanged.emit(event);\n  }\n\n  onRowSelected(event) {\n    if (this.selection && event.data.id === this.selection.id) {\n      this.rowSelectionChanged.emit({data: null, originalEvent: event.originalEvent});\n    } else {\n      this.rowSelectionChanged.emit(event);\n    }\n  }\n\n  onRowDeselected(event) {\n    if (this.minView) {\n      this.rowSelectionChanged.emit({data: null, originalEvent: event.originalEvent});\n      this.scrollToElement(event.data);\n    } else {\n      this.rowSelectionChanged.emit({data: this.table?.selection, originalEvent: event.originalEvent});\n    }\n  }\n  public scrollToIndex(index){\n    this.table.scrollToVirtualIndex(index);\n  }\n\n  public scrollToElement(data) {\n    const rowIndex = this.tableData.findIndex(row => row.id === data.id);\n    if (rowIndex > -1 && this.table) {\n      const row = this.table.el.nativeElement.getElementsByTagName('tr')[rowIndex] as HTMLTableRowElement;\n      if (row) {\n        let location = row.offsetTop;\n        if (rowIndex + 1 === this.tableData.length) {\n          location += row.getBoundingClientRect().height;\n        }\n        this.table.scrollTo({top: location, behavior: 'smooth'});\n      }\n    }\n  }\n\n  onFirstChanged(event) {\n    this.firstChanged.emit(event);\n  }\n\n  openContext(e: { originalEvent: MouseEvent; data: any }) {\n    if (this.onRowRightClick.observers.length > 0) {\n      this.onRowRightClick.emit({e: e.originalEvent, rowData: e.data});\n      if (this.table) {\n        this.table.contextMenuSelection = null;\n      }\n      window.setTimeout(() => this.menu.hide());\n    }\n  }\n\n  trackByFunction(index: number, item) {\n    return item?.id || item?.name || index;\n  }\n\n  public locateInTable() {\n    const selectedTask = this.selection;\n    const tableData = this.table.filteredValue ? this.table.filteredValue : this.table.value;\n    const rowIndex = tableData.findIndex((task) => task.id === selectedTask.id);\n    const first = rowIndex > 0 ? (rowIndex - rowIndex % 10) : 0;\n    this.first = first;\n    this.firstChanged.emit(first);\n  }\n\n  getBodyData(rowData, col) {\n    return get(col.id, rowData);\n  }\n\n  incrementIndex(change: number) {\n    const currentIndex = this.getCurrentIndex();\n    if (currentIndex == -1) {\n      return;\n    }\n    if (this.tableData.length && this.tableData.length - currentIndex < 3 && !this.noMoreData) {\n      this.loadMore();\n    }\n    const nextSelected = (this.selection) ? this.tableData[currentIndex + change] : this.tableData[0];\n    if (nextSelected) {\n      this.rowSelectionChanged.emit({data: nextSelected});\n    }\n  }\n\n  getCurrentIndex() {\n    if (this.selection) {\n      return this.tableData.findIndex((row) => row.id === this.selection.id);\n    } else {\n      return 0;\n    }\n  }\n\n  loadMore() {\n    this.loading = true;\n    this.loadMoreDebouncer.next();\n  }\n\n  onColReorder($event: any) {\n    const columnsList = $event.columns.map(column => column.id);\n    this.colReordered.emit(columnsList);\n  }\n\n  orderColumns() {\n    if (this.columns && this.columnsOrder) {\n      this.columns.sort((a, b) => sortCol(a.id, b.id, this.columnsOrder)\n      );\n    }\n  }\n\n  isRowSelected(entity: { id: any }) {\n    if (!entity) {\n      return false;\n    }\n\n    return this.checkedItems?.length > 0 &&\n      (this.checkedItems.some((selectedEntity: { id: any }) => selectedEntity.id === entity.id));\n  }\n\n  private updateLoadButton(e: Event) {\n    if (e) {\n      this.scrollLeft = (e.target as HTMLDivElement).scrollLeft;\n    }\n    if (this.table?.el?.nativeElement) {\n      this.buttonLeft = (this.table.el.nativeElement.getBoundingClientRect().width / 2) - 70 + this.scrollLeft;\n    }\n    this.cdr.detectChanges();\n  }\n\n  private updateFilter() {\n    if (this.minView) {\n      // Overriding prime ng filter and sort functions so that it wont reset first after data change.\n      this.table._filter = custumFilterFunc.bind(this.table);\n      this.table.sortSingle = custumSortSingle.bind(this.table);\n\n      this.table.filters = this._filters;\n    }\n  }\n\n  focusSelected() {\n    this.table.el.nativeElement.getElementsByClassName('selected')[0]?.focus();\n  }\n\n  colResize({delta, element}: { delta: number; element: HTMLTableHeaderCellElement }) {\n    if (delta) {\n      const width = element.clientWidth;\n      const columnId = element.attributes['data-col-id']?.value;\n      this.columnResized.emit({columnId, widthPx: width});\n      this.resize();\n      // this.updateColumnsWidth(columnId, width, delta);\n    }\n  }\n\n  updateColumnsWidth(columnId, width: number, delta: number) {\n    if (columnId) {\n      const colIndex = this.columns.findIndex(col => col.id === columnId);\n      delta = width - parseInt(this.columns[colIndex].style?.width, 10);\n      if (width < 30) {\n        width = 30;\n      }\n      this.columns[colIndex].style = {...this.columns[colIndex].style, width: `${width}px`};\n      if(this.columns[colIndex + 1]) {\n        const newWidth = parseInt(this.columns[colIndex + 1]?.style.width, 10) - delta;\n        if (newWidth < 30) {\n          this.columns[colIndex + 1].style = {...this.columns[colIndex + 1].style, width: '30px'};\n          this.columns[colIndex].style = {...this.columns[colIndex].style, width: `${width - 30 + newWidth}px`};\n        } else {\n          this.columns[colIndex + 1].style = {...this.columns[colIndex + 1].style, width: `${newWidth}px`};\n        }\n      }\n    }\n    this.columns.forEach((col) => {\n      this.columnResized.emit({columnId: col.id, widthPx: parseInt(col.style.width, 10)});\n    });\n  }\n\n  get sortableCols() {\n    return this.columns.filter(col => col.sortable);\n  }\n\n  sortItemClick($event: { event?: MouseEvent; itemValue: string }, colId: string) {\n    this.sortChanged.emit({isShift: $event.event.shiftKey, field: colId});\n  }\n\n  getOrder(colId: string) {\n    return this.sortFields.find(field => field.field === colId)?.order;\n  }\n}\n","export enum ColHeaderTypeEnum {\n  sort       = 'sort',\n  sortFilter = 'sort-filter',\n  checkBox   = 'checkbox',\n  title      = 'none'\n}\nexport enum ColHeaderFilterTypeEnum {\n  duration        = 'duration',         // days-hours-minutes\n  durationNumeric = 'duration-numeric', // number\n  durationDate    = 'duration-date',    // DD-MM-YYYY hours:minutes\n}\n\nexport type TableSortOrderEnum = 1 | -1;\nexport const TABLE_SORT_ORDER = {\n  ASC : 1 as TableSortOrderEnum,\n  DESC: -1 as TableSortOrderEnum,\n};\n\ndeclare type FilterMatchModeEnum = 'startsWith' | 'contains' | 'endsWidth' | 'equals' | 'notEquals' | 'in';\n\n\nexport interface ISmCol {\n  id: string; // unique id, by default, will be use as the table data param (e.g name and data[name]).\n  getter?: string | string[];\n  header?: string; // the title header.\n  label?: string; // Labels to show in cards mode..\n  hidden?: boolean; // the column visibility.\n  static?: boolean;\n  headerType?: ColHeaderTypeEnum;\n  filterType?: ColHeaderFilterTypeEnum;\n  sortable?: boolean; // determine if the column shell be sortable\n  searchableFilter?: boolean;\n  filterable?: boolean; // determine if the column shell be filterable\n  isFiltered?: boolean; // deprecated.\n  isSorted?: boolean; // deprecated.\n  filterMatchMode?: FilterMatchModeEnum; // the filter method.\n  style?: {width?: string; minWidth?: string; maxWidth?: string}; // the column style.\n  headerStyleClass?: string; // the header css class name.\n  bodyTemplateRef?: string; // redundant.\n  bodyStyleClass?: string;\n  disableDrag?: boolean; // Disable drag on this col\n  disablePointerEvents?: boolean; // Disable pointer events for this col header (for selection col)\n  metric_hash?: string;\n  variant_hash?: string;\n  isParam?: boolean;\n  valueType?: string;\n  projectId?: string;\n  textCenter?: boolean;\n  andFilter?: boolean;\n  excludeFilter?: boolean;\n  columnExplain?: string;\n}\n","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'sm-vertical-labeled-row',\n  templateUrl: './vertical-labeled-row.component.html',\n  styleUrls: ['./vertical-labeled-row.component.scss']\n})\nexport class VerticalLabeledRowComponent implements OnInit {\n  @Input() label: string;\n  @Input() showRow? = true;\n  @Input() labelClass: string;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","<div class=\"labeled-row\">\n  <div class=\"label\">{{label}}</div>\n  <div class=\"value ellipsis\">\n    <ng-content></ng-content>\n  </div>\n</div>\n\n","import {createAction, props} from '@ngrx/store';\n\nexport interface ColorPreference {\n  [key: string]: number[];\n}\n\nexport interface ColorPickerProps {\n  top: number;\n  left: number;\n  theme: string;\n  defaultColor: string;\n  cacheKey: string;\n  alpha?: boolean;\n}\n\nexport const CHOOSE_COLOR_PREFIX          = 'CHOOSE_COLOR_';\n\nexport const addUpdateColorPreferences = createAction(\n  CHOOSE_COLOR_PREFIX + 'ADD_UPDATE_COLOR_PREFERENCES',\n  props<ColorPreference>()\n);\n\nexport const showColorPicker = createAction(\n  CHOOSE_COLOR_PREFIX + 'SHOW_PICKER',\n  props<ColorPickerProps>()\n);\n","import {Directive, ElementRef, HostListener, Input} from '@angular/core';\nimport {ColorHashService} from '../../../services/color-hash/color-hash.service';\nimport {normalizeColorToString} from '../../../services/color-hash/color-hash.utils';\nimport {Store} from '@ngrx/store';\nimport {showColorPicker} from './choose-color.actions';\n\n@Directive({\n  selector: '[smChooseColor]',\n})\nexport class ChooseColorDirective {\n  readonly colorTopOffset    = 100;\n  readonly colorPickerWidth  = 230;\n  readonly colorPickerHeight = 460 - this.colorTopOffset;\n  @Input() colorButtonRef;\n  @Input() colorButtonClass: string;\n  @Input() stringToColor: string;\n  @Input() colorPickerWithAlpha: boolean = false;\n  private _defaultColor: number[];\n  private defaultColorString: string;\n\n  @Input() set defaultColor(defaultColor: number[]) {\n    this._defaultColor = defaultColor;\n    this.defaultColorString = normalizeColorToString(defaultColor);\n  }\n\n  get defaultColor() {\n    return this._defaultColor;\n  }\n\n  @HostListener('mousedown', ['$event'])\n  public onMouseDown(event: MouseEvent): void {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  @HostListener('click', ['$event'])\n  public onClick(event: MouseEvent): void {\n    const elementsWithClass = this.colorButtonClass ? Array.from(this.el.nativeElement.querySelectorAll(this.colorButtonClass)) : [];\n    const matchingEl        = elementsWithClass.find(el => el === event.target);\n    const matchingRef       = this.colorButtonRef && this.colorButtonRef.nativeElement ? this.colorButtonRef.nativeElement : this.colorButtonRef;\n\n    if (matchingEl || matchingRef === event.target) {\n      event.stopPropagation();\n      this.openColorPicker(event);\n    }\n  }\n\n  constructor(private el: ElementRef, private store: Store<any>) {}\n\n  openColorPicker(event: MouseEvent) {\n    let top = event.pageY - (this.colorPickerHeight / 3);\n    let left = event.pageX;\n    if (event.pageY + this.colorPickerHeight >= (window.innerHeight || document.documentElement.clientHeight)) {\n      top = (event.pageY) - this.colorPickerHeight;\n    }\n    if (event.clientX + this.colorPickerWidth >= (window.innerWidth || document.documentElement.clientWidth)) {\n      left = (event.clientX) - this.colorPickerWidth;\n    }\n\n    this.store.dispatch(showColorPicker({\n      top,\n      left,\n      theme: 'light',\n      defaultColor: this.defaultColorString,\n      cacheKey: this.stringToColor,\n      alpha: this.colorPickerWithAlpha\n    }));\n    event.stopPropagation();\n  }\n\n}\n\nexport const attachColorChooser = (text: string, buttonElement: Element, colorHash: ColorHashService, store: Store<any>, withAlpha?: boolean) => {\n  const directive = new ChooseColorDirective(new ElementRef(buttonElement), store);\n  directive.colorButtonRef = new ElementRef(buttonElement);\n  directive.stringToColor  = text;\n  directive.colorPickerWithAlpha = withAlpha;\n  const listener = (e: MouseEvent) => {\n    directive.defaultColor = colorHash.initColor(text);\n    directive.openColorPicker(e);\n  };\n  buttonElement.removeEventListener('click', listener);\n  buttonElement.addEventListener('click', listener);\n};\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {ChooseColorDirective} from './choose-color.directive';\nimport {ColorPickerWrapperComponent} from '../../inputs/color-picker/color-picker-wrapper.component';\nimport {ColorPickerModule} from 'ngx-color-picker';\nimport {SMPortalModule} from '../../../portal/portal.module';\nimport {StoreModule} from '@ngrx/store';\nimport {colorPreferenceReducer} from './choose-color.reducer';\n\n\nexport const colorSyncedKeys    = [\n  'colorPreferences',\n];\n\nconst _declarations = [\n  ChooseColorDirective,\n  ColorPickerWrapperComponent\n];\n\n@NgModule({\n  providers      : [\n    ChooseColorDirective,\n  ],\n  declarations   : _declarations,\n  imports        : [\n    CommonModule,\n    ColorPickerModule,\n    SMPortalModule,\n    StoreModule.forFeature('colorsPreference', colorPreferenceReducer),\n  ],\n  exports        : _declarations\n})\nexport class ChooseColorModule {\n}\n","import {Action, createReducer, createSelector, on} from '@ngrx/store';\nimport {addUpdateColorPreferences, ColorPickerProps, ColorPreference, showColorPicker} from './choose-color.actions';\n\nexport interface ColorPreferenceState {\n  colorPreferences: ColorPreference;\n  pickerProps: ColorPickerProps;\n}\n\nexport const initialState: ColorPreferenceState = {\n  colorPreferences: null,\n  pickerProps: null\n};\n\nexport const colors = state => state.colorsPreference as ColorPreferenceState;\nexport const selectColorPreferences = createSelector(colors, state => state.colorPreferences);\nexport const selectColorPickerProps = createSelector(colors, state => state.pickerProps);\n\nconst reducer = createReducer(\n  initialState,\n  on(addUpdateColorPreferences, (state, action) => ({...state, colorPreferences: {...state.colorPreferences, ...action}})),\n  on(showColorPicker, (state , action) => ({...state, pickerProps: action}))\n);\n\nexport function colorPreferenceReducer(state: ColorPreferenceState | undefined, action: Action) {\n  return reducer(state, action);\n}\n","import {Directive, HostListener} from '@angular/core';\n\n@Directive({\n  selector: '[smClickStopPropagation]'\n})\nexport class ClickStopPropagationDirective {\n  @HostListener('click', ['$event'])\n  public onClick(event: any): void {\n    event.stopPropagation();\n  }\n}\n","import {AfterViewInit, Directive, ElementRef, HostListener} from '@angular/core';\n\n@Directive({\n  selector: '[smEllipsisMiddleDirective]'\n})\nexport class EllipsisMiddleDirective implements AfterViewInit {\n  private timeoutSubscription: NodeJS.Timer;\n\n  constructor(private el: ElementRef) {\n  }\n\n  ngAfterViewInit(): void {\n    this.cropTextToFit(this.el);\n  }\n\n  @HostListener('window:resize')\n  onResize() {\n    clearTimeout(this.timeoutSubscription);\n    this.timeoutSubscription = setTimeout(this.cropTextToFit.bind(this, this.el), 75);\n  }\n\n  private cropTextToFit = (el: ElementRef) => {\n    const o = el.nativeElement;\n    let txt = o.innerText;\n\n    while (o.scrollWidth > o.clientWidth && txt.length > 0) {\n      txt = txt.substring(0, txt.length / 2 - 1) + txt.substring(txt.length / 2 + 1, txt.length);\n      o.innerHTML = txt.substring(0, txt.length / 2) + '...' + txt.substring(txt.length / 2, txt.length);\n    }\n  };\n}\n\n\n","import { Directive } from '@angular/core';\nimport { ElementRef } from '@angular/core';\nimport { EventEmitter } from '@angular/core';\nimport { OnDestroy } from '@angular/core';\nimport { OnInit } from '@angular/core';\nimport { NgZone } from '@angular/core';\nimport { Renderer2 } from '@angular/core';\n\n\n@Directive({\n  selector: '[smHesitate]',\n  inputs: [ 'delay', 'action' ],\n  outputs: [ 'hesitateEvents: smHesitate' ],\n  exportAs: 'hesitate'\n})\nexport class HesitateDirective implements OnInit, OnDestroy {\n  public delay: number;\n  public action = 'enter' as 'enter' | 'leave';\n  public hesitateEvents: EventEmitter<void>;\n\n  private elementRef: ElementRef;\n  private renderer: Renderer2;\n  private listeners: (() => void)[] | null;\n  private timer: number;\n  private zone: NgZone;\n  public hesitateStatus = false;\n\n  // I initialize the hesitate directive.\n  constructor(\n    elementRef: ElementRef,\n    renderer: Renderer2,\n    zone: NgZone\n  ) {\n    this.elementRef = elementRef;\n    this.renderer = renderer;\n    this.zone = zone;\n\n    this.delay = 2000;\n    this.hesitateEvents = new EventEmitter();\n    this.timer = 0;\n    this.listeners = null;\n  }\n\n  // I cancel any pending hesitation timer.\n  // --\n  // NOTE: This is method is PUBLIC so that it may be consumed as part of the EXPORTED\n  // API in the View of the calling context.\n  public cancel(): void {\n    this.hesitateStatus = false;\n    clearTimeout( this.timer );\n  }\n\n  // I get called once when the host element is being unmounted.\n  public ngOnDestroy(): void {\n    this.cancel();\n    // If we have event-handler bindings, unbind them all.\n    if ( this.listeners ) {\n      for ( const listener of this.listeners ) {\n        listener();\n      }\n    }\n  }\n\n  // I get called once after the host element has been mounted and the inputs have been\n  // bound for the first time.\n  public ngOnInit(): void {\n    // Instead of using host bindings, which would trigger change-detection digests\n    // when the events are triggered, we want to drop-down out of the core NgZone so\n    // that we can setup our event-handlers without adding processing overhead.\n    if (this.action === 'enter') {\n      this.zone.runOutsideAngular(\n        () => {\n          this.listeners = [\n            this.renderer.listen(this.elementRef.nativeElement, 'mouseenter', this.handleMouseenter),\n            this.renderer.listen(this.elementRef.nativeElement, 'mousedown', this.handleMousedown),\n            this.renderer.listen(this.elementRef.nativeElement, 'mouseleave', this.handleMouseleave)\n          ];\n        }\n      );\n    } else {\n      this.zone.runOutsideAngular(\n        () => {\n          this.listeners = [\n            this.renderer.listen(this.elementRef.nativeElement, 'mouseenter', this.handleMouseleave),\n            this.renderer.listen(this.elementRef.nativeElement, 'mousedown', this.handleMousedown),\n            this.renderer.listen(this.elementRef.nativeElement, 'mouseleave', this.handleMouseenter)\n          ];\n        }\n      );\n\n    }\n  }\n\n  // I handle the mousedown event inside the host element.\n  // --\n  // CAUTION: Currently OUTSIDE the core NgZone.\n  private handleMousedown = ( event: MouseEvent ): void => {\n    // If the user shows any mouse-activity (other than enter/leave) inside the host\n    // element, we want to cancel the hesitation timer. Such mouse activity indicates\n    // non-hesitation intent on behalf of the user.\n    this.cancel();\n  };\n\n\n  // I handle the mouseevent event inside the host element.\n  // --\n  // CAUTION: Currently OUTSIDE the core NgZone.\n  private handleMouseenter = ( event: MouseEvent ): void => {\n    // When the user enters the host, start the hesitation timer. This timer will be\n    // fulfilled if the user remains inside of the host without performing any other\n    // meaningful actions.\n    this.hesitateStatus = true;\n    this.timer = window.setTimeout( this.handleTimerThreshold, this.delay );\n  };\n\n\n  // I handle the mouseleave event inside the host element.\n  // --\n  // CAUTION: Currently OUTSIDE the core NgZone.\n  private handleMouseleave = ( event: MouseEvent ): void => {\n    this.cancel();\n  };\n\n\n  // I handle the timer threshold event.\n  // --\n  // CAUTION: Currently OUTSIDE the core NgZone.\n  private handleTimerThreshold = (): void => {\n    // Once the hesitation timer threshold has been surpassed, we want to trigger an\n    // output event. This time, however, we want to trigger Angular change-detection.\n    // As such, we have set up into the Angular zone for the emission.\n    this.zone.runGuarded(\n      () => {\n        this.hesitateEvents.emit();\n      }\n    );\n  };\n}\n","import {Directive, HostListener} from '@angular/core';\n\n@Directive({\n  selector: '[smKeyDownStopPropagation]'\n})\nexport class KeydownStopPropagationDirective {\n  @HostListener('keydown', ['$event'])\n  public onClick(event: any): void {\n    event.stopPropagation();\n  }\n}\n","import {AfterViewInit, Directive, ElementRef, EventEmitter, Input, OnDestroy, Output} from '@angular/core';\nimport {fromEvent, Subject, timer} from 'rxjs';\nimport {debounceTime, takeUntil} from 'rxjs/operators';\n\nconst isElementOverflow = ({ clientWidth, clientHeight, scrollWidth, scrollHeight }) =>\n  Math.abs(scrollHeight - clientHeight) > 2 || Math.abs(scrollWidth - clientWidth) > 2;\n\n@Directive({\n  selector: '[smOverflows]'\n})\nexport class OverflowsDirective implements AfterViewInit, OnDestroy {\n  @Output() onOverflows = new EventEmitter<boolean>();\n\n  @Input()  set smOverflows(name) {\n    this.isEllipsisWithTimeDelay();\n  }\n\n  private onDestroySubscription$ = new Subject();\n  private readonly host: Element;\n  public lastResult;\n  constructor(_host: ElementRef) {\n    this.host = _host.nativeElement;\n  }\n\n  ngAfterViewInit(): void {\n    fromEvent(window, 'resize')\n      .pipe(\n        debounceTime(50),\n        takeUntil(this.onDestroySubscription$)\n      )\n      .subscribe(() => this.isEllipsis());\n  }\n\n  private isEllipsisWithTimeDelay(delay = 100) {\n    timer(delay).subscribe(() => this.isEllipsis());\n  }\n  private isEllipsis() {\n    if (this.host.textContent !== '') {\n      const hasOverflow = isElementOverflow(this.host);\n      if (hasOverflow !== this.lastResult) {\n        this.onOverflows.emit(hasOverflow);\n        this.lastResult = hasOverflow;\n      }\n    }\n  }\n  ngOnDestroy() {\n    this.onDestroySubscription$.next();\n  }\n}\n","import {EventEmitter, Input, OnDestroy, OnInit, Output, Directive} from '@angular/core';\nimport {ImmutableForm} from './immutableForm.model';\nimport {ValidatorFn} from '@angular/forms';\nimport {isEmpty, isEqual} from 'lodash/fp';\n\n@Directive()\nexport class ImmutableFormField implements OnInit, OnDestroy, ImmutableForm {\n  protected _formData;\n\n  @Input() set formData(formData: any) {\n    this._formData = formData;\n    this.formDataUpdated(formData);\n  }\n\n  get formData() {\n    return this._formData;\n  }\n\n  @Input() fieldName: string;\n  @Input() errors: Map<string, boolean> = <Map<string, boolean>>{};\n  @Input() header: string; // the input title.\n  @Input() placeHolder: string = ''; // the input title.\n  @Input() validators: Array<ValidatorFn>;\n  @Input() showErrors: boolean = true; // boolean to determine when the errors should be displayed.\n  @Input() isReadonly: boolean;\n  @Input() inputClassName: string = 'form-control';\n  @Input() readonlyClassName: string;\n  @Input() readonlyLabel: string;\n  @Input() disabled: boolean;\n  // a map of the error messages for each error when the key is the error key and the value is the error message.\n  @Input() errorMessages;\n\n  @Output() formDataChanged = new EventEmitter<{ field: string; value: any; event: Event }>();\n  @Output() errorsChanged = new EventEmitter<{ field: string; errors: Map<string, boolean> }>();\n\n  ngOnInit() {\n    // if (!this.fieldName) {\n    //   console.error('please specify field name');\n    // }\n    this.checkValidity(this.formData);\n  }\n\n  ngOnDestroy() {\n    this.errorsChanged.emit({field: this.fieldName, errors: null});\n  }\n\n  fieldValueChanged(value, event) {\n    this.checkValidity(value);\n    this.formDataChanged.emit({field: this.fieldName, value: value, event});\n  }\n\n  hasErrors() {\n    return !isEmpty(this.errors);\n  }\n\n  getCurrentError() {\n    if (!this.showErrors || !this.errors || !this.errorMessages) {\n      return '';\n    }\n    const activeErrors = this.errors;\n    return activeErrors ? this.errorMessages[Object.keys(activeErrors)[0]] : null;\n  }\n\n  checkValidity(newValue) {\n    if (this.validators) {\n      let errors = <Map<string, boolean>>{};\n      this.validators.forEach(validatorFn => {\n        const err = validatorFn(<any>{value: newValue});\n        errors = err ? {...errors, ...err} : errors;\n      });\n\n      errors = isEmpty(errors) ? null : errors;\n\n      if (!isEqual(errors, this.errors)) {\n        this.errorsChanged.emit({field: this.fieldName, errors});\n      }\n    }\n  }\n\n  formDataUpdated(formData) {\n  }\n\n}\n","<span class=\"layout\"\n      [ngClass]=\"inputClassName\"\n      [class.disabled]=\"disabled\"\n      (click)=\"fieldValueChanged($event)\"\n>\n  <span\n    *ngIf=\"!isReadonly\"\n    role=\"button\"\n    class=\"purple-v\"\n    [ngClass]=\"inputClassName\"\n    [class.checked] = \"state === 'All' || state === 'Partial'\"\n    [class.readonly] = \"isReadonly\"\n    [smTooltip]=\"getCurrentError()\"\n    tooltipType='validation'\n    [showTooltip]=\"showErrors\"\n  >\n    <i class=\"fas\" [ngClass]=\"{\n    'fa-plus': special && !formData,\n    'fa-trash fa-sm': special && !!formData,\n    'al-ico fa-sm al-color white al-ico-completed': state === 'All',\n    spacer: state === 'None',\n    'fa-minus': state === 'Partial'\n    }\">\n    </i>\n  </span>\n  <span\n    *ngIf=\"label\"\n    [class]=\"readonlyClassName + ' checkbox-label ellipsis'\"\n    [ngClass]=\"isReadonly ? '' : 'pointer'\"\n  >{{label}}\n  </span>\n</span>\n","import {ChangeDetectionStrategy, Component, Input, AfterViewInit, ChangeDetectorRef} from '@angular/core';\nimport {ImmutableFormField} from '../immutableFormField';\nimport {isString} from 'lodash/fp';\nimport {TableSelectionState} from '../../../../constants';\n\n@Component({\n  selector: 'sm-checkbox-control',\n  templateUrl: './checkbox-control.component.html',\n  styleUrls: ['./checkbox-control.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CheckboxControlComponent extends ImmutableFormField implements AfterViewInit {\n\n  public special = false;\n  public state: TableSelectionState = null;\n\n  @Input() label: string;\n\n  constructor(private cdr: ChangeDetectorRef) {\n    super();\n    this.inputClassName = '';\n  }\n\n  ngAfterViewInit() {\n    this.formDataUpdated(null);\n  }\n\n  fieldValueChanged(event) {\n    if (this.disabled) {\n      return;\n    }\n    event.stopPropagation();\n\n    if (!this.isReadonly) {\n      super.fieldValueChanged(!this.formData, event);\n    }\n    // this.formDataChanged.emit({field: this.fieldName, value: !this.formData});\n  }\n\n  formDataUpdated(formData) {\n    if (this.inputClassName === 'add-or-remove') {\n      this.special = true;\n      this.state = null;\n    } else if (!isString(this.formData)) {\n      this.state = this.formData === true ? 'All' : 'None';\n    } else {\n      this.state = <TableSelectionState>this.formData;\n    }\n    this.cdr.detectChanges();\n  }\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {CircleTypeEnum} from '../../../../../shared/constants/non-common-consts';\n\n\n@Component({\n  selector: 'sm-circle-counter',\n  templateUrl: './circle-counter.component.html',\n  styleUrls: ['./circle-counter.component.scss']\n})\nexport class CircleCounterComponent implements OnInit {\n  @Input() counter: any;\n  @Input() label: string;\n  @Input() underLabel: string;\n  @Input() type: CircleTypeEnum = CircleTypeEnum.empty;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n}\n","<div class=\"counter-container\">\n  <div [class]=\"'circle-counter ' + type\">\n    <div class=\"counter\">{{counter | numberToK}}</div>\n  </div>\n  <div class=\"counter-label\">{{label}}</div>\n  <div class=\"counter-label leave-space\">{{underLabel}}</div>\n</div>\n","<div class=\"counter-container\">\n  <div [class]=\"'d-flex justify-content-center align-items-center circle ' + (status || type)\">\n    <i *ngIf=\"status\" [class]=\"'icon sm-md white i-'+ status\"></i>\n    <i *ngIf=\"type\" [class]=\"'al-icon xl al-color white al-ico-type-'+ type.replace('_', '-')\"></i>\n  </div>\n  <div class=\"counter-label\">{{EXPERIMENTS_STATUS_LABELS[(status|| type)]}}</div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {TaskStatusEnum} from '../../../../../business-logic/model/tasks/taskStatusEnum';\nimport {EXPERIMENTS_STATUS_LABELS} from '../../../../../shared/constants/non-common-consts';\nimport {TaskTypeEnum} from '../../../../../business-logic/model/tasks/taskTypeEnum';\n\n\n@Component({\n  selector   : 'sm-circle-status',\n  templateUrl: './circle-status.component.html',\n  styleUrls  : ['./circle-status.component.scss']\n})\nexport class CircleStatusComponent {\n  @Input() status: TaskStatusEnum;\n  @Input() type: TaskTypeEnum;\n  public readonly EXPERIMENTS_STATUS_LABELS = EXPERIMENTS_STATUS_LABELS;\n}\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, Input} from '@angular/core';\n\n@Component({\n  selector   : 'sm-copy-clipboard',\n  templateUrl: './copy-clipboard.component.html',\n  styleUrls  : ['./copy-clipboard.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CopyClipboardComponent {\n\n  @Input() clipboardText: string;\n  @Input() disabled = false;\n  @Input() label: string = 'Copy to clipboard';\n  @Input() tooltipText = 'Copy to clipboard';\n  @Input() hideBackground = false;\n  @Input() theme: string;\n  @Input() copyIcon: string;\n\n  public copied = false;\n\n  constructor(private cdr:ChangeDetectorRef) {\n  }\n\n  copyToClipboard() {\n    this.copied = true;\n    this.cdr.detectChanges();\n    setTimeout(() => {\n      this.copied = false;\n      this.cdr.detectChanges();\n    }, 5000);\n  }\n\n}\n","<button smTooltip=\"{{tooltipText}}\"\n        [matTooltipPosition]=\"'above'\"\n        type=\"button\"\n        ngxClipboard\n        smClickStopPropagation\n        class=\"btn btn-primary\"\n        [class]=\"theme\"\n        [class.hideBackground]=\"hideBackground\"\n        [cbContent]=\"clipboardText\"\n        [disabled]=\"disabled\"\n        (cbOnSuccess)=\"copyToClipboard()\"\n>\n  <i class=\"al-icon sm-md\" [class]=\"copied ? 'al-ico-success' : copyIcon || 'al-ico-copy-to-clipboard'\" [class.mr-2]=\"label\"></i>\n  <span>{{label}}</span>\n</button>\n","import {Component, ElementRef, Input, Renderer2} from '@angular/core';\n\n@Component({\n  selector: 'sm-divider',\n  template: `\n    <span class=\"\">{{label}}</span>\n  `,\n  styleUrls: ['./divider.component.scss']\n})\nexport class DividerComponent {\n\n  @Input() label: string;\n\n  @Input() set width(width: number) {\n    this.setCssVar('width', width);\n  }\n\n  @Input() set margin(margin: number) {\n    this.setCssVar('margin', margin);\n  }\n\n  constructor(private element: ElementRef,\n              private renderer: Renderer2) {\n  }\n\n  setCssVar(name: string, valueInPx: number) {\n    this.renderer.setProperty(this.element.nativeElement, 'style', `--${name}: ${valueInPx}px`);\n  }\n}\n\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {addMessage} from '../../../../core/actions/layout.actions';\nimport {MESSAGES_SEVERITY} from '../../../../../app.constants';\nimport {Store} from '@ngrx/store';\nimport {ThemeEnum} from '../../../../experiments/shared/common-experiments.const';\nimport { last } from 'lodash/fp';\n\n@Component({\n  selector   : 'sm-snippet-error',\n  templateUrl: './snippet-error.component.html',\n  styleUrls  : ['./snippet-error.component.scss']\n})\n\n\nexport class SnippetErrorComponent implements OnInit {\n\n\n  constructor(private store: Store<any>) {\n  }\n\n  @Output() openImageClicked = new EventEmitter();\n  private _copyContent: string;\n  public baseFile: string;\n  @Input() set copyContent(content: string) {\n    this._copyContent = content;\n    this.baseFile = last(content?.split('/') || '');\n  }\n  get copyContent() {\n    return this._copyContent;\n  }\n\n  @Input() theme: ThemeEnum = ThemeEnum.Dark;\n  public ThemeEnum           = ThemeEnum;\n\n  ngOnInit() {\n  }\n\n  copyToClipboardSuccess(success: boolean) {\n    this.store.dispatch(addMessage(success ? MESSAGES_SEVERITY.SUCCESS : MESSAGES_SEVERITY.ERROR, success ? 'Path copied to clipboard' : 'No path to copy'));\n  }\n\n}\n","<div class=\"frame text-center\" [ngClass]=\"{\n'dark-theme':theme===ThemeEnum.Dark,\n'light-theme': theme===ThemeEnum.Light\n}\" >\n  <div class=\"labeled-icon\">\n    <i class=\" mb-3 al-icon xl al-ico-alert-outline al-color \" [ngClass]=\"{\n    'light-grey-blue': theme=== ThemeEnum.Light,\n    'neon-yellow': theme===ThemeEnum.Dark\n   }\"></i>\n    <div class=\"label\">Unable to load image</div>\n    <div class=\"label\">{{baseFile}}</div>\n  </div>\n  <div class=\"d-flex justify-content-between buttons-footer align-items-center\">\n    <div class=\"clickable-icon d-flex align-items-center justify-content-center pointer\"\n         ngxClipboard\n         smTooltip=\"Copy Image URL\"\n         [cbContent]=\"copyContent\"\n         (cbOnSuccess)=\"copyToClipboardSuccess(true)\">\n      <i class=\"fas fa-copy\"></i>\n    </div>\n    <div class=\"clickable-icon d-flex align-items-center justify-content-center pointer\"\n         smTooltip=\"Open Image\"\n         (click)=\"openImageClicked.emit()\"\n    >\n      <i class=\"fas fa-external-link-alt\"></i>\n    </div>\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector   : 'sm-tag',\n  templateUrl: './tag.component.html',\n  styleUrls  : ['./tag.component.scss']\n})\nexport class TagComponent implements OnInit {\n  @Input() label: string;\n  @Input() className: string;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n}\n","<span [class]=\"(className ? className : '') + ' tag'\">\n  {{label}}\n</span>\n","import {Directive, Input} from '@angular/core';\nimport {MAT_TOOLTIP_DEFAULT_OPTIONS, MatTooltip, MatTooltipDefaultOptions} from '@angular/material/tooltip';\n\nexport type TooltipTypeEnum = 'help' | 'validation' | 'error';\n\n@Directive({\n  selector: '[smTooltip]',\n  providers: [\n    {\n      provide: MAT_TOOLTIP_DEFAULT_OPTIONS,\n      useValue: {position: 'after'} as MatTooltipDefaultOptions\n    }\n  ]\n})\nexport class TooltipDirective extends MatTooltip {\n\n  public readonly TOOLTIP_TYPE = {\n    HELP: 'help' as TooltipTypeEnum,\n    VALIDATION: 'validation' as TooltipTypeEnum,\n    ERROR: 'error' as TooltipTypeEnum,\n  };\n\n  @Input() set smTooltip(message) {\n    this.tooltipClass = `sm-tooltip ${this.tooltipType} ${this.customClass}`;\n    this.message = message;\n  }\n\n  @Input() tooltipType: TooltipTypeEnum = 'help';\n  @Input() customClass: string;\n\n  @Input() set showTooltip(show) {\n    show && this.show();\n  }\n\n  @Input() showDelay = 0;\n\n}\n","<mat-button-toggle-group [formControl]=\"formControl\" name=\"fontStyle\" aria-label=\"Font Style\">\n  <mat-button-toggle *ngFor=\"let option of options\" [value]=\"option.value\">{{option.label}}</mat-button-toggle>\n</mat-button-toggle-group>\n","import {ChangeDetectionStrategy, Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {FormControl} from '@angular/forms';\nimport {distinctUntilChanged} from 'rxjs/operators';\n\n@Component({\n  selector       : 'sm-button-toggle',\n  templateUrl    : './button-toggle.component.html',\n  styleUrls      : ['./button-toggle.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ButtonToggleComponent implements OnInit {\n\n  public formControl = new FormControl();\n  private valueChangesSubs: any;\n\n  @Input() options: Array<{ value: any; label: string; icon?: string }>;\n\n  @Input() set value(value: any) {\n    this.formControl.setValue(value);\n  }\n\n  @Output() valueChanged = new EventEmitter();\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    this.valueChangesSubs = this.formControl.valueChanges\n      .pipe(\n        distinctUntilChanged()\n      )\n      .subscribe(value => {\n        this.valueChanged.emit(value);\n      });\n  }\n\n}\n","<div\n  class=\"color-picker-wrapper\"\n  [class.light-theme]=\"props?.theme === 'light'\"\n  [style.top.px]=\"props?.top\"\n  [style.left.px]=\"props?.left\">\n  <div\n    *ngIf=\"props?.alpha; else noAlpha\"\n    [(colorPicker)]=\"defaultColor\"\n    [(cpToggle)]=\"toggle\"\n    [cpOKButton]=\"true\"\n    [cpCancelButton]=\"true\"\n    [cpSaveClickOutside]=\"false\"\n    [cpOKButtonClass]=\"'btn btn-primary btn-xs'\"\n    [cpCancelButtonClass]=\"'btn btn-primary btn-xs m-3'\"\n    [cpAlphaChannel]=\"'forced'\"\n    [cpDisableInput]=\"true\"\n    [cpPresetColors]=\"presetColors\"\n    (colorPickerSelect)=\"selectColor($event)\">\n  </div>\n<!--  cpAlphaChannel dynamic change doesn't work -> ngIf-->\n  <ng-template #noAlpha>\n  <div\n    [(colorPicker)]=\"defaultColor\"\n    [(cpToggle)]=\"toggle\"\n    [cpOKButton]=\"true\"\n    [cpCancelButton]=\"true\"\n    [cpSaveClickOutside]=\"false\"\n    [cpOKButtonClass]=\"'btn btn-primary btn-xs'\"\n    [cpCancelButtonClass]=\"'btn btn-primary btn-xs m-3'\"\n    [cpAlphaChannel]=\"'disabled'\"\n    [cpDisableInput]=\"true\"\n    [cpPresetColors]=\"presetColors\"\n    (colorPickerSelect)=\"selectColor($event)\">\n  </div>\n  </ng-template>\n</div>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {selectColorPickerProps} from '../../directives/choose-color/choose-color.reducer';\nimport {Subscription} from 'rxjs';\nimport {ColorPickerProps} from '../../directives/choose-color/choose-color.actions';\nimport {hexToRgb, rgbaToValues} from '../../../services/color-hash/color-hash.utils';\nimport {ColorHashService} from '../../../services/color-hash/color-hash.service';\n\n@Component({\n  selector   : 'sm-color-picker-wrapper',\n  templateUrl: './color-picker-wrapper.component.html',\n  styleUrls  : ['./color-picker-wrapper.component.scss']\n})\nexport class ColorPickerWrapperComponent implements OnInit, OnDestroy  {\n\n  public defaultColor: string;\n  public presetColors = [\n    '#1f77b4',  // muted blue\n    '#ff7f0e',  // safety orange\n    '#2ca02c',  // cooked asparagus green\n    '#d62728',  // brick red\n    '#9467bd',  // muted purple\n    '#8c564b',  // chestnut brown\n    '#e377c2',  // raspberry yogurt pink\n    '#7f7f7f',  // middle gray\n    '#bcbd22',  // curry yellow-green\n    '#17becf',   // blue-teal\n    '#af1d41',\n    '#d5d728'\n\n  ];\n  private propsSub: Subscription;\n  public props: ColorPickerProps;\n  public toggle = false;\n\n  constructor(private store: Store<any>, private colorHashService: ColorHashService) {\n  }\n\n  ngOnInit() {\n    this.propsSub = this.store.select(selectColorPickerProps)\n      .subscribe((props) => {\n        this.props = props;\n        this.defaultColor = props?.defaultColor;\n        this.toggle = !!props;\n      });\n  }\n\n  selectColor(event: string) {\n    let color;\n    if (event.startsWith('rgba')) {\n      color = rgbaToValues(event);\n    } else {\n      color = hexToRgb(event.length === 9 ? event.slice(0,7) : event);\n    }\n    this.colorHashService.setColorForString(this.props.cacheKey, color);\n  }\n\n  ngOnDestroy(): void {\n    this.propsSub.unsubscribe();\n  }\n}\n","import {TemplateFormSectionBase} from '../../template-forms-ui/templateFormSectionBase';\nimport {ChangeDetectorRef, Component, ElementRef, EventEmitter, HostListener, Input, Output} from '@angular/core';\nimport {TIME_IN_MILLI} from '../../../utils/time-util';\n\n@Component({\n  template: ''\n})\nexport abstract class DurationInputBase  extends TemplateFormSectionBase {\n  public ms = '000';\n  public seconds = '00';\n  public minutes = '00';\n  public hours = '00';\n  public days = '000';\n\n  hasTimes = {\n    ms: true,\n    seconds: false,\n    minutes: false,\n    hours: false,\n    days: false,\n  };\n\n  @Input() returnFactor = 1;\n  @Input() readonly = false;\n\n  @Output() onEditing = new EventEmitter<boolean>();\n  @Output() onDurationChanged = new EventEmitter();\n\n  get value() {return this.ngModelValue;}\n  set value(val) {  // this value is updated by programmatic changes if( ngModelValue !== undefined && this.ngModelValue !== ngModelValue){\n    if (val !== undefined && val !== this.val && val !== '0') {\n\n      val = `${val || 0}`;\n      const _val = +val * this.returnFactor;\n      this.onEditing.emit(false);\n      this.ngModelValue = val;\n      this.val = val;\n\n      // calc the ms,seconds,min with the value * factor\n      this.msToHMSMS(_val);\n      this.cdr?.detectChanges();\n    /*  // return\n      this.onChange(val);\n      this.onTouch(val);*/\n    }\n  }\n\n  constructor(private eRef: ElementRef, protected cdr?: ChangeDetectorRef) {\n    super();\n    this.valueFromInherit = false\n  }\n\n  get hasNoValues() {\n    return  this.seconds === '00' &&\n            this.minutes === '00' &&\n            this.hours === '00' &&\n            this.ms === '000' &&\n            this.days === '000';\n  }\n  @HostListener('document:click', ['$event'])\n  clickOut(event) {\n    if (!this.eRef.nativeElement.contains(event.target)) {\n      this.value = this.ngModelValue;\n    }\n  }\n\n  msToHMSMS(ms: number): void {\n    const days = Math.floor(ms / TIME_IN_MILLI.ONE_DAY);\n    ms = ms - (days * TIME_IN_MILLI.ONE_DAY);\n    const hours = Math.floor(ms / TIME_IN_MILLI.ONE_HOUR);\n    ms = ms - (hours * TIME_IN_MILLI.ONE_HOUR);\n    const minutes = Math.floor(ms / TIME_IN_MILLI.ONE_MIN);\n    ms = ms - (minutes * TIME_IN_MILLI.ONE_MIN);\n\n    const seconds = Math.floor(ms / TIME_IN_MILLI.ONE_SEC);\n    const convertedMs = ms - (seconds * TIME_IN_MILLI.ONE_SEC);\n    this.days = this.toThreeDigits(days);\n    this.hours = this.toTwoDigits(hours);\n    this.minutes = this.toTwoDigits(minutes);\n    this.seconds = this.toTwoDigits(seconds);\n    this.ms = this.toThreeDigits(convertedMs);\n  }\n\n  currentTimeInMs() {\n    return  (+this.ms || 0) +\n            (this.hasTimes.seconds ? +this.seconds * TIME_IN_MILLI.ONE_SEC || 0 : 0) +\n            (this.hasTimes.minutes ? +this.minutes * TIME_IN_MILLI.ONE_MIN || 0 : 0) +\n            (this.hasTimes.hours ? +this.hours * TIME_IN_MILLI.ONE_HOUR || 0 : 0) +\n            (this.hasTimes.days ?  +this.days * TIME_IN_MILLI.ONE_DAY || 0 : 0);\n  }\n\n  toTwoDigits(n: number) {\n    return n > 9 ? '' + n : '0' + n;\n  }\n\n  toThreeDigits(n: number) {\n    return n > 99 ? ('' + n) : (n > 9 ? '0' + n : '00' + n);\n  }\n\n  onChangePartial($event: any) {\n    this.onEditing.emit(false);\n\n    const ms = this.currentTimeInMs();\n    this.msToHMSMS(ms);\n    this.val = ms;\n    const res = ms / this.returnFactor\n    this.onChange(res);\n    this.onDurationChanged.emit(res)\n  }\n\n  checkChars($event: KeyboardEvent) {\n    const isNumbers = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'].includes($event.key);\n    if (isNumbers) {\n      this.onEditing.emit(true);\n\n    }\n    return isNumbers;\n  }\n\n  focusOutInput() {\n    const ms = this.currentTimeInMs();\n    this.msToHMSMS(ms);\n    this.val = ms;\n    const res = ms / this.returnFactor;\n    this.onChange(res);\n    this.onDurationChanged.emit(res);\n  }\n\n}\n","<ng-form #templateForm=\"ngForm\">\n  <div class=\"inputs-container d-flex align-items-center\"\n       [class.active]=\"!hasNoValues\">\n      <ng-container *ngFor=\"let input of data; trackBy: trackBy; let index = index; let last = last;\">\n        <input #inputRef\n               [class]=\"'text-center max-length-' + input.maxLength\"\n               matInput\n               [attr.name]=\"input.type\"\n               (input)=\"setValue(inputRef.value, input.type)\"\n               [value]=\"hasNoValues && input.placeholder ? input.placeholder : this[input.type]\"\n               (keypress)=\"checkChars($event)\"\n               (keyup)=\"(inputRef.selectionStart === input.maxLength ) && setNextInputFocus(index)\"\n               (keyup.enter)=\"onChangePartial($event)\"\n               (keyup.arrowRight)=\"(inputRef.selectionStart === input.maxLength || inputRef.value.length <= 1)  && setNextInputFocus(index)\"\n               (keyup.arrowLeft)=\"inputRef.selectionEnd === 0 && setPreviousInputFocus(index)\"\n               (blur)=\"focusOutInput()\"\n               [attr.maxlength]=\"input.maxLength\"\n               smKeyDownStopPropagation\n               (focus)=\"inputRef.select()\"\n               [smTooltip]=\"input.type.charAt(0).toUpperCase() + input.type.slice(1)\"\n               matTooltipPosition=\"above\"\n               [readonly]=\"readonly\"\n        >\n        <i class=\"al-icon al-ico-time-colon\" *ngIf=\"!last\"></i>\n      </ng-container>\n    <ng-container *ngIf=\"hasResetIcon\">\n      <div class=\"reset\">\n        <i *ngIf=\"val > 0\"\n           [class]=\"'al-icon al-ico-dialog-x sm'\"\n           (click)=\"onResetIcon.emit()\"\n        ></i>\n      </div>\n    </ng-container>\n    <ng-content select=\"[after-inputs]\"></ng-content>\n  </div>\n</ng-form>\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy, ChangeDetectorRef,\n  Component,\n  ContentChildren,\n  ElementRef, EventEmitter,\n  forwardRef,\n  Input, OnChanges,\n  OnInit, Output, QueryList, SimpleChanges,\n  ViewChildren\n} from '@angular/core';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {DurationInputBase} from '../duration-input/duration-input.base';\nimport {isUndefined} from 'lodash/fp';\n\nexport type DURATION_INPUT_TYPE = 'hours' | 'seconds' | 'ms' | 'days' | 'minutes';\n\nexport interface DurationInputInterface  {\n  type: DURATION_INPUT_TYPE;\n  placeholder?: string;\n  maxLength?: number;\n}\nconst maxLengthMapper = {\n  ms: 3,\n  seconds: 2,\n  hours: 2,\n  minutes: 2,\n  days: 3\n};\n\nexport class DurationInput implements DurationInputInterface {\n  placeholder: string;\n  maxLength: number;\n  constructor(public type: DURATION_INPUT_TYPE, placeholder?: string, maxLength?: number) {\n    this.maxLength = maxLength ?? maxLengthMapper[type];\n    this.placeholder = placeholder ?? '0'.padStart(this.maxLength, '0');\n  }\n}\n\nexport function durationInputFactory(values: Array<DURATION_INPUT_TYPE | DurationInput | DurationInputInterface>): DurationInput[] {\n\n  if (!values && values.length === 0) { return null; }\n\n  // the class it self\n  if (values[0] instanceof DurationInput) {\n    return values as DurationInput[];\n  }\n\n  // strings = ['ms', 'minutes', 'days']\n  if (isUndefined((values[0] as DurationInputInterface).type)) {\n    return (values as unknown as Array<DURATION_INPUT_TYPE>).map( (value) => new DurationInput(value) );\n  }\n\n  // an object {type: 'ms'}\n  if (!isUndefined((values[0] as DurationInputInterface).type)) {\n    return (values as unknown as Array<DurationInputInterface>).map( value => new DurationInput(value.type, value.placeholder, value.maxLength));\n  }\n\n  return null;\n}\n\n@Component({\n  selector: 'sm-duration-input-list',\n  templateUrl: './duration-input-list.component.html',\n  styleUrls: ['./duration-input-list.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DurationInputListComponent),\n      multi: true\n    }],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DurationInputListComponent extends DurationInputBase implements OnInit, AfterViewInit, OnChanges {\n  @ViewChildren('inputRef') private elReference: QueryList<ElementRef>;\n\n  @Input() set inputs(inputs: Array<DURATION_INPUT_TYPE | DurationInput | DurationInputInterface> ) {\n    this.data = durationInputFactory(inputs);\n    this.data.forEach( input => this.hasTimes[input.type] = true)\n  }\n  @Input() hasResetIcon = false;\n  @Input() durationValue;  // this value is updated by programmatic changes if( ngModelValue !== undefined && this.ngModelValue !== ngModelValue){\n\n  @Output() onResetIcon = new EventEmitter<null>();\n  data: Array<DurationInput>;\n\n\n  trackBy(index, item) {\n    return index;\n  }\n  constructor(eRef: ElementRef, cdr: ChangeDetectorRef) {\n    super(eRef, cdr);\n  }\n\n  ngOnInit(): void {}\n\n  ngAfterViewInit(): void {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.durationValue) {\n      this.setValues(changes.durationValue.currentValue)\n    }\n  }\n\n  setNextInputFocus(index: number) {\n    return [...this.elReference][index + 1]?.nativeElement.focus();\n  }\n\n  setPreviousInputFocus(index: number) {\n\n    return [...this.elReference][index - 1]?.nativeElement.focus();\n  }\n\n  setValue(value: string, input: DURATION_INPUT_TYPE) {\n    this[input] = value;\n  }\n\n  private setValues(val) {\n    if (val === null) {\n      this.msToHMSMS(0);\n      this.ngModelValue = 0;\n      this.val = val;\n      this.cdr?.detectChanges();\n      return;\n    }\n\n    if (typeof val === 'object') { return;}\n\n    if (val !== undefined && val !== this.val && val !== '0') {\n      val = `${val || 0}`;\n      const _val = +val * this.returnFactor;\n      this.onEditing.emit(false);\n      this.ngModelValue = val;\n      this.val = val;\n\n      // calc the ms,seconds,min with the value * factor\n      this.msToHMSMS(_val);\n      this.cdr?.detectChanges();\n    }\n  }\n}\n\n","<div class=\"editable-div\">\n  <div [style.display]=\"active ? 'none': 'block'\" >\n    <div class=\"d-flex align-items-center\" #template (click)=\"(!inlineDisabled) && inlineActivated($event)\"\n      ><ng-content></ng-content>\n      <i *ngIf=\"editable && !inlineDisabled\" class='p2 al-icon al-ico-edit sm-md pull-right editable-pen pointer'></i>\n    </div>\n  </div>\n    <div *ngIf=\"editable\" [style.display]=\" ! active ? 'none': 'block'\" tabindex=\"12\">\n      <form #form class=\"inline-edit-form\" [class.multiline]=\"multiline\">\n        <input type=\"text\" class=\"form-control inline-edit-input\"\n               *ngIf=\"!multiline\"\n               (blur)=\"inlineCanceled()\"\n               [(ngModel)]=\"inlineValue\"\n               name=\"inline\"\n               [pattern]=\"pattern\"\n               [minLength]=\"minLength\"\n               (keydown.tab)=\"form.checkValidity() && inlineSaved()\"\n               (keydown.escape)=\"inlineCanceled()\"\n               (keydown.enter)=\"form.checkValidity() && inlineSaved()\"\n               #inlineInput />\n\n        <textarea class=\"form-control inline-edit-textarea\"\n                  *ngIf=\"multiline\"\n                  (blur)=\"inlineCanceled()\"\n                  [(ngModel)]=\"inlineValue\"\n                  name=\"inline\"\n                  [pattern]=\"pattern\"\n                  (keydown.tab)=\"inlineSaved()\"\n                  (keydown.escape)=\"inlineCanceled()\"\n                  [rows]=\"multiline?rows:1\"\n                  #inlineInput>{{inlineValue}}\n        </textarea>\n        <div class=\"buttons\">\n          <i [class.disabled]=\"!form.checkValidity() || inlineValue?.length < minLength\" class=\"sm al-ico-success inline-edit-approve pointer\" (click)=\"stopProp($event)\" (mousedown)=\"form.checkValidity() && inlineSaved()\"></i>\n          <i class=\"sm al-ico-dialog-x inline-edit-close pointer\" [id]=\"CANCEL_BUTTON\"  (click)=\"stopProp($event); cancelClicked($event);\"></i>\n        </div>\n      </form>\n    </div>\n</div>\n","import {Component, ElementRef, EventEmitter, Input, OnDestroy, Output, Renderer2, ViewChild} from '@angular/core';\nimport { ICONS } from '../../../../constants';\n\n@Component({\n  selector: 'sm-inline-edit',\n  templateUrl: './inline-edit.component.html',\n  styleUrls: ['./inline-edit.component.scss']\n})\nexport class InlineEditComponent implements OnDestroy {\n  public readonly CANCEL_BUTTON = 'CANCEL_BUTTON';\n  public readonly SAVE_BUTTON = 'SAVE_BUTTON';\n  public ICONS = ICONS;\n  public active = false;\n  public inlineValue: string;\n  private shouldSave: boolean = true;\n\n  @Input() pattern;\n  @Input() minLength = 0;\n  @Input() originalText;\n\n  // *DEFAULTS*\n  @Input() editable = true;\n  @Input() minWidth: number = 100;\n  @Input() multiline: boolean = false;\n  @Input() rows: number = 3; // Only relevant to multiline\n  @Input() inlineDisabled = false;\n\n  @Output() inlineActiveStateChanged = new EventEmitter<boolean>();\n  @Output() textChanged = new EventEmitter<string>();\n  @Output() inlineFocusOutEvent = new EventEmitter<boolean>();\n  @Output() cancel = new EventEmitter();\n  @Output() cancelClick = new EventEmitter<Event>();\n  @ViewChild('inlineInput') inlineInput: ElementRef;\n  @ViewChild('template', {static: true}) template: ElementRef;\n\n  constructor(private renderer: Renderer2) {\n  }\n\n  public inlineCanceled() {\n    this.inlineValue = this.originalText;\n    this.active = false;\n    this.inlineActiveStateChanged.emit(false);\n    this.cancel.emit();\n  }\n\n  public inlineSaved() {\n    this.inlineValue = this.inlineInput.nativeElement.value;\n    if (this.inlineValue != this.originalText) {\n      this.textChanged.emit(this.inlineValue);\n    }\n    this.active = false;\n    this.inlineActiveStateChanged.emit(false);\n  }\n\n  public inlineActivated(event?: Event) {\n    if (!this.editable) {\n      return;\n    }\n\n    const templateWidth = Math.max(this.template.nativeElement.getBoundingClientRect().width, 250);\n    this.renderer.setStyle(this.inlineInput.nativeElement, 'width', `${templateWidth}px`);\n    this.inlineValue = this.originalText;\n    this.active = true;\n    this.inlineActiveStateChanged.emit(true);\n    event?.stopPropagation();\n    setTimeout(() => this.inlineInput.nativeElement.focus(), 50);\n  }\n\n  cancelClicked(event: Event) {\n    this.cancelClick.emit(event);\n    this.shouldSave = false;\n    this.inlineCanceled();\n  }\n\n  stopProp(e: MouseEvent) {\n    e.stopPropagation();\n  }\n\n  ngOnDestroy(): void {\n    this.inlineCanceled();\n    this.inlineInput = null;\n    this.template = null;\n  }\n}\n","<span class=\"search-input-container\" [class.expand]=\"expandOnHover\" [class.active]=\"active\" [class.focused]=\"focused\"\n      (dblclick)=\"$event.stopPropagation()\"  (mouseover)=\"updateActive(true)\" (mouseleave)=\"updateActive(false)\">\n  <span class=\"search-input\" [class.expand]=\"expandOnHover\">\n  <input\n    [class.active]=\"active\"\n    #searchBar\n    [placeholder]=\"placeholder\"\n    (focusin)=\"focusInput(true)\"\n    (focusout)=\"focusInput(false)\"\n    (input)=\"onChange($event)\"\n    (keydown.enter)=\"valueChanged.emit(searchBar.value)\"\n  >\n  <i *ngIf=\"!hideIcons && searchBar.value.length === 0; else hideIcons ? noIcon : showX\"\n     class=\"icon-button fa fa-search\"></i>\n    <ng-template #showX>\n    <i class=\"icon-button fa fa-times pointer\" [class.active]=\"active\" (click)=\"clear()\"></i>\n  </ng-template>\n    <div *ngIf=\"enableJumpToNextResult\" class=\"separator\" [class.active]=\"active\"></div>\n    <i  *ngIf=\"enableJumpToNextResult\" class=\"icon-button fas fa-chevron-up\" [class.active]=\"active\"\n       (click)=\"jump(false)\" [class.disabled]=\"searchCounterIndex<1\"></i>\n    <i *ngIf=\"enableJumpToNextResult\" class=\"icon-button fas fa-chevron-down\" [class.active]=\"active\"\n       (click)=\"jump(true)\" [class.disabled]=\"searchCounterIndex+1===searchResultsCount\"></i>\n  <ng-template #noIcon>\n    <ng-content></ng-content>\n  </ng-template>\n  </span>\n</span>\n<div *ngIf=\"enableJumpToNextResult && active && searchBar.value.length > 0\" class=\"match\">Match {{searchCounterIndex+1}}/{{searchResultsCount}}</div>\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output, SimpleChanges,\n  ViewChild\n} from '@angular/core';\nimport {Subject, timer} from 'rxjs';\nimport {debounce, filter, tap} from 'rxjs/operators';\n\n\n@Component({\n  selector: 'sm-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SearchComponent implements OnInit, OnChanges {\n\n  public value$ = new Subject();\n\n  @Input() minimumChars = 3;\n  @Input() debounceTime = 300;\n  @Input() placeholder: string = 'Type to search';\n  @Input() hideIcons: boolean = false;\n  @Input() expandOnHover = false;\n  @Input() enableJumpToNextResult = false;\n  @Input() searchResultsCount = null;\n  searchCounterIndex = -1;\n  public empty = true;\n  public active: boolean = true;\n  public countResults: number;\n  public focused: boolean;\n\n  @Input() set value(value: string) {\n    this.searchBarInput.nativeElement.value = value || '';\n  }\n\n  @Output() valueChanged = new EventEmitter<string>();\n  @Output() jumpToResult = new EventEmitter<number>();\n  @ViewChild('searchBar', {static: true}) searchBarInput;\n\n  ngOnInit(): void {\n    this.value$.pipe(\n      tap((val: string) => this.empty = val?.length === 0),\n      debounce((val: string) => val.length > 0 ? timer(this.debounceTime) : timer(0)),\n      filter(val => val.length >= this.minimumChars || val.length === 0)\n    )\n      .subscribe((value: string) => {\n        if(value.length>=this.minimumChars){\n          this.valueChanged.emit(value);\n          this.searchResultsCount > 0 && this.jump(true);\n        } else {\n          this.valueChanged.emit('');\n          this.searchResultsCount = 0;\n        }\n      });\n  }\n\n  onChange(event) {\n    if (event.key === 'Escape' || event.key === 'Esc') {\n      this.clear();\n    } else {\n      this.value$.next(this.searchBarInput.nativeElement.value);\n      this.searchCounterIndex = -1;\n    }\n  }\n\n  clear(focus=true) {\n    this.value$.next('');\n    this.searchBarInput.nativeElement.value = '';\n    focus && this.searchBarInput.nativeElement.focus();\n    this.searchCounterIndex = -1;\n  }\n\n  updateActive(active: boolean) {\n    if (this.expandOnHover) {\n      if (this.empty) {\n        this.active = active;\n      } else {\n        this.active = true;\n      }\n    }\n  }\n\n  jump(next: boolean) {\n    this.searchCounterIndex = next ? this.searchCounterIndex + 1 : this.searchCounterIndex - 1;\n    this.jumpToResult.emit(this.searchCounterIndex);\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.expandOnHover) {\n      this.active = !changes.expandOnHover.currentValue;\n    }\n  }\n\n  focusInput($event: boolean) {\n    this.focused = $event;\n  }\n}\n","<sm-dialog-template [header]=\"alertMessage\" [subHeader]=\"alertSubMessage\" iconClass=\"i-alert\">\n  <div *ngIf=\"moreInfo || resultMessage\" (click)=\"openToggle()\" class=\"pointer\">\n    <i class=\"more-info-icon fa fa-angle-right\" [ngClass]=\"{'info-open': isOpen}\"></i>More info\n  </div>\n  <div *ngIf=\"moreInfo || resultMessage\" class=\"more-info\" [ngClass]=\"{'info-open': isOpen}\">\n    <a></a>\n    <div>{{resultMessage}}</div>\n    <div *ngFor=\"let entityName of moreInfoEntities\">\n      <br>\n      <div>Relevant {{entityName}}:</div>\n      <div *ngFor=\"let entity of moreInfo[entityName]\" class=\"entities\">\n        <a [href]=\"buildUrl(entity, entityName)\" target=\"_blank\"> {{entity.name}}</a>\n      </div>\n    </div>\n  </div>\n  <div class=\"d-flex justify-content-center\" style=\"margin-top: 40px\">\n    <button class=\"btn btn-neon\" mat-dialog-close>\n      {{okMessage}}\n    </button>\n  </div>\n\n</sm-dialog-template>\n","import {Component, Inject} from '@angular/core';\nimport {MAT_DIALOG_DATA} from '@angular/material/dialog';\nimport {get} from 'lodash/fp';\nimport {isAnnotationTask} from '../../../utils/shared-utils';\n\n@Component({\n  selector   : 'sm-alert-dialog',\n  templateUrl: './alert-dialog.component.html',\n  styleUrls  : ['./alert-dialog.component.scss']\n})\nexport class AlertDialogComponent {\n\n  public alertMessage;\n  public alertSubMessage;\n  public okMessage;\n  public moreInfoEntities: string[];\n  public isOpen = false;\n  private _moreInfo: any;\n  private _resultMessage: string;\n\n  set moreInfo(moreInfo) {\n    this._moreInfo        = moreInfo;\n    this.moreInfoEntities = moreInfo && Object.keys(moreInfo);\n  }\n\n  get moreInfo() {\n    return this._moreInfo;\n  }\n\n  set resultMessage(resultMessage) {\n    this._resultMessage = resultMessage;\n  }\n\n  get resultMessage() {\n    return this._resultMessage;\n  }\n\n  constructor(@Inject(MAT_DIALOG_DATA) data: { alertMessage: string, alertSubMessage: string, okMessage: string, moreInfo: any, resultMessage: string }) {\n    this.alertMessage    = data.alertMessage || '';\n    this.alertSubMessage = data.alertSubMessage;\n    this.moreInfo        = data.moreInfo;\n    this.okMessage       = data.okMessage || 'OK';\n    this.resultMessage   = data.resultMessage;\n  }\n\n  openToggle() {\n    this.isOpen = !this.isOpen;\n  }\n\n  buildUrl(entity, entityName) {\n    if (entityName === 'datasets') {\n      return `/datasets/${entity.id}`;\n    }\n    if (entityName === 'tasks' && isAnnotationTask(entity)) {\n      return `/annotations?annotationId=${entity.id}`;\n    }\n    return `/projects/${get('project.id', entity) || '*'}/experiments/${entity.id}`;\n  }\n}\n","<sm-dialog-template [displayX]=\"displayX && !dialogRef.disableClose\" [header]=\"title\"\n                    (xClicked)=\"closeDialog(undefined)\" [closeOnX]=\"false\"\n                    [iconClass]=\"iconClass\" [iconData]=\"iconData\">\n  <div *ngIf=\"reference\" class=\"reference\">{{reference}}</div>\n  <div class=\"body\" [class.text-center]=\"this.centerText\" [innerHTML]=\"body | safe: 'html'\"></div>\n  <ng-content></ng-content>\n\n\n  <div *ngIf=\"showNeverShowAgain\" class=\"body mt-4\" >\n    <mat-checkbox [(ngModel)]=\"neverShowAgain\">\n      <span class=\"chkbx-label\">Don't show again</span>\n    </mat-checkbox>\n  </div>\n  <div class=\"buttons\">\n\n    <button *ngIf=\"no\" (click)=\"closeDialog(false)\" class=\"btn btn-outline-neon yes-button\">\n      {{no}}\n    </button>\n    <button (click)=\"closeDialog(true)\" class=\"btn btn-neon\" *ngIf=\"yes\">\n      {{yes}}\n    </button>\n\n  </div>\n\n</sm-dialog-template>\n","import {Component, ElementRef, Inject, Input, Renderer2} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {ConfirmDialogConfig} from './confirm-dialog.model';\n\n@Component({\n  selector: 'sm-confirm-dialog',\n  templateUrl: './confirm-dialog.component.html',\n  styleUrls: ['./confirm-dialog.component.scss']\n})\nexport class ConfirmDialogComponent {\n\n  @Input() displayX: boolean = true;\n  showNeverShowAgain: boolean;\n  title: string;\n  body: string;\n  yes = 'OK';\n  no = 'Cancel';\n  iconClass = '';\n  iconData = '';\n  codeSnippet = '';\n  externalData: string = null;\n  public reference: string;\n  neverShowAgain: boolean;\n  centerText: boolean;\n\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: ConfirmDialogConfig,\n    public dialogRef: MatDialogRef<ConfirmDialogComponent>,\n    private ref: ElementRef, private renderer: Renderer2\n  ) {\n    this.title = data.title || '';\n    this.reference = data.reference || '';\n    this.body = data.body || '';\n    this.yes = data.yes || '';\n    this.no = data.no || '';\n    this.iconClass = data.iconClass || '';\n    this.iconData = data.iconData || '';\n    this.codeSnippet = data.codeSnippet || '';\n    this.showNeverShowAgain = data.showNeverShowAgain || false;\n    this.centerText = data.centerText ?? false;\n    const width = data.width || 640;\n\n    renderer.setStyle(ref.nativeElement, 'width', `${width}px`);\n  }\n\n  closeDialog(isConfirmed) {\n    if(isConfirmed) {\n      this.dialogRef.close({isConfirmed: isConfirmed, neverShowAgain: this.neverShowAgain});\n    } else {\n      this.dialogRef.close(isConfirmed);\n    }\n  }\n}\n","<div class=\"dialog-template-container\" [ngClass]=\"containerClass\">\n\n  <div *ngIf=\"displayX\" style=\"position: relative\">\n    <i (click)=\"onXPressed()\" class=\"pointer stick-to-corner al-icon al-ico-dialog-x al-color blue-400 sm-md\">\n    </i>\n  </div>\n\n  <div #container class=\"generic-container {{theme || 'light-theme'}}\" cdkScrollable>\n    <div class=\"d-flex flex-column\" *ngIf=\"iconClass\">\n      <div [class]=\"'al-icon icon xxl mx-auto '+ [iconClass]\"></div>\n    </div>\n    <div class=\"d-flex justify-content-center\" *ngIf=\"iconData\">\n        <div class=\"app-icon-image\" [style.background-image]=\"'url(' + iconData + ')'\"></div>\n      </div>\n      <div class=\"d-flex flex-column\" *ngIf=\"header\">\n      <div class=\"create-title mx-auto ellipsis\">{{header}}</div>\n    </div>\n    <div class=\"d-flex flex-column\" *ngIf=\"subHeader\">\n      <p class=\"sub-header mx-auto\" [innerHTML]=\"subHeader\"></p>\n    </div>\n    <ng-content></ng-content>\n  </div>\n  <sm-code *ngIf=\"codeTemplateFileName\"\n           [closedCodeLabel]=\"closedCodeLabel\"\n           [codeTemplateFileName]=\"codeTemplateFileName\"\n           [params]=\"codeParams\"></sm-code>\n</div>\n","import {Component, ElementRef, EventEmitter, Input, Output, ViewChild} from '@angular/core';\nimport {MatDialogRef} from '@angular/material/dialog';\n\n@Component({\n  selector   : 'sm-dialog-template',\n  templateUrl: './dialog-template.component.html',\n  styleUrls  : ['./dialog-template.component.scss']\n})\nexport class DialogTemplateComponent {\n\n\n  @Input() displayX: boolean = true;\n  @Input() closeOnX: boolean = true;\n\n  @Input() theme: string = 'light-theme';\n  @Input() containerClass: string;\n  @Input() closedCodeLabel: string = 'VIEW COMMAND LINE';\n  @Input() iconClass: string; // the icon class (see icons.scss).\n  @Input() iconData: string;\n  @Input() header: string;\n  @Input() subHeader: string;\n  @Input() codeParams;\n  @Input() codeTemplateFileName;\n  @Output() xClicked = new EventEmitter();\n\n  @ViewChild('container') container: ElementRef<HTMLDivElement>;\n  constructor(private dialog: MatDialogRef<DialogTemplateComponent, any>) {\n  }\n\n  onXPressed() {\n    if (this.closeOnX) {\n      this.dialog.close();\n    }\n    this.xClicked.emit();\n  }\n\n}\n\n","// TODO: (nir) need refactor to final validation solution\nexport function validateName(name: string) {\n  if (name.trim().length < 3) {\n    return false;\n  }\n  return true;\n}\n\nexport function validateNotEmptyArray(arr: Array<any>) {\n  if (arr && arr.length > 0) {\n    return true;\n  }\n  return false;\n}\n\nexport function validateProject(projectId: string) {\n  if (projectId && projectId !== '*') {\n    return true;\n  } else {\n    return false;\n  }\n}\n\n\n\nexport function areErrors(errors) {\n  return Object.values(errors).find((property: any) => !property.valid);\n}\n\n\nexport function validateJson(obj) {\n  try {\n    JSON.parse(obj);\n  } catch (e) {\n    return {json: false};\n  }\n  return null;\n}\n","<sm-dialog-template [header]=\"title\">\n  <div  class=\"data-text\">\n    <div class=\"data-text-ace\" #aceEditor></div>\n  </div>\n  <div>\n    <small *ngIf=\"this.showErrors\"\n           class=\"text-danger\">*Not a valid json.\n    </small>\n  </div>\n  <div class=\"buttons\">\n    <button (click)=\"closeDialog(false)\" class=\"btn btn-outline-neon yes-button\">\n      Cancel\n    </button>\n    <button (click)=\"closeDialog(!readOnly)\" class=\"btn btn-neon\">\n      OK\n    </button>\n  </div>\n\n</sm-dialog-template>\n","import {AfterViewInit, Component, ElementRef, HostListener, Inject, NgZone, ViewChild} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {JsonPipe} from '@angular/common';\nimport {validateJson} from '../../../utils/validation-utils';\nimport {Store} from '@ngrx/store';\nimport {addMessage} from '@common/core/actions/layout.actions';\nimport {Ace} from 'ace-builds';\n\ndeclare const ace;\n\nconst jsonPlaceholder = `e.q:\n\n      {\n        \"location\" : \"london\",\n        \"date\" : \"2019-01-31 22:41:03\"\n      }\n`;\nconst regularPlaceholder = '';\n@Component({\n  selector: 'sm-edit-json',\n  templateUrl: './edit-json.component.html',\n  styleUrls: ['./edit-json.component.scss'],\n  providers: [{provide: JsonPipe, useClass: JsonPipe}]\n})\nexport class EditJsonComponent implements AfterViewInit {\n  public errors: Map<string, boolean>;\n  public textData: string;\n  public showErrors: boolean;\n  public validators: Array<any> = [validateJson];\n\n  private _readOnly: boolean;\n  public placeHolder: string;\n  public title: string;\n  readonly typeJson: boolean;\n  @ViewChild('aceEditor') private aceEditorElement: ElementRef;\n  private aceEditor: Ace.Editor;\n  set readOnly(readOnly: boolean) {\n    this._readOnly = readOnly;\n  };\n\n  get readOnly(): boolean {\n    return this._readOnly;\n  }\n\n  @HostListener('keydown', ['$event'])\n  onKeyDown(e: KeyboardEvent) {\n    if (e.key === 'Enter' && e.ctrlKey === true) {\n      this.closeDialog(!this.readOnly);\n    }\n  }\n\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: { textData: string; readOnly: boolean; title: string; typeJson: boolean; placeHolder: string },\n    private dialogRef: MatDialogRef<EditJsonComponent, any>,\n    private jsonPipe: JsonPipe,\n    private store: Store<any>,\n    private zone: NgZone\n  ) {\n    this.typeJson = data.typeJson;\n    this.placeHolder = data.placeHolder;\n    this.textData = data.textData ? (this.typeJson ? jsonPipe.transform(data.textData) : data.textData) : undefined;\n    this.readOnly = data.readOnly;\n    this.title = data.title;\n  }\n\n  ngAfterViewInit() {\n    this.initAceEditor();\n  }\n\n  closeDialog(isConfirmed) {\n    if (isConfirmed) {\n      try {\n        const text = this.aceEditor.getValue();\n        this.dialogRef.close(text ? (this.typeJson ? JSON.parse(text) : text) : '');\n      } catch (e) {\n        this.store.dispatch(addMessage('warn', 'Not a valid JSON'))\n        // this.showErrors = true; // shows warning message bellow texterea\n      }\n    } else {\n      this.dialogRef.close();\n    }\n  }\n\n  textChanged() {\n    this.showErrors = false;\n  }\n\n  // we can make this to ace wrapper later on\n  private initAceEditor() {\n    this.zone.runOutsideAngular(() => {\n      const aceEditor = ace.edit(this.aceEditorElement.nativeElement)  as Ace.Editor;\n      aceEditor.setOptions({\n        readOnly: this.readOnly,\n        showLineNumbers: false,\n        showGutter: false,\n        fontSize: 14,\n        highlightActiveLine: false,\n        highlightSelectedWord: false,\n        showPrintMargin: false,\n        placeholder: this.typeJson ? jsonPlaceholder : regularPlaceholder,\n      });\n\n\n      aceEditor.renderer.setScrollMargin(12, 12, 12, 12);\n      aceEditor.renderer.setPadding(12);\n      (aceEditor.renderer.container.querySelector('.ace_cursor') as HTMLElement).style.color = 'white';\n\n      if (this.typeJson) {\n        aceEditor.session.setMode('ace/mode/json');\n        aceEditor.setTheme('ace/theme/monokai');\n      }\n      aceEditor.getSession().setValue(this.textData || '');\n      this.aceEditor = aceEditor;\n    });\n  }\n}\n","<sm-dialog-template [displayX]=\"true\"\n                    [header]=\"title\"\n                    [closeOnX]=\"true\"\n                    [iconClass]=\"iconClass\">\n\n  <div *ngIf=\"failed > 0\" class=\"errors-title\">The following {{failed == 1 ? '' : failed}} {{action.entityType}}{{failed > 1 ? 's' : ''}} failed to {{action.operationName}}:</div>\n  <ul class=\"list-container\">\n    <li *ngFor=\"let fail of failedList\">\n      <div>{{getName(fail)}}</div>\n      <div class=\"error-reason\">{{fail.error.msg}} </div>\n    </li>\n  </ul>\n\n  <div class=\"buttons\">\n    <button (click)=\"dialogRef.close()\" class=\"btn btn-neon yes-button\">\n      Close\n    </button>\n  </div>\n\n</sm-dialog-template>\n","import {Component, Inject} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {openMoreInfoPopup} from '@common/core/actions/projects.actions';\nimport {htmlTextShorte} from '../../../utils/shared-utils';\n\n@Component({\n  selector: 'sm-operation-error-dialog',\n  templateUrl: './operation-error-dialog.component.html',\n  styleUrls: ['./operation-error-dialog.component.scss']\n})\nexport class OperationErrorDialogComponent {\n\n  public title: string;\n  public iconClass = '';\n  public action: ReturnType<typeof openMoreInfoPopup>;\n  public failed: number;\n  public failedList: any[];\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: {\n                title: string;\n                action: ReturnType<typeof openMoreInfoPopup>;\n                iconClass: string;\n              },\n              public dialogRef: MatDialogRef<OperationErrorDialogComponent>) {\n    this.title = data.title || '';\n    this.action = data.action;\n    this.failedList = data.action.res.failed || [];\n    this.failed = data.action.res.failed.length || 0;\n    this.iconClass = data.iconClass || '';\n  }\n\n  getName(fail: any) {\n    return htmlTextShorte(this.action.parentAction.selectedEntities.find(entity => entity.id === fail.id)?.name);\n  }\n}\n","import {Component, Input} from '@angular/core';\n\n@Component({\n  selector   : 'sm-overlay',\n  templateUrl: './overlay.component.html',\n  styleUrls  : ['./overlay.component.scss']\n})\nexport class OverlayComponent {\n\n  @Input() backdropActive;\n  @Input() transparent: boolean = false;\n\n}\n","<div [ngClass]=\"{'overlay': backdropActive, 'transparent': transparent }\" smClickStopPropagation></div>\n","<sm-dialog-template [displayX]=\"displayX && !dialogRef.disableClose\" [header]=\"title\"\n                    (xClicked)=\"closeDialog(undefined)\" [closeOnX]=\"false\"\n                    iconClass=\"al-icon al-ico-get-link-dialog\">\n  <div class=\"d-flex\">\n    <div class=\"sub-title\" [innerHTML]=\"shared? sharedSubtitle: privateSubtitle\"></div>\n  </div>\n\n  <div class=\"share-link-container\"  *ngIf=\"shared\">\n    <div class=\"ellipsis share-link\">{{link}}</div>\n    <div ngxClipboard\n         smClickStopPropagation\n         [cbContent]=\"link\"\n         class=\"copy pointer\"\n         (cbOnSuccess)=\"copyToClipboardSuccess()\">\n      <i class=\"fas fa-copy\"></i>\n    </div>\n  </div>\n  <div class=\"d-flex justify-content-end\">\n    <a href=\"javascript:void(0)\" (click)=\"createLink()\">{{shared ? 'Remove' : 'Create'}} link</a>\n  </div>\n</sm-dialog-template>\n","import {Component, Inject} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {IShareDialogConfig} from './share-dialog.model';\nimport {addMessage} from '../../../../core/actions/layout.actions';\nimport {MESSAGES_SEVERITY} from '../../../../../app.constants';\nimport {Store} from '@ngrx/store';\nimport {shareSelectedExperiments} from '../../../../experiments/actions/common-experiments-menu.actions';\n\n@Component({\n  selector: 'sm-share-dialog',\n  templateUrl: './share-dialog.component.html',\n  styleUrls: ['./share-dialog.component.scss']\n})\nexport class ShareDialogComponent {\n\n  displayX: boolean = true;\n\n  title: string;\n\n  public subTitle: string;\n  public link: string;\n  shared: boolean = false;\n  public sharedSubtitle: string;\n  public privateSubtitle: string;\n  private task: string;\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: IShareDialogConfig,\n              public dialogRef: MatDialogRef<ShareDialogComponent>,\n              private store: Store<any>) {\n    this.title = data.title || '';\n    this.sharedSubtitle =`<b>Any registered user with this link</b> has read-only access to this task and all it’s contents (Artifacts, Results, etc.)`;\n    this.privateSubtitle =  `Create a shareable link to grant read access to<b> any registered user</b> you provide this link to.`;\n    this.task = data.task;\n\n    this.link = data.link || '';\n    this.shared = !!data.alreadyShared;\n  }\n\n  closeDialog(isConfirmed) {\n    this.dialogRef.close({isConfirmed, shared: this.shared});\n  }\n\n  copyToClipboardSuccess() {\n    this.store.dispatch(addMessage(MESSAGES_SEVERITY.SUCCESS, 'URL copied successfully'));\n  }\n\n  createLink() {\n    this.store.dispatch(shareSelectedExperiments({share: !this.shared, task:this.task}));\n\n    this.shared = !this.shared;\n  }\n}\n","import {Store} from '@ngrx/store';\nimport {ChangeDetectionStrategy, ChangeDetectorRef, Component, OnDestroy, OnInit} from '@angular/core';\nimport {selectLoading} from '@common/core/reducers/view.reducer';\nimport {NavigationStart, Router} from '@angular/router';\nimport {debounceTime, distinctUntilChanged, filter, map} from 'rxjs/operators';\nimport {resetLoader} from '@common/core/actions/layout.actions';\nimport {Observable, Subscription} from 'rxjs';\n\n@Component({\n  selector: 'sm-spinner',\n  template: `\n    <div *ngIf=\"showSpinner\">\n      <div class=\"loader-container\">\n        <div class=\"circle\"></div>\n      </div>\n      <!--<div class=\"spinner-overlay\"></div>-->\n    </div>\n  `,\n  styleUrls: ['./spinner.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SpinnerComponent implements OnInit, OnDestroy {\n  public showSpinner: boolean;\n  private spinnerSubscribe: Subscription;\n  private navEndSubscription: Subscription;\n  private loading$: Observable<{ [p: string]: boolean }>;\n\n  constructor(private store: Store<any>, private router: Router, private cdr: ChangeDetectorRef) {\n    this.loading$ = store.select(selectLoading)\n\n  }\n\n  ngOnInit() {\n    this.spinnerSubscribe = this.loading$.pipe(\n      debounceTime(300)\n    ).subscribe(loaders => {\n        this.showSpinner = Object.values(loaders).some((value) => value)\n        this.cdr.detectChanges();\n    });\n\n    this.navEndSubscription = this.router.events\n      .pipe(\n        filter(event => event instanceof NavigationStart),\n        map((event: NavigationStart) => event.url.split('?')[0]),\n        distinctUntilChanged()\n      ).subscribe(() => {\n        this.store.dispatch(resetLoader());\n        this.cdr.detectChanges();\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.navEndSubscription.unsubscribe();\n    this.spinnerSubscribe.unsubscribe();\n  }\n}\n","<div class=\"height-container\" [class.show]=\"active\">\n</div>\n<div class=\"absolute-container\" [class.show]=\"active\">\n  <div class=\"header-container\" [class.show]=\"active\">\n    <div class=\"notifier-container\" [class.show]=\"active\">\n      <div></div>\n      <div class=\"update-container\">A newer version of ClearML server ( {{newVersionName}}) is available. <a\n        [href]=\"newVersionUrl\" class=\"link\" target=\"_blank\"> See details.</a></div>\n      <i class=\"fas fa-times pointer p-2\" (click)=\"dismiss()\"></i>\n    </div>\n  </div>\n</div>\n<div class=\"circle-container\" [class.show]=\"!active\">\n  <div *ngIf=\"areAvailableUpdates\"><i class=\"fas fa-circle pointer notification-bell\" (click)=\"show()\"></i>\n  </div>\n</div>\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {User} from '../../../../../business-logic/model/users/user';\n\n@Component({\n  selector   : 'sm-update-notifier',\n  templateUrl: './update-notifier.component.html',\n  styleUrls  : ['./update-notifier.component.scss']\n})\nexport class UpdateNotifierComponent implements OnInit {\n  public active      = false;\n  areAvailableUpdates = false;\n  private _availableUpdates: any;\n  public newVersionUrl: string;\n  public newVersionName: string;\n\n  @Input() dismissedVersion: string;\n\n  @Input() set availableUpdates(availableUpdates) {\n    this.areAvailableUpdates = availableUpdates?.['trains-server']?.['newer_available'];\n    this.newVersionUrl       = availableUpdates?.['trains-server']?.['url'];\n    this.newVersionName      = availableUpdates?.['trains-server']?.['version'];\n    this._availableUpdates   = availableUpdates;\n    if (this.areAvailableUpdates && this.dismissedVersion !== this.newVersionName) {\n      this.active = true;\n      this.notifierActive.emit(true);\n    }\n  }\n\n  @Input() set currentUser(user: User) {\n    if (user && user.role == 'guest') {\n      this.areAvailableUpdates = false;\n      this.active = false;\n      this.notifierActive.emit(false);\n    } else {\n      this.areAvailableUpdates = this._availableUpdates?.['trains-server']?.['newer_available'];\n      if (this.areAvailableUpdates && this.dismissedVersion !== this.newVersionName) {\n        this.active = true;\n        this.notifierActive.emit(true);\n      }\n    }\n  }\n\n  @Output() versionDismissed = new EventEmitter();\n  @Output() notifierActive = new EventEmitter();\n\n  get availableUpdates() {\n    return this._availableUpdates;\n  }\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n  dismiss() {\n    this.active = false;\n    this.notifierActive.emit(false);\n    this.versionDismissed.emit(this.newVersionName);\n  }\n\n  show() {\n    this.active = true;\n    this.notifierActive.emit(true);\n  }\n}\n","<div class=\"card\">\n  <div class=\"folder-tab\" smClickStopPropagation *ngIf=\"isFolder\">\n    <div class=\"first-tab\" [class.not-active]=\"showSecondTab\" (click)=\"setShowSecondTab(false)\"\n         [class.hide-second-tab]=\"oneTabMode\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"64\" height=\"20\" viewBox=\"0 0 64 20\"\n           *ngIf=\"!showSecondTab ;else secondTabActive \">\n        <path *ngIf=\"!oneTabMode && !secondTabIsHovered\" d=\"M30.06,0H64V20H30.06C29.93,19.78,30.06,11.93,30.06,0Z\"\n              fill=\"#2c3246\"/>\n        <path *ngIf=\"!oneTabMode && secondTabIsHovered\" d=\"M30.06,0H64V20H30.06C29.93,19.78,30.06,11.93,30.06,0Z\"\n              fill=\"#5a658e\"/>\n        <path *ngIf=\"!highlightFirstTab\" d=\"M35.61,0H6A6,6,0,0,0,0,6V20H60C44.82,12.36,49.37,0,35.61,0Z\" fill=\"#384161\"\n              (mouseenter)=\"setHighlightFirstTab(true)\" (mouseleave)=\"setHighlightFirstTab(false)\"/>\n        <path *ngIf=\"highlightFirstTab\" d=\"M35.61,0H6A6,6,0,0,0,0,6V20H60C44.82,12.36,49.37,0,35.61,0Z\" fill=\"#5a658e\"\n              (mouseenter)=\"setHighlightFirstTab(true)\" (mouseleave)=\"setHighlightFirstTab(false)\"/>\n      </svg>\n      <ng-template #secondTabActive>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"64\" height=\"20\" viewBox=\"0 0 64 20\">\n          <path *ngIf=\"!highlightFirstTab\" d=\"M35.61,0H6A6,6,0,0,0,0,6V20H60C44.82,12.36,49.37,0,35.61,0Z\"\n                fill=\"#384161\" (mouseenter)=\"setHighlightFirstTab(true)\" (mouseleave)=\"setHighlightFirstTab(false)\"/>\n          <path *ngIf=\"highlightFirstTab\" d=\"M35.61,0H6A6,6,0,0,0,0,6V20H60C44.82,12.36,49.37,0,35.61,0Z\" fill=\"#5a658e\"\n                (mouseenter)=\"setHighlightFirstTab(true)\" (mouseleave)=\"setHighlightFirstTab(false)\"/>\n          <path d=\"M64,0V20H30C45.18,12.36,40.63,0,54.39,0Z\" fill=\"#2c3246\"/>\n        </svg>\n      </ng-template>\n    </div>\n    <div *ngIf=\"!oneTabMode\" [class.tab-hovered]=\"secondTabIsHovered\" [class.show-second-tab]=\"showSecondTab\"\n         class=\"middle-tab\" (click)=\"setShowSecondTab(true)\" [class.second-tab-active]=\"showSecondTab\"\n         (mouseenter)=\"setSecondTabHover(true)\" (mouseleave)=\"setSecondTabHover(false)\">{{subFolderTitle}}</div>\n    <div *ngIf=\"!oneTabMode\" [class.tab-hovered]=\"secondTabIsHovered\" [class.show-second-tab]=\"showSecondTab\"\n         class=\"second-tab\" (click)=\"setShowSecondTab(true)\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"20\" viewBox=\"0 0 28 20\">\n        <path *ngIf=\"!secondTabIsHovered || showSecondTab\" d=\"M3.61,0C17.37,0,12.82,12.36,28,20H0V0Z\" fill=\"#2c3246\"/>\n        <path *ngIf=\"secondTabIsHovered && !showSecondTab\" d=\"M3.61,0C17.37,0,12.82,12.36,28,20H0V0Z\" fill=\"#5a658e\"/>\n      </svg>\n    </div>\n  </div>\n  <div class=\"card-container\" [class.is-folder]=\"isFolder\" [style.height.px]=\"height\">\n    <div class=\"tab-container first-tab-container\" [class.hide]=\"showSecondTab\" [class.is-folder]=\"isFolder\"\n         [class.first-tab-hovered]=\"highlightFirstTab\" [class.tab-hovered]=\"secondTabIsHovered\"\n         (mouseenter)=\"setHighlightFirstTab(true)\" (mouseleave)=\"setHighlightFirstTab(false)\">\n      <header [class.empty]=\"(!header) && headerWarp?.children.length===0 \">\n        <div #headerWarp>\n          {{header}}\n          <ng-content select=\"[header-content]\"></ng-content>\n          <ng-content select=\"[headerButtons]\"></ng-content>\n        </div>\n      </header>\n      <div *ngIf=\"showSeperator\" class=\"line\"></div>\n      <div class=\"card-body\">\n        <ng-content></ng-content>\n      </div>\n      <footer>\n        <ng-content select=\"[footer]\">\n        </ng-content>\n        <div *ngIf=\"(isExample || !!ribbonText)\" class=\"ribbon\">\n          <div class=\"txt d-flex justify-content-center w-100\">\n            <div>{{ribbonText ? ribbonText : 'EXAMPLE' }}</div>\n          </div>\n        </div>\n      </footer>\n    </div>\n    <div class=\"tab-container second-tab-container\" [class.show]=\"showSecondTab\">\n      <ng-content select=\"[secondTab]\"></ng-content>\n    </div>\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'sm-card',\n  templateUrl: './card.component.html',\n  styleUrls: ['./card.component.scss']\n})\nexport class CardComponent implements OnInit {\n\n  @Input() header: string;\n  @Input() height: number;\n\n  // TODO: delete the following:\n  @Input() collapsed = false;\n  @Input() collapsible = false;\n  @Input() fixedSize = false;\n  @Input() overflowVisible = false;\n  @Input() cardSign = '';\n  @Input() showSeperator = true;\n  @Input() whiteHeader = false;\n  @Input() whiterHeader = false;\n  @Input() isExample = false;\n  @Input() isFolder = false;\n  @Input() subFolderTitle = '';\n  @Input() oneTabMode: boolean;\n  @Input() ribbonText: string;\n\n\n  public showSecondTab = false;\n  public secondTabIsHovered: boolean;\n  public highlightFirstTab: boolean;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n  setShowSecondTab(show: boolean) {\n    this.showSecondTab = show;\n  }\n\n  setSecondTabHover(isHovered: boolean) {\n    this.secondTabIsHovered = isHovered;\n  }\n\n  setHighlightFirstTab(highlight: boolean) {\n    this.highlightFirstTab = highlight;\n  }\n}\n","<mat-checkbox *ngFor=\"let option of options; let i = index trackBy: trackByValFn\"\n              class=\"w-100 d-flex\"\n              [value]=\"option.value\"\n              [checked]=\"checkedList?.includes(option.value) || indeterminateState[option.value] === checkboxState.exclude\"\n              [indeterminate]=\"indeterminateState[option.value] === checkboxState.exclude\"\n              (change)=\"onFilterChanged($event)\"\n>\n  <span [smTooltip]=\"option.tooltip || option.value\" class=\"ellipsis label\"> {{option.label}}</span>\n</mat-checkbox>\n<div *ngIf=\"options?.length===0\" class=\"empty-menu flex-middle\">No item found</div>\n","import {ChangeDetectionStrategy, Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {excludedKey} from '@common/shared/utils/tableParamEncode';\nimport {addOrRemoveFromArray} from '@common/shared/utils/shared-utils';\n\nexport enum CheckboxState {\n  empty,\n  checked,\n  exclude\n}\n\n@Component({\n  selector: 'sm-checkbox-three-state-list',\n  templateUrl: './checkbox-three-state-list.component.html',\n  styleUrls: ['./checkbox-three-state-list.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CheckboxThreeStateListComponent implements OnInit {\n  @Input() options: Array<{ label: string; value: string; tooltip?: string }> = [];\n  @Input() supportExcludeFilter: boolean;\n  @Input() set checkedList(checkedList: Array<string>) {\n    if (Array.isArray(checkedList)) {\n      if (this.supportExcludeFilter) {\n        const {value, exclude} = separateValueAndExcludeFromFilters(checkedList);\n        this._checkedList = value;\n        this.indeterminateState = {};\n        this.excludeList = exclude;\n        return;\n      }\n      this._checkedList = checkedList;\n    }\n\n    this._checkedList = checkedList;\n  }\n  @Output() filterChanged = new EventEmitter();\n\n  get checkedList() {\n    return this._checkedList;\n  }\n\n  get excludeList() {\n    return this._excludeList;\n  }\n\n  set excludeList(excludeList: string[]) {\n     this._excludeList = excludeList;\n    (excludeList || []).forEach( _value => this.indeterminateState[_value] = CheckboxState.exclude);\n  }\n\n  public indeterminateState: Record<string, CheckboxState> = {};\n  public checkboxState = CheckboxState;\n  public trackByValFn = (index, item) => item.value;\n\n  private _checkedList: string[];\n  private _excludeList: string[];\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n\n  onFilterChanged(val) {\n    if (val) {\n      if (this.supportExcludeFilter && val.source.value !== null) {\n        this.checkIndeterminateStateAndEmit(val);\n        return;\n      }\n\n      const newValues = addOrRemoveFromArray(this.checkedList, val.source.value);\n      this.emitFilterChanged(newValues);\n    }\n  }\n\n  emitFilterChanged(values?: string[], exclude = '') {\n    const value = this.supportExcludeFilter\n      ? [...(values || this.checkedList), ...this.getExcludedValues(exclude)]\n      : values;\n    this.filterChanged.emit(value);\n  }\n\n  private getExcludedValues(exclude) {\n    return (this._excludeList || []).concat(exclude).filter(Boolean).map(_exclude => excludedKey + _exclude);\n  }\n\n  private checkIndeterminateStateAndEmit(val) {\n    const value = val.source.value;\n    const indeterminateCurrentState =\n      this.indeterminateState[value] || (this.checkedList.find( v => v === value) ? CheckboxState.checked : CheckboxState.empty);\n\n    switch(indeterminateCurrentState) {\n      case CheckboxState.checked: {\n        val.source.checked = true;\n        this.indeterminateState[value] = CheckboxState.exclude;\n        const newValues = this.checkedList.filter( v => v !== value);\n        this.emitFilterChanged(newValues, value);\n        break;\n      }\n      case CheckboxState.exclude:\n        val.source.checked = true;\n        this.indeterminateState[value] = CheckboxState.empty;\n        this._excludeList = this.excludeList.filter(exclude => exclude !== value);\n        this.emitFilterChanged();\n        break;\n      case CheckboxState.empty:\n      default:{\n        this.indeterminateState[value] = CheckboxState.checked;\n        const newValues = addOrRemoveFromArray(this.checkedList, value);\n        this.emitFilterChanged(newValues);\n      }\n    }\n    return;\n  }\n}\n\nfunction separateValueAndExcludeFromFilters(filters: string[]) {\n  return filters.reduce((state, currentFilter) => {\n    if(currentFilter === null || !currentFilter.startsWith(excludedKey)) {\n      state.value.push(currentFilter);\n    }else {\n      state.exclude.push(currentFilter.substring(excludedKey.length));\n    }\n    return state;\n  }, {value: [], exclude: []});\n}\n\n","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'sm-compare-footer',\n  templateUrl: './compare-footer.component.html',\n  styleUrls: ['./compare-footer.component.scss']\n})\nexport class CompareFooterComponent implements OnInit {\n\n  @Input() visible = false;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","<div\n  class=\"footer-container dark-theme d-flex justify-content-start align-items-center\"\n  [class.show-container]=\"visible\"\n>\n  <ng-content></ng-content>\n</div>\n","<div class=\"editable-container h-100\" [class.dark-theme]=\"isDarkTheme\" [class]=\"containerClass\" [class.edit-mode]=\"inEditMode && !disableInEditMode\" [class.disable-edit]=\"disableEditable\"\n     (dblclick)=\"editable && !disableEditable && (!inEditMode) && editModeChanged(true)\">\n  <div class=\"edit-wrapper d-flex flex-row-reverse\">\n    <button *ngIf=\"!disableEditable && !inEditMode && editable && !hideEditButton\" id=\"editSection\" class=\"edit-pen btn-dark-fill pointer\"\n            (click)=\"editModeChanged(true)\">\n      <i class=\"fa fa-pencil\"></i> EDIT\n    </button>\n    <ng-content *ngIf=\"!disableEditable && !inEditMode && editable\"  select=\"[extra-buttons]\"></ng-content>\n    <ng-content select=\"[search-button]\"></ng-content>\n  </div>\n  <ng-content formData></ng-content>\n  <div class=\"cancel-save action-button edit-mode\" *ngIf=\"inEditMode && !disableInEditMode\">\n    <button class=\"btn btn-dark-fill cancel\" (click)=\"cancelClickedEvent()\">CANCEL</button>\n    <sm-loading-button\n      *ngIf=\"!hideSaveButton\"\n      [disabled]=\"disableSave\" label=\"SAVE\"\n      [loading]=\"saving\"\n      (click)=\"!disableSave && !saving && saveSection()\"\n      class=\"action-button\"></sm-loading-button>\n  </div>\n</div>\n","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output\n} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {setBackdrop} from '@common/core/actions/layout.actions';\nimport {MatDialog} from '@angular/material/dialog';\nimport {fromEvent, Subscription} from 'rxjs';\nimport {delay, first, tap, throttleTime} from 'rxjs/operators';\n\n@Component({\n  selector   : 'sm-editable-section',\n  templateUrl: './editable-section.component.html',\n  styleUrls  : ['./editable-section.component.scss']\n})\nexport class EditableSectionComponent implements OnInit, OnDestroy {\n  public inEditMode = false;\n  @Input() editable;\n  @Input() disableEditable = false;\n  @Input() disableSave = false;\n  @Input() disableInEditMode = false;\n  @Input() hideSaveButton = false;\n  @Input() containerClass = '';\n  @Input() hideEditButton = false;\n  @Input() isDarkTheme = false;\n\n  private _saving = false;\n  private scrollSub: Subscription;\n  @Input() set saving(saving) {\n    if (this._saving && !saving) {\n      this.inEditMode = false;\n    }\n    this._saving = saving;\n  }\n\n  get saving(): boolean {\n    return this._saving;\n  }\n\n  @Output() saveClicked = new EventEmitter();\n  @Output() cancelClicked = new EventEmitter();\n  @Output() activateEditClicked = new EventEmitter();\n\n  @HostListener('document:keydown', ['$event'])\n  onKeyDown(e: KeyboardEvent) {\n    if (this.inEditMode && this.matDialog.openDialogs.length === 0) {\n      if ((e.key == 'Escape')) {\n        this.cancelClickedEvent();\n      }\n      if ((e.key == 'Enter') && e.ctrlKey === true && !this.disableSave) {\n        this.saveSection();\n      }\n    }\n  }\n\n  constructor(private store: Store<any>, private matDialog: MatDialog, public elementRef: ElementRef) {\n  }\n\n  editModeChanged(editMode) {\n    this.inEditMode = editMode;\n    this.activateEditClicked.emit(editMode);\n    this.store.dispatch(setBackdrop({payload: editMode}));\n    if(editMode) {\n      setTimeout(() => {\n        this.listenScrollEvent();\n      }, 50);\n    } else {\n      this.unsubscribeToEventListener();\n    }\n  }\n\n  cancelClickedEvent() {\n    this.inEditMode = false;\n    this.store.dispatch(setBackdrop({payload: false}));\n    this.cancelClicked.emit();\n    this.unsubscribeToEventListener();\n  }\n\n  saveSection() {\n    this.saveClicked.emit();\n    this.unsubscribeToEventListener();\n  }\n\n  ngOnInit() {\n  }\n\n  unsubscribeToEventListener() {\n    this.scrollSub?.unsubscribe();\n  }\n\n  getEdges() {\n    const {top, height, bottom} = this.elementRef.nativeElement.getBoundingClientRect();\n    return {\n      top,\n      bottom,\n      height\n    };\n  }\n  ngOnDestroy(): void {\n    this.unsubscribeToEventListener();\n    if (this.inEditMode) {\n      this.cancelClickedEvent();\n    }\n  }\n\n  private listenScrollEvent() {\n    const {height: initHeight} = this.getEdges();\n    let initBottom;\n    const factor = initHeight / 2;\n\n    const scroll$ = fromEvent(window,'wheel', {passive: false}).pipe(\n      tap(() => {\n        if (initBottom === undefined) {\n          const {bottom: currentBottom} = this.getEdges();\n          initBottom = currentBottom;\n        }\n      }),\n      throttleTime(10),\n      tap((event: WheelEvent) => {\n        const {bottom: currentBottom} = this.getEdges();\n        const deltaY = Math.abs(event.deltaY);\n\n        const isDownDirection = event.deltaY > 0;\n        const isTopEdge = !isDownDirection && initBottom + factor - deltaY < currentBottom;\n        const isBottomEdge = isDownDirection && initBottom - currentBottom - deltaY > factor;\n\n        const scrolledMoreThanHeight = Math.abs(initBottom - currentBottom ) > initHeight;\n\n        if (deltaY > factor || scrolledMoreThanHeight) {\n          this.elementRef.nativeElement.scrollIntoView({behavior: 'smooth', block: 'nearest'});\n          event.preventDefault();\n          return;\n        }\n        if ( isBottomEdge || isTopEdge)  {\n          event.preventDefault();\n        }\n\n      })\n    );\n    this.scrollSub = scroll$.subscribe();\n  }\n}\n","import {ChangeDetectionStrategy, Component, EventEmitter, Input, Output} from '@angular/core';\nimport {isEmpty} from 'lodash/fp';\nimport {ITask} from '../../../../../business-logic/model/al-task';\nimport {TIME_FORMAT_STRING} from '../../../../constants';\n\n\n@Component({\n  selector       : 'sm-experiment-card',\n  templateUrl    : './experiment-card.component.html',\n  styleUrls      : ['./experiment-card.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ExperimentCardComponent {\n\n  public isEmpty = isEmpty;\n\n  @Input() experiment: any;\n  @Output() experimentCardClicked = new EventEmitter();\n  TIME_FORMAT_STRING = TIME_FORMAT_STRING;\n\n  public experimentClicked() {\n    this.experimentCardClicked.emit(this.experiment);\n  }\n\n}\n","<sm-card class=\"experiment-card high-card\" (click)=\"experimentClicked()\" [isExample]=\" ! experiment?.company?.id\" [height]=\"264\" >\n  <div header-content>\n    <div class=\"d-flex justify-content-between\">\n      <div class=\"title mr-auto\">{{experiment?.name }}</div>\n    </div>\n    <div style=\"padding-top: 5px\">\n      <div class=\"d-flex align-items-center justify-content-start\">\n        <span class=\"sub-title\">ID:  {{ experiment?.id}} </span>\n        <sm-copy-clipboard [clipboardText]=\"experiment?.id\" [label]=\"''\" [hideBackground]=\"true\"></sm-copy-clipboard>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"d-flex justify-content-around\">\n    <sm-circle-status [type]=\"experiment?.type\"></sm-circle-status>\n    <sm-circle-status [status]=\"experiment?.status\"></sm-circle-status>\n  </div>\n\n\n\n  <div footer class=\"brio-footer\">\n    <div  class=\"experiment-footer\">\n    <div class=\"top-labels ellipsis\">INITIAL INPUT MODEL:\n      {{experiment?.execution?.model?.name}}\n    </div>\n    <div class=\"top-labels d-flex justify-content-between\">\n      <span [smTooltip]=\"experiment.created | date : TIME_FORMAT_STRING\">Created {{experiment.created | timeAgo}}</span>\n      <span>{{experiment.user.name}}</span>\n    </div>\n    </div>\n  </div>\n</sm-card>\n","<div class=\"d-flex align-items-center\" mat-menu-item (click)=\"buttonClickedEvent($event)\" [disabled]=\"disabled\">\n  <sm-checkbox-control *ngIf=\"selectable\"\n                       [formData]=\"checked\"\n                       [fieldName]=\"itemValue\"\n                       (formDataChanged)=\"itemClickedEvent()\"\n  >\n  </sm-checkbox-control>\n  <i *ngIf=\"enableIcon\" [class]=\"'item-icon ' + iconClass\" [style.font-size.px]='iconFontSize'></i>\n  <div class=\"item-label\" [class.placeForIcon]=\"enableIcon\">\n    <div class=\"ellipsis\" [smTooltip]=\"enableTooltip? (itemTooltip || itemLabel): ''\">{{itemLabel}}</div>\n    <i *ngIf=\"sortOrder\" class=\"pt-1 ml-2\" [class]=\"sortOrder === TABLE_SORT_ORDER.ASC ? 'fa fa-arrow-down' : 'fa fa-arrow-up' \"></i>\n  </div>\n  <div *ngIf=\"removable\" (click)=\"removeItem($event)\" class=\"remove-button\"><i class=\"al-icon al-ico-trash al-color blue-300 pointer\"></i></div>\n</div>\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {TABLE_SORT_ORDER} from '../../data/table/table.consts';\n\n@Component({\n  selector   : 'sm-menu-item',\n  templateUrl: './menu-item.component.html',\n  styleUrls  : ['./menu-item.component.scss']\n})\nexport class MenuItemComponent {\n  @Input() iconFontSize: number = 14;\n  @Input() removable: boolean   = false;\n  @Input() disabled: boolean    = false;\n  @Input() itemLabel: string;\n  @Input() itemValue: string;\n  @Input() itemTooltip: string;\n  @Input() iconClass: string;\n  @Input() enableIcon: boolean  = true;\n  @Input() selectable: boolean  = false;\n  @Input() checked: boolean     = false;\n  @Input() sortOrder: number;\n  @Input() enableTooltip: boolean;\n  @Output() itemClicked         = new EventEmitter<{event?: MouseEvent; itemValue: string}>();\n  @Output() removeItemClicked   = new EventEmitter();\n  @Output() closeMenu           = new EventEmitter();\n\n  public TABLE_SORT_ORDER = TABLE_SORT_ORDER;\n\n  itemClickedEvent(event?: MouseEvent) {\n    if (!this.disabled) {\n      this.itemClicked.emit({event, itemValue: this.itemValue});\n    }\n  }\n\n  buttonClickedEvent(event) {\n    this.itemClickedEvent(event);\n    if (this.selectable) {\n      event.stopPropagation();\n    }\n  }\n\n  removeItem(event) {\n    this.removeItemClicked.emit(this.itemValue);\n    event.stopPropagation();\n  }\n\n}\n","<div class=\"d-flex justify-content-start align-items-center\" [smTooltip]=\"buttonTooltip\">\n  <i [class]=\"prefixIconClass\" *ngIf=\"prefixIconClass\" (click)=\"trigger.openMenu()\"></i>\n  <div mat-button\n       smClickStopPropagation\n       [matMenuTriggerFor]=\"menu\"\n       class=\" p-0 cell menu-button\"\n       [class]=\"buttonClass\"\n       [class.btn]=\"hasButtonClass\"\n       [class.hidden-button]=\"!showButton\"\n       (menuOpened)=\"menuOpened.emit()\"\n  >\n    {{header}}\n  </div>\n  <div class='cell pointer'>\n    <i [class]=\"iconClass\" *ngIf=\"showCart\" (click)=\"trigger.openMenu()\"></i>\n  </div>\n</div>\n<mat-menu\n  #menu=\"matMenu\"\n  class=\"sm-menu\"\n  [class]=\"smMenuClass + ' ' + panelClasses\"\n  [overlapTrigger]=\"false\"\n  [hasBackdrop]=\"showOverlay\"\n  (closed)=\"menuClosed.emit()\"\n>\n  <mat-form-field appearance=\"fill\" *ngIf=\"enableSearch\" smClickStopPropagation class=\"tags-menu-input w-100\">\n    <input matInput (input)=\"searchValueChanged.emit($event)\" [(ngModel)]=\"searchValue\" autocomplete=\"off\">\n    <i matSuffix [class]=\"'fa mr2 ' + (searchValue? 'fa-times pointer':'fa-search')\" (click)=\"searchValue && clearSearch()\"></i>\n  </mat-form-field>\n  <div class=\"results\" [class.search-results]=\"enableSearch\">\n    <ng-content></ng-content>\n  </div>\n  <div class=\"fixed-options\" >\n    <mat-divider *ngIf=\"fixedOptionsSubheader || refFixedOptions.hasChildNodes()\"></mat-divider>\n    <div *ngIf=\"fixedOptionsSubheader\" class=\"fixed-options-subheader\">\n      {{fixedOptionsSubheader}}\n    </div>\n    <div #refFixedOptions>\n      <ng-content select=\"[fixedOptions]\">\n\n      </ng-content>\n    </div>\n  </div>\n</mat-menu>\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Input,\n  Output,\n  Renderer2,\n  ViewChild\n} from '@angular/core';\nimport {MatMenuTrigger} from '@angular/material/menu';\n\n@Component({\n  selector       : 'sm-menu',\n  templateUrl    : './menu.component.html',\n  styleUrls      : ['./menu.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class MenuComponent implements AfterViewInit {\n  public isMenuOpen: boolean = false;\n\n  @Input() header: string;\n  @Input() buttonClass: string;\n  @Input() hasButtonClass = true;\n  @Input() smMenuClass: string;\n  @Input() panelClasses: string;\n  @Input() iconClass: string = 'fa fa-caret-down';\n  @Input() showCart: boolean = true;\n  @Input() openOnInit: boolean = false;\n  @Input() showButton: boolean = true;\n  @Input() showOverlay: boolean = true;\n  @Input() enableSearch: boolean = false;\n  @Input() searchValue: string;\n  @Input() fixedOptionsSubheader: string;\n  @Input() buttonTooltip: string;\n  @Input() prefixIconClass: string;\n  @Input() set position(position: { x: number; y: number }) {\n    this.movePosition(position);\n    this._position = position;\n  }\n\n  get position() {\n    return this._position;\n  }\n  public _position;\n  @Output() onMenuClosed = new EventEmitter();\n  @Output() menuClosed = new EventEmitter();\n  @Output() menuOpened = new EventEmitter();\n  @Output() searchValueChanged = new EventEmitter();\n  @ViewChild(MatMenuTrigger, {static: true}) trigger: MatMenuTrigger;\n  @ViewChild('menu', {static: true}) menu;\n\n  @HostListener('document:click', ['$event'])\n  clickOut(event) {\n    if (this.isMenuOpen && !this.showOverlay && !this.eRef.nativeElement.contains(event.target)) {\n      this.isMenuOpen = false;\n      this.trigger.closeMenu();\n    }\n  }\n\n  constructor(private renderer: Renderer2, private elRef: ElementRef, protected eRef: ElementRef) {\n  }\n\n  ngAfterViewInit(): void {\n    if (this.position) {\n      this.movePosition(this.position);\n    }\n    if (this.openOnInit) {\n      this.openMenu();\n    }\n  }\n\n  openMenu() {\n    this.isMenuOpen = true;\n    this.trigger.openMenu();\n  }\n\n  movePosition(position) {\n    if (!this.elRef.nativeElement || !position) {\n      return;\n    }\n    this.renderer.setStyle(this.elRef.nativeElement, 'position', 'fixed');\n    this.renderer.setStyle(this.elRef.nativeElement, 'left', position.x + 'px');\n    this.renderer.setStyle(this.elRef.nativeElement, 'top', position.y + 'px');\n  }\n\n  clearSearch() {\n    this.searchValue = '';\n    this.searchValueChanged.emit({target: {value: ''}});\n  }\n}\n","import {ChangeDetectionStrategy, Component, EventEmitter, Input, Output} from '@angular/core';\nimport {CircleTypeEnum} from '../../../../../shared/constants/non-common-consts';\nimport {Model} from '../../../../../business-logic/model/models/model';\nimport {TIME_FORMAT_STRING} from '../../../../constants';\n\n\n@Component({\n  selector: 'sm-model-card',\n  templateUrl: './model-card.component.html',\n  styleUrls: ['./model-card.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ModelCardComponent {\n\n  @Input() model: any; // TODO should be IModel\n  @Output() modelCardClicked = new EventEmitter();\n  TIME_FORMAT_STRING = TIME_FORMAT_STRING;\n  CircleTypeEnum = CircleTypeEnum;\n\n  public modelClicked() {\n    this.modelCardClicked.emit(this.model);\n  }\n\n  public numberOfLabels(labels: Model['labels']): number {\n    if (labels) {\n      return Object.keys(labels).length;\n    } else {\n      return 0;\n    }\n\n  }\n}\n","<sm-card class=\"model-card\" (click)=\"modelClicked()\" [isExample]=\"!model?.company?.id\" [height]=\"264\">\n  <div header-content>\n    <div class=\"d-flex justify-content-between\">\n      <div class=\"title mr-auto\">{{model?.name}}</div>\n    </div>\n    <div style=\"padding-top: 5px\">\n      <div class=\"d-flex align-items-center justify-content-start\">\n        <span class=\"sub-title\">ID:  {{model?.id}} </span>\n        <sm-copy-clipboard [clipboardText]=\"model?.id\" [label]=\"''\" [hideBackground]=\"true\"></sm-copy-clipboard>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"d-flex justify-content-around\">\n    <sm-circle-status [status]=\"model.framework\"></sm-circle-status>\n    <sm-circle-counter [counter]=\"numberOfLabels(model?.labels)\" label=\"LABELS\" [type]=\"CircleTypeEnum['model-labels']\"></sm-circle-counter>\n    <sm-circle-status [status]=\"model.ready? 'published' : 'created'\"></sm-circle-status>\n  </div>\n\n\n  <div footer class=\"brio-footer\">\n    <div class=\"model-footer\">\n      <div class=\"top-labels ellipsis\" [smTooltip]=\"model?.task?.name\">CREATOR EXPERIMENT:\n          {{model?.task?.name}}\n      </div>\n      <div class=\"top-labels ellipsis d-flex justify-content-between\">\n        <span [smTooltip]=\"model.created | date : TIME_FORMAT_STRING\">Created {{model.created | timeAgo}}</span>\n        <span>{{model?.user?.name}}</span>\n      </div>\n    </div>\n  </div>\n</sm-card>\n","<div [class]=\"'navbar-item ' + direction\" [ngClass]=\"{'active': active}\">\n  <div class=\"d-flex align-items-center\">{{header?.toUpperCase()}}<i *ngIf=\"multi\" class=\"ml-2 al-icon al-ico-dropdown-arrow sm\"></i></div>\n  <div>{{subHeader? subHeader: ''}}</div>\n</div>\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\n\n@Component({\n  selector: 'sm-navbar-item',\n  templateUrl: './navbar-item.component.html',\n  styleUrls: ['./navbar-item.component.scss'],\n})\nexport class NavbarItemComponent implements OnInit {\n\n  @Input() header: string;\n  @Input() active: boolean;\n  @Input() direction: 'bottom' | 'top' = 'bottom';\n  @Input() subHeader: string;\n  @Input() multi: boolean = false;\n\n  @Output() itemSelected = new EventEmitter<string>();\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\n\n@Component({\n  selector   : 'sm-plus-card',\n  templateUrl: './plus-card.component.html',\n  styleUrls  : ['./plus-card.component.scss']\n})\nexport class PlusCardComponent implements OnInit {\n  @Input() folder: boolean = false;\n  @Output() plusCardClick = new EventEmitter();\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n  public plusCardClicked() {\n    this.plusCardClick.emit();\n  }\n\n}\n","<sm-card [showSeperator]=\"false\" [isFolder]=\"folder\" [oneTabMode]=\"true\" (click)=\"plusCardClicked()\">\n  <div class=\"plus-card-body d-flex pointer\">\n    <div class=\"al-icon al-ico-plus al-color blue-400 plus-icon xl\"></div>\n  </div>\n</sm-card>\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {Project} from '~/business-logic/model/projects/project';\n\n\n@Component({\n  selector: 'sm-project-card-menu',\n  templateUrl: './project-card-menu.component.html',\n  styleUrls: ['./project-card-menu.component.scss']\n})\nexport class ProjectCardMenuComponent {\n  @Output() deleteProjectClicked = new EventEmitter<Project>();\n  @Output() moveToClicked = new EventEmitter<string>();\n  @Output() newProjectClicked = new EventEmitter<string>();\n  @Output() projectNameInlineActivated = new EventEmitter();\n  @Input() project;\n}\n","<sm-card class=\"project-card\"\n         (click)=\"projectClicked()\"\n         [isExample]=\"!['All Experiments'].includes(project.name) && !isRootProject && (!project.company || ! project.company.id)\"\n         [isFolder]=\"true\"\n         [oneTabMode]=\"!(project?.sub_projects?.length>0)\"\n         [subFolderTitle]=\"project?.sub_projects?.length + ' sub projects'\"\n>\n  <div secondTab class=\"h-100\">\n    <div class=\"card-sp-list\" smClickStopPropagation>\n      <ul>\n        <li *ngFor=\"let subProject of project?.sub_projects\"><a class=\"d-flex align-items-center\"\n                                                                 (click)=\"subProjectClicked(subProject.id)\"\n                                                                [smTooltip]=\"subProject?.name\"\n                                                                matTooltipPosition=\"above\"\n                                                                [innerHTML]=\"subProject?.name | breadcrumbsEllipsis\"></a>\n        </li>\n      </ul>\n    </div>\n  </div>\n  <div header-content>\n    <div class=\"d-flex justify-content-between align-items-center\">\n      <sm-inline-edit #projectName\n                      class=\"title edit-name dark\"\n                      [originalText]=\"project.name | shortProjectName\"\n                      [editable]=\"true\"\n                      pattern=\"^[^/]+$\"\n                      [minWidth]=\"250\"\n                      [inlineDisabled]=\"true\"\n                      (textChanged)=\"prepareProjectNameForChange($event)\"\n                      (inlineActiveStateChanged)=\"projectNameEditActiveChanged($event)\"\n\n      >\n        <span class=\"project-name\"\n              matTooltipPosition=\"above\"\n              [smTooltip]=\"project.name\"\n        >{{project.name | shortProjectName}}</span>\n      </sm-inline-edit>\n      <div *ngIf=\"project.system_tags?.includes('default')\" class=\"justify-content-end project-tag\">Sample</div>\n      <sm-project-card-menu-extended\n        class=\"menu-wrapper\"\n        *ngIf=\"!hideMenu\"\n        (deleteProjectClicked)=\"deleteProjectClicked.emit($event)\"\n        (moveToClicked)=\"moveToClicked.emit($event)\"\n        (newProjectClicked)=\"newProjectClicked.emit($event)\"\n        (projectNameInlineActivated)=\"projectName.inlineActivated()\"\n        [project]=\"project\"\n      >\n      </sm-project-card-menu-extended>\n    </div>\n\n  </div>\n  <div class=\"d-flex justify-content-around\">\n    <ng-template></ng-template>\n    <sm-circle-counter\n      [counter]=\"project.id === '*'? '∞' : project.stats?.active?.total_tasks\"\n      label=\"TOTAL\"\n      [type]=\"project.stats?.active?.total_tasks===0 ? circleTypeEnum.empty:circleTypeEnum.pending\"></sm-circle-counter>\n    <sm-circle-counter\n      [counter]=\"project.id === '*'? '∞' : project.stats?.active?.running_tasks\"\n      label=\"RUNNING\"\n      [type]=\"project.stats?.active?.running_tasks===0?circleTypeEnum.empty:circleTypeEnum.running\"></sm-circle-counter>\n    <sm-circle-counter [counter]=\"project.id === '*'? '∞' : project.stats?.active?.completed_tasks\"\n                       label=\"COMPLETED\"\n                       [type]=\"project.stats?.active?.completed_tasks===0? circleTypeEnum.empty:circleTypeEnum.completed\"\n                       underLabel=\"(24 hrs)\"></sm-circle-counter>\n  </div>\n  <div footer>\n    <div class=\"footer-title\">\n      COMPUTE TIME: {{computeTime}}\n    </div>\n  </div>\n</sm-card>\n","import {ChangeDetectionStrategy, Component, EventEmitter, Input, Output, ViewChild} from '@angular/core';\nimport {ProjectsGetAllResponseSingle} from '~/business-logic/model/projects/projectsGetAllResponseSingle';\nimport {CircleTypeEnum} from '~/shared/constants/non-common-consts';\nimport {Project} from '~/business-logic/model/projects/project';\nimport {ICONS} from '@common/constants';\n\n\n@Component({\n  selector: 'sm-project-card',\n  templateUrl: './project-card.component.html',\n  styleUrls: ['./project-card.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ProjectCardComponent {\n  private _project: ProjectsGetAllResponseSingle ;\n  public computeTime: string;\n\n  @Input() set project(data: ProjectsGetAllResponseSingle ) {\n    this._project = data;\n    this.computeTime = this.convertSecToDaysHrsMinsSec(data.stats?.active?.total_runtime)\n  };\n\n  get project() {\n    return this._project;\n  }\n  @Input() isRootProject;\n  @Input() hideMenu = false;\n  @Output() projectCardClicked = new EventEmitter<Project>();\n  @Output() projectNameChanged = new EventEmitter();\n  @Output() deleteProjectClicked = new EventEmitter<Project>();\n  @Output() moveToClicked = new EventEmitter<string>();\n  @Output() newProjectClicked = new EventEmitter<string>();\n  @ViewChild('projectName', {static: true}) projectName;\n  readonly circleTypeEnum = CircleTypeEnum;\n  readonly ICONS = ICONS;\n\n  private projectNameActive = false;\n\n  public convertSecToDaysHrsMinsSec(secs) {\n    const dayInSec = 60 * 60 * 24;\n    const hourInSec = 60 * 60;\n    const minInSec = 60;\n    const d = Math.floor(secs / dayInSec);\n    const h = Math.floor((secs - (d * dayInSec)) / hourInSec);\n    const m = Math.floor((secs - (d * dayInSec + h * hourInSec)) / minInSec);\n    const s = secs % 60;\n    const H = h < 10 ? '0' + h : h;\n    const M = m < 10 ? '0' + m : m;\n    const S = s < 10 ? '0' + s : s;\n    return `${d === 1 ? d + ' DAY ' : d > 1 ? d + ' DAYS ' : ''} ${H}:${M}:${S}`;\n  }\n\n  public projectClicked() {\n    if (!this.projectNameActive) {\n      this.projectCardClicked.emit(this.project);\n    }\n  }\n\n  public projectNameEditActiveChanged(active) {\n    setTimeout(() => this.projectNameActive = active, 100);\n  }\n\n  subProjectClicked(id: string) {\n    this.projectCardClicked.emit({id});\n  }\n\n  prepareProjectNameForChange(projectName: string) {\n    this.projectNameChanged.emit(this.project.name.substring(0, this.project.name.lastIndexOf('/') + 1) + projectName);\n  }\n}\n","<span class=\"sys-tag tag-item\" *ngFor=\"let tag of sysTags\">{{tag}}</span>\n<ng-container *ngIf=\"remove.observers.length > 0; else:noRemove\">\n  <sm-user-tag class=\"tag-item\"\n               *ngFor=\"let tag of tagsList; trackBy: trackFn\"\n               [colors]=\"tag.colorObservable | async\"\n               [caption]=\"tag.caption\"\n               [tooltip]=\"tooltip\"\n               [disabledRemove]=\"disableRemove\"\n               (remove)=\"removeTag($event)\"\n  ></sm-user-tag>\n</ng-container>\n\n<ng-template #noRemove>\n  <sm-user-tag class=\"tag-item\"\n               *ngFor=\"let tag of tagsList; trackBy: trackFn\"\n               [colors]=\"tag.colorObservable | async\"\n               [caption]=\"tag.caption\"\n               [tooltip]=\"tooltip\"\n  ></sm-user-tag>\n</ng-template>\n\n<sm-user-tag\n  class=\"add-button\"\n  [class.no-tags]=\"!tagsList?.length\"\n  *ngIf=\"add.observers.length > 0\"\n  caption=\"ADD TAG\"\n  [colors]=\"{foreground: '#a7b2d8', background: null}\"\n  (add)=\"add.emit($event)\"\n></sm-user-tag>\n","import {ChangeDetectionStrategy, Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {TagColorService} from '../../../services/tag-color.service';\nimport {Observable} from 'rxjs';\n\nexport interface Tag {\n  caption: string;\n  colorObservable: Observable<{\n    background: string;\n    foreground: string;\n  }>;\n}\n\n@Component({\n  selector: 'sm-tag-list',\n  templateUrl: './tag-list.component.html',\n  styleUrls: ['./tag-list.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TagListComponent implements OnInit {\n  public disableRemove: boolean;\n  tagsList = [] as Tag[];\n\n  @Input() set tags(tags: string[]) {\n    this.tagsList = tags?.map((tag: string) => ({caption: tag, colorObservable: this.colorService.getColor(tag)}));\n    this.disableRemove = false;\n  }\n  @Input() sysTags = [] as string[];\n  @Input() tooltip: boolean = false;\n  @Output() remove = new EventEmitter();\n  @Output() add = new EventEmitter<MouseEvent>();\n\n  constructor(private colorService: TagColorService) { }\n\n  ngOnInit(): void {\n  }\n\n  public trackFn(index: number, tag: Tag) {\n    return tag.caption;\n  }\n\n  removeTag(tag: string) {\n    this.remove.emit(tag);\n    this.disableRemove = true;\n  }\n}\n","<form class=\"filter-form\" (ngSubmit)=\"addTag(filterText)\">\n  <mat-form-field appearance=\"standard\"\n                  class=\"tags-menu-input\"\n                  hideRequiredMarker=\"true\"\n                  floatLabel=\"never\">\n    <input #nameInput cdkFocusInitial smClickStopPropagation matInput placeholder=\"Add Tag\" name=\"filter\" [(ngModel)]=\"filterText\" class=\"filter\" autocomplete=\"off\">\n      <i matSuffix\n         [class]=\"'icon sm-md mr-3 ml-4 pointer ' + (tagsFilterByProject ? 'i-project-tags-filter-active' : 'i-project-tags-filter')\"\n         matTooltipPosition=\"above\"\n         smTooltip=\"Toggle all/project-only tags\"\n         (click)=\"projectTagsFilterToggle()\"\n         smClickStopPropagation></i>\n      <i matSuffix [class]=\"'fa mr2 ' + (filterText? 'fa-times pointer':'fa-search')\" (click)=\"filterText && clear()\" smClickStopPropagation></i>\n  </mat-form-field>\n</form>\n<div class=\"buttons-container\" [class.searching]=\"filterText\">\n  <button\n    class=\"item\"\n    *ngIf=\"filterText && !allTags.includes(filterText)\"\n    (click)=\"addTag(filterText)\"\n  >\"{{filterText}}\" <span class=\"new\">(Create New)</span></button>\n  <button\n    *ngFor=\"let tag of allTags | filter:tags | filter:filterText; trackBy: trackByFn\"\n    class=\"item\"\n    (click)=\"addTag(tag)\"\n  >{{tag}}</button>\n</div>\n<hr>\n<button class=\"item\" (click)=\"openTagColors()\">Tag Colors</button>\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  Output,\n  ViewChild\n} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {getCompanyTags, getTags, openTagColorsMenu, setTagsFilterByProject} from '@common/core/actions/projects.actions';\nimport {ActivateEdit} from 'app/webapp-common/experiments/actions/common-experiments-info.actions';\nimport {ActivateModelEdit} from '@common/models/actions/models-info.actions';\n\n@Component({\n  selector: 'sm-tags-menu',\n  templateUrl: './tags-menu.component.html',\n  styleUrls: ['./tags-menu.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TagsMenuComponent {\n  public filterText: string;\n  private firstTime = true;\n\n  get allTags(): string[] {\n    return this.tagsFilterByProject ? this.projectTags : this.companyTags;\n  }\n\n  @Input() tags: string[];\n  @Input() projectTags: string[];\n  @Input() companyTags: string[] = [];\n  @Input() tagsFilterByProject: boolean;\n  @Output() tagSelected = new EventEmitter<string>();\n\n  @ViewChild('nameInput') nameInput: ElementRef<HTMLInputElement>;\n\n\n  constructor(private store: Store, private cdr: ChangeDetectorRef, private elRef: ElementRef) {\n  }\n\n  openTagColors() {\n    window.setTimeout(() => {\n      this.store.dispatch(new ActivateEdit('tags'));\n      this.store.dispatch(new ActivateModelEdit('tags'));\n    }, 500);\n    this.store.dispatch(openTagColorsMenu());\n  }\n\n  addTag(tag: string) {\n    if (!this.tags.includes(tag)) {\n      this.tagSelected.emit(tag);\n      this.filterText = '';\n    }\n    this.elRef.nativeElement.click();\n  }\n\n  focus() {\n    if (this.tagsFilterByProject) {\n      this.firstTime = true;\n      this.store.dispatch(getTags());\n    } else {\n      this.firstTime = false;\n      this.store.dispatch(getCompanyTags());\n    }\n    this.nameInput.nativeElement.focus();\n    this.cdr.detectChanges();\n  }\n\n  clear() {\n    this.filterText = '';\n  }\n\n  projectTagsFilterToggle(): void {\n    if (this.tagsFilterByProject) {\n      if (this.firstTime) {\n        this.firstTime = false;\n        this.store.dispatch(getCompanyTags());\n      }\n    } else {\n      this.store.dispatch(getTags());\n    }\n    this.store.dispatch(setTagsFilterByProject({tagsFilterByProject: !this.tagsFilterByProject}));\n  }\n\n  trackByFn(index, item) {\n    return item;\n  }\n}\n","<span\n  class=content\n  [style.backgroundColor]=\"colors?.background\"\n  [style.color]=\"colors?.foreground\"\n  [class.add-button]=\"add.observers.length > 0\"\n  (click)=\"add.emit($event)\"\n  [smTooltip]=\"tooltip ? caption : undefined\"\n>\n  <i class=\"fas fa-plus\" *ngIf=\"add.observers.length > 0\"></i>\n  {{caption}}\n</span>\n<i class=\"fas fa-xs fa-times remove\"\n   *ngIf=\"remove.observers.length > 0 && !disabledRemove\"\n   [style.color]=\"colors?.foreground\"\n   (click)=\"onRemoveClicked(caption)\">\n</i>\n<mat-spinner *ngIf=\"disabledRemove\" class=\"icon sm white remove\" [diameter]=\"17\" [strokeWidth]=\"3\"></mat-spinner>\n<div class=\"arrow\" [class.add-button]=\"add.observers.length > 0\" [style.backgroundColor]=\"colors?.background\"></div>\n","import {Component, OnInit, Input, Output, EventEmitter} from '@angular/core';\nimport {TagColor} from '../../../../core/actions/projects.actions';\n\n@Component({\n  selector: 'sm-user-tag',\n  templateUrl: './user-tag.component.html',\n  styleUrls: ['./user-tag.component.scss']\n})\nexport class UserTagComponent implements OnInit {\n  @Input() caption: string;\n  @Input() colors: TagColor;\n  @Input() foreground: string;\n  @Input() tooltip: boolean;\n  @Input() disabledRemove: boolean;\n  @Output() remove = new EventEmitter<string>();\n  @Output() add = new EventEmitter<MouseEvent>();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  onRemoveClicked(caption: string) {\n    this.remove.emit(caption);\n  }\n}\n","import {Directive, Input} from '@angular/core';\nimport {AbstractControl, NG_VALIDATORS, ValidationErrors, Validator, ValidatorFn} from '@angular/forms';\n\nexport function validatePrefix(invalidPrefix?: string): ValidatorFn {\n  return (control: AbstractControl): { [key: string]: any } | null => {\n    const forbidden = control.value?.startsWith(invalidPrefix);\n    return forbidden ? {invalidPrefix: {value: control.value}} : null;\n  };\n}\n\n@Directive({\n  selector: '[smInvalidPrefixValidator]',\n  providers: [{provide: NG_VALIDATORS, useExisting: InvalidPrefixValidatorDirective, multi: true}]\n})\nexport class InvalidPrefixValidatorDirective implements Validator {\n  @Input('invalidPrefix') invalidPrefix: string;\n\n  validate(control: AbstractControl): ValidationErrors | null {\n    return validatePrefix(this.invalidPrefix)(control);\n  }\n}\n\n\n","import { Input, ViewChild, Directive } from '@angular/core';\nimport {ControlValueAccessor, NgForm} from '@angular/forms';\n\n@Directive()\nexport class TemplateFormSectionBase implements ControlValueAccessor {\n  public disabled: boolean;\n  public val = null;\n  public ngModelValue = null;\n  protected valueFromInherit = true;\n  @Input() inEditMode: boolean;\n  @ViewChild('templateForm', {static: true}) templateForm: NgForm;\n  onChange: any = () => {\n  };\n  onTouch: any = () => {\n  };\n\n  set value(val) {  // this value is updated by programmatic changes if( ngModelValue !== undefined && this.ngModelValue !== ngModelValue){\n    if (this.valueFromInherit && val !== undefined && val !== this.val) {\n      this.val = val;\n      this.onChange(val);\n      this.onTouch(val);\n    }\n  }\n\n// this method sets the value from outside\n  writeValue(value: any) {\n    this.value = value;\n  }\n\n// upon UI element value changes, this method gets triggered\n  registerOnChange(fn: any) {\n    this.onChange = fn;\n  }\n\n// upon touching the element, this method gets triggered\n  registerOnTouched(fn: any) {\n    this.onTouch = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n}\n","import {Directive, Input} from '@angular/core';\nimport {AbstractControl, NG_VALIDATORS, ValidationErrors, Validator, ValidatorFn} from '@angular/forms';\n\nexport const uniqueNameValidator = (names, forbiddenPrefix?, valuePrefix?): ValidatorFn =>\n  (control: AbstractControl): { [key: string]: any } | null => {\n    let value = control.value?.label || control.value?.name || control.value;\n    if (valuePrefix) {\n      value = valuePrefix + value;\n    }\n    const forbidden = names.includes(forbiddenPrefix ? forbiddenPrefix + value : value);\n    return forbidden ? {uniqueName: {value: control.value}} : null;\n  };\n\n@Directive({\n  selector: '[smUniqueNameValidator]',\n  providers: [{provide: NG_VALIDATORS, useExisting: UniqueNameValidatorDirective, multi: true}]\n})\nexport class UniqueNameValidatorDirective implements Validator {\n  @Input() existingNames: Array<string>;\n  @Input() forbiddenPrefix: string;\n  @Input() valuePrefix: string;\n\n  validate(control: AbstractControl): ValidationErrors | null {\n    return this.existingNames ? uniqueNameValidator(this.existingNames, this.forbiddenPrefix, this.valuePrefix)(control) : null;\n  }\n}\n\n\n","import {Directive, Input} from '@angular/core';\nimport {AbstractControl, NG_VALIDATORS, ValidationErrors, Validator, ValidatorFn} from '@angular/forms';\n\nexport const uniqPathValidator = (names, currentName): ValidatorFn => (control: AbstractControl): { [key: string]: any } | null => {\n  const forbidden = names.includes(control.value + '/' + currentName);\n  return forbidden ? {uniquePath: {value: control.value}} : null;\n};\n\n@Directive({\n  selector: '[smUniquePathValidator]',\n  providers: [{provide: NG_VALIDATORS, useExisting: UniquePathValidatorDirective, multi: true}]\n})\nexport class UniquePathValidatorDirective implements Validator {\n  @Input() existingPaths: Array<string>;\n  @Input() currentName: string;\n\n  validate(control: AbstractControl): ValidationErrors | null {\n    return this.existingPaths ? uniqPathValidator(this.existingPaths, this.currentName)(control) : null;\n  }\n}\n\n\n","<mat-expansion-panel *ngFor=\"let item of showList | keyvalue | sort:'key'; trackBy: trackByFn\"\n                     [expanded]=\"expanded[item.key]\"\n                     [hideToggle]=\"!item.value.hasChildren\"\n                     [class.no-children]=\"!item.value.hasChildren\">\n  <mat-expansion-panel-header\n    #panelH\n    expandedHeight=\"40px\"\n    collapsedHeight=\"40px\"\n    [class.has-children]=\"item.value.hasChildren\"\n    (click)=\"selectedItem(item, panelH)\"\n  >\n    <div class=\"header-container\" [ngClass]=\"{'unchecked' : isHideAllMode(item.value) || item.value.visible}\">\n      <div class=\"ellipsis item-key\" [smTooltip]=\"item.key\" [showDelay]=\"500\">{{item.key}}</div>\n      <div>\n        <i (click)=\"groupCheck(item); $event.stopPropagation()\"\n           [class]=\"(isHideAllMode(item.value) || item.value.visible? checkIcon[1] : checkIcon[0]) + ' fa icon'\"\n           ></i>\n      </div>\n    </div>\n\n  </mat-expansion-panel-header>\n  <ul class=\"list\">\n    <li\n      *ngFor=\"let listItem of item.value.data | keyvalue; trackBy: trackByFn\"\n      class=\"list-item\"\n      (click)=\"onItemSelect.emit(item.key + listItem.key)\"\n      [ngClass]=\"{unchecked: $any(listItem.value).visible}\"\n    >\n      <span class=\"pointer ellipsis w-100 pl-2 list-item-key\" [smTooltip]=\"listItem.key\" [showDelay]=\"500\">{{listItem.key}}</span>\n      <i (click)=\"onItemCheck.emit( {pathString: item.key+ listItem.key, parent: item.key}); $event.stopPropagation()\" [class]=\"($any(listItem.value).visible ? checkIcon[1] : checkIcon[0]) + ' fa icon'\"></i>\n    </li>\n  </ul>\n</mat-expansion-panel>\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, Input, OnChanges, Output, SimpleChanges, TrackByFunction} from '@angular/core';\nimport {SelectableListItem} from './grouped-selectable-list.model';\nimport {GroupedList} from '../selectable-grouped-filter-list/selectable-grouped-filter-list.component';\nimport {MatExpansionPanelHeader} from '@angular/material/expansion';\n\n\ninterface GroupItem {\n  data: GroupedVisibleList;\n  visible: boolean;\n  hasChildren: boolean;\n}\n\nexport interface GroupedVisibleList {\n  [metric: string]: GroupItem;\n}\n\n@Component({\n  selector: 'sm-grouped-selectable-list',\n  templateUrl: './grouped-selectable-list.component.html',\n  styleUrls: ['./grouped-selectable-list.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class GroupedSelectableListComponent implements OnChanges {\n  private _list: GroupedList;\n  public showList: GroupedVisibleList;\n  expanded = {};\n\n  checkIcon: string[] = ['fa-eye', 'fa-eye-slash'];\n  @Input() searchTerm: string;\n\n  @Input() set list(list) {\n    this._list = list;\n    if (!this.searchTerm || this.isFlatList()) {\n      this.toggleExpandedAll(false);\n    } else {\n      this.toggleExpandedAll(true);\n    }\n  }\n\n  get list() {\n    return this._list;\n  }\n\n  @Input() checkedList: Array<any>;\n  @Input() selected: SelectableListItem['value'];\n  // @Input() checkIcon: string[] = ['fa-eye', 'fa-eye-slash'];\n  @Output() onItemSelect = new EventEmitter<string>();\n  @Output() onItemCheck = new EventEmitter<{ pathString: string; parent: string }>();\n  @Output() onGroupCheck = new EventEmitter<any>();\n\n  constructor(private cdr: ChangeDetectorRef) {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if ((changes.list || changes.checkedList && this.list && this.checkedList)) {\n      this.showList = this.buildingNestedList();\n      this.cdr.detectChanges();\n    }\n  }\n\n  private buildingNestedList() {\n    return Object.entries(this.list).reduce((acc, [parent, children]) => {\n      acc[parent] = {\n        data: Object.keys(children).reduce((acc2, child) => {\n          acc2[child] = {data: children[child], visible: this.checkedList.includes(parent + child)};\n          return acc2;\n        }, {}),\n        visible: this.checkedList.includes(parent),\n        hasChildren: Object.keys(children).length > 0\n      };\n      return acc;\n    }, {}) as GroupedVisibleList;\n  }\n\n  public toggleExpandedAll(open) {\n    Object.keys(this.list).forEach(key => {\n      this.expanded[key] = open;\n    });\n  }\n\n  isHideAllMode(parent: GroupItem) {\n    const children = Object.values(parent.data);\n    return parent.hasChildren ? children.every(itemKey => itemKey.visible) : parent.visible;\n  }\n\n  trackByFn = (index, item) => index + item.key + item.value.hasChildren;\n\n  groupCheck(item: { key: string; value: GroupItem}) {\n    this.onGroupCheck.emit({key: item.key, hide: !this.isHideAllMode(item.value)});\n  }\n\n  selectedItem(item: { key: string; value: GroupItem}, panelH: MatExpansionPanelHeader) {\n    if (!item.value.hasChildren) {\n      this.onItemSelect.emit(item.key);\n      panelH._toggle();\n    }\n  }\n\n  private isFlatList() {\n    return Object.values(this.showList).every(item => !item.hasChildren);\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\n\nimport {CircleCounterComponent} from './indicators/circle-counter/circle-counter.component';\nimport {CardComponent} from './panel/card/card.component';\nimport {PlusCardComponent} from './panel/plus-card/plus-card.component';\nimport {NumberCounterComponent} from './indicators/number-counter/number-counter.component';\n\nimport {ClipboardModule} from 'ngx-clipboard';\n\nimport {NeonButtonComponent} from './buttons/neon-button/neon-button.component';\nimport {MenuComponent} from './panel/menu/menu.component';\nimport {SearchComponent} from './inputs/search/search.component';\nimport {NavbarItemComponent} from './panel/navbar-item/navbar-item.component';\nimport {ButtonToggleComponent} from './inputs/button-toggle/button-toggle.component';\nimport {ConfirmDialogComponent} from './overlay/confirm-dialog/confirm-dialog.component';\n\nimport {CodeComponent} from './data/code/code.component';\nimport {DialogTemplateComponent} from './overlay/dialog-template/dialog-template.component';\nimport {SMMaterialModule} from '../material/material.module';\nimport {AlertDialogComponent} from './overlay/alert-dialog/alert-dialog.component';\nimport {TooltipDirective} from './indicators/tooltip/tooltip.directive';\nimport {CheckboxControlComponent} from './forms/checkbox-control/checkbox-control.component';\nimport {SimpleTableComponent2} from './data/simple-table/simple-table.component';\nimport {ChipsModule} from './buttons/chips/chips.module';\nimport {TermsOfUseDialogComponent} from './overlay/terms-of-use-dialog/terms-of-use-dialog.component';\nimport {LeafComponent} from './overlay/leaf/leaf.component';\nimport {WizardDialogStepComponent} from './overlay/wizard-dialog-step/wizard-dialog-step.component';\nimport {LabeledRowComponent} from './data/labeled-row/labeled-row.component';\nimport {CircleStatusComponent} from './indicators/circle-status/circle-status.component';\nimport {MenuItemComponent} from './panel/menu-item/menu-item.component';\nimport {ClickStopPropagationDirective} from './directives/click-stop-propagation.directive';\nimport {TableComponent} from './data/table/table.component';\nimport {TableFilterSortTemplateComponent} from './data/table/table-filter-sort-template/table-filter-sort-template.component';\nimport {CompareFooterComponent} from './panel/compare-footer/compare-footer.component';\nimport {IconLabelComponent} from './data/icon-label/icon-label.component';\nimport {SelectableListComponent} from './data/selectable-list/selectable-list.component';\nimport {SelectableFilterListComponent} from './data/selectable-filter-list/selectable-filter-list.component';\nimport {ThrottledScrollListenerDirective} from './directives/throttled-scroll-listener.directive';\n\nimport {SharedPipesModule} from '../pipes/shared-pipes.module';\nimport {TableCardComponent} from './data/table-card/table-card.component';\nimport {ToggleArchiveComponent} from './buttons/toggle-archive/toggle-archive.component';\nimport {MatButtonToggleModule} from '@angular/material/button-toggle';\nimport {MatExpansionModule} from '@angular/material/expansion';\nimport {MatDatepickerModule} from '@angular/material/datepicker';\n\nimport {TableCardFilterTemplateComponent} from './data/table/table-card-filter-template/table-card-filter-template.component';\nimport {EditableSectionComponent} from './panel/editable-section/editable-section.component';\nimport {LoadingButtonComponent} from './buttons/loading-button/loading-button.component';\nimport {OverlayComponent} from './overlay/overlay/overlay.component';\nimport {ChooseColorModule} from './directives/choose-color/choose-color.module';\nimport {PortalModule} from '@angular/cdk/portal';\nimport {SMPortalModule} from '../portal/portal.module';\nimport {TableModule} from 'primeng/table';\nimport {ContextMenuModule} from 'primeng/contextmenu';\nimport {ClickPreventDefaultDirective} from './directives/click-prevent-default.directive';\nimport {TagComponent} from './indicators/tag/tag.component';\nimport {UniqueNameValidatorDirective} from './template-forms-ui/unique-name-validator.directive';\nimport {ForceInvalidValidatorDirective} from './template-forms-ui/force-invalid-validator.directive';\nimport {SelectableGroupedFilterListComponent} from './data/selectable-grouped-filter-list/selectable-grouped-filter-list.component';\nimport {GroupedSelectableListComponent} from './data/grouped-selectable-list/grouped-selectable-list.component';\nimport {DragDropModule} from '@angular/cdk/drag-drop';\nimport {SnippetErrorComponent} from './indicators/snippet-error/snippet-error.component';\nimport {UpdateNotifierComponent} from './overlay/update-notifier/update-notifier.component';\nimport {SelectAutocompleteForTemplateFormsComponent} from './inputs/select-autocomplete-for-template-forms/select-autocomplete-for-template-forms.component';\nimport {UniqueInListValidatorDirective} from './template-forms-ui/unique-in-list-validator.directive';\nimport {UniqueInListSyncValidatorDirective} from './template-forms-ui/unique-in-list-sync-validator.directive';\nimport {UniqueInListSync2ValidatorDirective} from './template-forms-ui/unique-in-list-sync-validator-2.directive';\nimport {MaxNumberValidatorDirective} from './template-forms-ui/max-number-validator.directive';\nimport {NotAllowedStringsValidatorValidatorDirective} from './template-forms-ui/dont-allow-strings-validator.directive';\nimport {VerticalLabeledRowComponent} from './data/veritical-labeled-row/vertical-labeled-row.component';\nimport {RefreshButtonComponent} from '../components/refresh-button/refresh-button.component';\nimport {DurationInputComponent} from './inputs/duration-input/duration-input.component';\nimport {KeydownStopPropagationDirective} from './directives/keydown-stop-propagation.directive';\nimport {PreventArrowKeysDirective} from './directives/prevent-arrow-keys.directive';\nimport {EllipsisMiddleDirective} from './directives/ellipsis-middle.directive';\nimport {UserTagComponent} from './tags/user-tag/user-tag.component';\nimport {TagListComponent} from './tags/tag-list/tag-list.component';\nimport {TagsMenuComponent} from './tags/tags-menu/tags-menu.component';\nimport {TagColorMenuComponent} from './tags/tag-color-menu/tag-color-menu.component';\nimport {ScrollingModule} from '@angular/cdk/scrolling';\nimport {ColorPickerModule} from 'ngx-color-picker';\nimport {EditJsonComponent} from './overlay/edit-json/edit-json.component';\nimport {ResizableColumnDirective} from './data/table/resizable-column.directive';\nimport {JsonValidatorDirective} from './template-forms-ui/json-validator.directive';\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\nimport {GroupedCheckedFilterListComponent} from './data/grouped-checked-filter-list/grouped-checked-filter-list.component';\nimport {ShareDialogComponent} from './overlay/share-dialog/share-dialog.component';\nimport { HesitateDirective } from './directives/hesitate.directive';\nimport { DividerComponent } from './indicators/divider/divider.component';\nimport { DurationInputListComponent } from './inputs/duraion-input-list/duration-input-list.component';\nimport { TableFilterDurationComponent } from './data/table/table-duration-sort-template/table-filter-duration/table-filter-duration.component';\nimport { TableFilterDurationNumericComponent } from './data/table/table-duration-sort-template/table-filter-duration-numeric/table-filter-duration-numeric.component';\nimport { TableFilterDurationDateTimeComponent } from './data/table/table-duration-sort-template/table-filter-duration-date-time/table-filter-duration-date-time.component';\nimport {MatInputModule} from '@angular/material/input';\nimport {MAT_DATE_LOCALE, MatNativeDateModule} from '@angular/material/core';\nimport {SelectAutocompleteWithChipsComponent} from './inputs/select-autocomplete-with-chips/select-autocomplete-with-chips.component';\nimport { TableFilterDurationErrorComponent } from './data/table/table-duration-sort-template/table-filter-duration-error/table-filter-duration-error.component';\nimport {InvalidPrefixValidatorDirective} from './template-forms-ui/invalid-prefix-validator.directive';\nimport {UniquePathValidatorDirective} from './template-forms-ui/unique-path-validator.directive';\nimport {OperationErrorDialogComponent} from '@common/shared/ui-components/overlay/operation-error-dialog/operation-error-dialog.component';\nimport { CirclesInRowComponent } from './indicators/circles-in-row/circles-in-row.component';\nimport {RequiredAutocompleteSelectionValidatorDirective} from \"@common/shared/ui-components/template-forms-ui/required-autocomplete-selection-validator.directive\";\nimport {OverflowsDirective} from '@common/shared/ui-components/directives/overflows.directive';\nimport { RippleButtonComponent } from './buttons/ripple-button/ripple-button.component';\nimport { CheckboxThreeStateListComponent } from './panel/checkbox-three-state-list/checkbox-three-state-list.component';\nimport { TemplateAliasDirective } from './directives/template-alias.directive';\n\nconst declarations = [\n  DurationInputComponent,\n  UpdateNotifierComponent,\n  SnippetErrorComponent,\n  UniqueInListValidatorDirective,\n  UniqueInListSyncValidatorDirective,\n  UniqueInListSync2ValidatorDirective,\n  MaxNumberValidatorDirective,\n  SelectAutocompleteForTemplateFormsComponent,\n  SelectAutocompleteWithChipsComponent,\n  TableComponent,\n  TableFilterSortTemplateComponent,\n  TableCardFilterTemplateComponent,\n  CircleStatusComponent,\n  WizardDialogStepComponent,\n  LeafComponent,\n  ButtonToggleComponent,\n  SearchComponent,\n  CircleCounterComponent,\n  MenuComponent,\n  MenuItemComponent,\n  CardComponent,\n  PlusCardComponent,\n  NumberCounterComponent,\n  NeonButtonComponent,\n  NavbarItemComponent,\n  CodeComponent,\n  DialogTemplateComponent,\n  ConfirmDialogComponent,\n  OperationErrorDialogComponent,\n  EditJsonComponent,\n  ShareDialogComponent,\n  ClickStopPropagationDirective,\n  EllipsisMiddleDirective,\n  KeydownStopPropagationDirective,\n  PreventArrowKeysDirective,\n  ThrottledScrollListenerDirective,\n  JsonValidatorDirective,\n  AlertDialogComponent,\n  TooltipDirective,\n  CheckboxControlComponent,\n  SimpleTableComponent2,\n  SelectableListComponent,\n  GroupedCheckedFilterListComponent,\n  GroupedSelectableListComponent,\n  ClickPreventDefaultDirective,\n  SelectableFilterListComponent,\n  SelectableGroupedFilterListComponent,\n  LabeledRowComponent,\n  VerticalLabeledRowComponent,\n  CompareFooterComponent,\n  IconLabelComponent,\n  TableCardComponent,\n  ToggleArchiveComponent,\n  EditableSectionComponent,\n  OverlayComponent,\n  ToggleArchiveComponent,\n  TermsOfUseDialogComponent,\n  LoadingButtonComponent,\n  TagComponent,\n  UniqueNameValidatorDirective,\n  UniquePathValidatorDirective,\n  RequiredAutocompleteSelectionValidatorDirective,\n  InvalidPrefixValidatorDirective,\n  ForceInvalidValidatorDirective,\n  NotAllowedStringsValidatorValidatorDirective,\n  RefreshButtonComponent,\n  UserTagComponent,\n  TagListComponent,\n  HesitateDirective,\n  DividerComponent,\n  TableFilterDurationDateTimeComponent,\n  TableFilterDurationNumericComponent,\n  CirclesInRowComponent,\n  OverflowsDirective\n];\n\n@NgModule({\n  imports     : [\n    MatExpansionModule,\n    DragDropModule,\n    CommonModule,\n    ChipsModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ClipboardModule,\n    TableModule,\n    ContextMenuModule,\n    SMMaterialModule,\n    MatButtonToggleModule,\n    SharedPipesModule,\n    ChooseColorModule,\n    PortalModule,\n    SMPortalModule,\n    ScrollingModule,\n    ColorPickerModule,\n    MatProgressSpinnerModule,\n    MatInputModule,\n    MatDatepickerModule,\n    MatNativeDateModule,\n  ],\n  providers   : [],\n  declarations: [...declarations, TagsMenuComponent, TagColorMenuComponent, ResizableColumnDirective, HesitateDirective, DurationInputListComponent, TableFilterDurationComponent, TableFilterDurationErrorComponent, RippleButtonComponent, CheckboxThreeStateListComponent, TemplateAliasDirective],\n  exports: [...declarations, ChipsModule, SMMaterialModule, ChooseColorModule, SMPortalModule, TagsMenuComponent, TableFilterDurationComponent, MatDatepickerModule, TemplateAliasDirective]\n})\nexport class UiComponentsModule {\n}\n","export abstract class FormsTrackBy {\n  private lengthChanged: boolean;\n  private previousLength: number;\n\n  abstract formData;\n\n  trackByFn = (index, val) => {\n    if ((this.lengthChanged === true) && (index === this.formData.length - 1)) {\n      this.previousLength = this.formData.length;\n      this.lengthChanged  = false;\n      return val;\n    }\n    if (this.previousLength > this.formData.length) {\n      this.lengthChanged = true;\n      return val;\n\n    }\n    if (index === this.formData.length - 1) {\n      this.previousLength = this.formData.length;\n    }\n    return index;\n  };\n}\n\nexport const trackByIndex = (index: number): number => index;\nexport const trackById = (index: number, val) => val.id;\n","import { isNil, isUndefined } from 'lodash/fp';\n\nexport function hasValue(value): boolean {\n  return !isUndefined(value) && !isNil(value);\n}\n\nexport function getValueOrDefault<T, F>(value: T, fallbackValue?: F): T | F {\n  return hasValue(value) ? value : fallbackValue;\n}\n","import {MEDIA_VIDEO_EXTENSIONS, MediaContentTypeEnum} from '../../../app.constants';\nimport {ActivatedRoute} from '@angular/router';\nimport {EXPERIMENT_GRAPH_ID_PREFIX} from '../../experiments/shared/common-experiments.const';\nimport {get, last} from 'lodash/fp';\nimport {User} from '../../../business-logic/model/users/user';\nimport {GetCurrentUserResponseUserObjectCompany} from '../../../business-logic/model/users/getCurrentUserResponseUserObjectCompany';\nimport {TABLE_SORT_ORDER} from '../ui-components/data/table/table.consts';\nimport {CloseScrollStrategy, Overlay} from '@angular/cdk/overlay';\nimport {Store} from '@ngrx/store';\nimport {mobilecheck} from '@common/shared/utils/mobile';\n\nexport const capitalizeFirstLetter = (str: string) => str.charAt(0).toUpperCase() + str.slice(1);\n\nconst CRC_TABLE = () => {\n  const polynomial = 0x04C11DB7;\n  const table = new Array(256);\n\n  const reverse = (x, n) => {  // TODO\n    let b = 0;\n    while (--n >= 0) {\n      b <<= 1;\n      b |= x & 1;\n      x >>>= 1;\n    }\n    return b;\n  };\n\n  let i = -1;\n  while (++i < 256) {\n    let g = reverse(i, 32);\n    let j = -1;\n    while (++j < 8) {\n      g = ((g << 1) ^ (((g >>> 31) & 1) * polynomial)) >>> 0;\n    }\n    table[i] = reverse(g, 32);\n  }\n  return table;\n};\n\nexport const isVideo = (contentType: MediaContentTypeEnum, uri: string) => {\n\n  if (contentType) {\n    return (contentType.indexOf('video') > -1);\n  } else {\n    const extension = uri && uri.split('.').pop().split('?')[0];\n    return MEDIA_VIDEO_EXTENSIONS.includes(extension);\n  }\n};\n\nexport const isSourceVideo = (source) => {\n\n  const contentType = (source.preview && source.preview.content_type) ? source.preview.content_type : source.content_type;\n  const uri = (source.preview && source.preview.uri) ? source.preview.uri : source.uri;\n  if (source.dprs) {\n    return false;\n  }\n  return isVideo(contentType, uri);\n};\n\nexport const isHtmlPage = (url: string) => {\n  if (!url) {\n    return false;\n  }\n  const parsed = new URL(url);\n  const ext = last(parsed.pathname.split('.'));\n  return ['html', 'htm'].includes(ext);\n};\n\nexport const isTextFileURL = (url: string) => {\n  if (!url) {\n    return false;\n  }\n  const parsed = new URL(url);\n  const ext = last(parsed.pathname.split('.'));\n  return ['txt', 'text'].includes(ext);\n};\n\nexport const isHtmlOrText = (url: string) => {\n  if (!url) {\n    return false;\n  }\n  const parsed = new URL(url);\n  const ext = last(parsed.pathname.split('.'));\n  return ['txt', 'text', 'html', 'htm'].includes(ext);\n};\n\nexport const createModelLink = (uri, modelId, modelSignedUri) => {\n  const uriArray = uri.split('/');\n  const filename = uriArray[uriArray.length - 1];\n  const url = '/static/network?obj={\"path\":\"' + modelSignedUri + '\",\"fileName\":\"' + filename + '\",\"id\":\"' + modelId + '\"}';\n  return encodeURI(url);\n};\n\nexport const allItemsAreSelected = (itemsInView: { id: any }[], selectedItems: { id: any }[]) => {\n  if (itemsInView?.length === 0 || selectedItems.length === 0) {\n    return false;\n  } else {\n    const selectedItemsIds = selectedItems.map(item => item.id);\n    return (itemsInView?.every(item => selectedItemsIds.includes(item.id)));\n  }\n};\n\nexport const addOrRemoveFromArray = (arr: Array<any> = [], item) => {\n  if (arr.includes(item)) {\n    return arr.filter(arrItem => item !== arrItem);\n  } else {\n    return arr.concat([item]);\n  }\n};\n\nexport const scrollToElement = id => {\n  const element = document.getElementById(EXPERIMENT_GRAPH_ID_PREFIX + id);\n  if (!element) {\n    if (id) {\n      console.warn('Can not find metric element: ', id);\n    }\n    return;\n  }\n  element.scrollIntoView({block: 'start', behavior: 'smooth'});\n};\n\nexport const isScrolledIntoView = el => {\n  const rect = el.getBoundingClientRect();\n  const elemTop = rect.top;\n  const elemBottom = rect.bottom;\n\n  // Only completely visible elements return true:\n  // const isVisible = (elemTop >= 0) && (elemBottom <= window.innerHeight);\n  // Partially visible elements return true:\n  const isVisible = elemTop < window.innerHeight && elemBottom >= 0;\n  return isVisible;\n};\n\nexport const getRouteFullUrl = (route: ActivatedRoute) => {\n  let path = route.routeConfig.path;\n  while (route.firstChild) {\n    route = route.firstChild;\n    path += '/' + route.snapshot.url.map(a => a.path).join('/');\n  }\n  return path;\n};\n\nexport const escapeRegex = (input: string) => input.replace(/[.+?^*${}()|[\\]\\\\]/g, '\\\\$&');\n\nexport const removeAlphaColor = (rgbaColor: string) => {\n  const rgbaColorArr = rgbaColor.substring(rgbaColor.indexOf('(') + 1, rgbaColor.indexOf(')')).split(',');\n  return `rgb(${rgbaColorArr[0]},${rgbaColorArr[1]},${rgbaColorArr[2]})`;\n};\n\nexport const isReadOnly = item => {\n  if (get('id', item) === '*') {\n    return false;\n  }\n  return (!get('company.id', item)) || (!!get('readOnly', item));\n};\n\nexport const isExample = item => item?.company && !item.company?.id;\n\nexport const isSharedAndNotOwner = (item, activeWorkSpace: GetCurrentUserResponseUserObjectCompany): boolean => {\n  const isSharedandNot = item?.system_tags.includes('shared') && item?.company?.id !== activeWorkSpace?.id && (!!item?.company.id);\n  return isSharedandNot;\n};\n\nexport const isAnnotationTask = entity => entity.system_tags && entity.system_tags.includes('Annotation');\n\nexport const getCssTheme = (el: HTMLElement): string => {\n  do {\n    if (el.classList.contains('dark-theme')) {\n      return 'dark-theme';\n    }\n    if (el.classList.contains('light-theme')) {\n      return 'light-theme';\n    }\n    el = ((el.parentElement || el.parentNode) as HTMLElement);\n  } while (el !== null && el.nodeType === 1);\n  return null;\n};\n\n// eslint-disable-next-line prefer-arrow/prefer-arrow-functions\nexport function crc32(str /* , polynomial = 0x04C11DB7, initialValue = 0xFFFFFFFF, finalXORValue = 0xFFFFFFFF*/) {\n  const s = String(str);\n  const table = CRC_TABLE;\n  const initialValue = arguments.length < 3 ? 0xFFFFFFFF : (arguments[2] >>> 0);\n  const finalXORValue = arguments.length < 4 ? 0xFFFFFFFF : (arguments[3] >>> 0);\n  let crc = initialValue;\n  const length = s.length;\n  let k = -1;\n  while (++k < length) {\n    const c = s.charCodeAt(k) % 255; // Modulus 255 not part of crc32, used to support non-english text. YK\n    if (c > 255) {\n      throw new RangeError();\n    }\n    const index = (crc & 255) ^ c;\n    crc = ((crc >>> 8) ^ table[index]) >>> 0;\n  }\n  return (crc ^ finalXORValue) >>> 0;\n}\n\nexport const htmlTextShorte = (name: string, limit = 80) => {\n  if (name.length > limit) {\n    return `<span title=\"${name}\">${name.slice(0, limit - 3)}...</span>`;\n  }\n  return name;\n};\n\nexport const findRegexRecursively = (object, field: string, regex: RegExp) => {\n  const currentValue = get(field, object);\n  if (currentValue) {\n    return regex.test(currentValue);\n  }\n  const nodes = field.split('.');\n  const node = nodes.shift();\n  const nodeValue = object[node];\n  if (!nodeValue) {\n    return false;\n  }\n  if (typeof nodeValue == 'string' || typeof nodeValue == 'number') {\n    return (nodes.length == 0 && typeof nodeValue == 'string') ? nodeValue.match(regex) : false;\n  }\n  for (const value of nodeValue) {\n    const result = findRegexRecursively(value, nodes.join('.'), regex);\n    if (result || result === null) {\n      return result;\n    }\n  }\n  return false;\n};\n\nexport const groupHyperParams = (hyperParams: any[]) => hyperParams.reduce((acc, {section, name, value}) => {\n  acc[section] = acc[section] || {};\n  acc[section][name] = acc[section][name] || {};\n  acc[section][name] = value;\n  return acc;\n}, {});\n\nexport const getScaleFactor = () => {\n  const isMac = (navigator.platform.indexOf('Mac') !== -1 || navigator.platform.indexOf('iPad') !== -1);\n  const isWin = navigator.platform.indexOf('Win') !== -1;\n  let dimensionRatio = 100;\n  let screenHeight: number;\n\n  if(mobilecheck()) {\n    return dimensionRatio;\n  }\n\n  try {\n    if ((isWin || isMac) && (window['chrome'] || window['safari'])) {\n      screenHeight = window.screen.height < window.screen.width ? window.screen.height : window.screen.width;\n      dimensionRatio = Math.max(60, Math.min(100, Math.round((100 * (screenHeight / 1080) / 10)) * 10));\n    }\n  } catch (err) {\n    dimensionRatio = 100;\n  }\n  dimensionRatio = 10000 / dimensionRatio;\n  return dimensionRatio;\n};\n\nexport const cleanUserData = (user: User): User => user && Object.entries(user).reduce((curr, [key, value]) => {\n  if (!(value === 'Unknown' || value === '')) {\n    curr[key] = value;\n  }\n  return curr;\n}, {});\n\nexport const addMultipleSortColumns = (oldOrders, colId, isShift) => {\n  let orders;\n  const currentSortField = oldOrders.find(field => field.field === colId);\n  const newField = {\n    field: colId,\n    order: currentSortField?.order ? (currentSortField.order * -1) : TABLE_SORT_ORDER.DESC\n  };\n\n  if (isShift) {\n    if (currentSortField) {\n      orders = oldOrders.map(field => field.field === colId ? newField : field);\n    } else {\n      orders = [...oldOrders, newField];\n    }\n  } else {\n    orders = [newField];\n  }\n  return orders;\n};\n\nexport const scrollFactory = (overlay: Overlay): () => CloseScrollStrategy => () => overlay.scrollStrategies.close();\n\nexport const loadExternalLibrary = (store: Store, url: string, action) => {\n  if (!url) {\n    return;\n  }\n  const init = () => {\n    const script: HTMLScriptElement = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = url;\n    script.onerror = () => console.error(`Error loading library from ${url}`);\n    script.crossOrigin = '' ;// 'use-credentials';\n    script.onload = () => store.dispatch(action());\n\n    const head: HTMLHeadElement = document.getElementsByTagName('head')[0];\n    head.appendChild(script);\n  };\n\n  setTimeout(init);\n};\n","export function mobilecheck(): boolean {\n  let check = false;\n  (function(a) {\n    if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4)) ) {\n      check = true;\n    }\n  })(navigator.userAgent || navigator.vendor || window['opera']);\n  return check;\n}\n\n","import {\n  ISmCol,\n  TABLE_SORT_ORDER,\n  ColHeaderTypeEnum, ColHeaderFilterTypeEnum\n} from '../ui-components/data/table/table.consts';\nimport {FilterMetadata} from 'primeng/api/filtermetadata';\nimport {SortMeta} from 'primeng/api';\nimport {MetricValueType} from '@common/experiments-compare/reducers/experiments-compare-charts.reducer';\n\nexport interface TableFilter {\n  col?: string;\n  value?: any;\n  filterMatchMode?: string;\n}\n\nexport interface MetricColumn {\n  metricHash: string;\n  variantHash: string;\n  valueType: MetricValueType;\n  metric: string;\n  variant: string;\n}\n\nexport const getValueTypeName = (valueType: string) => valueType.replace('_', '').replace('value', '').toUpperCase();\n\nexport const encodeOrder = (orders: SortMeta[]): string[] => orders.map(order => `${order.order === TABLE_SORT_ORDER.DESC ? '-' : ''}${order.field}`);\n\nexport const encodeFilters = (filters: { [key: string]: FilterMetadata }) => {\n  if (filters) {\n    return Object.keys(filters)\n      .filter((key: string) => filters[key].value?.length)\n      .map((key: string) => {\n        const val = filters[key] as FilterMetadata;\n        return `${key}:${val.matchMode ? val.matchMode + ':' : ''}${val.value.join('+$+')}`;\n      }).join(',');\n  }\n};\nexport const excludedKey = '__$not';\nexport const uniqueFilterValueAndExcluded = (arr1 = [], arr2 = []) => Array.from(new Set(arr1.concat((arr2).map(key => key ? key.replace(/^__\\$not/,'') : key))));\nexport const addExcludeFilters = (arr1: string[]) => {\n  return arr1.reduce((returnArray, currentFilter) => {\n    if (currentFilter?.startsWith(excludedKey)) {\n      return  [...returnArray, excludedKey, currentFilter.substring(excludedKey.length)]\n    }\n    return [...returnArray, currentFilter];\n\n  }, []);\n}\nexport const decodeOrder = (orders: string[]): SortMeta[] => {\n  if (typeof orders === 'string') {\n    orders = [orders];\n  }\n  return orders.map(order => {\n    if (order[0] === '-') {\n      return {field: order.slice(1), order: -1} as SortMeta;\n    } else {\n      return {field: order, order: 1} as SortMeta;\n    }\n  });\n};\n\nexport const decodeFilter = (filters: string): TableFilter[] => filters.split(',').map((filter: string) => {\n  let mode: string;\n  const index = filter.indexOf(':AND');\n  if (index > -1) {\n    mode = 'AND';\n    filter = filter.replace(':AND', '');\n  }\n  const [col, values] = filter.split(/:(.+)/);\n  // if (parts.length === 3) {\n  //   mode = parts[1];\n  //   parts[1] = parts[2];\n  // }\n  return {col, filterMatchMode: mode, value: values?.split('+$+').map(x => x === '' ? null : x)};\n});\n\nexport const sortCol = (a, b, colsOrder) => {\n  const indexOfA = colsOrder.indexOf(a);\n  const indexOfB = colsOrder.indexOf(b);\n  return ((indexOfA >= 0) ? indexOfA : 99) - ((indexOfB >= 0) ? indexOfB : 99);\n};\n\nexport const encodeColumns = (mainCols: ISmCol[] | any, hiddenCols = {}, metricsCols = [], colsOrder = []): string[] => {\n  colsOrder = colsOrder.filter(col => !hiddenCols[col]);\n  return mainCols\n    .filter(col => !hiddenCols[col.id])\n    .concat(metricsCols ? metricsCols.filter(col => !hiddenCols[col.id]) : [])\n    .sort((a, b) => sortCol(a.id, b.id, colsOrder))\n    .map((col) => {\n      if (col.metric_hash) {\n        const headerParts = col.header.trim().split(' > ');\n        const variant = headerParts[1]?.replace(` ${getValueTypeName(col.valueType)}`, '');\n        return `m.${col.metric_hash}.${col.variant_hash}.${col.valueType}.${headerParts[0]}.${variant}`;\n      }\n      else {\n        return col.id;\n      }\n    });\n};\n\nexport const decodeColumns = (columns: string[]): [string[], MetricColumn[], string[], string[]] => {\n  const cols = [] as string[];\n  const metrics = [] as MetricColumn[];\n  const params = [] as string[];\n  const allIds = [] as string[];\n\n  columns.forEach(col => {\n    if (col.startsWith('m.')) {\n      const colParts = col.split('.');\n      const  [, metricHash, variantHash, valueType, metric, ...variant] = colParts;\n      metrics.push({\n        metricHash,\n        variantHash,\n        valueType: valueType as MetricValueType,\n        metric,\n        variant: variant.join('.')\n      });\n      allIds.push(`last_metrics.${colParts[1]}.${colParts[2]}.${colParts[3]}`);\n    }\n      else if (col.startsWith('hyperparams.')) {\n        // const colParts = col.split('.');\n        // const param = colParts[1] + (colParts[2] ? `.${colParts[2]}` : '');\n        params.push(col);\n        allIds.push(col);\n    }\n    else {\n      cols.push(col);\n      allIds.push(col);\n    }\n  });\n  return [cols, metrics, params, allIds];\n};\n\n\nexport const decodeHyperParam = (param: string): { name: string; section: string } => {\n  const split = param.replace('hyperparams.', '').split('.');\n  return {\n    name: split[1],\n    section: split[0]\n  };\n};\nexport const createMetricColumn = (column: MetricColumn, projectId: string): ISmCol => ({\n    id: `last_metrics.${column.metricHash}.${column.variantHash}.${column.valueType}`,\n    headerType: ColHeaderTypeEnum.sortFilter,\n    sortable: true,\n    filterable: true,\n    filterType: ColHeaderFilterTypeEnum.durationNumeric,\n    header: `${column.metric} > ${column.variant} ${getValueTypeName(column.valueType)}`,\n    hidden: false,\n    metric_hash: column.metricHash,\n    variant_hash: column.variantHash,\n    valueType: column.valueType,\n    projectId: projectId,\n    style: {width: '115px'},\n});\n\n","export const TASKS_STATUS = {\n  CREATED    : 'created',\n  IN_PROGRESS: 'in_progress',\n  QUEUED     : 'queued',\n  COMPLETED  : 'completed',\n  STARTED    : 'started',\n  UNKNOWN    : 'unknown',\n  PUBLISHED  : 'published',\n  PUBLISHING : 'publishing',\n  STOPPED    : 'stopped',\n  FAILED     : 'failed',\n  CLOSED     : 'closed'\n};\n\nexport const TASKS_EXECUTION_PROGRESS = {\n  UNKNOWN : 'unknown',\n  RUNNING : 'running',\n  STOPPING: 'stopping',\n  STOPPED : 'stopped'\n};\n\nexport const TAGS = {\n  HIDDEN: 'archived',\n  ANNOTATOR_INDEX_TAG_PREFIX: 'annotatorIndex',\n  ANNOTATED_NUMBER_TAG_PREFIX: 'annotatedNumber'\n};\n\nexport const HEAD = 'asc';\nexport const TAIL = 'desc';\n\n\nexport const VIEWS = {\n  TREE : 'TREE',\n  TABLE: 'TABLE'\n};\n\nexport const TASKS_TABLE_COL_FIELDS = {\n  RESULT   : 'output.result',\n  COMMENT  : 'comment',\n  ID       : 'id',\n  PROJECT  : 'project.name',\n  NAME     : 'name',\n  TYPE     : 'type',\n  STATUS   : 'status',\n  CREATED  : 'created',\n  COMPLETED: 'completed',\n  USER     : 'user.name',\n  PARENT   : 'parent.name'\n};\n\nexport const ASC  = 1;\nexport const DESC = -1;\n\nexport const metricsIterationsNumber = 5;\n\nexport const ARTIFACTS_TYPE = {\n  AUDIT_LOG: 'audit-log'\n};\n\nexport type ArtifactsTypesEnum = 'audit' | 'model';\nexport const ARTIFACTS_TYPES = {\n  AUDIT_LOG: 'audit-log' as ArtifactsTypesEnum,\n  Model    : 'model' as ArtifactsTypesEnum,\n};\n","import {Task} from '../../business-logic/model/tasks/task';\nimport {cloneDeep, sortBy} from 'lodash/fp';\nimport {SelectableListItem} from '@common/shared/ui-components/data/selectable-list/selectable-list.model';\nimport {GroupedList} from '@common/shared/ui-components/data/selectable-grouped-filter-list/selectable-grouped-filter-list.component';\nimport {Config} from 'plotly.js';\nimport {ExtData, ExtFrame, ExtLayout} from '../shared/experiment-graphs/single-graph/plotly-graph-base';\nimport {MetricsPlotEvent} from '../../business-logic/model/events/models';\nimport {KeyValue} from '@angular/common';\n\nexport interface IMultiplot {\n  [key: string]: { // i.e ROC\n    [key: number]: { // Iteration number\n      [key: string]: { // experimentId\n        name: string;\n        plots: ExtFrame[];\n      };\n    };\n  };\n}\n\nexport const mergeTasks = (tableTask, task) => {\n  task.project = tableTask.project;\n  task.user = tableTask.user;\n  task.task = tableTask.task;\n  return task;\n};\n\nexport const _mergeVariants = (base: Array<any>, variant) =>  base.slice().concat(variant);\n\nexport const _mergePlotsData = (base: any, toMerge: any) =>\n  JSON.stringify({...base, data: _mergeVariants(base.data, toMerge.data)});\n\nexport const getModelDesignKey = (modelDes): string => {\n  const modelStr = typeof modelDes == 'string';\n  if (!modelDes || modelStr) {\n    return undefined;\n  } else {\n    const desKeys = Object.keys(modelDes);\n    const firstNonEmptyKey = desKeys.find(key => !!modelDes[key]);\n    return firstNonEmptyKey ? firstNonEmptyKey : desKeys[0];\n  }\n};\n\nexport const getModelDesign = (modelDesc: Task['execution']['model_desc']): { key: string; value: any } => {\n  const key = getModelDesignKey(modelDesc);\n  return {key, value: key ? modelDesc[key] : modelDesc};\n};\n\nexport const prepareGraph = (data: ExtData[], layout: Partial<ExtLayout>, config: Partial<Config>, graph: Partial<MetricsPlotEvent>): Partial<ExtFrame> =>\n  ({\n    data,\n    layout,\n    config,\n    iter: graph.iter,\n    metric: graph.metric,\n    task: graph.task,\n    timestamp: graph.timestamp,\n    type: graph.type as unknown as string,\n    variant: graph.variant,\n    worker: graph['worker'],\n});\n\nexport const convertPlots = ({plots, experimentId}: {plots: {[title: string]: MetricsPlotEvent[]}; experimentId: string}): { [title: string]: ExtFrame[] } =>\n  Object.entries(plots).reduce((acc, [key, graphs]) => {\n  acc[key] = graphs?.map(graph => {\n    let json: {data: any; layout: any; config?: any};\n    try {\n      json = JSON.parse(graph.plot_str) as ExtFrame;\n      json.data.task = json.data.task || experimentId;\n    } catch (e) {\n      json = {data: [], layout: {title: 'Unknown data'}};\n    }\n    return prepareGraph(json.data, json.layout, json.config, graph);\n  });\n  return acc;\n}, {});\n\nexport const convertScalars = (scalars: GroupedList, experimentId: string): { [key: string]: ExtFrame[] } =>\n  Object.entries(scalars).reduce((acc, graphGroup) => {\n    const key = graphGroup[0];\n    const graph = graphGroup[1];\n\n    const chartData = Object.entries(graph).sort((a, b) => a[0] > b[0] ? 1 : -1)\n    .map(([, data]: [string, any]) => ({\n      task: experimentId,\n      ...data,\n      type: 'scatter'\n    }));\n\n    acc[key] = [prepareGraph(chartData, {type: 'scalar', title: key, xaxis: {title: 'Iterations'}}, {}, {metric: key})];\n    return acc;\n  }, {});\n\nexport const groupIterations = (plots: MetricsPlotEvent[]): {[title: string]: MetricsPlotEvent[]} => {\n  if (!plots.length) {\n    return {};\n  }\n  const sortedPlots = sortBy('iter', plots);\n  return sortedPlots\n    .reduce((groupedPlots, plot) => {\n      const metric = plot.metric;\n      groupedPlots[metric] = cloneDeep(groupedPlots[metric]) || [];\n      const index = groupedPlots[metric].findIndex((existingGraph) => plot.iter === existingGraph.iter);\n      const plotParsed = index > -1 && JSON.parse(plot.plot_str);\n      if (index > -1 && plotParsed.data && plotParsed.data[0] && ['scatter', 'bar'].includes(plotParsed.data[0].type)) {\n        const basePlotParsed = JSON.parse(groupedPlots[metric][index].plot_str);\n        groupedPlots[metric][index].plot_str = _mergePlotsData(basePlotParsed, plotParsed);\n      } else {\n        groupedPlots[metric].push(plot);\n      }\n      return groupedPlots;\n    }, {});\n};\n\nexport const prepareScalarList = (metricsScalar): GroupedList =>\n  Object.keys(metricsScalar || []).reduce((acc, curr) => {\n    acc[curr] = {};\n    return acc;\n}, {});\n\nexport const sortMetricsList = (list: string[]) =>\n  list ? sortBy(item => item.replace(':', '~').toLowerCase(), list) : list;\n\nexport const preparePlotsList = (groupedPlots: Map<string, any[]>): Array<SelectableListItem> => {\n  const list = groupedPlots ? Object.keys(groupedPlots) : [];\n  const sortedList = sortMetricsList(list);\n  return sortedList.map((item) => ({name: item, value: item}));\n};\n\n\nexport const sortByField = (arr: any[], field: string) =>\n  sortBy(item => item[field].replace(':', '~').toLowerCase(), arr);\n\nexport const compareByFieldFunc = (field) =>\n  (a: KeyValue<string, any>, b: KeyValue<string, any>) =>\n    a[field].replace(':', '~').toLowerCase() >\n    b[field].replace(':', '~').toLowerCase() ? 1 : -1;\n\nexport const mergeMultiMetrics = (metrics): { [key: string]: ExtFrame[] } => {\n  const graphsMap = {};\n  Object.keys(metrics).forEach(key => {\n    Object.keys(metrics[key]).forEach(itemKey => {\n      const chartData = Object.entries(metrics[key][itemKey])\n        .map(([variant, data]: [string, any]) => ({...data, type: 'scatter', task: variant}));\n      graphsMap[key + itemKey] = [prepareGraph(chartData, {\n        type: 'multiScalar',\n        title: key + ' / ' + itemKey\n      }, {}, {})];\n    });\n  });\n  return graphsMap;\n};\n\nexport const mergeMultiMetricsGroupedVariant = (metrics): { [key: string]: ExtFrame[] } => {\n  const graphsMap = {};\n  Object.keys(metrics).forEach(metric => {\n    const chartData = [];\n    Object.keys(metrics[metric]).forEach(variant => {\n      chartData.push(Object.entries(metrics[metric][variant])\n        .map(([taskId, data]: [string, any]) => ({\n          ...data,\n          type: 'scatter',\n          task: taskId,\n          name: `${variant} - ${data.name}`\n        }))\n      );\n    });\n    graphsMap[metric] = [prepareGraph((chartData as any).flat(), {type: 'multiScalar', title: metric}, {}, {})];\n  });\n  return graphsMap;\n};\n\nexport const convertMultiPlots = (plots): { [key: string]: ExtFrame[] } =>\n  Object.entries(plots).reduce((acc, graphGroup) => {\n    const key = graphGroup[0];\n    const graphs = graphGroup[1] as Array<any>;\n    acc[key] = Object.values(graphs).map(\n      graph => prepareGraph(graph.data, graph.layout, graph.config, {...graph, task: graph.task})\n    );\n    return acc;\n  }, {});\n\nexport const seperateMultiplotsVariants = (mixedPlot: IMultiplot, isMultipleVarients) => {\n  let charts = {};\n  const values = Object.values(mixedPlot);\n  if (!values || values.length === 0) {\n    return mixedPlot;\n  }\n  for (const variant of values) {\n    const duplicateNamesObject = Object.values(variant).reduce((acc, experiment) => {\n      const experimentName = Object.values(experiment)[0].name;\n      acc[experimentName] = acc[experimentName] !== undefined;\n      return acc;\n    }, {} as { [name: string]: boolean });\n\n    Object.entries(variant).map(experiment => {\n      const experimentId = experiment[0];\n      const shortExpId = experimentId.substr(0, 6);\n      const experimentData = experiment[1];\n\n      const iterationKey = Object.keys(experimentData)[0];\n      const iteration = (experimentData[iterationKey] as any);\n      const experimentName = duplicateNamesObject[iteration.name] ? iteration.name + '.' + shortExpId : iteration.name;\n      const plot = iteration.plots[0];\n      const parsed = JSON.parse(plot.plot_str);\n      const metric = isMultipleVarients ? plot.metric + '-' + plot.variant : plot.metric;\n      charts = multiplotsAddChartToGroup(charts, parsed, metric, experimentName, experimentId);\n    });\n  }\n\n  return charts;\n};\n\nexport const prepareMultiPlots = (multiPlots: MetricsPlotEvent) => {\n  if (!multiPlots) {\n    return multiPlots;\n  }\n  return Object.entries(multiPlots).reduce((acc, graph) => {\n    if (!graph[1]) {\n      return acc;\n    }\n    const isMultipleVarients = Object.keys(graph[1]).length > 1;\n    const graphsPerVariant = seperateMultiplotsVariants(graph[1] as IMultiplot, isMultipleVarients);\n    return {...acc, ...graphsPerVariant};\n  }, {});\n};\n\nexport const multiplotsAddChartToGroup = (charts, parsed, metric, experiment, experimentId) => {\n  const allowedTypes = ['scatter', 'bar'];\n  let fullName: string;\n  if (parsed.layout && parsed.layout.images) {\n    if (!charts[metric]) {\n      charts[metric] = {};\n    }\n    const index = Object.keys(charts[metric]).length;\n    charts[metric][index] = parsed;\n  }\n  for (let i = 0; i < parsed.data.length; i++) {\n    let isMultipleTasks = false;\n    const variant = parsed.data.slice()[i];\n    if (!variant) {\n      continue;\n    }\n    const metricName = metric;\n    if (!charts[metricName]) {\n      charts[metricName] = {};\n    }\n    if ((!variant.type || allowedTypes.includes(variant.type)) && variant.name) {\n      fullName = metric + '-' + variant.name;\n      variant.name = (experiment);\n      variant.task = (experimentId);\n    } else {\n      fullName = metric + '-' + experiment;\n    }\n    if (!charts[metricName][fullName]) {\n      charts[metricName][fullName] = Object.assign({}, parsed);\n      charts[metricName][fullName].data = [variant];\n    } else {\n      charts[metricName][fullName].data = _mergeVariants(charts[metricName][fullName].data.slice(), variant);\n      isMultipleTasks = true;\n    }\n    charts[metricName][fullName].layout = Object.assign({}, {...charts[metricName][fullName].layout});\n    charts[metricName][fullName].layout.title = fullName;\n    charts[metricName][fullName].layout.name = charts[metricName][fullName].layout.name ? `${charts[metricName][fullName].layout.name} - ${experiment}`: fullName;\n    charts[metricName][fullName].layout.barmode = isMultipleTasks ? 'group' : 'stack';\n  }\n  return charts;\n};\n\nexport const wordWrap = (str, maxWidth) => {\n\n  if (str.length <= maxWidth) {\n    return str;\n  }\n  const newLineStr = '<br>';\n  let done = false;\n  let found;\n  let res = '';\n  do {\n    found = false;\n    // Inserts new line at first whitespace of the line\n    for (let i = maxWidth - 1; i >= 0; i--) {\n      if (i > 0 && _testWhite(str.charAt(i))) {\n        res = res + [str.slice(0, i), newLineStr].join('');\n        str = str.slice(i + 1 || 1);\n        found = true;\n        break;\n      }\n    }\n    // Inserts new line at maxWidth position, the word is too long to wrap\n    if (!found) {\n      res += [str.slice(0, maxWidth), newLineStr].join('');\n      str = str.slice(maxWidth);\n    }\n\n    if (str.length < maxWidth) {\n      done = true;\n    }\n  } while (!done);\n\n  return res + str;\n};\n\nexport const _testWhite = (x) => {\n  const white = new RegExp(/^[\\s\\-_]$/);\n  return white.test(x.charAt(0));\n};\n\nexport const stripHtml = (s) => s.replace(/<[^>]*>?/gm, '');\n\nexport const timeInWords = (milliseconds: number, granularityLevel = 3) => {\n  let remaining = Math.floor(milliseconds / 1000);\n  if (remaining <= 0) {\n    return '0';\n  }\n  const output = [];\n  const timesConst = [12 * 30 * 24 * 60 * 60, 30 * 24 * 60 * 60, 24 * 60 * 60, 60 * 60, 60, 1];\n  const timeStringPlural = ['Years', 'Months', 'Days', 'Hours', 'Minutes', 'Seconds'];\n  const timeStringSingle = ['Year', 'Month', 'Day', 'Hour', 'Minute', 'Second'];\n  for (let i = 0; i < timesConst.length; i++) {\n    const unitCount = Math.floor(remaining / timesConst[i]);\n    if (unitCount === 0) {\n      continue;\n    }\n    remaining %= timesConst[i];\n    const unitString = unitCount > 1 ? `${unitCount} ${timeStringPlural[i]}` : `${unitCount} ${timeStringSingle[i]}`;\n    output.push(unitString);\n    if (output.length >= granularityLevel) {\n      break;\n    }\n  }\n  return output.join(' ');\n};\n\nexport const chooseTimeUnit = (data) => {\n  if (!data[0]?.x || !data[0]?.x[0] || !data[0]?.x[1]) {\n    return {time: 1000, str: 'Seconds'};\n  }\n  const first = data[0].x[0];\n  const last = data[0].x[data[0].x.length - 1];\n  const seconds = Math.floor((last - first) / 1000);\n  const timesConst = [12 * 30 * 24 * 60 * 60, 30 * 24 * 60 * 60, 24 * 60 * 60, 60 * 60, 60, 1];\n  const timeStringPlural = ['Years', 'Months', 'Days', 'Hours', 'Minutes', 'Seconds'];\n  for (let i = 0; i < timesConst.length; i++) {\n    if (seconds / timesConst[i + 1] > 100) {\n      return {time: timesConst[i] * 1000, str: timeStringPlural[i]};\n    }\n  }\n  const lastIndex = timesConst.length - 1;\n  return {time: timesConst[lastIndex] * 1000, str: timeStringPlural[lastIndex]};\n};\n","import {ApiUsersService} from '~/business-logic/api-services/users.service';\nimport {Observable, of} from 'rxjs';\nimport {catchError, map, tap} from 'rxjs/operators';\nimport {cloneDeep, isEqual} from 'lodash/fp';\nimport {UsersSetPreferencesRequest} from '~/business-logic/model/users/usersSetPreferencesRequest';\nimport {ConfigurationService} from './shared/services/configuration.service';\nimport {LoginService} from '~/shared/services/login.service';\nimport {Injectable} from '@angular/core';\n\nconst USER_PREFERENCES_STORAGE_KEY = '_USER_PREFERENCES_';\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const enum USER_PREFERENCES_KEY {\n  firstLogin = 'firstLogin',\n}\n\n@Injectable()\nexport class UserPreferences {\n\n  private preferences: { [key: string]: any };\n\n  constructor(private userService: ApiUsersService) {\n      this.removeFromLocalStorage();\n  }\n\n  loadPreferences(): Observable<{ [key: string]: any }> {\n    return this.userService.usersGetPreferences({})\n      .pipe(\n        map(res => res.preferences),\n        map(pref => {\n          this.preferences = pref;\n          this.checkIfFirstTimeLoginAndSaveData(pref);\n          this.cleanPreferencesInPreferences(pref);\n          let prefsString = JSON.stringify(pref);\n          prefsString = prefsString.split('--DOT--').join('.');\n          pref = JSON.parse(prefsString);\n          return pref;\n        }),\n        catchError((err) => {\n          // in case of 401 we have login logic in other places - throw it\n          if (err.status !== 401) {\n            return of({});\n          } else {\n            throw err;\n          }\n\n        }),\n        tap(preferences => this.preferences = preferences),\n      );\n  }\n\n  public setPreferences(key: string, value: any) {\n    if (this.preferences && !isEqual(this.preferences[key], value)) {\n      const prefs = {[key]: cloneDeep(value)};\n      this.preferences = {...this.preferences, ...prefs};\n      this.replaceDots(prefs);\n      this.saveToServer(prefs);\n      return;\n    }\n  }\n\n  private replaceDots(prefs: any) {\n    if (typeof prefs === 'string' || prefs === null || prefs === undefined) {\n      return;\n    }\n    Object.keys(prefs).forEach(key => {\n      this.replaceDots(prefs[key]);\n      if (key.includes('.')) {\n        const newKey = key.split('.').join('--DOT--');\n        prefs[newKey] = prefs[key];\n        delete prefs[key];\n      }\n    });\n  }\n\n  public getPreferences(key: string) {\n    return this.preferences[key];\n  }\n\n  public isReady() {\n    return !!this.preferences;\n  }\n\n  private checkIfFirstTimeLoginAndSaveData(pref) {\n    if (!pref.version) {\n      this.setPreferences('version', 1);\n      this.setPreferences(USER_PREFERENCES_KEY.firstLogin, true);\n      window.localStorage.setItem(USER_PREFERENCES_KEY.firstLogin, '0');\n    } else {\n      const firstLoginTime = window.localStorage.getItem(USER_PREFERENCES_KEY.firstLogin) || new Date().getTime().toString();\n      window.localStorage.setItem(USER_PREFERENCES_KEY.firstLogin, firstLoginTime);\n    }\n  }\n\n  private removeFromLocalStorage() {\n    localStorage.removeItem(USER_PREFERENCES_STORAGE_KEY);\n  }\n\n  private saveToServer(partialPreferences: { [key: string]: any }) {\n    this.userService.usersSetPreferences({preferences: partialPreferences} as UsersSetPreferencesRequest).subscribe();\n  }\n\n  private cleanPreferencesInPreferences(pref: { [key: string]: any }) {\n    if (pref.preferences) {\n      this.setPreferences('preferences', null);\n    }\n  }\n}\n\nexport const loadUserAndPreferences = (\n  loginService: LoginService,\n  confService: ConfigurationService,\n): () => Promise<any> => (): Promise<any> => new Promise((resolve) => {\n  confService.initConfigurationService().subscribe(() =>\n    loginService.initCredentials().subscribe(() => {\n      if (window.location.pathname.startsWith('/callback')) {\n        if (window.location.pathname.endsWith('verify')) {\n          const providerName = window.location.pathname.slice(10, -7);\n          const provider = loginService.sso.find(provide => provide.name === providerName);\n          window.location.href = provider.url;\n        } else {\n          loginService.ssoFlow(resolve);\n        }\n      } else {\n        loginService.loginFlow(resolve);\n      }\n    }));\n});\n","import versionConf from '../version.json';\n\nexport interface CommunityContext {\n  title?: string;\n  subtitle?: string;\n  background?: string;\n  backgroundPosition?: string;\n  list?: { icon: string; title: string; text: string }[];\n}\n\nexport interface GettingStartedContext {\n  install?: string;\n  configure?: string;\n  packageName?: string;\n}\n\nexport interface Legal {\n  TOULink?: string;\n  pricingLink?: string;\n}\n\nexport interface Environment {\n  production: boolean;\n  apiBaseUrl: string;\n  fileBaseUrl: string;\n  productName: string;\n  demo: boolean;\n  headerPrefix: string;\n  version: string;\n  userKey: string;\n  userSecret: string;\n  companyID: string;\n  loginNotice?: string;\n  loginBanner?: string;\n  autoLogin?: boolean;\n  whiteLabelLogo?: boolean;\n  whiteLabelLink?: any;\n  whiteLabelLoginTitle?: string;\n  whiteLabelLoginSubtitle?: string;\n  whiteLabelSlogan?: string;\n  communityServer?: boolean;\n  enterpriseServer?: boolean;\n  accountAdministration: boolean;\n  communityContext?: CommunityContext;\n  GTM_ID?: string;\n  hideUpdateNotice: boolean;\n  showSurvey: boolean;\n  plotlyURL: string;\n  slackLink: string;\n  docsLink: string;\n  useFilesProxy: boolean;\n  branding?: {faviconUrl?: string; logo?: string; logoSmall?: string};\n  gettingStartedContext?: GettingStartedContext;\n  serverDownMessage?: string;\n  legal: Legal;\n  loginPopup?: string;\n}\n\nexport const BASE_ENV = {\n  production: true,\n  apiBaseUrl: null,\n  fileBaseUrl: null,\n  productName: 'Acciona',\n  demo: false,\n  headerPrefix: 'X-Clearml',\n  version: versionConf.version,\n  userKey: 'EYVQ385RW7Y2QQUH88CZ7DWIQ1WUHP',\n  userSecret: 'yfc8KQo*GMXb*9p((qcYC7ByFIpF7I&4VH3BfUYXH%o9vX1ZUZQEEw1Inc)S',\n  companyID: 'd1bd92a3b039400cbafc60a7a5b1e52b',\n  loginNotice: '',\n  loginBanner: '',\n  autoLogin: false,\n  whiteLabelLogo: null,\n  whiteLabelLink: null,\n  whiteLabelLoginTitle: null,\n  whiteLabelLoginSubtitle: null,\n  whiteLabelSlogan: null,\n  communityContext: {\n    background: 'app/webapp-common/assets/icons/human-polygon.svg'\n  },\n  GTM_ID: null,\n  hideUpdateNotice: false,\n  showSurvey: false,\n  accountAdministration: false,\n  useFilesProxy: false,\n  legal: {TOULink: 'https://allegro.ai/legal-platform-tou/'},\n  plotlyURL: 'app/webapp-common/assets/plotly-1.58.4.min.js',\n  slackLink: 'https://join.slack.com/t/allegroai-trains/shared_invite/enQtOTQyMTI1MzQxMzE4LTY5NTUxOTY1NmQ1MzQ5MjRhMGRhZmM4ODE5NTNjMTg2NTBlZGQzZGVkMWU3ZDg1MGE1MjQxNDEzMWU2NmVjZmY',\n  docsLink: 'https://clear.ml/docs',\n  branding: {logo: '/assets/logo-white.svg?v=7', logoSmall: '/assets/c-logo.svg?=2'},\n  serverDownMessage: 'The ClearML server is currently unavailable.<BR>' +\n    'Please try to reload this page in a little while.<BR>' +\n    'If the problem persists, verify your network connection is working and check the ClearML server logs for possible errors'\n} as Environment;\n\n","import {BASE_ENV} from './base';\n\nexport const environment = {\n  ...BASE_ENV,\n  production  : true,\n};\n\n","/**\n * server\n * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\n *\n * OpenAPI spec version: 2.14\n *\n *\n * NOTE: This class is auto generated by the swagger code generator program.\n * https://github.com/swagger-api/swagger-codegen.git\n * Do not edit the class manually.\n */\n\n/* eslint-disable @typescript-eslint/no-unused-vars, @typescript-eslint/member-ordering */\n\nimport {HTTP} from '../../app.constants';\nimport {SmApiRequestsService} from \"./api-requests.service\";\n\nimport { Inject, Injectable, Optional }                      from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams,\n         HttpResponse, HttpEvent }                           from '@angular/common/http';\nimport { CustomHttpUrlEncodingCodec }                        from '../encoder';\n\nimport { Observable }                                        from 'rxjs';\n\nimport { ServerConfigRequest } from '../model/server/serverConfigRequest';\nimport { ServerInfoResponse } from '../model/server/serverInfoResponse';\nimport { ServerReportStatsOptionRequest } from '../model/server/serverReportStatsOptionRequest';\nimport { ServerReportStatsOptionResponse } from '../model/server/serverReportStatsOptionResponse';\n\nimport { BASE_PATH, COLLECTION_FORMATS }                     from '../variables';\nimport { Configuration }                                     from '../configuration';\n\n\n@Injectable()\nexport class ApiServerService {\n\n    protected basePath = HTTP.API_BASE_URL;\n    public defaultHeaders = new HttpHeaders();\n    public configuration = new Configuration();\n\n    constructor(protected apiRequest: SmApiRequestsService, @Optional()@Inject(BASE_PATH) basePath: string, @Optional() configuration: Configuration) {\n        if (basePath) {\n            this.basePath = basePath;\n        }\n        if (configuration) {\n            this.configuration = configuration;\n            this.basePath = basePath || configuration.basePath || this.basePath;\n        }\n    }\n\n    /**\n     * @param consumes string[] mime-types\n     * @return true: consumes contains 'multipart/form-data', false: otherwise\n     */\n    private canConsumeForm(consumes: string[]): boolean {\n        const form = 'multipart/form-data';\n        for (const consume of consumes) {\n            if (form === consume) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n\n    /**\n     * \n     * Internal. Get server configuration. Secure section is not returned.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public serverConfig(request: ServerConfigRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling serverConfig.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<object>(`${this.basePath}/server.config`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Show available endpoints\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public serverEndpoints(request: object, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling serverEndpoints.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<object>(`${this.basePath}/server.endpoints`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Get the server collected statistics.\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public serverGetStats(request: object, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling serverGetStats.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<object>(`${this.basePath}/server.get_stats`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Get server information, including version and build number\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public serverInfo(request: object, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling serverInfo.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ServerInfoResponse>(`${this.basePath}/server.info`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Internal. Get or set the report statistics option per-company\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public serverReportStatsOption(request: ServerReportStatsOptionRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling serverReportStatsOption.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<ServerReportStatsOptionResponse>(`${this.basePath}/server.report_stats_option`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n}\n","/**\n * organization\n * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\n *\n * OpenAPI spec version: 2.14\n *\n *\n * NOTE: This class is auto generated by the swagger code generator program.\n * https://github.com/swagger-api/swagger-codegen.git\n * Do not edit the class manually.\n */\n\n/* eslint-disable @typescript-eslint/no-unused-vars, @typescript-eslint/member-ordering */\n\nimport {HTTP} from '../../app.constants';\nimport {SmApiRequestsService} from \"./api-requests.service\";\n\nimport { Inject, Injectable, Optional }                      from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams,\n         HttpResponse, HttpEvent }                           from '@angular/common/http';\nimport { CustomHttpUrlEncodingCodec }                        from '../encoder';\n\nimport { Observable }                                        from 'rxjs';\n\nimport { OrganizationGetTagsRequest } from '../model/organization/organizationGetTagsRequest';\nimport { OrganizationGetTagsResponse } from '../model/organization/organizationGetTagsResponse';\nimport { OrganizationGetUserCompaniesResponse } from '../model/organization/organizationGetUserCompaniesResponse';\n\nimport { BASE_PATH, COLLECTION_FORMATS }                     from '../variables';\nimport { Configuration }                                     from '../configuration';\n\n\n@Injectable()\nexport class ApiOrganizationService {\n\n    protected basePath = HTTP.API_BASE_URL;\n    public defaultHeaders = new HttpHeaders();\n    public configuration = new Configuration();\n\n    constructor(protected apiRequest: SmApiRequestsService, @Optional()@Inject(BASE_PATH) basePath: string, @Optional() configuration: Configuration) {\n        if (basePath) {\n            this.basePath = basePath;\n        }\n        if (configuration) {\n            this.configuration = configuration;\n            this.basePath = basePath || configuration.basePath || this.basePath;\n        }\n    }\n\n    /**\n     * @param consumes string[] mime-types\n     * @return true: consumes contains 'multipart/form-data', false: otherwise\n     */\n    private canConsumeForm(consumes: string[]): boolean {\n        const form = 'multipart/form-data';\n        for (const consume of consumes) {\n            if (form === consume) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n\n    /**\n     * \n     * Get all the user and system tags used for the company tasks and models\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public organizationGetTags(request: OrganizationGetTagsRequest, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling organizationGetTags.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<OrganizationGetTagsResponse>(`${this.basePath}/organization.get_tags`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n    /**\n     * \n     * Get details for all companies associated with the current user\n     * @param request request body\n     * @param observe set whether or not to return the data Observable as the body, response or events. defaults to returning the body.\n     * @param reportProgress flag to report request and response progress.\n     */\n    public organizationGetUserCompanies(request: object, options?: any, observe: any = 'body', reportProgress: boolean = false ): Observable<any> {\n        if (request === null || request === undefined) {\n            throw new Error('Required parameter request was null or undefined when calling organizationGetUserCompanies.');\n        }\n\n        let headers = this.defaultHeaders;\n        if (options && options.async_enable) {\n            headers = headers.set(this.configuration.asyncHeader, '1');\n        }\n\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n            'application/json'\n        ];\n        const httpHeaderAcceptSelected: string | undefined = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n        if (httpHeaderAcceptSelected != undefined) {\n            headers = headers.set(\"Accept\", httpHeaderAcceptSelected);\n        }\n\n        // to determine the Content-Type header\n        const consumes: string[] = [\n        ];\n        const httpContentTypeSelected:string | undefined = this.configuration.selectHeaderContentType(consumes);\n        if (httpContentTypeSelected != undefined) {\n            headers = headers.set(\"Content-Type\", httpContentTypeSelected);\n        }\n\n\treturn this.apiRequest.post<OrganizationGetUserCompaniesResponse>(`${this.basePath}/organization.get_user_companies`,\n            request,\n            {\n                withCredentials: this.configuration.withCredentials,\n                headers: headers,\n                observe: observe,\n                reportProgress: reportProgress\n            }\n        );\n    }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {ApiTasksService} from './api-services/tasks.service';\nimport {ApiModelsService} from './api-services/models.service';\nimport {ApiAuthService} from './api-services/auth.service';\nimport {ApiEventsService} from './api-services/events.service';\nimport {ApiProjectsService} from './api-services/projects.service';\nimport {ApiUsersService} from './api-services/users.service';\nimport {HttpClientModule} from '@angular/common/http';\nimport {SmApiRequestsService} from './api-services/api-requests.service';\nimport {BlTasksService} from './services/tasks.service';\nimport {BlModelsService} from './services/models.service';\nimport {ApiQueuesService} from './api-services/queues.service';\nimport {ApiWorkersService} from './api-services/workers.service';\nimport {ApiServerService} from './api-services/server.service';\nimport {ApiOrganizationService} from './api-services/organization.service';\nimport {ApiLoginService} from './api-services/login.service';\n\n@NgModule({\n  imports     : [CommonModule, HttpClientModule],\n  declarations: [],\n  exports     : [],\n  providers   : [\n    SmApiRequestsService,\n    BlTasksService,\n    BlModelsService,\n    ApiTasksService,\n    ApiQueuesService,\n    ApiWorkersService,\n    ApiAuthService,\n    ApiModelsService,\n    ApiEventsService,\n    ApiProjectsService,\n    ApiUsersService,\n    ApiServerService,\n    ApiOrganizationService,\n    ApiLoginService\n  ]\n})\nexport class BusinessLogicModule {\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {selectCurrentUser} from '../../core/reducers/users-reducer';\nimport versionConf from '../../../../version.json';\nimport {Store} from '@ngrx/store';\nimport {setServerUpdatesAvailable} from '../../core/actions/layout.actions';\nimport {ApiServerService} from '~/business-logic/api-services/server.service';\nimport {filter, switchMap, take} from 'rxjs/operators';\nimport {ConfigurationService} from './configuration.service';\nimport {GetCurrentUserResponseUserObject} from '~/business-logic/model/users/getCurrentUserResponseUserObject';\nimport {ServerInfoResponse} from '~/business-logic/model/server/serverInfoResponse';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ServerUpdatesService {\n  private initialized = false;\n  private currentUser: GetCurrentUserResponseUserObject;\n\n  constructor(private httpClient: HttpClient, private store: Store<any>, private serverService: ApiServerService) {\n    if (localStorage.getItem('currentVersion') !== versionConf.version) {\n      this.resetUpdateState();\n    }\n    this.store.select(selectCurrentUser).subscribe(user => this.currentUser = user);\n  }\n\n  private timeGap = 1000 * 60 * 60 * 24;\n\n  // private timeGap = 1000 * 10;\n\n  checkServerForUpdate(serverPath: string) {\n    const nextUpdateCheckTime = new Date(localStorage.getItem('nextCheckForUpdateTime'));\n    if (this.httpClient && (!nextUpdateCheckTime || nextUpdateCheckTime < new Date())) {\n      this.serverService.serverInfo({}).pipe(\n        take(1),\n        switchMap((infoRes: ServerInfoResponse) => this.httpClient.post<any>(`${serverPath}`, {\n          url: window.location.origin,\n          client: window.navigator.userAgent,\n          uid: this.currentUser?.id,\n          server_uuid: infoRes['uid'] || '',\n          time: new Date().toISOString(),\n          versions: {\n            ['clearml-server']: infoRes.version\n          }\n        })\n        )\n      ).pipe(filter(() => !ConfigurationService.globalEnvironment.hideUpdateNotice))\n        .subscribe(updateRes => {\n          this.store.dispatch(setServerUpdatesAvailable({availableUpdates: updateRes}));\n          localStorage.setItem('nextCheckForUpdateTime', new Date(new Date().getTime() + (this.timeGap)).toISOString());\n        });\n    }\n  }\n\n  checkForUpdates(serverPath: string) {\n    if (!this.initialized) {\n      this.initialized = true;\n      this.checkServerForUpdate(serverPath);\n      setInterval(this.checkServerForUpdate.bind(this, serverPath), this.timeGap);\n    }\n  }\n\n\n  get lastDismissedVersion() {\n    return localStorage.getItem('dismissedVersion');\n  }\n\n  setDismissedVersion(version: string) {\n    localStorage.setItem('dismissedVersion', version);\n  }\n\n  private resetUpdateState() {\n    this.store.dispatch(setServerUpdatesAvailable({availableUpdates: null}));\n    localStorage.setItem('currentVersion', versionConf.version);\n    localStorage.removeItem('nextCheckForUpdateTime');\n    localStorage.removeItem('dismissedVersion');\n  }\n}\n","import {createAction, props} from '@ngrx/store';\nimport {VIEW_PREFIX} from '../../app.constants';\n\nexport const dismissSurvey = createAction(VIEW_PREFIX + ' [dismiss survey]');\n","import {createSelector} from '@ngrx/store';\nimport {\n  initViewState as commonInitState,\n  viewReducer as commonViewReducer,\n  ViewState as CommonViewState\n} from '@common/core/reducers/view.reducer';\nimport {dismissSurvey} from '../actions/layout.actions';\nimport {setServerUpdatesAvailable} from '@common/core/actions/layout.actions';\n\ninterface ViewState extends CommonViewState {\n  availableUpdates: string;\n  showSurvey: boolean;\n}\nconst initViewState: ViewState = {\n  ...commonInitState,\n  availableUpdates  : null,\n  showSurvey: true\n};\n\nexport const views = state => state.views as ViewState;\nexport const selectAvailableUpdates   = createSelector(views, state => state.availableUpdates);\nexport const selectShowSurvey   = createSelector(views, state => state.showSurvey);\nexport const selectUserSettingsNotificationPath = createSelector(views, () => '');\n\nexport function viewReducer(viewState: ViewState = initViewState, action) {\n\n  switch (action.type) {\n    case setServerUpdatesAvailable.type:\n      return {...viewState, availableUpdates: (action as ReturnType<typeof setServerUpdatesAvailable>).availableUpdates};\n    case dismissSurvey.type:\n      return {...viewState, showSurvey: false};\n    default:\n      return commonViewReducer(viewState, action);\n  }\n}\n","import {Component} from '@angular/core';\nimport {MatDialogRef} from '@angular/material/dialog';\n\n@Component({\n  selector: 'sm-ui-update-dialog',\n  templateUrl: './ui-update-dialog.component.html',\n  styleUrls: ['./ui-update-dialog.component.scss']\n})\nexport class UiUpdateDialogComponent {\n\n  constructor(private matDialogRef: MatDialogRef<UiUpdateDialogComponent>) {\n  }\n\n\n  cancel() {\n    this.matDialogRef.close();\n  }\n\n  reload() {\n    window.location.reload(true);\n  }\n}\n","<sm-dialog-template subHeader=\"Click the reload button below to reload the web page\" (xClicked)=\"cancel()\" header=\"New version available\">\n  <div class=\"buttons\">\n    <button (click)=\"cancel()\" class=\"btn btn-outline-neon\">\n      CANCEL\n    </button>\n    <button (click)=\"reload()\" class=\"btn btn-neon yes-button\">\n      RELOAD\n    </button>\n  </div>\n</sm-dialog-template>\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport versionConf from '../../../../version.json';\nimport {Store} from '@ngrx/store';\nimport {UiUpdateDialogComponent} from '../../layout/ui-update-dialog/ui-update-dialog.component';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UiUpdatesService {\n  private updateDialog: MatDialogRef<UiUpdateDialogComponent, any>;\n\n  constructor(private httpClient: HttpClient, private store: Store<any>, private matDialog: MatDialog,\n  ) {\n\n  }\n\n  checkForUiUpdate() {\n    window.setInterval(this.checkForUpdate.bind(this), (1000 * 60  * 3));\n  }\n\n  checkForUpdate() {\n    if (this.httpClient) {\n      this.httpClient.get('version.json').subscribe((onlineVersionFile: any) => {\n        if (onlineVersionFile && versionConf.version !== onlineVersionFile.version) {\n          if (this.matDialog.openDialogs.length === 0) {\n            this.updateDialog = this.matDialog.open(UiUpdateDialogComponent);\n          }\n        }\n      });\n    }\n\n  }\n\n}\n","import {createAction, props} from '@ngrx/store';\nimport {UsageStatState} from '../reducers/usage-stats.reducer';\n\nexport const setUsageStats = createAction('user-stats SET_STATS',  props<UsageStatState>());\nexport const updateUsageStats = createAction('user-stats UPDATE_USAGE_STATS', props<{allowed: boolean}>());\n","import {Action, createReducer, on, createSelector} from '@ngrx/store';\nimport {setUsageStats} from '../actions/usage-stats.actions';\n\n\nexport const userStatsFeatureKey = 'userStats';\n\nexport interface UsageStatState {\n  allowed: boolean;\n  currVersion: string;\n  allowedVersion: string;\n}\n\n\nexport const initialState: UsageStatState = {\n  allowed: null,\n  currVersion: '',\n  allowedVersion: ''\n};\n\nconst _statsReducer = createReducer(initialState,\n  on(setUsageStats, (state: UsageStatState, newState) => ({...state, ...newState}))\n);\n\nexport function usageStatsReducer(state = initialState, action: Action): UsageStatState {\n  return _statsReducer(state, action);\n}\n\nexport const selectSendStats = state => state[userStatsFeatureKey];\n\nexport const selectAllowed = createSelector(selectSendStats, (state: UsageStatState) => state.allowed);\nexport const selectCurrentVersion = createSelector(selectSendStats, (state: UsageStatState) => state.currVersion);\nexport const selectAllowedVersion = createSelector(selectSendStats, (state: UsageStatState) => state.allowedVersion);\nexport const selectPromptUser = createSelector(\n  selectCurrentVersion,\n  selectAllowedVersion,\n  selectAllowed,\n  (currentVer: string, allowedVer: string, allowed: boolean) => !allowed && currentVer !== allowedVer\n);\n","import { Injectable } from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {filter} from 'rxjs/operators';\nimport {updateUsageStats} from '../actions/usage-stats.actions';\nimport {selectPromptUser} from '../reducers/usage-stats.reducer';\nimport {MatDialog} from '@angular/material/dialog';\nimport {ConfirmDialogComponent} from '../../webapp-common/shared/ui-components/overlay/confirm-dialog/confirm-dialog.component';\nimport {ConfigurationService} from '../../webapp-common/shared/services/configuration.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UsageStatsService {\n\n  constructor(\n    private store: Store<any>,\n    private dialog: MatDialog,\n  ) {\n\n    if (!ConfigurationService.globalEnvironment.demo) {\n      this.store.select(selectPromptUser)\n        .pipe(filter(prompt => prompt))\n        .subscribe(() => {\n          const dialogRef = this.dialog.open(ConfirmDialogComponent,\n            {\n              data: {\n                title: 'Help us improve ClearML',\n                body: `Please allow the ClearML server to send anonymous usage metrics so we can better understand how ClearML is being used and make it even better.<BR>\n  This setting can be changed through the Profile page.`,\n                yes: 'Approve',\n                no: 'Deny',\n                iconClass: 'i-terms',\n              }\n            });\n\n          dialogRef.afterClosed().subscribe((allowed: boolean) => {\n            this.store.dispatch(updateUsageStats({allowed}));\n          });\n        });\n    }\n  }\n}\n","<sm-dialog-template [header]=\"tips[tipIndex].title\" iconClass=\"al-icon al-ico-tips\"\n                    (xClicked)=\"matDialogRef.close(neverShowAgain)\"\n>\n  <div class=\"tip-container\" smClickStopPropagation>\n    <div *ngIf=\"tips[tipIndex].image\"\n         class=\"tip-image\"\n         [class.full-width]=\"!tips[tipIndex].content\"\n         [style.background-image]=\"'url(' + tips[tipIndex].image + ')'\"></div>\n    <div *ngIf=\"tips[tipIndex].content\"\n         class=\"tip-content\"\n         [class.full-width]=\"!tips[tipIndex].image\"\n         [innerHTML]=\"tips[tipIndex].content | safe:'html'\"></div>\n  </div>\n  <div class=\"footer\">\n    <div class=\"tip-dont-show\" [class.invisible]=\"hideDontShow\"\n         smTooltip=\"Can also be set from the User Preferences section in the Profile page\"\n         matTooltipPosition=\"above\"\n         matTooltipShowDelay=\"300\">\n      <mat-checkbox [(ngModel)]=\"neverShowAgain\">\n        <span class=\"tip-cbx\">Don't show again</span>\n      </mat-checkbox>\n    </div>\n    <div class=\"navigate\">\n      <div class=\"btn-rec al-icon al-ico-previous\" (click)=\"prev()\"></div>\n      <div class=\"btn-rec al-icon al-ico-next\" (click)=\"next()\"></div>\n    </div>\n    <div class=\"tip-page\"> {{tipIndex + 1}} / {{tips.length}}</div>\n  </div>\n</sm-dialog-template>\n","import {Component, Inject} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {Store} from '@ngrx/store';\nimport {addMessage} from '../../core/actions/layout.actions';\nimport {MESSAGES_SEVERITY} from '../../../app.constants';\nimport {Tip} from '../../shared/services/tips.service';\n\n@Component({\n  selector: 'sm-tip-of-the-day-modal',\n  templateUrl: './tip-of-the-day-modal.component.html',\n  styleUrls: ['./tip-of-the-day-modal.component.scss']\n})\nexport class TipOfTheDayModalComponent {\n  public tipIndex: number;\n  public tips: Tip[];\n  neverShowAgain: boolean;\n  private visitedIndex: number = 0;\n  public hideDontShow: boolean;\n\n  constructor(public matDialogRef: MatDialogRef<TipOfTheDayModalComponent>, private store: Store<any>,\n              @Inject(MAT_DIALOG_DATA) public data: { tips: Tip[]; visitedIndex: number; hideDontShow: boolean }) {\n    this.tips = data.tips;\n    this.hideDontShow = data.hideDontShow;\n    this.visitedIndex = data.visitedIndex % this.tips.length;\n    this.tipIndex = this.visitedIndex;\n    this.saveIndexInLocalstorage();\n    this.matDialogRef.beforeClosed().subscribe(() => this.matDialogRef.close(this.neverShowAgain));\n  }\n\n  copyToClipboardSuccess() {\n    this.store.dispatch(addMessage(MESSAGES_SEVERITY.SUCCESS, 'URL copied successfully'));\n  }\n\n  prev() {\n    this.tipIndex = (this.tips.length + this.tipIndex - 1) % this.tips.length;\n  }\n\n  next() {\n    this.tipIndex = (this.tipIndex + 1) % this.tips.length;\n    this.saveIndexInLocalstorage();\n  }\n\n  private saveIndexInLocalstorage() {\n    if (this.visitedIndex <= this.tipIndex) {\n      this.visitedIndex = (this.tipIndex + 1);\n      window.localStorage.setItem('tipVisitedIndex', `${this.visitedIndex}`);\n    }\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {Store} from '@ngrx/store';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\nimport {selectRouterConfig} from '../../core/reducers/router-reducer';\nimport {combineLatest, Subscription} from 'rxjs';\nimport {debounceTime, distinctUntilChanged, filter, map, withLatestFrom} from 'rxjs/operators';\nimport {TipOfTheDayModalComponent} from '../../layout/tip-of-the-day-modal/tip-of-the-day-modal.component';\nimport {selectFirstLogin, selectNeverShowPopups} from '../../core/reducers/view.reducer';\nimport {selectCurrentUser} from '../../core/reducers/users-reducer';\nimport {neverShowPopupAgain} from '../../core/actions/layout.actions';\nimport {FeaturesEnum} from '~/business-logic/model/users/featuresEnum';\nimport {selectFeatures, selectTermsOfUse} from '~/core/reducers/users.reducer';\n\ninterface Tips {\n  [url: string]: Tip[];\n}\n\nexport interface Tip {\n  title: string;\n  image: string;\n  content: string;\n  context: string;\n  feature: FeaturesEnum;\n}\n\nconst tipsCooldownTime = 1000 * 60 * 60 * 24 * 3;\nexport const popupId = 'tip-of-the-day';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TipsService {\n  private routerConfigSubscription: Subscription;\n  private neverShowAgainSub: Subscription;\n  private tipsConfig: Tips = {global: []};\n  private nextTimeToShowTips: Date;\n  private modalRef: MatDialogRef<TipOfTheDayModalComponent, any>;\n  private neverShowAgain: boolean;\n  private firstTime: boolean = true;\n\n  constructor(private httpClient: HttpClient, private store: Store<any>, private matDialog: MatDialog,\n  ) {\n  }\n\n  initTipsService(showAllTips = true) {\n    this.nextTimeToShowTips = new Date(window.localStorage.getItem('nextTimeToShowTips') || new Date().getTime());\n\n    this.httpClient.get('/onboarding.json').pipe(withLatestFrom(this.store.select(selectFeatures)))\n      .subscribe(([tipsConfig, features]: [{ onboarding: Tip[] }, FeaturesEnum[]]) => {\n        const tipsFiltered = tipsConfig.onboarding.filter(tip => !tip.feature || features.includes(tip.feature) || showAllTips);\n        this.tipsConfig = {\n          global: [], ...tipsFiltered.reduce((acc, curr) => {\n            const context = curr.context || 'global';\n            if (acc[context]) {\n              acc[context].push(curr);\n            } else {\n              acc[context] = [curr];\n            }\n            return acc;\n          }, {} as Tips)\n        };\n      });\n\n    this.neverShowAgainSub = this.store.select(selectNeverShowPopups).pipe(\n      map( (neverShowAgain) => neverShowAgain.includes(popupId)),\n      distinctUntilChanged()\n    ).subscribe(neverShowAgain => {\n      this.neverShowAgain = neverShowAgain;\n      if (!this.firstTime) {\n        if (!neverShowAgain) {\n          this.nextTimeToShowTips = new Date();\n          window.localStorage.removeItem('nextTimeToShowTips');\n        }\n      }\n      this.firstTime = false;\n    });\n\n    this.routerConfigSubscription = combineLatest([\n      this.store.select(selectRouterConfig),\n      this.store.select(selectCurrentUser),\n      this.store.select(selectFirstLogin),\n      this.store.select(selectTermsOfUse)\n    ])\n      .pipe(\n        debounceTime(1000),\n        filter(([, user, firstLogin, tos]) => !firstLogin && !!user && !tos.accept_required && !this.neverShowAgain && this.matDialog.openDialogs.length === 0),\n        distinctUntilChanged(([prev], [curr]) => prev?.[prev.length - 1] === curr[curr.length - 1]))\n      .subscribe(([routerConfig]) => {\n        const urlConfig = routerConfig?.join('/');\n        if (this.tipsConfig?.['global'].length || this.tipsConfig?.[urlConfig]) {\n          const allTips = [...this.tipsConfig['global']];\n          if (this.tipsConfig[urlConfig]) {\n            allTips.concat(this.tipsConfig[urlConfig]);\n          }\n          if (this.isTimeHavePassed()) {\n            this.showTipsModal(allTips);\n          }\n        }\n      });\n\n  }\n\n  public showTipsModal(allTips?: Tip[], hideDontShow?: boolean) {\n    const visitedIndex = parseInt(window.localStorage.getItem('tipVisitedIndex'), 10) || 0;\n    allTips = allTips ? allTips : (Object.values(this.tipsConfig) as any).flat();\n    this.modalRef = this.matDialog.open(TipOfTheDayModalComponent, {\n      data: {\n        tips: allTips,\n        visitedIndex,\n        hideDontShow: this.neverShowAgain || hideDontShow\n      }\n    });\n    this.modalRef.afterClosed().subscribe((neveShowAgain) => {\n      if (neveShowAgain) {\n        this.store.dispatch(neverShowPopupAgain({popupId}));\n      }\n      this.nextTimeToShowTips = new Date(new Date().getTime() + tipsCooldownTime);\n      window.localStorage.setItem('nextTimeToShowTips', this.nextTimeToShowTips.toISOString());\n    });\n  }\n\n  private isTimeHavePassed() {\n    return this.nextTimeToShowTips <= new Date();\n  }\n}\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {select, Store} from '@ngrx/store';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport {selectNotification} from '../../core/reducers/view.reducer';\nimport {filter, take} from 'rxjs/operators';\nimport {setNotificationDialog} from '../../core/actions/layout.actions';\nimport {Subscription} from 'rxjs';\nimport {ConfirmDialogComponent} from '../../shared/ui-components/overlay/confirm-dialog/confirm-dialog.component';\n\n@Component({\n  selector   : 'sm-server-notification-dialog-container',\n  templateUrl: './server-notification-dialog-container.component.html',\n  styleUrls  : ['./server-notification-dialog-container.component.scss']\n})\nexport class ServerNotificationDialogContainerComponent implements OnInit, OnDestroy {\n  private notificationSubscription: Subscription;\n  private dialogRef: MatDialogRef<ConfirmDialogComponent, any>;\n\n  constructor(private store: Store<any>, private dialog: MatDialog) {\n  }\n\n  ngOnInit() {\n    this.notificationSubscription = this.store.pipe(\n      select(selectNotification),\n      filter((notification) => !!notification),\n    )\n      .subscribe((notification) => {\n        this.dialogRef = this.dialog.open(ConfirmDialogComponent, {\n          data: {\n            title    : notification.title,\n            body     : notification.message,\n            yes      : 'Ok',\n            iconClass: 'i-completed',\n          }\n        });\n\n        this.dialogRef.afterClosed().pipe(take(1)).subscribe(() => {\n          this.store.dispatch(setNotificationDialog({notification: null}));\n        });\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.notificationSubscription.unsubscribe();\n  }\n}\n","import {NotifierNotificationComponent} from '../components/notifier-notification.component';\nimport {TemplateRef} from '@angular/core';\nimport {Subject} from 'rxjs';\n\n/**\n * Notification\n *\n * This class describes the structure of a notifiction, including all information it needs to live, and everyone else needs to work with it.\n */\nexport class NotifierNotification {\n  /**\n   * Unique notification ID, can be set manually to control the notification from outside later on\n   */\n  public id: string;\n\n  /**\n   * Notification type, will be used for constructing an appropriate class name\n   */\n  public type: string;\n\n  /**\n   * Notification message\n   */\n  public message: string;\n\n  /**\n   * The template to customize\n   * the appearance of the notification\n   */\n  public template?: TemplateRef<any> = null;\n\n  /**\n   * Component reference of this notification, created and set during creation time\n   */\n  public component: NotifierNotificationComponent;\n  public observer: Subject<any[]>;\n  public actions: any[];\n\n  /**\n   * Constructor\n   *\n   * @param options Notifier options\n   */\n  public constructor(options: NotifierNotificationOptions) {\n    Object.assign(this, options);\n\n    // If not set manually, we have to create a unique notification ID by ourselves. The ID generation relies on the current browser\n    // datetime in ms, in praticular the moment this notification gets constructed. Concurrency, and thus two IDs being the exact same,\n    // is not possible due to the action queue concept.\n    if (options.id === undefined) {\n      this.id = `ID_${new Date().getTime()}`;\n    }\n  }\n}\n\n/**\n * Notifiction options\n *\n * This interface describes which information are needed to create a new notification, or in other words, which information the external API\n * call must provide.\n */\nexport interface NotifierNotificationOptions {\n  /**\n   * Notification ID, optional\n   */\n  id?: string;\n\n  /**\n   * Notification type\n   */\n  type: string;\n\n  /**\n   * Notificatin message\n   */\n  message: string;\n\n  /**\n   * The template to customize\n   * the appearance of the notification\n   */\n  template?: TemplateRef<any>;\n\n  actions?: any[];\n}\n","import {Injectable} from '@angular/core';\n\nimport {Subject} from 'rxjs';\n\nimport {NotifierAction} from '../models/notifier-action.model';\n\n/**\n * Notifier queue service\n *\n * In general, API calls don't get processed right away. Instead, we have to queue them up in order to prevent simultanious API calls\n * interfering with each other. This, at least in theory, is possible at any time. In particular, animations - which potentially overlap -\n * can cause changes in JS classes as well as affect the DOM. Therefore, the queue service takes all actions, puts them in a queue, and\n * processes them at the right time (which is when the previous action has been processed successfully).\n *\n * Technical sidenote:\n * An action looks pretty similar to the ones within the Flux / Redux pattern.\n */\n@Injectable()\nexport class NotifierQueueService {\n\n  /**\n   * Stream of actions, subscribable from outside\n   */\n  public readonly actionStream: Subject<NotifierAction>;\n\n  /**\n   * Queue of actions\n   */\n  private actionQueue: Array<NotifierAction>;\n\n  /**\n   * Flag, true if some action is currently in progress\n   */\n  private isActionInProgress: boolean;\n\n  /**\n   * Constructor\n   */\n  public constructor() {\n    this.actionStream = new Subject<NotifierAction>();\n    this.actionQueue = [];\n    this.isActionInProgress = false;\n  }\n\n  /**\n   * Push a new action to the queue, and try to run it\n   *\n   * @param action Action object\n   */\n  public push(action: NotifierAction): void {\n    this.actionQueue.push(action);\n    this.tryToRunNextAction();\n  }\n\n  /**\n   * Continue with the next action (called when the current action is finished)\n   */\n  public continue(): void {\n    this.isActionInProgress = false;\n    this.tryToRunNextAction();\n  }\n\n  /**\n   * Try to run the next action in the queue; we skip if there already is some action in progress, or if there is no action left\n   */\n  private tryToRunNextAction(): void {\n    if (this.isActionInProgress || this.actionQueue.length === 0) {\n      return; // Skip (the queue can now go drink a coffee as it has nothing to do anymore)\n    }\n\n    this.isActionInProgress = true;\n    this.actionStream.next(this.actionQueue.shift()); // Push next action to the stream, and remove the current action from the queue\n  }\n\n}\n","import {Inject, Injectable, forwardRef, InjectionToken} from '@angular/core';\n\nimport {NotifierConfig} from '../models/notifier-config.model';\nimport {NotifierNotificationOptions} from '../models/notifier-notification.model';\nimport {NotifierQueueService} from './notifier-queue.service';\nimport {Subject} from 'rxjs';\n\n/**\n * Injection Token for notifier configuration\n */\n\nexport const NotifierConfigToken: InjectionToken<NotifierConfig>\n  = new InjectionToken<NotifierConfig>('[anuglar-notifier] Notifier Config');\n\n/**\n * Notifier service\n *\n * This service provides access to the public notifier API. Once injected into a component, directive, pipe, service, or any other building\n * block of an applications, it can be used to show new notifications, and hide existing ones. Internally, it transforms API calls into\n * actions, which then get thrown into the action queue - eventually being processed at the right moment.\n */\n@Injectable()\nexport class NotifierService {\n\n  /**\n   * Notifier queue service\n   */\n  private readonly queueService: NotifierQueueService;\n\n  /**\n   * Notifier configuration\n   */\n  private readonly config: NotifierConfig;\n\n  /**\n   * Constructor\n   *\n   * @param notifierQueueService Notifier queue service\n   * @param config               Notifier configuration, optionally injected as a dependency\n   */\n  public constructor(\n    notifierQueueService: NotifierQueueService,\n    @Inject(forwardRef(() => NotifierConfigToken)) config: NotifierConfig // The forwardRef is (sadly) required here\n  ) {\n    this.queueService = notifierQueueService;\n    this.config = config;\n  }\n\n  /**\n   * Get the notifier configuration\n   *\n   * @returns Notifier configuration\n   */\n  public getConfig(): NotifierConfig {\n    return this.config;\n  }\n\n  /**\n   * API: Show a new notification\n   *\n   * @param notificationOptions Notification options\n   */\n  public show(notificationOptions: NotifierNotificationOptions): Subject<any> {\n    const subject = new Subject();\n    this.queueService.push({\n      payload: {...notificationOptions, observer: subject},\n      type: 'SHOW'\n    });\n    return subject;\n  }\n\n  /**\n   * API: Hide a specific notification, given its ID\n   *\n   * @param notificationId ID of the notification to hide\n   */\n  public hide(notificationId: string): void {\n    this.queueService.push({\n      payload: notificationId,\n      type: 'HIDE'\n    });\n  }\n\n  /**\n   * API: Hide the newest notification\n   */\n  public hideNewest(): void {\n    this.queueService.push({\n      type: 'HIDE_NEWEST'\n    });\n  }\n\n  /**\n   * API: Hide the oldest notification\n   */\n  public hideOldest(): void {\n    this.queueService.push({\n      type: 'HIDE_OLDEST'\n    });\n  }\n\n  /**\n   * API: Hide all notifications at once\n   */\n  public hideAll(): void {\n    this.queueService.push({\n      type: 'HIDE_ALL'\n    });\n  }\n\n  /**\n   * API: Shortcut for showing a new notification\n   *\n   * @param type             Type of the notification\n   * @param message          Message of the notification\n   * @param [notificationId] Unique ID for the notification (optional)\n   */\n  public notify(type: string, message: string, notificationId?: string): void {\n    let notificationOptions: NotifierNotificationOptions = {\n      message,\n      type\n    };\n    if (notificationId !== undefined) {\n      notificationOptions.id = notificationId;\n    }\n    this.show(notificationOptions);\n  }\n\n}\n","import { NotifierAnimationPreset, NotifierAnimationPresetKeyframes } from '../models/notifier-animation.model';\n\n/**\n * Fade animation preset\n */\nexport const fade: NotifierAnimationPreset = {\n\thide: (): NotifierAnimationPresetKeyframes => {\n\t\treturn {\n\t\t\tfrom: {\n\t\t\t\topacity: '1'\n\t\t\t},\n\t\t\tto: {\n\t\t\t\topacity: '0'\n\t\t\t}\n\t\t};\n\t},\n\tshow: (): NotifierAnimationPresetKeyframes => {\n\t\treturn {\n\t\t\tfrom: {\n\t\t\t\topacity: '0'\n\t\t\t},\n\t\t\tto: {\n\t\t\t\topacity: '1'\n\t\t\t}\n\t\t};\n\t}\n};\n","import { NotifierAnimationPreset, NotifierAnimationPresetKeyframes } from '../models/notifier-animation.model';\nimport { NotifierConfig } from '../models/notifier-config.model';\nimport { NotifierNotification } from '../models/notifier-notification.model';\n\n/**\n * Slide animation preset\n */\nexport const slide: NotifierAnimationPreset = {\n\thide: ( notification: NotifierNotification ): NotifierAnimationPresetKeyframes => {\n\n\t\t// Prepare variables\n\t\tconst config: NotifierConfig = notification.component.getConfig();\n\t\tconst shift: number = notification.component.getShift();\n\t\tlet from: {\n\t\t\t[ animatablePropertyName: string ]: string;\n\t\t};\n\t\tlet to: {\n\t\t\t[ animatablePropertyName: string ]: string;\n\t\t};\n\n\t\t// Configure variables, depending on configuration and component\n\t\tif ( config.position.horizontal.position === 'left' ) {\n\t\t\tfrom = {\n\t\t\t\ttransform: `translate3d( 0, ${ shift }px, 0 )`\n\t\t\t};\n\t\t\tto = {\n\t\t\t\ttransform: `translate3d( calc( -100% - ${ config.position.horizontal.distance }px - 10px ), ${ shift }px, 0 )`\n\t\t\t};\n\t\t} else if ( config.position.horizontal.position === 'right' ) {\n\t\t\tfrom = {\n\t\t\t\ttransform: `translate3d( 0, ${ shift }px, 0 )`\n\t\t\t};\n\t\t\tto = {\n\t\t\t\ttransform: `translate3d( calc( 100% + ${ config.position.horizontal.distance }px + 10px ), ${ shift }px, 0 )`\n\t\t\t};\n\t\t} else {\n\t\t\tlet horizontalPosition: string;\n\t\t\tif ( config.position.vertical.position === 'top' ) {\n\t\t\t\thorizontalPosition = `calc( -100% - ${ config.position.horizontal.distance }px - 10px )`;\n\t\t\t} else {\n\t\t\t\thorizontalPosition = `calc( 100% + ${ config.position.horizontal.distance }px + 10px )`;\n\t\t\t}\n\t\t\tfrom = {\n\t\t\t\ttransform: `translate3d( -50%, ${ shift }px, 0 )`\n\t\t\t};\n\t\t\tto = {\n\t\t\t\ttransform: `translate3d( -50%, ${ horizontalPosition }, 0 )`\n\t\t\t};\n\t\t}\n\n\t\t// Done\n\t\treturn {\n\t\t\tfrom,\n\t\t\tto\n\t\t};\n\n\t},\n\tshow: ( notification: NotifierNotification ): NotifierAnimationPresetKeyframes => {\n\n\t\t// Prepare variables\n\t\tconst config: NotifierConfig = notification.component.getConfig();\n\t\tlet from: {\n\t\t\t[ animatablePropertyName: string ]: string;\n\t\t};\n\t\tlet to: {\n\t\t\t[ animatablePropertyName: string ]: string;\n\t\t};\n\n\t\t// Configure variables, depending on configuration and component\n\t\tif ( config.position.horizontal.position === 'left' ) {\n\t\t\tfrom = {\n\t\t\t\ttransform: `translate3d( calc( -100% - ${ config.position.horizontal.distance }px - 10px ), 0, 0 )`\n\t\t\t};\n\t\t\tto = {\n\t\t\t\ttransform: 'translate3d( 0, 0, 0 )'\n\t\t\t};\n\t\t} else if ( config.position.horizontal.position === 'right' ) {\n\t\t\tfrom = {\n\t\t\t\ttransform: `translate3d( calc( 100% + ${ config.position.horizontal.distance }px + 10px ), 0, 0 )`\n\t\t\t};\n\t\t\tto = {\n\t\t\t\ttransform: 'translate3d( 0, 0, 0 )'\n\t\t\t};\n\t\t} else {\n\t\t\tlet horizontalPosition: string;\n\t\t\tif ( config.position.vertical.position === 'top' ) {\n\t\t\t\thorizontalPosition = `calc( -100% - ${ config.position.horizontal.distance }px - 10px )`;\n\t\t\t} else {\n\t\t\t\thorizontalPosition = `calc( 100% + ${ config.position.horizontal.distance }px + 10px )`;\n\t\t\t}\n\t\t\tfrom = {\n\t\t\t\ttransform: `translate3d( -50%, ${ horizontalPosition }, 0 )`\n\t\t\t};\n\t\t\tto = {\n\t\t\t\ttransform: 'translate3d( -50%, 0, 0 )'\n\t\t\t};\n\t\t}\n\n\t\t// Done\n\t\treturn {\n\t\t\tfrom,\n\t\t\tto\n\t\t};\n\n\t}\n};\n","import {Injectable} from '@angular/core';\n\nimport {NotifierAnimationData, NotifierAnimationPreset, NotifierAnimationPresetKeyframes} from '../models/notifier-animation.model';\nimport {NotifierNotification} from '../models/notifier-notification.model';\nimport {fade} from '../animation-presets/fade.animation-preset';\nimport {slide} from '../animation-presets/slide.animation-preset';\n\n/**\n * Notifier animation service\n */\n@Injectable()\nexport class NotifierAnimationService {\n\n  /**\n   * List of animation presets (currently static)\n   */\n  private readonly animationPresets: {\n    [animationPresetName: string]: NotifierAnimationPreset\n  };\n\n  /**\n   * Constructor\n   */\n  public constructor() {\n    this.animationPresets = {\n      fade,\n      slide\n    };\n  }\n\n  /**\n   * Get animation data\n   *\n   * This method generates all data the Web Animations API needs to animate our notification. The result depends on both the animation\n   * direction (either in or out) as well as the notifications (and its attributes) itself.\n   *\n   * @param   direction    Animation direction, either in or out\n   * @param   notification Notification the animation data should be generated for\n   * @returns Animation information\n   */\n  public getAnimationData(direction: 'show' | 'hide', notification: NotifierNotification): NotifierAnimationData {\n\n    // Get all necessary animation data\n    let keyframes: NotifierAnimationPresetKeyframes;\n    let duration: number;\n    let easing: string;\n    if (direction === 'show') {\n      keyframes = this.animationPresets[notification.component.getConfig().animations.show.preset].show(notification);\n      duration = notification.component.getConfig().animations.show.speed;\n      easing = notification.component.getConfig().animations.show.easing;\n    } else {\n      keyframes = this.animationPresets[notification.component.getConfig().animations.hide.preset].hide(notification);\n      duration = notification.component.getConfig().animations.hide.speed;\n      easing = notification.component.getConfig().animations.hide.easing;\n    }\n\n    // Build and return animation data\n    return {\n      keyframes: [\n        keyframes.from,\n        keyframes.to\n      ],\n      options: {\n        duration,\n        easing,\n        fill: 'forwards' // Keep the newly painted state after the animation finished\n      }\n    };\n\n  }\n\n}\n","import {Injectable} from '@angular/core';\n\n/**\n * Notifier timer service\n *\n * This service acts as a timer, needed due to the still rather limited setTimeout JavaScript API. The timer service can start and stop a\n * timer. Furthermore, it can also pause the timer at any time, and resume later on. The timer API workd promise-based.\n */\n@Injectable()\nexport class NotifierTimerService {\n\n  /**\n   * Timestamp (in ms), created in the moment the timer starts\n   */\n  private now: number;\n\n  /**\n   * Remaining time (in ms)\n   */\n  private remaining: number;\n\n  /**\n   * Timeout ID, used for clearing the timeout later on\n   */\n  private timerId: number;\n\n  /**\n   * Promise resolve function, eventually getting called once the timer finishes\n   */\n  private finishPromiseResolver: (value: PromiseLike<undefined>) => void;\n\n  /**\n   * Constructor\n   */\n  public constructor() {\n    this.now = 0;\n    this.remaining = 0;\n  }\n\n  /**\n   * Start (or resume) the timer\n   *\n   * @param   duration Timer duration, in ms\n   * @returns          Promise, resolved once the timer finishes\n   */\n  public start(duration: number): Promise<undefined> {\n    return new Promise<undefined>((resolve: (value: PromiseLike<undefined>) => void) => {\n\n      // For the first run ...\n      this.remaining = duration;\n\n      // Setup, then start the timer\n      this.finishPromiseResolver = resolve;\n      this.continue();\n\n    });\n  }\n\n  /**\n   * Pause the timer\n   */\n  public pause(): void {\n    clearTimeout(this.timerId);\n    this.remaining -= new Date().getTime() - this.now;\n  }\n\n  /**\n   * Continue the timer\n   */\n  public continue(): void {\n    this.now = new Date().getTime();\n    this.timerId = window.setTimeout(() => {\n      this.finish();\n    }, this.remaining);\n  }\n\n  /**\n   * Stop the timer\n   */\n  public stop(): void {\n    clearTimeout(this.timerId);\n    this.remaining = 0;\n  }\n\n  /**\n   * Finish up the timeout by resolving the timer promise\n   */\n  private finish(): void {\n    this.finishPromiseResolver(null);\n  }\n\n}\n","<ng-container *ngIf=\"notification.template; else predefinedNotification\" [ngTemplateOutlet]=\"notification.template\" [ngTemplateOutletContext]=\"{ notification: notification }\">\n</ng-container>\n\n<ng-template #predefinedNotification>\n  <div class=\"notifier__notification-message\">\n    <div class=\"message\">{{ notification.message }}</div>\n    <span *ngFor=\"let action of notification.actions;\" class=\"user-action\" [class.disabled]=\"actionsClicked.includes(action)\" (click)=\"onActionClick(action)\">{{action.name}}</span>\n  </div>\n  <button class=\"notifier__notification-button\" type=\"button\" title=\"dismiss\" *ngIf=\"config.behaviour.showDismissButton\" (click)=\"onClickDismiss()\">\n    <svg class=\"notifier__notification-button-icon\" viewBox=\"0 0 24 24\" width=\"20\" height=\"20\">\n      <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\n    </svg>\n  </button>\n</ng-template>\n","import {AfterViewInit, ChangeDetectionStrategy, Component, ElementRef, EventEmitter, Input, Output, Renderer2} from '@angular/core';\n\nimport {NotifierAnimationData} from '../models/notifier-animation.model';\nimport {NotifierAnimationService} from '../services/notifier-animation.service';\nimport {NotifierConfig} from '../models/notifier-config.model';\nimport {NotifierNotification} from '../models/notifier-notification.model';\nimport {NotifierService} from '../services/notifier.service';\nimport {NotifierTimerService} from '../services/notifier-timer.service';\n\n/**\n * Notifier notification component\n * -------------------------------\n * This component is responsible for actually displaying the notification on screen. In addition, it's able to show and hide this\n * notification, in particular to animate this notification in and out, as well as shift (move) this notification vertically around.\n * Furthermore, the notification component handles all interactions the user has with this notification / component, such as clicks and\n * mouse movements.\n */\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush, // (#perfmatters)\n  host: {\n    '(click)': 'onNotificationClick()',\n    '(mouseout)': 'onNotificationMouseout()',\n    '(mouseover)': 'onNotificationMouseover()',\n    class: 'notifier__notification'\n  },\n  providers: [\n    // We provide the timer to the component's local injector, so that every notification components gets its own\n    // instance of the timer service, thus running their timers independently from each other\n    NotifierTimerService\n  ],\n  selector: 'notifier-notification',\n  templateUrl: './notifier-notification.component.html'\n})\nexport class NotifierNotificationComponent implements AfterViewInit {\n\n  /**\n   * Input: Notification object, contains all details necessary to construct the notification\n   */\n  @Input()\n  public notification: NotifierNotification;\n\n  /**\n   * Output: Ready event, handles the initialization success by emitting a reference to this notification component\n   */\n  @Output()\n  public ready: EventEmitter<NotifierNotificationComponent>;\n\n  /**\n   * Output: Dismiss event, handles the click on the dismiss button by emitting the notification ID of this notification component\n   */\n  @Output()\n  public dismiss: EventEmitter<string>;\n\n  /**\n   * Notifier configuration\n   */\n  public readonly config: NotifierConfig;\n\n  /**\n   * Notifier timer service\n   */\n  private readonly timerService: NotifierTimerService;\n\n  /**\n   * Notifier animation service\n   */\n  private readonly animationService: NotifierAnimationService;\n\n  /**\n   * Angular renderer, used to preserve the overall DOM abstraction & independence\n   */\n  private readonly renderer: Renderer2;\n\n  /**\n   * Native element reference, used for manipulating DOM properties\n   */\n  private readonly element: HTMLElement;\n\n  /**\n   * Current notification height, calculated and cached here (#perfmatters)\n   */\n  private elementHeight: number;\n\n  /**\n   * Current notification width, calculated and cached here (#perfmatters)\n   */\n  private elementWidth: number;\n\n  /**\n   * Current notification shift, calculated and cached here (#perfmatters)\n   */\n  private elementShift: number;\n  public actionsClicked: any[] = [];\n\n  /**\n   * Constructor\n   *\n   * @param elementRef               Reference to the component's element\n   * @param renderer                 Angular renderer\n   * @param notifierService          Notifier service\n   * @param notifierTimerService     Notifier timer service\n   * @param notifierAnimationService Notifier animation service\n   */\n  public constructor(elementRef: ElementRef, renderer: Renderer2, notifierService: NotifierService,\n                     notifierTimerService: NotifierTimerService, notifierAnimationService: NotifierAnimationService) {\n    this.config = notifierService.getConfig();\n    this.ready = new EventEmitter<NotifierNotificationComponent>();\n    this.dismiss = new EventEmitter<string>();\n    this.timerService = notifierTimerService;\n    this.animationService = notifierAnimationService;\n    this.renderer = renderer;\n    this.element = elementRef.nativeElement;\n    this.elementShift = 0;\n  }\n\n  /**\n   * Component after view init lifecycle hook, setts up the component and then emits the ready event\n   */\n  public ngAfterViewInit(): void {\n    this.setup();\n    this.elementHeight = this.element.offsetHeight;\n    this.elementWidth = this.element.offsetWidth;\n    this.ready.emit(this);\n  }\n\n  /**\n   * Get the notifier config\n   *\n   * @returns Notifier configuration\n   */\n  public getConfig(): NotifierConfig {\n    return this.config;\n  }\n\n  /**\n   * Get notification element height (in px)\n   *\n   * @returns Notification element height (in px)\n   */\n  public getHeight(): number {\n    return this.elementHeight;\n  }\n\n  /**\n   * Get notification element width (in px)\n   *\n   * @returns Notification element height (in px)\n   */\n  public getWidth(): number {\n    return this.elementWidth;\n  }\n\n  /**\n   * Get notification shift offset (in px)\n   *\n   * @returns Notification element shift offset (in px)\n   */\n  public getShift(): number {\n    return this.elementShift;\n  }\n\n  /**\n   * Show (animate in) this notification\n   *\n   * @returns Promise, resolved when done\n   */\n  public show(): Promise<undefined> {\n    return new Promise<undefined>((resolve: (value: PromiseLike<undefined>) => void) => {\n\n      // Are animations enabled?\n      if (this.config.animations.enabled && this.config.animations.show.speed > 0) {\n\n        // Get animation data\n        const animationData: NotifierAnimationData = this.animationService.getAnimationData('show', this.notification);\n\n        // Set initial styles (styles before animation), prevents quick flicker when animation starts\n        const animatedProperties: Array<string> = Object.keys(animationData.keyframes[0]);\n        for (let i: number = animatedProperties.length - 1; i >= 0; i--) {\n          this.renderer.setStyle(this.element, animatedProperties[i],\n            animationData.keyframes[0][animatedProperties[i]]);\n        }\n\n        // Animate notification in\n        this.renderer.setStyle(this.element, 'visibility', 'visible');\n        const animation: Animation = this.element.animate(animationData.keyframes, animationData.options);\n        animation.onfinish = () => {\n          this.startAutoHideTimer();\n          resolve(null); // Done\n        };\n\n      } else {\n\n        // Show notification\n        this.renderer.setStyle(this.element, 'visibility', 'visible');\n        this.startAutoHideTimer();\n        resolve(null); // Done\n\n      }\n\n    });\n\n  }\n\n  /**\n   * Hide (animate out) this notification\n   *\n   * @returns Promise, resolved when done\n   */\n  public hide(): Promise<undefined> {\n    return new Promise<undefined>((resolve: (value: PromiseLike<undefined>) => void) => {\n\n      this.stopAutoHideTimer();\n\n      this.notification.observer.next(this.actionsClicked);\n      this.notification.observer.complete();\n      // Are animations enabled?\n      if (this.config.animations.enabled && this.config.animations.hide.speed > 0) {\n        const animationData: NotifierAnimationData = this.animationService.getAnimationData('hide', this.notification);\n        const animation: Animation = this.element.animate(animationData.keyframes, animationData.options);\n        animation.onfinish = () => {\n          resolve(null); // Done\n        };\n      } else {\n        resolve(null); // Done\n      }\n\n    });\n  }\n\n  /**\n   * Shift (move) this notification\n   *\n   * @param   distance         Distance to shift (in px)\n   * @param   shiftToMakePlace Flag, defining in which direction to shift\n   * @returns Promise, resolved when done\n   */\n  public shift(distance: number, shiftToMakePlace: boolean): Promise<undefined> {\n    return new Promise<undefined>((resolve: (value: PromiseLike<undefined>) => void) => {\n\n      // Calculate new position (position after the shift)\n      let newElementShift: number;\n      if ((this.config.position.vertical.position === 'top' && shiftToMakePlace)\n        || (this.config.position.vertical.position === 'bottom' && !shiftToMakePlace)) {\n        newElementShift = this.elementShift + distance + this.config.position.vertical.gap;\n      } else {\n        newElementShift = this.elementShift - distance - this.config.position.vertical.gap;\n      }\n      const horizontalPosition: string = this.config.position.horizontal.position === 'middle' ? '-50%' : '0';\n\n      // Are animations enabled?\n      if (this.config.animations.enabled && this.config.animations.shift.speed > 0) {\n        const animationData: NotifierAnimationData = { // TODO: Extract into animation service\n          keyframes: [\n            {\n              transform: `translate3d( ${horizontalPosition}, ${this.elementShift}px, 0 )`\n            },\n            {\n              transform: `translate3d( ${horizontalPosition}, ${newElementShift}px, 0 )`\n            }\n          ],\n          options: {\n            duration: this.config.animations.shift.speed,\n            easing: this.config.animations.shift.easing,\n            fill: 'forwards'\n          }\n        };\n        this.elementShift = newElementShift;\n        const animation: Animation = this.element.animate(animationData.keyframes, animationData.options);\n        animation.onfinish = () => {\n          resolve(null); // Done\n        };\n\n      } else {\n        this.renderer.setStyle(this.element, 'transform', `translate3d( ${horizontalPosition}, ${newElementShift}px, 0 )`);\n        this.elementShift = newElementShift;\n        resolve(null); // Done\n      }\n\n    });\n\n  }\n\n  public onActionClick(userAction): void {\n    this.actionsClicked.push(...userAction.actions);\n    this.onClickDismiss();\n  }\n\n  /**\n   * Handle click on dismiss button\n   */\n  public onClickDismiss(): void {\n    this.dismiss.emit(this.notification.id);\n  }\n\n  /**\n   * Handle mouseover over notification area\n   */\n  public onNotificationMouseover(): void {\n    if (this.config.behaviour.onMouseover === 'pauseAutoHide') {\n      this.pauseAutoHideTimer();\n    } else if (this.config.behaviour.onMouseover === 'resetAutoHide') {\n      this.stopAutoHideTimer();\n    }\n  }\n\n  /**\n   * Handle mouseout from notification area\n   */\n  public onNotificationMouseout(): void {\n    if (this.config.behaviour.onMouseover === 'pauseAutoHide') {\n      this.continueAutoHideTimer();\n    } else if (this.config.behaviour.onMouseover === 'resetAutoHide') {\n      this.startAutoHideTimer();\n    }\n  }\n\n  /**\n   * Handle click on notification area\n   */\n  public onNotificationClick(): void {\n    if (this.config.behaviour.onClick === 'hide') {\n      this.onClickDismiss();\n    }\n  }\n\n  /**\n   * Get auto hide value, return simple values (e.g. boolean, number),\n   * or extract the value if autoHide is an object, defaulting to the default\n   * key or false.\n   */\n  private getAutoHide(behaviour, type: string) {\n    if (typeof (behaviour.autoHide) === 'object') {\n      return behaviour.autoHide[type] !== undefined ?\n        behaviour.autoHide[type] :\n        behaviour.autoHide.default ?\n          behaviour.autoHide.default :\n          false;\n    }\n    return behaviour.autoHide;\n  }\n\n  private shouldAutoHide(autoHide): boolean {\n    return autoHide !== false && autoHide > 0;\n  }\n\n  /**\n   * Start the auto hide timer (if enabled)\n   */\n  private startAutoHideTimer(): void {\n    const autoHide = this.getAutoHide(this.config.behaviour, this.notification.type);\n    if (this.shouldAutoHide(autoHide)) {\n      this.timerService.start(autoHide).then(() => {\n        this.onClickDismiss();\n      });\n    }\n  }\n\n  /**\n   * Pause the auto hide timer (if enabled)\n   */\n  private pauseAutoHideTimer(): void {\n    const autoHide = this.getAutoHide(this.config.behaviour, this.notification.type);\n    if (this.shouldAutoHide(autoHide)) {\n      this.timerService.pause();\n    }\n  }\n\n  /**\n   * Continue the auto hide timer (if enabled)\n   */\n  private continueAutoHideTimer(): void {\n    const autoHide = this.getAutoHide(this.config.behaviour, this.notification.type);\n    if (this.shouldAutoHide(autoHide)) {\n      this.timerService.continue();\n    }\n  }\n\n  /**\n   * Stop the auto hide timer (if enabled)\n   */\n  private stopAutoHideTimer(): void {\n    const autoHide = this.getAutoHide(this.config.behaviour, this.notification.type);\n    if (this.shouldAutoHide(autoHide)) {\n      this.timerService.stop();\n    }\n  }\n\n  /**\n   * Initial notification setup\n   */\n  private setup(): void {\n\n    // Set start position (initially the exact same for every new notification)\n    if (this.config.position.horizontal.position === 'left') {\n      this.renderer.setStyle(this.element, 'left', `${this.config.position.horizontal.distance}px`);\n    } else if (this.config.position.horizontal.position === 'right') {\n      this.renderer.setStyle(this.element, 'right', `${this.config.position.horizontal.distance}px`);\n    } else {\n      this.renderer.setStyle(this.element, 'left', '50%');\n      // Let's get the GPU handle some work as well (#perfmatters)\n      this.renderer.setStyle(this.element, 'transform', 'translate3d( -50%, 0, 0 )');\n    }\n    if (this.config.position.vertical.position === 'top') {\n      this.renderer.setStyle(this.element, 'top', `${this.config.position.vertical.distance}px`);\n    } else {\n      this.renderer.setStyle(this.element, 'bottom', `${this.config.position.vertical.distance}px`);\n    }\n\n    // Add classes (responsible for visual design)\n    this.renderer.addClass(this.element, `notifier__notification--${this.notification.type}`);\n    this.renderer.addClass(this.element, `notifier__notification--${this.config.theme}`);\n\n  }\n\n}\n","<ul>\n  <li class=\"notifier__container-list\" *ngFor=\"let notification of notifications; trackBy: identifyNotification;\">\n    <notifier-notification\n      [notification]=\"notification\"\n      (ready)=\"onNotificationReady( $event )\"\n      (dismiss)=\"onNotificationDismiss( $event )\">\n    </notifier-notification>\n  </li>\n</ul>\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, OnDestroy, OnInit} from '@angular/core';\n\nimport {Subscription} from 'rxjs';\n\nimport {NotifierAction} from '../models/notifier-action.model';\nimport {NotifierConfig} from '../models/notifier-config.model';\nimport {NotifierNotification} from '../models/notifier-notification.model';\nimport {NotifierQueueService} from '../services/notifier-queue.service';\nimport {NotifierService} from '../services/notifier.service';\nimport {NotifierNotificationComponent} from './notifier-notification.component';\n\n/**\n * Notifier container component\n * ----------------------------\n * This component acts as a wrapper for all notification components; consequently, it is responsible for creating a new notification\n * component and removing an existing notification component. Being more precicely, it also handles side effects of those actions, such as\n * shifting or even completely removing other notifications as well. Overall, this components handles actions coming from the queue service\n * by subscribing to its action stream.\n *\n * Technical sidenote:\n * This component has to be used somewhere in an application to work; it will not inject and create itself automatically, primarily in order\n * to not break the Angular AoT compilation. Moreover, this component (and also the notification components) set their change detection\n * strategy onPush, which means that we handle change detection manually in order to get the best performance. (#perfmatters)\n */\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush, // (#perfmatters)\n  host: {\n    class: 'notifier__container'\n  },\n  selector: 'notifier-container',\n  templateUrl: './notifier-container.component.html'\n})\nexport class NotifierContainerComponent implements OnDestroy, OnInit {\n\n  /**\n   * List of currently somewhat active notifications\n   */\n  public notifications: Array<NotifierNotification>;\n\n  /**\n   * Change detector\n   */\n  private readonly changeDetector: ChangeDetectorRef;\n\n  /**\n   * Notifier queue service\n   */\n  private readonly queueService: NotifierQueueService;\n\n  /**\n   * Notifier configuration\n   */\n  private readonly config: NotifierConfig;\n\n  /**\n   * Queue service observable subscription (saved for cleanup)\n   */\n  private queueServiceSubscription: Subscription;\n\n  /**\n   * Promise resolve function reference, temporarily used while the notification child component gets created\n   */\n  private tempPromiseResolver: (value: PromiseLike<undefined>) => void;\n\n  /**\n   * Constructor\n   *\n   * @param changeDetector       Change detector, used for manually triggering change detection runs\n   * @param notifierQueueService Notifier queue service\n   * @param notifierService      Notifier service\n   */\n  public constructor(changeDetector: ChangeDetectorRef, notifierQueueService: NotifierQueueService, notifierService: NotifierService) {\n    this.changeDetector = changeDetector;\n    this.queueService = notifierQueueService;\n    this.config = notifierService.getConfig();\n    this.notifications = [];\n  }\n\n  /**\n   * Component initialization lifecycle hook, connects this component to the action queue, and then handles incoming actions\n   */\n  public ngOnInit(): void {\n    this.queueServiceSubscription = this.queueService.actionStream.subscribe((action: NotifierAction) => {\n      this.handleAction(action).then(() => {\n        this.queueService.continue();\n      });\n    });\n  }\n\n  /**\n   * Component destroyment lifecycle hook, cleans up the observable subsciption\n   */\n  public ngOnDestroy(): void {\n    if (this.queueServiceSubscription) {\n      this.queueServiceSubscription.unsubscribe();\n    }\n  }\n\n  /**\n   * Notification identifier, used as the ngFor trackby function\n   *\n   * @param   index        Index\n   * @param   notification Notifier notification\n   * @returns Notification ID as the unique identnfier\n   */\n  public identifyNotification(index: number, notification: NotifierNotification): string {\n    return notification.id;\n  }\n\n  /**\n   * Event handler, handles clicks on notification dismiss buttons\n   *\n   * @param notificationId ID of the notification to dismiss\n   */\n  public onNotificationDismiss(notificationId: string): void {\n    this.queueService.push({\n      payload: notificationId,\n      type: 'HIDE'\n    });\n  }\n\n  /**\n   * Event handler, handles notification ready events\n   *\n   * @param notificationComponent Notification component reference\n   */\n  public onNotificationReady(notificationComponent: NotifierNotificationComponent): void {\n    const currentNotification: NotifierNotification = this.notifications[this.notifications.length - 1]; // Get the latest notification\n    currentNotification.component = notificationComponent; // Save the new omponent reference\n    this.continueHandleShowAction(currentNotification); // Continue with handling the show action\n  }\n\n  /**\n   * Handle incoming actions by mapping action types to methods, and then running them\n   *\n   * @param   action Action object\n   * @returns Promise, resolved when done\n   */\n  private handleAction(action: NotifierAction): Promise<undefined> {\n    switch (action.type) { // TODO: Maybe a map (actionType -> class method) is a cleaner solution here?\n      case 'SHOW':\n        return this.handleShowAction(action);\n      case 'HIDE':\n        return this.handleHideAction(action);\n      case 'HIDE_OLDEST':\n        return this.handleHideOldestAction(action);\n      case 'HIDE_NEWEST':\n        return this.handleHideNewestAction(action);\n      case 'HIDE_ALL':\n        return this.handleHideAllAction();\n      default:\n        return new Promise<undefined>((resolve: (value: PromiseLike<undefined>) => void) => {\n          resolve(null); // Ignore unknown action types\n        });\n    }\n  }\n\n  /**\n   * Show a new notification\n   *\n   * We simply add the notification to the list, and then wait until its properly initialized / created / rendered.\n   *\n   * @param   action Action object\n   * @returns Promise, resolved when done\n   */\n  private handleShowAction(action: NotifierAction): Promise<undefined> {\n    return new Promise<undefined>((resolve: (value: PromiseLike<undefined>) => void) => {\n      this.tempPromiseResolver = resolve; // Save the promise resolve function so that it can be called later on by another method\n      this.addNotificationToList(new NotifierNotification(action.payload));\n    });\n  }\n\n  /**\n   * Continue to show a new notification (after the notification components is initialized / created / rendered).\n   *\n   * If this is the first (and thus only) notification, we can simply show it. Otherwhise, if stacking is disabled (or a low value), we\n   * switch out notifications, in particular we hide the existing one, and then show our new one. Yet, if stacking is enabled, we first\n   * shift all older notifications, and then show our new notification. In addition, if there are too many notification on the screen,\n   * we hide the oldest one first. Furthermore, if configured, animation overlapping is applied.\n   *\n   * @param notification New notification to show\n   */\n  private continueHandleShowAction(notification: NotifierNotification): void {\n\n    // First (which means only one) notification in the list?\n    const numberOfNotifications: number = this.notifications.length;\n    if (numberOfNotifications === 1) {\n      notification.component.show().then(this.tempPromiseResolver); // Done\n    } else {\n\n      const implicitStackingLimit: number = 2;\n\n      // Stacking enabled? (stacking value below 2 means stacking is disabled)\n      if (this.config.behaviour.stacking === false || this.config.behaviour.stacking < implicitStackingLimit) {\n        this.notifications[0].component.hide().then(() => {\n          this.removeNotificationFromList(this.notifications[0]);\n          notification.component.show().then(this.tempPromiseResolver); // Done\n        });\n      } else {\n\n        const stepPromises: Array<Promise<undefined>> = [];\n\n        // Are there now too many notifications?\n        if (numberOfNotifications > this.config.behaviour.stacking) {\n\n          const oldNotifications: Array<NotifierNotification> = this.notifications.slice(1, numberOfNotifications - 1);\n\n          // Are animations enabled?\n          if (this.config.animations.enabled) {\n\n            // Is animation overlap enabled?\n            if (this.config.animations.overlap !== false && this.config.animations.overlap > 0) {\n              stepPromises.push(this.notifications[0].component.hide());\n              setTimeout(() => {\n                stepPromises.push(this.shiftNotifications(oldNotifications, notification.component.getHeight(), true));\n              }, this.config.animations.hide.speed - this.config.animations.overlap);\n              setTimeout(() => {\n                stepPromises.push(notification.component.show());\n              }, this.config.animations.hide.speed + this.config.animations.shift.speed - this.config.animations.overlap);\n            } else {\n              stepPromises.push(new Promise<undefined>((resolve: (value: PromiseLike<undefined>) => void) => {\n                this.notifications[0].component.hide().then(() => {\n                  this.shiftNotifications(oldNotifications, notification.component.getHeight(), true).then(() => {\n                    notification.component.show().then(resolve);\n                  });\n                });\n              }));\n            }\n\n          } else {\n            stepPromises.push(this.notifications[0].component.hide());\n            stepPromises.push(this.shiftNotifications(oldNotifications, notification.component.getHeight(), true));\n            stepPromises.push(notification.component.show());\n          }\n\n        } else {\n\n          const oldNotifications: Array<NotifierNotification> = this.notifications.slice(0, numberOfNotifications - 1);\n\n          // Are animations enabled?\n          if (this.config.animations.enabled) {\n\n            // Is animation overlap enabled?\n            if (this.config.animations.overlap !== false && this.config.animations.overlap > 0) {\n              stepPromises.push(this.shiftNotifications(oldNotifications, notification.component.getHeight(), true));\n              setTimeout(() => {\n                stepPromises.push(notification.component.show());\n              }, this.config.animations.shift.speed - this.config.animations.overlap);\n            } else {\n              stepPromises.push(new Promise<undefined>((resolve: (value: PromiseLike<undefined>) => void) => {\n                this.shiftNotifications(oldNotifications, notification.component.getHeight(), true).then(() => {\n                  notification.component.show().then(resolve);\n                });\n              }));\n            }\n\n          } else {\n            stepPromises.push(this.shiftNotifications(oldNotifications, notification.component.getHeight(), true));\n            stepPromises.push(notification.component.show());\n          }\n\n        }\n\n        Promise.all(stepPromises).then(() => {\n          if (numberOfNotifications > this.config.behaviour.stacking) {\n            this.removeNotificationFromList(this.notifications[0]);\n          }\n          this.tempPromiseResolver(null);\n        }); // Done\n\n      }\n\n    }\n\n  }\n\n  /**\n   * Hide an existing notification\n   *\n   * Fist, we skip everything if there are no notifications at all, or the given notification does not exist. Then, we hide the given\n   * notification. If there exist older notifications, we then shift them around to fill the gap. Once both hiding the given notification\n   * and shifting the older notificaitons is done, the given notification gets finally removed (from the DOM).\n   *\n   * @param   action Action object, payload contains the notification ID\n   * @returns Promise, resolved when done\n   */\n  private handleHideAction(action: NotifierAction): Promise<undefined> {\n    return new Promise<undefined>((resolve: (value: PromiseLike<undefined>) => void) => {\n\n      const stepPromises: Array<Promise<undefined>> = [];\n\n      // Does the notification exist / are there even any notifications? (let's prevent accidential errors)\n      const notification: NotifierNotification | undefined = this.findNotificationById(action.payload);\n      if (notification === undefined) {\n        resolve(null);\n        return;\n      }\n\n      // Get older notifications\n      const notificationIndex: number | undefined = this.findNotificationIndexById(action.payload);\n      if (notificationIndex === undefined) {\n        resolve(null);\n        return;\n      }\n      const oldNotifications: Array<NotifierNotification> = this.notifications.slice(0, notificationIndex);\n\n      // Do older notifications exist, and thus do we need to shift other notifications as a consequence?\n      if (oldNotifications.length > 0) {\n\n        // Are animations enabled?\n        if (this.config.animations.enabled && this.config.animations.hide.speed > 0) {\n\n          // Is animation overlap enabled?\n          if (this.config.animations.overlap !== false && this.config.animations.overlap > 0) {\n            stepPromises.push(notification.component.hide());\n            setTimeout(() => {\n              stepPromises.push(this.shiftNotifications(oldNotifications, notification.component.getHeight(), false));\n            }, this.config.animations.hide.speed - this.config.animations.overlap);\n          } else {\n            notification.component.hide().then(() => {\n              stepPromises.push(this.shiftNotifications(oldNotifications, notification.component.getHeight(), false));\n            });\n          }\n        } else {\n          stepPromises.push(notification.component.hide());\n          stepPromises.push(this.shiftNotifications(oldNotifications, notification.component.getHeight(), false));\n        }\n\n      } else {\n\n        stepPromises.push(notification.component.hide());\n\n      }\n\n      // Wait until both hiding and shifting is done, then remove the notification from the list\n      Promise.all(stepPromises).then(() => {\n        this.removeNotificationFromList(notification);\n        resolve(null); // Done\n      });\n\n    });\n\n  }\n\n  /**\n   * Hide the oldest notification (bridge to handleHideAction)\n   *\n   * @param   action Action object\n   * @returns Promise, resolved when done\n   */\n  private handleHideOldestAction(action: NotifierAction): Promise<undefined> {\n\n    // Are there any notifications? (prevent accidential errors)\n    if (this.notifications.length === 0) {\n      return new Promise<undefined>((resolve: (value: PromiseLike<undefined>) => void) => {\n        resolve(null);\n      }); // Done\n    } else {\n      action.payload = this.notifications[0].id;\n      return this.handleHideAction(action);\n    }\n\n  }\n\n  /**\n   * Hide the newest notification (bridge to handleHideAction)\n   *\n   * @param   action Action object\n   * @returns Promise, resolved when done\n   */\n  private handleHideNewestAction(action: NotifierAction): Promise<undefined> {\n\n    // Are there any notifications? (prevent accidential errors)\n    if (this.notifications.length === 0) {\n      return new Promise<undefined>((resolve: (value: PromiseLike<undefined>) => void) => {\n        resolve(null);\n      }); // Done\n    } else {\n      action.payload = this.notifications[this.notifications.length - 1].id;\n      return this.handleHideAction(action);\n    }\n\n  }\n\n  /**\n   * Hide all notifications at once\n   *\n   * @param   action Action object\n   * @returns Promise, resolved when done\n   */\n  private handleHideAllAction(): Promise<undefined> {\n    return new Promise<undefined>((resolve: (value: PromiseLike<undefined>) => void) => {\n\n      // Are there any notifications? (prevent accidential errors)\n      const numberOfNotifications: number = this.notifications.length;\n      if (numberOfNotifications === 0) {\n        resolve(null); // Done\n        return;\n      }\n\n      // Are animations enabled?\n      if (this.config.animations.enabled && this.config.animations.hide.speed > 0 && this.config.animations.hide.offset !== false &&\n        this.config.animations.hide.offset > 0) {\n\n        for (let i: number = numberOfNotifications - 1; i >= 0; i--) {\n          const animationOffset: number = this.config.position.vertical.position === 'top' ? numberOfNotifications - 1 : i;\n          setTimeout(() => {\n            this.notifications[i].component.hide().then(() => {\n\n              // Are we done here, was this the last notification to be hidden?\n              if ((this.config.position.vertical.position === 'top' && i === 0) ||\n                (this.config.position.vertical.position === 'bottom' && i === numberOfNotifications - 1)) {\n                this.removeAllNotificationsFromList();\n                resolve(null); // Done\n              }\n\n            });\n          }, this.config.animations.hide.offset * animationOffset);\n        }\n\n      } else {\n\n        const stepPromises: Array<Promise<undefined>> = [];\n        for (let i: number = numberOfNotifications - 1; i >= 0; i--) {\n          stepPromises.push(this.notifications[i].component.hide());\n        }\n        Promise.all(stepPromises).then(() => {\n          this.removeAllNotificationsFromList();\n          resolve(null); // Done\n        });\n\n      }\n\n    });\n  }\n\n  /**\n   * Shift multiple notifications at once\n   *\n   * @param   notifications List containing the notifications to be shifted\n   * @param   distance      Distance to shift (in px)\n   * @param   toMakePlace   Flag, defining in which direciton to shift\n   * @returns Promise, resolved when done\n   */\n  private shiftNotifications(notifications: Array<NotifierNotification>, distance: number, toMakePlace: boolean): Promise<undefined> {\n    return new Promise<undefined>((resolve: (value: PromiseLike<undefined>) => void) => {\n\n      // Are there any notifications to shift?\n      if (notifications.length === 0) {\n        resolve(null);\n        return;\n      }\n\n      const notificationPromises: Array<Promise<undefined>> = [];\n      for (let i: number = notifications.length - 1; i >= 0; i--) {\n        notificationPromises.push(notifications[i].component.shift(distance, toMakePlace));\n      }\n      Promise.all(notificationPromises).then(resolve as any); // Done\n    });\n  }\n\n  /**\n   * Add a new notification to the list of notifications (triggers change detection)\n   *\n   * @param notification Notification to add to the list of notifications\n   */\n  private addNotificationToList(notification: NotifierNotification): void {\n    this.notifications.push(notification);\n    this.changeDetector.markForCheck(); // Run change detection because the notification list changed\n  }\n\n  /**\n   * Remove an existing notification from the list of notifications (triggers change detection)\n   *\n   * @param notification Notification to be removed from the list of notifications\n   */\n  private removeNotificationFromList(notification: NotifierNotification): void {\n    this.notifications =\n      this.notifications.filter((item: NotifierNotification) => item.component !== notification.component);\n    this.changeDetector.markForCheck(); // Run change detection because the notification list changed\n  }\n\n  /**\n   * Remove all notifications from the list (triggers change detection)\n   */\n  private removeAllNotificationsFromList(): void {\n    this.notifications = [];\n    this.changeDetector.markForCheck(); // Run change detection because the notification list changed\n  }\n\n  /**\n   * Helper: Find a notification in the notification list by a given notification ID\n   *\n   * @param   notificationId Notification ID, used for finding notification\n   * @returns Notification, undefined if not found\n   */\n  private findNotificationById(notificationId: string): NotifierNotification | undefined {\n    return this.notifications.find((currentNotification: NotifierNotification) => currentNotification.id === notificationId);\n  }\n\n  /**\n   * Helper: Find a notification's index by a given notification ID\n   *\n   * @param   notificationId Notification ID, used for finding a notification's index\n   * @returns Notification index, undefined if not found\n   */\n  private findNotificationIndexById(notificationId: string): number | undefined {\n    const notificationIndex: number =\n      this.notifications.findIndex((currentNotification: NotifierNotification) => currentNotification.id === notificationId);\n    return (notificationIndex !== -1 ? notificationIndex : undefined);\n  }\n}\n","<!-- DON'T FORGET TO ADD LINK TO 404 PAGE TOO -->\n\n<div class=\"side-nav\">\n  <div class=\"item logo\">\n    <div class=\"item-icon\">\n      <!-- <img src=\"../../../assets/c-logo.svg?v=1\" class=\"logo-a\"> -->\n    </div>\n    <div class=\"caption\">\n<!--      <img src=\"../../../assets/logo-white.png\" class=\"logo-full\">-->\n    </div>\n  </div>\n\n  <ng-container *ngIf=\"currentUser\">\n    <a class=\"item d-block\" #rlaHome=\"routerLinkActive\" routerLink=\"/dashboard\" routerLinkActive (click)=\"resetSearch()\"\n      smTooltip=\"DASHBOARD\" showDelay=\"0\" matTooltipPosition=\"right\">\n      <div class=\"item-icon\">\n        <i [class]=\"'al-icon al-ico-home al-color ' + (rlaHome.isActive ? 'neon-yellow': 'blue-300')\" ></i>\n      </div>\n      <div class=\"caption\">dashboard</div>\n    </a>\n\n    <a class=\"item d-block\" smTooltip=\"PROJECTS\" showDelay=\"0\" matTooltipPosition=\"right\" routerLink=\"/projects\"\n      [routerLinkActive] #rlaProjects=\"routerLinkActive\">\n      <div class=\"item-icon\">\n        <i [class]=\"'al-icon al-ico-projects al-color ' + (rlaProjects.isActive ? 'neon-yellow': 'blue-300')\" ></i>\n      </div>\n      <div class=\"caption\">projects</div>\n    </a>\n    <a class=\"item d-block\"\n       *smCheckPermission=\"true\"\n       routerLink=\"/workers-and-queues\"\n       routerLinkActive\n       #rlaQueues=\"routerLinkActive\"\n       smTooltip=\"WORKERS & QUEUES\"\n       showDelay=\"0\"\n       matTooltipPosition=\"right\">\n      <div class=\"item-icon\">\n        <i [class]=\"'al-icon al-ico-queues al-color ' + (rlaQueues.isActive ? 'neon-yellow': 'blue-300')\" ></i>\n      </div>\n      <div class=\"caption\">workers & queues</div>\n    </a>\n\n\n  <a class=\"item d-block\" smTooltip=\"\" showDelay=\"0\" matTooltipPosition=\"right\" routerLink=\"\">\n      <div class=\"item-icon\">\n        <fa-icon [icon]=\"faThList\" [class]=\"'al-icon al-color '\" ></fa-icon>\n      </div>\n      <div class=\"caption\">version control</div>\n    </a>\n    <a class=\"item d-block\" smTooltip=\"\" showDelay=\"0\" matTooltipPosition=\"right\" routerLink=\"\">\n      <div class=\"item-icon\">\n        <fa-icon [icon]=\"faDatabase\" [class]=\"'al-icon al-color '\"></fa-icon>\n      </div>\n      <div class=\"caption\">cloud</div>\n    </a>\n    <a class=\"item d-block\" smTooltip=\"\" showDelay=\"0\" matTooltipPosition=\"right\" routerLink=\"\">\n      <div class=\"item-icon\">\n        <fa-icon [icon]=\"faCodeBranch\" [class]=\"'al-icon al-color '\" ></fa-icon>\n      </div>\n      <div class=\"caption\">comparison</div>\n    </a>\n    <a class=\"item d-block\" smTooltip=\"\" showDelay=\"0\" matTooltipPosition=\"right\" href=\"https://github.com/allegroai/clearml\" target=\"_blank\">\n      <div class=\"item-icon\">\n        <fa-icon [icon]=\"faFileExcel\" [class]=\"'al-icon al-color '\" ></fa-icon>\n      </div>\n      <div class=\"caption\">comparison</div>\n    </a> \n\n  </ng-container>\n  <div *ngIf=\"currentUser\" class=\"account\">\n    <a *ngIf=\"environment.whiteLabelLink\" class=\"item d-block\" target=\"_blank\"\n       [smTooltip]=\"environment.whiteLabelLink.tooltip\" showDelay=\"0\" matTooltipPosition=\"right\"\n       [href]=\"environment.whiteLabelLink.link\">\n      <div class=\"item-icon\"\n           [style.background-image]=\"'url(' + environment.whiteLabelLink.logo + ')'\"\n           style=\"width: 64px; height: 64px\"\n      >\n      </div>\n      <div class=\"caption\">Ignite</div>\n    </a>\n    <!-- <a class=\"item d-block\" href=\"https://github.com/allegroai/clearml\" target=\"_blank\"\n       smTooltip=\"GitHub Repository\" showDelay=\"0\" matTooltipPosition=\"right\">\n      <div class=\"item-icon\">\n        <i class=\"fab fa-github fa-24 al-color blue-300\"></i>\n      </div>\n      <div class=\"caption\">GitHub</div>\n    </a> -->\n  </div>\n</div>\n","import { selectCurrentUser } from './../../webapp-common/core/reducers/users-reducer';\nimport {Component} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {selectSelectedProjectId} from '../../webapp-common/core/reducers/projects.reducer';\nimport {Observable} from 'rxjs';\nimport {Router} from '@angular/router';\nimport {ConfigurationService} from '../../webapp-common/shared/services/configuration.service';\nimport {SearchDeactivate} from '../../webapp-common/dashboard-search/dashboard-search.actions';\nimport { faCoffee, faBug,  faHatWizard, faFlushed, faBalanceScaleLeft, faDatabase, faCodeBranch, faFileExcel, faThList} from '@fortawesome/free-solid-svg-icons';\n\n\n@Component({\n  selector   : 'sm-side-nav',\n  templateUrl: './side-nav.component.html',\n  styleUrls  : ['./side-nav.component.scss'],\n})\nexport class SideNavComponent {\n  public selectedProjectId$: Observable<any>;\n  currentUser: any;\n  environment = ConfigurationService.globalEnvironment;\n\n\n  constructor(public store: Store<any>, private router: Router) {\n    this.selectedProjectId$ = this.store.select(selectSelectedProjectId);\n    this.store.select(selectCurrentUser).subscribe((res) => this.currentUser = res);\n  }\n\n\n  public resetSearch() {\n    this.store.dispatch(new SearchDeactivate());\n  }\n\n  get guestUser(): boolean {\n    return this.currentUser && this.currentUser?.role === 'guest';\n  }\n  \n  faCoffee = faCoffee;\n  faBug = faBug;\n  faHatWizard = faHatWizard;\n  faFlushed = faFlushed;\n  faBalanceScaleLeft = faBalanceScaleLeft;\n  faDatabase = faDatabase\n  faCodeBranch = faCodeBranch\n  faFileExcel = faFileExcel\n  faThList = faThList\n}\n","<span *ngIf=\"isCommunity && activeWorkspace && !workspaceNeutral\" class=\"breadcrumbLink\">\n  <span class=\"workspace\">{{activeWorkspace.name}}</span>\n  <i class=\"al-icon  al-ico-slash\"></i>\n</span>\n<span *ngFor=\"let crumb of breadcrumbs; let i=index; let last=last\" class=\"breadcrumbLink\" [class.ellipsis]=\"last\">\n  <div *ngIf=\"crumb.isProject;else crumbDiv;\" class=\"d-flex align-items-center\">\n    <div *ngIf=\"subProjects.length>2; else shortTree\" class=\"d-flex align-items-center\">\n      <div [matMenuTriggerFor]=\"subProjectsMenu\" class=\"d-flex align-items-center menu-trigger\"\n           (menuOpened)=\"subProjectsMenuOpened(true)\" (menuClosed)=\"subProjectsMenuOpened(false)\">\n        <i class=\"menu-trigger-icon al-icon msm\" [class.al-ico-d-menu-down]=\"!subProjectsMenuIsOpen\"\n           [class.al-ico-d-menu-up]=\"subProjectsMenuIsOpen\"></i>\n      </div>\n      <div class=\"d-flex\">\n        <i class=\"al-icon al-ico-slash\"></i>\n      </div>\n     <div class=\"d-flex align-items-center\">\n      <a class=\"sub-project\"\n         [routerLink]=\"subProjects[subProjects.length-1].url!=='projects/*/projects'? subProjects[subProjects.length-1].url: null\">{{subProjects[subProjects.length - 1].name}}</a>\n      </div>\n      <mat-menu #subProjectsMenu=\"matMenu\">\n        <div mat-menu-item\n             class=\"sub-project-menu-item\"\n             *ngFor=\"let subProject of subProjects | filterLast\"\n             [routerLink]=\"subProject.url!=='projects/*/projects'? subProject.url: 'projects/*'\">\n          {{subProject.name}}\n        </div>\n      </mat-menu>\n    </div>\n    <ng-template #shortTree>\n    <div *ngFor=\"let subProject of subProjects; let lastP=last\" class=\"d-flex align-items-center\">\n     <ng-container *ngIf=\"subProject.name\">\n        <a class=\"sub-project\"\n           [routerLink]=\"subProject.url!=='projects/*/projects'? subProject.url: 'projects/*/experiments'\">{{subProject.name}}</a>\n        <div *ngIf=\"!lastP\">\n          <i class=\"al-icon al-ico-slash\"></i>\n        </div>\n       </ng-container>\n    </div>\n      </ng-template>\n  </div>\n\n  <ng-template #crumbDiv>\n    <a\n      [routerLink]=\"crumb.url\">{{(['Experiments', 'Models', 'Dataviews'].includes(crumb.name) && isDeep) ? 'All ' : ''}}{{crumb.name}}</a>\n  </ng-template>\n  <i *ngIf=\"!last\" class=\"al-icon  al-ico-slash\"></i>\n</span>\n<div *ngIf=\"checkIfBreadcrumbsInitiated()\">\n  <div\n    #menuTrigger=\"matMenuTrigger\"\n    [matMenuTriggerFor]=\"shareModal\"\n    (menuOpened)=\"openShareModal()\"\n  >\n    <i *ngIf=\"showShareButton && !isCommunity\" class=\"fa fa-share-alt share pointer\" smTooltip=\"Share\"></i>\n  </div>\n  <mat-menu #shareModal=\"matMenu\">\n    <div class=\"share-menu-container\" smClickStopPropagation>\n      <div class=\"d-flex align-items-center justify-content-between top\">\n        <div class=\"share-title\">SHARE VIEW</div>\n        <i class=\"pointer al-icon al-ico-dialog-x al-color blue-400 sm-md close-dialog\"\n           (click)=\"menuTrigger.closeMenu()\" smClickStopPropagation></i>\n      </div>\n      <div class=\"copy-title\">Copy the following URL to share this view with others</div>\n\n      <div class=\"share-link-container\" [class.hidden]=\"!(currentUrl)\">\n        <div class=\"ellipsis share-link\">\n          {{currentUrl}}</div>\n        <div ngxClipboard\n             smClickStopPropagation\n             [cbContent]=\"currentUrl\"\n             class=\"copy pointer\"\n             (cbOnSuccess)=\"copyToClipboardSuccess(); menuTrigger.closeMenu()\">\n          <i class=\"fas fa-copy \"></i>\n        </div>\n      </div>\n    </div>\n  </mat-menu>\n</div>\n","import {ChangeDetectorRef, Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {selectRouterConfig} from '../../core/reducers/router-reducer';\nimport {debounceTime, filter} from 'rxjs/operators';\nimport {selectBreadcrumbsStrings} from '../layout.reducer';\nimport {ActivatedRoute} from '@angular/router';\nimport {combineLatest, Subscription} from 'rxjs';\nimport {prepareNames} from '../../../layout/breadcrumbs/breadcrumbs.utils';\nimport {formatStaticCrumb} from './breadcrumbs-common.utils';\nimport {addMessage} from '../../core/actions/layout.actions';\nimport {MESSAGES_SEVERITY} from '../../../app.constants';\nimport {ConfigurationService} from '../../shared/services/configuration.service';\nimport {GetCurrentUserResponseUserObjectCompany} from '../../../business-logic/model/users/getCurrentUserResponseUserObjectCompany';\nimport {selectIsDeepMode} from '../../core/reducers/projects.reducer';\nimport {Observable} from 'rxjs/internal/Observable';\nimport {getAllSystemProjects} from '@common/core/actions/projects.actions';\nimport {isEqual} from 'lodash/fp';\n\n\nexport interface IBreadcrumbsLink {\n  name?: string;\n  url?: string;\n  subCrumbs?: { name: string; url: string }[];\n  isProject?: boolean;\n}\n\n@Component({\n  selector: 'sm-breadcrumbs',\n  templateUrl: './breadcrumbs.component.html',\n  styleUrls: ['./breadcrumbs.component.scss']\n})\nexport class BreadcrumbsComponent implements OnInit, OnDestroy {\n  public breadcrumbs: Array<IBreadcrumbsLink> = [];\n  private routeConfig: Array<string> = [];\n  private breadcrumbsStrings;\n  private breadcrumbsSubscription: Subscription;\n  public currentUrl: string;\n  public showShareButton: boolean = false;\n  public isCommunity: boolean;\n\n  @Input() activeWorkspace: GetCurrentUserResponseUserObjectCompany;\n  private confSub: Subscription;\n  private isDeepSub: Subscription;\n  public workspaceNeutral: boolean;\n  private isDeep$: Observable<boolean>;\n  public isDeep: boolean;\n  public subProjectsMenuIsOpen: boolean;\n  private previousProjectNames: any;\n\n  constructor(private store: Store<any>, public route: ActivatedRoute, private configService: ConfigurationService, private cd: ChangeDetectorRef) {\n    this.isDeep$ = this.store.select(selectIsDeepMode);\n  }\n\n  ngOnInit() {\n\n    this.confSub = this.configService.globalEnvironmentObservable.subscribe(env => this.isCommunity = env.communityServer);\n\n    this.isDeepSub = this.isDeep$.subscribe(isDeep => {\n      this.isDeep = isDeep;\n      this.cd.detectChanges();\n    });\n\n    this.breadcrumbsSubscription = combineLatest([\n      this.store.select(selectRouterConfig),\n      this.store.select(selectBreadcrumbsStrings)\n    ]).pipe(\n      debounceTime(10),\n      filter(([config, names]) => !!names)\n    ).subscribe(([config, names]) => {\n      this.routeConfig = config;\n      this.breadcrumbsStrings = prepareNames(names);\n      if (!isEqual(this.previousProjectNames, this.breadcrumbsStrings[':projectId'].subCrumbs) &&\n          this.breadcrumbsStrings[':projectId'].subCrumbs?.map(project => project.name).includes(undefined)) {\n        this.previousProjectNames = this.breadcrumbsStrings[':projectId'].subCrumbs;\n        this.store.dispatch(getAllSystemProjects());\n      }\n      this.refreshBreadcrumbs();\n      let route = this.route.snapshot;\n      let hide = false;\n      while (route.firstChild) {\n        route = route.firstChild;\n        if (route.data.workspaceNeutral !== undefined) {\n          hide = route.data.workspaceNeutral;\n        }\n      }\n      this.workspaceNeutral = hide;\n    });\n  }\n\n  ngOnDestroy() {\n    this.breadcrumbsSubscription.unsubscribe();\n    this.confSub?.unsubscribe();\n    this.isDeepSub?.unsubscribe();\n  }\n\n  private refreshBreadcrumbs(): Array<IBreadcrumbsLink> {\n    if (!this.routeConfig) {\n      return;\n    }\n\n    this.breadcrumbs = this.routeConfig\n      .reduce((acc, config) => {\n        const name = this.getRouteName(config);\n        const id = this.getRouteId(config);\n        const previous = acc.slice(-1)[0]; // get the last item in the array\n        const previousUrl = previous ? previous.url : '';\n        const isProject = config === ':projectId';\n        return acc.concat({name: name, url: previousUrl + '/' + id, isProject});\n      }, [{url: '', name: '', isProject: true}])\n      .filter((i) => !!i.name);\n    const rootCrumb = formatStaticCrumb(this.routeConfig[0]);\n    this.breadcrumbs = [rootCrumb, ...this.breadcrumbs];\n    // this.showShareButton = !(this.routeConfig.includes('login') || this.routeConfig.includes('dashboard'));\n  }\n\n  private getRouteName(config: string) {\n    return (Object.keys(this.breadcrumbsStrings).includes(config)) ? this.breadcrumbsStrings[config].name : '';\n  }\n\n  private getRouteId(config: string) {\n    return (Object.keys(this.breadcrumbsStrings).includes(config)) ? this.breadcrumbsStrings[config].url : config;\n  }\n\n  openShareModal() {\n    this.currentUrl = window.location.href;\n  }\n\n  copyToClipboardSuccess() {\n    this.store.dispatch(addMessage(MESSAGES_SEVERITY.SUCCESS, 'URL copied successfully'));\n  }\n\n  checkIfBreadcrumbsInitiated() {\n    return this.breadcrumbs && this.routeConfig && this.breadcrumbs.length <= this.routeConfig.length;\n  }\n\n  get subProjects() {\n    return this.breadcrumbsStrings[':projectId'].subCrumbs;\n  }\n\n  subProjectsMenuOpened(b: boolean) {\n    this.subProjectsMenuIsOpen = b;\n  }\n}\n","<span class=\"search-container\" [ngClass]=\"{'open': isSearching$ | async}\">\n  <sm-search\n    class=\"search-header\"\n    [value]=\"(searchQuery$ | async)?.query\"\n    [placeholder]=\"searchPlaceholder$ | async\"\n    [hideIcons]=\"true\"\n    [minimumChars]=\"minChars\"\n    (valueChanged)=\"onSearchValueChanged($event)\"\n    (focusout)=\"onSearchFocusOut()\"\n  >\n    <i\n      class=\"regexp al-ico-regex pointer\"\n      smClickStopPropagation\n      [smTooltip]=\"'Regex'\" [matTooltipPosition]=\"'below'\"\n      [class.active]=\"regExp\"\n      (click)=\"toggleRegExp()\"></i>\n  </sm-search>\n</span>\n<ng-container *ngIf=\"searchActive\">\n  <i *ngIf=\"(isSearching$ | async); else searchIcon\" class=\"fa fa-times pointer\" (click)=\"clearSearch()\" smClickStopPropagation></i>\n  <ng-template #searchIcon>\n    <i class=\"fa fa-search pointer\" (click)=\"openSearch()\"></i>\n  </ng-template>\n</ng-container>\n","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {ActivatedRoute, Router, NavigationEnd} from '@angular/router';\nimport {Store} from '@ngrx/store';\nimport {SetIsSearching, setSearchQuery} from '../../common-search.actions';\nimport {ICommonSearchState, selectIsSearching, selectPlaceholder, selectSearchQuery} from '../../common-search.reducer';\nimport {Observable} from 'rxjs';\nimport {debounceTime, filter, tap} from 'rxjs/operators';\nimport {SearchComponent} from '../../../shared/ui-components/inputs/search/search.component';\n\n@Component({\n  selector   : 'sm-common-search',\n  templateUrl: './common-search.component.html',\n  styleUrls  : ['./common-search.component.scss']\n})\nexport class CommonSearchComponent implements OnInit {\n  public searchQuery$: Observable<ICommonSearchState['searchQuery']>;\n  public isSearching$: Observable<boolean>;\n  public searchPlaceholder$: Observable<string>;\n  public searchActive: boolean;\n\n\n\n  @ViewChild(SearchComponent) searchElem: SearchComponent;\n  public regExp: boolean = false;\n  private closeTimer: number;\n  private queryString: string;\n  minChars = 3;\n\n  constructor(private store: Store<any>, private router: Router, private route: ActivatedRoute) {}\n\n  ngOnInit() {\n    this.searchQuery$       = this.store.select(selectSearchQuery).pipe(tap(searchQuery => this.regExp = searchQuery?.regExp));\n    this.isSearching$       = this.store.select(selectIsSearching);\n    this.searchPlaceholder$ = this.store.select(selectPlaceholder).pipe(debounceTime(0));\n    this.router.events.pipe(filter(event => event instanceof NavigationEnd))\n      .subscribe(() => {\n        this.setSearchActive();\n      });\n    setTimeout(this.setSearchActive.bind(this));\n  }\n\n  onSearchValueChanged(query) {\n    this.queryString = query;\n    this.store.dispatch(setSearchQuery({query, regExp: this.regExp}));\n  }\n\n  openSearch() {\n    window.clearTimeout(this.closeTimer);\n    this.searchElem.searchBarInput.nativeElement.focus();\n    this.store.dispatch(new SetIsSearching(true));\n  }\n\n  onSearchFocusOut() {\n    if (!this.searchElem.searchBarInput.nativeElement.value) {\n      this.closeTimer = window.setTimeout(() => this.store.dispatch(new SetIsSearching(false)), 200);\n    }\n  }\n\n  private setSearchActive() {\n    let route      = this.route.snapshot;\n    let showSearch = false;\n    while (route.firstChild) {\n      route = route.firstChild;\n      if (route.data.search !== undefined) {\n        showSearch = route.data.search;\n      }\n    }\n    this.searchActive = showSearch;\n  }\n\n  clearSearch() {\n    this.searchElem.clear();\n    this.store.dispatch(new SetIsSearching(false));\n    document.body.focus();\n  }\n\n  toggleRegExp() {\n    this.regExp = !this.regExp;\n    window.clearTimeout(this.closeTimer);\n    if (this.queryString?.length >= this.minChars) {\n      this.store.dispatch(setSearchQuery({query: this.queryString, regExp: this.regExp}));\n    }\n  }\n}\n","import {Component} from '@angular/core';\n\n@Component({\n  selector: 'sm-header-user-menu-actions',\n  templateUrl: './header-user-menu-actions.component.html',\n  styleUrls: ['./header-user-menu-actions.component.scss']\n})\nexport class HeaderUserMenuActionsComponent {\n\n  constructor() {}\n}\n","<div class=\"header-container\" [class.login]=\"isLogin\">\n  <div class=\"d-flex align-items-center\">\n    <sm-breadcrumbs\n      class=\"spacer\"\n      [class.share-view]=\"isShareMode\"\n      [activeWorkspace]=\"activeWorkspace\">\n    </sm-breadcrumbs>\n    <div class=\"ml-3 d-flex align-items-center\" *ngIf=\"userFocus\">\n      <sm-show-only-user-work></sm-show-only-user-work>\n    </div>\n  </div>\n\n  <div  class=\"logo-full middle\"\n       [class.make-room-for-slogan]=\"environment.whiteLabelSlogan\">\n    <img [src]=\"environment?.branding?.logo\" width=\"122\" height=\"42\">\n    <div *ngIf=\"environment.whiteLabelSlogan\" class=\"slogan\">{{environment.whiteLabelSlogan}}</div>\n  </div>\n  <div *ngIf=\"isLogin && environment.whiteLabelLogo\" class=\"logo-full\">\n    <img [src]=\"environment?.branding?.logo\" width=\"122\" height=\"42\">\n  </div>\n  <div *ngIf=\"isLogin\" class=\"spacer\"></div>\n\n  <div class=\"right-buttons\">\n    <sm-common-search [class.share-view]=\"isShareMode\"></sm-common-search>\n\n    <a class=\"pointer resources-trigger\"\n       menuTrigger=\"matMenuTrigger\"\n       [matMenuTriggerFor]=\"resourcesMenu\"\n       showDelay=\"0\" matTooltipPosition=\"below\">\n      <i class=\"far al-ico-help-outlined\"></i>\n    </a>\n    <a class=\"pointer menu-trigger position-relative\"\n       menuTrigger=\"matMenuTrigger\"\n       [matMenuTriggerFor]=\"profileMenu\"\n       showDelay=\"0\" matTooltipPosition=\"below\">\n      <img class=\"avatar\" *ngIf=\"(user | async).avatar; else iconAvatar\" [src]=\"(user | async).avatar\">\n      <ng-template #iconAvatar>\n        <div class=\"user-icon\">\n          <i class=\"al-icon al-ico-account sm-md\"></i>\n        </div>\n      </ng-template>\n      <div *ngIf=\"userNotificationPath || (invitesPending$ | async)?.length\" class=\"user-notification\"></div>\n    </a>\n\n    <mat-menu #profileMenu=\"matMenu\" class=\"user-menu\">\n      <button mat-menu-item [routerLink]=\"'settings/' + userNotificationPath\">\n        <span class=\"al-icon icon sm-md\" [class]=\"userNotificationPath ? 'al-ico-settings-alert' : 'al-ico-settings'\">\n          <span class=\"path1\"></span><span class=\"path2\"></span>\n        </span>\n        Settings\n      </button>\n      <sm-header-user-menu-actions></sm-header-user-menu-actions>\n      <button mat-menu-item (click)=\"logout()\">\n        <span class=\"al-ico-logout al-icon icon sm-md\"></span>\n        Logout\n      </button>\n    </mat-menu>\n\n    <mat-menu #resourcesMenu=\"matMenu\" class=\"user-menu\">\n      <button mat-menu-item *ngIf=\"environment.slackLink\">\n        <a class=\"item\" target=\"_blank\"\n           [href]=\"environment.slackLink\">\n          <i class=\"al-icon al-ico-slack sm-md\"></i>Community on Slack\n        </a>\n      </button>\n      <button mat-menu-item>\n        <a class=\"item\" [href]=\"environment.docsLink\" target=\"_blank\">\n          <i class=\"al-icon sm-md al-ico-documentation\"></i>ClearML Documentation\n        </a>\n      </button>\n      <button mat-menu-item>\n        <a class=\"item\" href=\"https://www.youtube.com/c/ClearML/featured\" target=\"_blank\">\n          <i class=\"al-icon al-ico-youtube sm-md\"></i>ClearML on Youtube\n        </a>\n      </button>\n      <button mat-menu-item (click)=\"openTip()\">\n        <i class=\"al-icon sm-md al-ico-tips\"></i>Pro Tips\n      </button>\n      <button mat-menu-item>\n        <a class=\"item\" href=\"\" (click)=\"openWelcome($event)\">\n          <i class=\"al-icon sm-md al-ico-setup\"></i>ClearML Python Package setup\n        </a>\n      </button>\n      <ng-container *smCheckPermission=\"'applications'\">\n        <button mat-menu-item *ngIf=\"$any(environment)?.appsYouTubeIntroLink && $any(environment).appAwarenessMenu !== false\">\n          <a class=\"item\" (click)=\"openAppsAwareness($event, $any(environment)?.appsYouTubeIntroLink)\">\n            <i class=\"al-icon sm-md al-ico-applications\"></i>ClearML Apps Introduction\n          </a>\n        </button>\n      </ng-container>\n\n      <button mat-menu-item>\n        <a class=\"item\" href=\"https://www.clear.ml/contact-us/\" target=\"_blank\">\n          <i class=\"al-icon sm-md al-ico-email\"></i>Contact Us\n        </a>\n      </button>\n    </mat-menu>\n  </div>\n</div>\n<ng-content></ng-content>\n","import {Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {selectActiveWorkspace, selectCurrentUser} from '../../core/reducers/users-reducer';\nimport {Observable, Subscription} from 'rxjs';\nimport {logout} from '../../core/actions/users.actions';\nimport {addMessage, openAppsAwarenessDialog} from '../../core/actions/layout.actions';\nimport {MESSAGES_SEVERITY} from '~/app.constants';\nimport {MatDialog} from '@angular/material/dialog';\nimport {GetCurrentUserResponseUserObject} from '~/business-logic/model/users/getCurrentUserResponseUserObject';\nimport {ConfigurationService} from '../../shared/services/configuration.service';\nimport {GetCurrentUserResponseUserObjectCompany} from '~/business-logic/model/users/getCurrentUserResponseUserObjectCompany';\nimport {filter} from 'rxjs/operators';\nimport {selectRouterUrl} from '../../core/reducers/router-reducer';\nimport {TipsService} from '../../shared/services/tips.service';\nimport {WelcomeMessageComponent} from '../../dashboard/dumb/welcome-message/welcome-message.component';\nimport {ActivatedRoute, NavigationEnd, Router} from '@angular/router';\nimport {LoginService} from '~/shared/services/login.service';\nimport {selectUserSettingsNotificationPath} from '~/core/reducers/view.reducer';\nimport {selectInvitesPending} from '~/core/reducers/users.reducer';\n\n@Component({\n  selector: 'sm-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit, OnDestroy {\n  @Input() isShareMode: boolean;\n  @Input() isLogin: boolean;\n  isDashboard: boolean;\n  profile: boolean;\n  userFiltered: boolean;\n  userFocus: boolean;\n  environment = ConfigurationService.globalEnvironment;\n  public user: Observable<GetCurrentUserResponseUserObject>;\n  public activeWorkspace: GetCurrentUserResponseUserObjectCompany;\n  public url: Observable<string>;\n  public userNotificationPath$: Observable<string>;\n  public invitesPending$: Observable<any[]>;\n  private sub = new Subscription();\n  public userNotificationPath: string;\n\n  constructor(\n    private store: Store<any>,\n    private dialog: MatDialog,\n    private tipsService: TipsService,\n    private loginService: LoginService,\n    private router: Router,\n    private activeRoute: ActivatedRoute\n\n  ) {\n    this.url = this.store.select(selectRouterUrl);\n    this.user = this.store.select(selectCurrentUser);\n    this.sub.add(this.store.select(selectUserSettingsNotificationPath).subscribe(path => this.userNotificationPath = path));\n    this.invitesPending$ = this.store.select(selectInvitesPending);\n    this.sub.add(this.store.select(selectActiveWorkspace)\n      .pipe(filter(workspace => !!workspace))\n      .subscribe(workspace => {\n        this.activeWorkspace = workspace;\n      }));\n\n    this.sub.add(this.router.events\n    .pipe(filter((event) => event instanceof NavigationEnd))\n    .subscribe(() => this.getRotueData()));\n\n  }\n\n  ngOnInit(): void {\n    this.getRotueData();\n  }\n\n  getRotueData() {\n    this.userFocus = !!this.activeRoute?.firstChild?.snapshot.data?.userFocus;\n    this.isDashboard = this.activeRoute?.firstChild?.snapshot.url?.[0].path === 'dashboard';\n  }\n\n  ngOnDestroy(): void {\n    this.sub.unsubscribe();\n  }\n\n  logout() {\n    this.loginService.clearLoginCache();\n    this.store.dispatch(logout({}));\n  }\n\n  copyToClipboardSuccess() {\n    this.store.dispatch(addMessage(MESSAGES_SEVERITY.SUCCESS, 'URL copied successfully'));\n  }\n\n  openTip() {\n    this.tipsService.showTipsModal(null, true);\n  }\n\n  openWelcome(event: MouseEvent) {\n    event.preventDefault();\n    this.dialog.open(WelcomeMessageComponent, {data: {step: 2}});\n  }\n\n  openAppsAwareness($event: MouseEvent, appsYouTubeIntroLink: string) {\n    $event.preventDefault();\n    this.store.dispatch(openAppsAwarenessDialog({appsYouTubeIntroLink}));\n  }\n}\n","<sm-update-notifier #update\n                    [availableUpdates]=\"!hideUpdate && (updatesAvailable$ | async)\"\n                    [currentUser]=\"currentUser\"\n                    [dismissedVersion]=\"serverUpdatesService.lastDismissedVersion\"\n                    (versionDismissed)=\"versionDismissed($event)\"\n                    (notifierActive)=\"notifierActive($event)\">\n</sm-update-notifier>\n<sm-color-picker-wrapper id=\"color-picker-outlet\"></sm-color-picker-wrapper>\n<sm-server-notification-dialog-container></sm-server-notification-dialog-container>\n<sm-spinner></sm-spinner>\n<sm-side-nav *ngIf=\"currentUser\"></sm-side-nav>\n<div class=\"app-container\" [class.login-page]=\"!currentUser\"\n     [class.notifier-open]=\"update?.active\">\n  <sm-header *ngIf=\"currentUser\" [isLogin]=\"isLoginContext\"\n             [isShareMode]=\"isSharedAndNotOwner$ | async\"></sm-header>\n  <router-outlet class=\"main-router\"></router-outlet>\n</div>\n<notifier-container></notifier-container>\n","import {ApiUsersService} from './business-logic/api-services/users.service';\nimport {selectCurrentUser} from '@common/core/reducers/users-reducer';\nimport {Component, OnDestroy, OnInit, ViewEncapsulation, HostListener, Renderer2, Injector} from '@angular/core';\nimport {ActivatedRoute, NavigationEnd, Router, Params, RouterEvent} from '@angular/router';\nimport {Title} from '@angular/platform-browser';\nimport {selectLoggedOut} from '@common/core/reducers/view.reducer';\nimport {Store} from '@ngrx/store';\nimport {get} from 'lodash/fp';\nimport {selectRouterParams, selectRouterUrl} from '@common/core/reducers/router-reducer';\nimport {ApiProjectsService} from './business-logic/api-services/projects.service';\nimport {Project} from './business-logic/model/projects/project';\nimport {getAllSystemProjects, setSelectedProjectId, updateProject} from '@common/core/actions/projects.actions';\nimport {selectSelectedProject} from '@common/core/reducers/projects.reducer';\nimport {MatDialog} from '@angular/material/dialog';\nimport {getTutorialBucketCredentials} from '@common/core/actions/common-auth.actions';\nimport {termsOfUseAccepted} from '@common/core/actions/users.actions';\nimport {distinctUntilChanged, filter, map, tap} from 'rxjs/operators';\nimport * as routerActions from './webapp-common/core/actions/router.actions';\nimport {combineLatest, Observable, Subscription} from 'rxjs';\nimport {selectBreadcrumbsStrings} from '@common/layout/layout.reducer';\nimport {prepareNames} from './layout/breadcrumbs/breadcrumbs.utils';\nimport {formatStaticCrumb} from '@common/layout/breadcrumbs/breadcrumbs-common.utils';\nimport {ServerUpdatesService} from '@common/shared/services/server-updates.service';\nimport {selectAvailableUpdates} from './core/reducers/view.reducer';\nimport {UPDATE_SERVER_PATH} from './app.constants';\nimport {firstLogin, plotlyReady, setScaleFactor, visibilityChanged} from '@common/core/actions/layout.actions';\nimport {UiUpdatesService} from '@common/shared/services/ui-updates.service';\nimport {UsageStatsService} from './core/services/usage-stats.service';\nimport {dismissSurvey} from './core/actions/layout.actions';\nimport {getScaleFactor} from '@common/shared/utils/shared-utils';\nimport {User} from './business-logic/model/users/user';\nimport {ConfigurationService} from '@common/shared/services/configuration.service';\nimport {GoogleTagManagerService} from 'angular-google-tag-manager';\nimport {selectIsSharedAndNotOwner} from './features/experiments/reducers';\nimport {TipsService} from '@common/shared/services/tips.service';\nimport {USER_PREFERENCES_KEY} from '@common/user-preferences';\n\n@Component({\n  selector: 'sm-root',\n  templateUrl: 'app.component.html',\n  styleUrls: ['app.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class AppComponent implements OnInit, OnDestroy {\n  public loggedOut$: Observable<any>;\n  public activeFeature: string;\n  private urlSubscription: Subscription;\n  public selectedProject$: Observable<Project>;\n  public projectId: string;\n  public isWorkersContext: boolean;\n  public updatesAvailable$: Observable<any>;\n  private selectedProjectFromUrl$: Observable<string>;\n  private breadcrumbsSubscription: Subscription;\n  private selectedCurrentUserSubscription: Subscription;\n  private breadcrumbsStrings;\n  private selectedCurrentUser$: Observable<any>;\n  public showNotification: boolean = true;\n  public showSurvey$: Observable<boolean>;\n  public demo = ConfigurationService.globalEnvironment.demo;\n  public isLoginContext: boolean;\n  public currentUser: User;\n  private gtmService;\n  public isSharedAndNotOwner$: Observable<boolean>;\n  private activeWorkspace: string;\n  public hideUpdate: boolean;\n  public showSurvey: boolean;\n  private plotlyURL: string;\n\n  @HostListener('document:visibilitychange') onVisibilityChange() {\n    this.store.dispatch(visibilityChanged({visible: !document.hidden}));\n  }\n\n  @HostListener('window:beforeunload', ['$event'])\n  beforeunloadHandler() {\n    window.localStorage.setItem('lastWorkspace', this.activeWorkspace);\n  }\n\n  constructor(\n    private router: Router,\n    private route: ActivatedRoute,\n    private titleService: Title,\n    private store: Store<any>,\n    private projectsApi: ApiProjectsService,\n    private userService: ApiUsersService,\n    public serverUpdatesService: ServerUpdatesService,\n    private uiUpdatesService: UiUpdatesService,\n    private tipsService: TipsService,\n    private matDialog: MatDialog,\n    private userStats: UsageStatsService,\n    private renderer: Renderer2,\n    private injector: Injector,\n    private configService: ConfigurationService\n  ) {\n    this.loggedOut$ = store.select(selectLoggedOut);\n    this.isSharedAndNotOwner$ = this.store.select(selectIsSharedAndNotOwner);\n    this.selectedProject$ = this.store.select(selectSelectedProject);\n    this.updatesAvailable$ = this.store.select(selectAvailableUpdates);\n    this.selectedCurrentUser$ = this.store.select(selectCurrentUser);\n    this.selectedProjectFromUrl$ = this.store.select(selectRouterParams)\n      .pipe(\n        filter((params: Params) => !!params),\n        map(params => get('projectId', params) || null)\n      );\n\n    if (ConfigurationService.globalEnvironment.GTM_ID) {\n      this.gtmService = injector.get(GoogleTagManagerService);\n    }\n  }\n\n  ngOnInit(): void {\n    this.configService.globalEnvironmentObservable.subscribe(env => {\n      this.hideUpdate = env.hideUpdateNotice;\n      this.showSurvey = env.showSurvey;\n      this.plotlyURL = env.plotlyURL;\n    });\n    this.router.events\n      .pipe(filter(event => event instanceof NavigationEnd))\n      .subscribe(\n        (item: RouterEvent) => {\n          const gtmTag = {\n            event: 'page',\n            pageName: item.url\n          };\n          this.gtmService?.pushTag(gtmTag);\n          this.store.dispatch(new routerActions.NavigationEnd());\n          this.updateTitle();\n        });\n\n    this.selectedCurrentUserSubscription = this.selectedCurrentUser$.pipe(\n      tap(user => this.currentUser = user), // should not be filtered\n      filter(user => !!user?.id),\n      distinctUntilChanged((prev, next) => prev?.id === next?.id)\n    )\n    .subscribe(() => {\n        this.store.dispatch(getAllSystemProjects());\n        this.store.dispatch(getTutorialBucketCredentials());\n        this.store.dispatch(termsOfUseAccepted());\n        this.uiUpdatesService.checkForUiUpdate();\n        this.tipsService.initTipsService(false);\n        this.serverUpdatesService.checkForUpdates(UPDATE_SERVER_PATH);\n        let loginTime = parseInt(localStorage.getItem(USER_PREFERENCES_KEY.firstLogin) || '0', 10);\n        if (!loginTime) {\n          this.store.dispatch(firstLogin({first: true}));\n          loginTime = Date.now();\n          localStorage.setItem(USER_PREFERENCES_KEY.firstLogin, `${loginTime}`);\n        }\n    });\n\n    this.selectedProjectFromUrl$.subscribe((projectId: string) => {\n      this.store.dispatch(setSelectedProjectId({projectId}));\n    });\n\n    this.urlSubscription = combineLatest([this.store.select(selectRouterUrl), this.store.select(selectRouterParams)])\n      .subscribe(([url, params]) => {\n        this.projectId = get('projectId', params);\n        this.isLoginContext = url && url.includes('login');\n        this.isWorkersContext = url && url.includes('workers-and-queues');\n        if (this.projectId) {\n          try { // TODO: refactor to a better solution after all navbar are declared...\n            this.activeFeature = url.split(this.projectId)[1].split('/')[1];\n          } catch (e) {\n\n          }\n        }\n      });\n\n    this.breadcrumbsSubscription = this.store.select(selectBreadcrumbsStrings)\n      .pipe(filter(names => !!names))\n      .subscribe(\n        (names) => {\n          this.breadcrumbsStrings = prepareNames(names);\n          this.updateTitle();\n        }\n      );\n    if (window.localStorage.getItem('disableHidpi') !== 'true') {\n      this.setScale();\n    }\n\n    this.loadPlotly();\n  }\n\n  private setScale() {\n    const dimensionRatio = getScaleFactor();\n    this.store.dispatch(setScaleFactor({scale: dimensionRatio}));\n    const scale = 100 / dimensionRatio;\n    this.renderer.setStyle(document.body, 'transform', `scale(${scale})`);\n    this.renderer.setStyle(document.body, 'transform-origin', '0 0');\n    this.renderer.setStyle(document.body, 'height', `${dimensionRatio}vh`);\n    this.renderer.setStyle(document.body, 'width', `${dimensionRatio}vw`);\n  }\n\n  nameChanged(name) {\n    this.store.dispatch(updateProject({id: this.projectId, changes: {name}}));\n  }\n\n  ngOnDestroy(): void {\n    this.urlSubscription.unsubscribe();\n    this.breadcrumbsSubscription.unsubscribe();\n    this.selectedCurrentUserSubscription.unsubscribe();\n  }\n\n  changeRoute(feature) {\n    return this.router.navigateByUrl('projects/' + this.projectId + '/' + feature);\n  }\n\n  backToProjects() {\n    return this.router.navigateByUrl('projects');\n  }\n\n  updateTitle() {\n    let route = this.route.snapshot.firstChild;\n    let routeConfig = [];\n\n    while (route) {\n      const path = route.routeConfig.path.split('/').filter((item) => !!item);\n      routeConfig = routeConfig.concat(path);\n      route = route.firstChild;\n    }\n    const crumbs = routeConfig\n      .reduce((acc, config) => {\n        const dynamicCrumb = this.breadcrumbsStrings[config];\n        return acc.concat(dynamicCrumb ? dynamicCrumb.name : formatStaticCrumb(config).name);\n      }, [''])\n      .filter(name => !!name);\n    this.titleService.setTitle(`Wide - ${crumbs.join(' / ')}`);\n  }\n\n  versionDismissed(version: string) {\n    this.serverUpdatesService.setDismissedVersion(version);\n  }\n\n  notifierActive(show: boolean) {\n    this.showNotification = show;\n  }\n\n  dismissSurvey() {\n    this.store.dispatch(dismissSurvey());\n\n  }\n\n  get guestUser(): boolean {\n    return !this.currentUser || this.currentUser?.role === 'guest';\n  }\n\n  public loadPlotly(): void {\n    const init = () => {\n      const script: HTMLScriptElement = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = this.plotlyURL;\n      script.onerror = () => console.error(`Error loading plotly.js library from ${this.plotlyURL}`);\n      script.crossOrigin = 'use-credentials';\n\n      const head: HTMLHeadElement = document.getElementsByTagName('head')[0];\n      head.appendChild(script);\n\n      let counter = 600;\n\n      const fn = () => {\n        const plotly = (window as any).Plotly;\n        if (plotly) {\n          this.store.dispatch(plotlyReady());\n        } else if (counter > 0) {\n          counter --;\n          setTimeout(fn, 100);\n        } else {\n          throw new Error(`Error loading plotly.js library from ${this.plotlyURL}. Timeout.`);\n        }\n      };\n\n      fn();\n    };\n\n    setTimeout(init);\n  }\n}\n","import {Routes} from '@angular/router';\n/*\nimport {AdminComponent} from '@common/settings/admin/admin.component';\n*/\nimport {ProjectRedirectGuardGuard} from '@common/shared/guards/project-redirect.guard';\n\n\nexport const routes: Routes = [\n  {path: '', redirectTo: 'dashboard', pathMatch: 'full'},\n  {path: 'admin', redirectTo: 'settings', pathMatch: 'full'},\n  {\n    path: 'dashboard',\n    loadChildren: () => import('./features/dashboard/dashboard.module').then(m => m.DashboardModule),\n    data: {search: true},\n  },\n  {\n    path: 'projects',\n    loadChildren: () => import('./features/projects/projects.module').then(m => m.ProjectsModule),\n    data: {search: true},\n  },\n  {path: 'login', loadChildren: () => import('./features/login/login.module').then(m => m.LoginModule)},\n  {\n    path: 'settings',\n    loadChildren: () => import('./features/settings/settings.module').then(m => m.SettingsModule),\n    data: {search: false, workspaceNeutral: false, },\n  },\n\n  {\n    path: 'projects',\n    data: {search: true},\n    children: [\n      {path: '', redirectTo: '*', pathMatch: 'full'},\n      {\n        path: ':projectId',\n        data: {search: true},\n        children: [\n          {path: '', pathMatch: 'full', children: [], canActivate: [ProjectRedirectGuardGuard]},\n          {path: '', redirectTo: '*', pathMatch: 'full'},\n          {path: 'overview', loadChildren: () => import('./webapp-common/project-info/project-info.module').then(m => m.ProjectInfoModule)},\n          {path: 'projects', loadChildren: () => import('./features/projects/projects.module').then(m => m.ProjectsModule)},\n          {path: 'experiments', loadChildren: () => import('./features/experiments/experiments.module').then(m => m.ExperimentsModule)},\n          {path: 'models', loadChildren: () => import('./webapp-common/models/models.module').then(m => m.ModelsModule)},\n          {\n            path: 'compare-experiments',\n            loadChildren: () => import('./webapp-common/experiments-compare/experiments-compare.module').then(m => m.ExperimentsCompareModule),\n            data: {search: false}\n          },\n        ]\n      },\n    ]\n  },\n  {path: 'workers-and-queues', loadChildren: () => import('./features/workers-and-queues/workers-and-queues.module').then(m => m.WorkersAndQueuesModule)},\n  {path: '404', loadChildren: () => import('./features/not-found/not-found.module').then(m => m.NotFoundModule)},\n  {path: '**', loadChildren: () => import('./features/not-found/not-found.module').then(m => m.NotFoundModule)},\n\n];\n","import {Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {Store} from '@ngrx/store';\nimport {selectSelectedMetricVariantForCurrProject, selectSelectedProject} from '../../core/reducers/projects.reducer';\nimport {Project} from '../../../business-logic/model/projects/project';\nimport {filter, map, withLatestFrom} from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProjectRedirectGuardGuard implements CanActivate {\n  private selectedProject$: Observable<Project>;\n\n  constructor(private store: Store, private router: Router) {\n    this.selectedProject$ = this.store.select(selectSelectedProject);\n  }\n\n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n    return this.selectedProject$.pipe(\n      filter(project => project?.id === route.params.projectId),\n      withLatestFrom(this.store.select(selectSelectedMetricVariantForCurrProject)),\n      map(([project, metVar]) => this.router.parseUrl(`projects/${project.id}/${(project.description || metVar) ? 'overview' : 'experiments'}`)));\n  }\n\n}\n","<div class=\"w-100\">\n  <div [innerHTML]=\"header\"></div>\n</div>\n<div class=\"container\">\n  <ng-form #S3NGForm=\"ngForm\">\n    <mat-form-field class=\"w-100\" *ngIf=\"!isAzure\">\n      <mat-label>Key</mat-label>\n      <input matInput type=\"text\" name=\"Key\" required placeholder=\"Key\" [(ngModel)]=\"S3Form.Key\" #keyInput=\"ngModel\"\n             autocomplete=\"off\">\n      <mat-error *ngIf=\"keyInput.errors?.required\">*Required</mat-error>\n    </mat-form-field>\n    <mat-form-field class=\"w-100\">\n      <mat-label>Secret</mat-label>\n      <input matInput [(ngModel)]=\"S3Form.Secret\" type=\"text\" name=\"Secret\" required #secretInput=\"ngModel\"\n             autocomplete=\"off\"\n             [placeholder]=\"isAzure ? 'Shared access signature (SAS)' : 'Secret'\">\n      <mat-error *ngIf=\"secretInput.errors?.required\">*Required</mat-error>\n    </mat-form-field>\n    <mat-form-field *ngIf=\"!isAzure\" class=\"w-100\">\n      <mat-label>Region</mat-label>\n      <input matInput [(ngModel)]=\"S3Form.Region\" type=\"text\" name=\"Region\" placeholder=\"AWS Region (e.g. us-east-2)\"\n             autocomplete=\"off\">\n    </mat-form-field>\n    <mat-form-field *ngIf=\"(!isAzure) && endpoint\" class=\"w-100\">\n      <mat-label>Endpoint</mat-label>\n      <input matInput [(ngModel)]=\"S3Form.Endpoint\" type=\"text\" name=\"Endpoint\" autocomplete=\"off\"\n             placeholder=\"Host (Endpoint)\">\n    </mat-form-field>\n    <div class=\"w-100 d-flex justify-content-center\">\n      <button class=\"btn btn-neon\" (click)=\"S3NGForm.form.markAllAsTouched(); saveNewCredentials()\"\n              [disabled]=\"(!saveEnabled) || (formIsSubmitted && S3NGForm.invalid)\">Save Credentials\n      </button>\n\n    </div>\n  </ng-form>\n</div>\n","import {Component, Input, OnChanges, Output, SimpleChanges, ViewChild} from '@angular/core';\nimport {AdminService} from '~/shared/services/admin.service';\nimport {FormBuilder, FormControl, FormGroup, NgForm} from '@angular/forms';\nimport {EventEmitter} from '@angular/core';\n\n@Component({\n  selector   : 'sm-s3-access-dialog',\n  templateUrl: './s3-access-dialog.component.html',\n  styleUrls  : ['./s3-access-dialog.component.scss']\n})\nexport class S3AccessDialogComponent implements OnChanges {\n  @ViewChild('S3NGForm', {static: true}) S3NGForm: NgForm;\n\n  public S3Form;\n  @Input() isAzure;\n  @Input() key;\n  @Input() secret                          = '';\n  @Input() region                          = '';\n  @Input() bucket;\n  @Input() endpoint;\n  @Input() editMode                        = false;\n  @Input() header;\n\n  @Output() closeCancel: EventEmitter<any> = new EventEmitter();\n  @Output() closeSave: EventEmitter<any>   = new EventEmitter<any>();\n  @Input() saveEnabled = true;\n  public formIsSubmitted: boolean;\n\n\n  constructor(public adminService: AdminService, private formBuilder: FormBuilder) {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes) {\n      this.S3Form= {\n        Key     : changes.isAzure.currentValue ? 'azure' : changes.key.currentValue,\n        Secret  : changes.secret.currentValue,\n        Region  : changes.region.currentValue,\n        Bucket  : changes.bucket.currentValue,\n        Endpoint: (changes.endpoint.currentValue === null || changes.endpoint.currentValue?.startsWith('http')) ?\n          changes.endpoint.currentValue:\n           `http${(changes.endpoint.currentValue as string).endsWith('443') ? 's' : ''}://${changes.endpoint.currentValue}`,\n      };\n    }\n  }\n\n\n  public saveNewCredentials() {\n    this.formIsSubmitted = true;\n    if (this.S3NGForm.invalid) {\n      return false;\n    } else {\n      this.closeSave.emit(this.S3Form);\n    }\n\n  }\n\n  public cancel() {\n    this.closeCancel.emit(this.S3Form);\n  }\n\n}\n","import {Component, Inject} from '@angular/core';\nimport {Credentials} from '../../core/reducers/common-auth-reducer';\nimport {Observable} from 'rxjs';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {ProjectDialogComponent} from '../../shared/project-dialog/project-dialog.component';\n\n@Component({\n  selector   : 'sm-s3-access-resolver',\n  templateUrl: './s3-access-resolver.component.html',\n  styleUrls  : ['./s3-access-resolver.component.scss']\n})\nexport class S3AccessResolverComponent {\n  show: Observable<any>;\n  subscription: any;\n  bucket: string;\n  endpoint: any;\n  key: any;\n  secret: any;\n  region: any;\n  header: any;\n  editMode: any;\n  public useSSL: boolean;\n  public isAzure: boolean;\n\n\n  constructor(\n    private matDialogRef: MatDialogRef<ProjectDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: {credentials: Credentials; isAzure?: boolean; credentialsError}\n  ) {\n    const s3Credentials = data.credentials;\n    this.bucket         = s3Credentials.Bucket;\n    this.endpoint       = s3Credentials.Endpoint;\n    this.key            = s3Credentials.Key;\n    this.secret         = s3Credentials.Secret;\n    this.region         = s3Credentials.Region;\n    this.isAzure        = data.isAzure;\n    if (data.credentialsError) {\n      this.header = this.header = `${data.credentialsError}, please check credentials for bucket <b>${this.bucket}</b>.`;\n    } else {\n      this.header = `Please provide credentials for bucket <b>${this.bucket}</b>.`;\n    }\n  }\n\n  saveS3Credentials(newCredential) {\n    this.matDialogRef.close({\n      success : true,\n      ...newCredential\n    });\n  }\n\n  cancelClicked() {\n    this.matDialogRef.close({\n      success : false,\n      Bucket  : this.bucket,\n      Endpoint: this.endpoint\n    });\n  }\n\n  xClicked() {\n    this.matDialogRef.close({\n      success : false,\n      Bucket  : this.bucket,\n      Endpoint: this.endpoint,\n    });\n  }\n\n}\n","<sm-dialog-template iconClass=\"i-annotation\" header=\"S3 credentials\" (xClicked)=\"xClicked()\" [header]=\"isAzure? 'Azure credentials': 'S3 credentials'\">\n  <sm-s3-access-dialog\n    [header]=\"header\"\n    [bucket]=\"bucket\"\n    [endpoint]=\"endpoint\"\n    [region]=\"region\"\n    [secret]=\"secret\"\n    [key]=\"key\"\n    [editMode]=\"editMode\"\n    [isAzure]=\"isAzure\"\n    (closeSave)=\"saveS3Credentials($event)\"\n    (closeCancel)=\"cancelClicked()\">\n  </sm-s3-access-dialog>\n</sm-dialog-template>\n","<div class=\"credentials\">\n  <sm-labeled-row label=\"Access key\">{{newCredential.access_key || 'Loading...'}}</sm-labeled-row>\n  <sm-labeled-row label=\"Secret key\">{{newCredential.secret_key || 'Loading...'}}</sm-labeled-row>\n</div>\n<div>\n  <h5 class=\"mt-4\">Usage</h5>\n  <div class=\"instructions\">Copy the below info for input to 'clearml-init' configuration request, or modify your existing clearml.conf</div>\n  <div class=\"mt-3 w-100 code\">\n    <div #content class=\"content\"><span class=\"variable\">api</span> {{ '{' }} <ng-content></ng-content>\n    <span class=\"variable\">web_server</span><span class=\"operation\">:</span> <span class=\"string\">{{WEB_SERVER_URL}}</span>\n    <span class=\"variable\">api_server</span><span class=\"operation\">:</span> <span class=\"string\">{{API_BASE_URL}}</span><ng-container *ngIf=\"fileBaseUrl\">\n    <span class=\"variable\">files_server</span><span class=\"operation\">:</span> <span class=\"string\">{{fileBaseUrl}}</span></ng-container>\n    <span class=\"variable\">credentials</span> {{ '{' }}\n        <span class=\"string\">\"access_key\"</span> <span class=\"operation\">=</span> <span class=\"string\">\"{{newCredential.access_key}}\"</span>\n        <span class=\"string\">\"secret_key\"</span> <span class=\"operation\">=</span> <span class=\"string\">\"{{newCredential.secret_key}}\"</span>\n    }\n}</div>\n    <sm-copy-clipboard\n      [hideBackground]=\"true\"\n      [label]=\"''\"\n      [copyIcon]=\"'far fa-lg fa-copy'\"\n      [clipboardText]=\"textContent$ | async\"></sm-copy-clipboard>\n  </div>\n</div>\n","import {ChangeDetectorRef, Component, Input, ViewChild} from '@angular/core';\nimport {guessAPIServerURL, HTTP} from '../../../../app.constants';\nimport {BehaviorSubject} from 'rxjs';\n\n@Component({\n  selector   : 'sm-admin-dialog-template',\n  templateUrl: './admin-dialog-template.component.html',\n  styleUrls  : ['./admin-dialog-template.component.scss']\n})\nexport class AdminDialogTemplateComponent {\n  private _newCredential: any;\n  public host: string;\n  clipboardText: string;\n  public exampleText: { credentials: { access_key: any | string; secret_key: any } } = {\n    credentials: {\n      access_key: '',\n      secret_key: ''\n    }\n  };\n  API_BASE_URL = HTTP.API_BASE_URL_NO_VERSION;\n  fileBaseUrl = HTTP.FILE_BASE_URL;\n  WEB_SERVER_URL = window.location.origin;\n\n  @ViewChild('content') set contentElement(contetElement) {\n    setTimeout(() => {\n      this.textContent$.next(contetElement.nativeElement.textContent);\n    });\n  }\n  @Input() workspace: {id: string, name: string};\n\n  @Input() set newCredential(newCredential) {\n    this._newCredential = newCredential;\n    this.exampleText = {\n      credentials: {\n        access_key: newCredential.access_key,\n        secret_key: newCredential.secret_key\n      }\n    };\n  }\n  textContent$ = new BehaviorSubject(null);\n  get newCredential() {\n    return this._newCredential;\n  }\n  constructor(private cdr: ChangeDetectorRef) {\n    this.host = `${window.location.protocol}//${window.location.hostname}`;\n    if (this.API_BASE_URL === '/api') {\n      this.API_BASE_URL = guessAPIServerURL();\n    }\n  }\n}\n","import {Component, Inject, OnInit} from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\n@Component({\n  selector: 'sm-create-credential-dialog',\n  templateUrl: './create-credential-dialog.component.html',\n  styleUrls: ['./create-credential-dialog.component.scss']\n})\n  export class CreateCredentialDialogComponent implements OnInit {\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: {credentials: any; workspace?: string}) {}\n\n  ngOnInit() {\n  }\n\n}\n","<sm-dialog-template>\n  <sm-admin-dialog-template [newCredential]=\"data.credentials\"></sm-admin-dialog-template>\n</sm-dialog-template>\n","import {Injectable} from '@angular/core';\nimport {Actions, createEffect, ofType} from '@ngrx/effects';\nimport {ApiAuthService} from '~/business-logic/api-services/auth.service';\nimport * as authActions from '../actions/common-auth.actions';\nimport {requestFailed} from '../actions/http.actions';\nimport {activeLoader, deactivateLoader, setServerError} from '../actions/layout.actions';\nimport {catchError, filter, finalize, map, mergeMap, switchMap, take, tap, throttleTime, withLatestFrom} from 'rxjs/operators';\nimport {AuthGetCredentialsResponse} from '~/business-logic/model/auth/authGetCredentialsResponse';\nimport {select, Store} from '@ngrx/store';\nimport {selectCurrentUser} from '../reducers/users-reducer';\nimport {GetCurrentUserResponseUserObject} from '~/business-logic/model/users/getCurrentUserResponseUserObject';\nimport {AdminService} from '~/shared/services/admin.service';\nimport {selectDontShowAgainForBucketEndpoint, selectS3BucketCredentialsBucketCredentials, selectSignedUrl} from '@common/core/reducers/common-auth-reducer';\nimport {EMPTY, of} from 'rxjs';\nimport {SignResponse} from '@common/settings/admin/base-admin.service';\nimport {S3AccessResolverComponent} from '@common/layout/s3-access-resolver/s3-access-resolver.component';\nimport {MatDialog} from '@angular/material/dialog';\nimport {CreateCredentialDialogComponent} from '~/features/settings/containers/admin/create-credential-dialog/create-credential-dialog.component';\nimport {resetCredential} from '../actions/common-auth.actions';\n\n@Injectable()\nexport class CommonAuthEffects {\n  private signAfterPopup: (ReturnType<typeof authActions.getSignedUrl>)[] = [];\n  private openPopup: { [bucketName: string]: boolean } = {};\n\n  constructor(\n    private actions: Actions,\n    private credentialsApi: ApiAuthService,\n    private store: Store<any>,\n    private adminService: AdminService,\n    private matDialog: MatDialog\n  ) {\n  }\n\n  activeLoader = createEffect(() => this.actions.pipe(\n    ofType(authActions.getAllCredentials, authActions.createCredential),\n    map(action => activeLoader(action.type))\n  ));\n\n  getAllCredentialsEffect = createEffect(() => this.actions.pipe(\n    ofType(authActions.getAllCredentials),\n    switchMap(action => this.credentialsApi.authGetCredentials({}).pipe(\n      withLatestFrom(this.store.select(selectCurrentUser)),\n      mergeMap(([res, user]: [AuthGetCredentialsResponse, GetCurrentUserResponseUserObject]) => [\n        authActions.updateAllCredentials({credentials: res.credentials, extra: res?.['additional_credentials'], workspace: user.company.id}),\n        deactivateLoader(action.type)\n      ]),\n      catchError(error => [requestFailed(error), deactivateLoader(action.type)])\n    ))\n  ));\n\n  revokeCredential = createEffect(() => this.actions.pipe(\n    ofType(authActions.credentialRevoked),\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    mergeMap(action => this.credentialsApi.authRevokeCredentials({access_key: action.accessKey}).pipe(\n      mergeMap(() => [authActions.removeCredential(action), deactivateLoader(action.type)]),\n      catchError(error => [\n        requestFailed(error),\n        deactivateLoader(action.type),\n        setServerError(error, null, `Can't delete this credentials.`)\n      ])\n    ))\n  ));\n\n  createCredential = createEffect(() => this.actions.pipe(\n    ofType(authActions.createCredential),\n    mergeMap(action => this.credentialsApi.authCreateCredentials({}).pipe(\n      tap( ({credentials}) => action.openCredentialsPopup && this.openCredentialsPopup(credentials, action)),\n      mergeMap(({credentials}) => [\n        authActions.addCredential({newCredential: credentials, workspaceId: action.workspace?.id}),\n        deactivateLoader(action.type)\n      ]),\n      catchError(error => [\n        requestFailed(error),\n        setServerError(error, null, 'Unable to create credentials'),\n        authActions.addCredential({newCredential: {}, workspaceId: action.workspace?.id}),\n        deactivateLoader(action.type)])\n    ))\n  ));\n\n  signUrl = createEffect(() => this.actions.pipe(\n    ofType(authActions.getSignedUrl),\n    filter(action => !!action.url),\n    mergeMap(action =>\n      of(action).pipe(\n        withLatestFrom(\n          this.store.select(state => selectSignedUrl(action.url)(state))\n        ),\n        switchMap(([, signedUrl]) =>\n          (!signedUrl?.expires || signedUrl.expires < (new Date()).getTime()) ?\n            this.adminService.signUrlIfNeeded(action.url, action.config) : of({type: 'none'})\n        ),\n        filter(res => !!res),\n        switchMap((res: SignResponse) => {\n            switch (res.type) {\n              case 'popup':\n                this.signAfterPopup.push(action);\n                return [authActions.showS3PopUp({credentials: res.bucket, isAzure: res.azure, credentialsError: null})];\n              case 'sign':\n                return [authActions.setSignedUrl({url: action.url, signed: res.signed, expires: res.expires})];\n              default:\n                return EMPTY;\n            }\n          }\n        ),\n      ),\n    )\n  ));\n\n  s3popup = createEffect(() => this.actions.pipe(\n    ofType(authActions.showS3PopUp),\n    withLatestFrom(\n      this.store.select(selectDontShowAgainForBucketEndpoint)\n    ),\n    throttleTime(500),\n    filter(([action, dontShowAgain]) =>\n      action?.credentials?.Bucket + action?.credentials?.Endpoint !== dontShowAgain &&\n      !this.openPopup[action?.credentials?.Bucket]\n    ),\n    switchMap(([action]) => {\n      if (action?.credentials?.Bucket) {\n        this.openPopup[action.credentials.Bucket] = true;\n      }\n      return this.matDialog.open(S3AccessResolverComponent, {data: action}).afterClosed().pipe(\n        withLatestFrom(\n          this.store.pipe(select(selectS3BucketCredentialsBucketCredentials)),\n        ),\n        switchMap(([data, bucketCredentials]) => {\n          window.setTimeout(() => this.signAfterPopup = []);\n          if (data) {\n            if (!data.success) {\n              const emptyCredentials = bucketCredentials.find((cred => cred?.Bucket === data.bucket)) === undefined;\n              const dontAskAgainForBucketName = emptyCredentials ? '' : data.bucket + data.endpoint;\n              return [authActions.cancelS3Credentials({dontAskAgainForBucketName})];\n            }\n            return [authActions.saveS3Credentials({newCredential: data}), ...this.signAfterPopup];\n          }\n          return [...this.signAfterPopup];\n        }),\n        finalize(() => action?.credentials?.Bucket && delete this.openPopup[action.credentials.Bucket])\n      );\n    })\n  ));\n\n  openCredentialsPopup(credentials, action): void {\n    this.matDialog.open(CreateCredentialDialogComponent,\n      {data: {credentials, ...(action.workspace && {workspace: action.workspace.name})}}\n    ).afterClosed().pipe(take(1)).subscribe(() => this.store.dispatch(resetCredential()));\n  }\n\n}\n","/**\n * Notifier options\n */\nexport interface NotifierOptions {\n  animations?: {\n    enabled?: boolean;\n    hide?: {\n      easing?: string;\n      offset?: number | false;\n      preset?: string;\n      speed?: number;\n    };\n    overlap?: number | false;\n    shift?: {\n      easing?: string;\n      speed?: number;\n    };\n    show?: {\n      easing?: string;\n      preset?: string;\n      speed?: number;\n    };\n  };\n  behaviour?: {\n    autoHide?: number | false | { [key: string]: number | false };\n    onClick?: 'hide' | false;\n    onMouseover?: 'pauseAutoHide' | 'resetAutoHide' | false;\n    showDismissButton?: boolean;\n    stacking?: number | false;\n  };\n  position?: {\n    horizontal?: {\n      distance?: number;\n      position?: 'left' | 'middle' | 'right';\n    };\n    vertical?: {\n      distance?: number;\n      gap?: number;\n      position?: 'top' | 'bottom';\n    };\n  };\n  theme?: string;\n}\n\n/**\n * Notifier configuration\n *\n * The notifier configuration defines what notifications look like, how they behave, and how they get animated. It is a global\n * configuration, which means that it only can be set once (at the beginning), and cannot be changed afterwards. Aligning to the world of\n * Angular, this configuration can be provided in the root app module - alternatively, a meaningful default configuration will be used.\n */\nexport class NotifierConfig implements NotifierOptions {\n\n  /**\n   * Customize animations\n   */\n  public animations: {\n    enabled: boolean;\n    hide: {\n      easing: string;\n      offset: number | false;\n      preset: string;\n      speed: number;\n    };\n    overlap: number | false;\n    shift: {\n      easing: string;\n      speed: number;\n    };\n    show: {\n      easing: string;\n      preset: string;\n      speed: number;\n    };\n  };\n\n  /**\n   * Customize behaviour\n   */\n  public behaviour: {\n    autoHide: number | false | { [key: string]: number | false };\n    onClick: 'hide' | false;\n    onMouseover: 'pauseAutoHide' | 'resetAutoHide' | false;\n    showDismissButton: boolean;\n    stacking: number | false;\n  };\n\n  /**\n   * Customize positioning\n   */\n  public position: {\n    horizontal: {\n      distance: number;\n      position: 'left' | 'middle' | 'right';\n    };\n    vertical: {\n      distance: number;\n      gap: number;\n      position: 'top' | 'bottom';\n    };\n  };\n\n  /**\n   * Customize theming\n   */\n  public theme: string;\n\n  /**\n   * Constructor\n   *\n   * @param [customOptions={}] Custom notifier options, optional\n   */\n  public constructor(customOptions: NotifierOptions = {}) {\n\n    // Set default values\n    this.animations = {\n      enabled: true,\n      hide: {\n        easing: 'ease',\n        offset: 50,\n        preset: 'fade',\n        speed: 300\n      },\n      overlap: 150,\n      shift: {\n        easing: 'ease',\n        speed: 300\n      },\n      show: {\n        easing: 'ease',\n        preset: 'slide',\n        speed: 300\n      }\n    };\n    this.behaviour = {\n      autoHide: 7000,\n      onClick: false,\n      onMouseover: 'pauseAutoHide',\n      showDismissButton: true,\n      stacking: 4\n    };\n    this.position = {\n      horizontal: {\n        distance: 12,\n        position: 'left'\n      },\n      vertical: {\n        distance: 12,\n        gap: 10,\n        position: 'bottom'\n      }\n    };\n    this.theme = 'material';\n\n    // The following merges the custom options into the notifier config, respecting the already set default values\n    // This linear, more explicit and code-sizy workflow is preferred here over a recursive one (because we know the object structure)\n    // Technical sidenote: Objects are merged, other types of values simply overwritten / copied\n    if (customOptions.theme !== undefined) {\n      this.theme = customOptions.theme;\n    }\n    if (customOptions.animations !== undefined) {\n      if (customOptions.animations.enabled !== undefined) {\n        this.animations.enabled = customOptions.animations.enabled;\n      }\n      if (customOptions.animations.overlap !== undefined) {\n        this.animations.overlap = customOptions.animations.overlap;\n      }\n      if (customOptions.animations.hide !== undefined) {\n        Object.assign(this.animations.hide, customOptions.animations.hide);\n      }\n      if (customOptions.animations.shift !== undefined) {\n        Object.assign(this.animations.shift, customOptions.animations.shift);\n      }\n      if (customOptions.animations.show !== undefined) {\n        Object.assign(this.animations.show, customOptions.animations.show);\n      }\n    }\n    if (customOptions.behaviour !== undefined) {\n      Object.assign(this.behaviour, customOptions.behaviour);\n    }\n    if (customOptions.position !== undefined) {\n      if (customOptions.position.horizontal !== undefined) {\n        Object.assign(this.position.horizontal, customOptions.position.horizontal);\n      }\n      if (customOptions.position.vertical !== undefined) {\n        Object.assign(this.position.vertical, customOptions.position.vertical);\n      }\n    }\n\n  }\n\n}\n","import {CommonModule} from '@angular/common';\nimport {InjectionToken, ModuleWithProviders, NgModule} from '@angular/core';\n\nimport {NotifierContainerComponent} from './components/notifier-container.component';\nimport {NotifierNotificationComponent} from './components/notifier-notification.component';\nimport {NotifierConfig, NotifierOptions} from './models/notifier-config.model';\nimport {NotifierAnimationService} from './services/notifier-animation.service';\nimport {NotifierQueueService} from './services/notifier-queue.service';\nimport {NotifierConfigToken, NotifierService} from './services/notifier.service';\n\n\n/**\n * Injection Token for notifier options\n */\nexport const NotifierOptionsToken: InjectionToken<NotifierOptions>\n  = new InjectionToken<NotifierOptions>('[angular-notifier] Notifier Options');\n\n\n\n/**\n * Factory for a notifier configuration with custom options\n *\n * Sidenote:\n * Required as Angular AoT compilation cannot handle dynamic functions; see <https://github.com/angular/angular/issues/11262>.\n *\n * @param   options - Custom notifier options\n * @returns - Notifier configuration as result\n */\nexport function notifierCustomConfigFactory(options: NotifierOptions): NotifierConfig {\n  return new NotifierConfig(options);\n}\n\n/**\n * Factory for a notifier configuration with default options\n *\n * Sidenote:\n * Required as Angular AoT compilation cannot handle dynamic functions; see <https://github.com/angular/angular/issues/11262>.\n *\n * @returns - Notifier configuration as result\n */\nexport function notifierDefaultConfigFactory(): NotifierConfig {\n  return new NotifierConfig({});\n}\n\n/**\n * Notifier module\n */\n@NgModule({\n  declarations: [\n    NotifierContainerComponent,\n    NotifierNotificationComponent\n  ],\n  exports: [\n    NotifierContainerComponent\n  ],\n  imports: [\n    CommonModule\n  ],\n  providers: [\n    NotifierAnimationService,\n    NotifierService,\n    NotifierQueueService,\n\n    // Provide the default notifier configuration if just the module is imported\n    {\n      provide: NotifierConfigToken,\n      useFactory: notifierDefaultConfigFactory\n    }\n\n  ]\n})\nexport class NotifierModule {\n\n  /**\n   * Setup the notifier module with custom providers, in this case with a custom configuration based on the givne options\n   *\n   * @param   [options={}] - Custom notifier options\n   * @returns - Notifier module with custom providers\n   */\n  public static withConfig(options: NotifierOptions = {}): ModuleWithProviders<NotifierModule> {\n    return {\n      ngModule: NotifierModule,\n      providers: [\n\n        // Provide the options itself upfront (as we need to inject them as dependencies -- see below)\n        {\n          provide: NotifierOptionsToken,\n          useValue: options\n        },\n\n        // Provide a custom notifier configuration, based on the given notifier options\n        {\n          deps: [\n            NotifierOptionsToken\n          ],\n          provide: NotifierConfigToken,\n          useFactory: notifierCustomConfigFactory\n        }\n\n      ]\n    };\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {Actions, createEffect, Effect, ofType} from '@ngrx/effects';\nimport {EmptyAction, MESSAGES_SEVERITY} from '../../../app.constants';\nimport * as layoutActions from '../actions/layout.actions';\nimport {filter, map, switchMap, take, mergeMap, bufferTime} from 'rxjs/operators';\nimport {get} from 'lodash/fp';\nimport {ApiTasksService} from '../../../business-logic/api-services/tasks.service';\nimport {EMPTY, Observable, of} from 'rxjs';\nimport {ApiModelsService} from '../../../business-logic/api-services/models.service';\nimport {MatDialogRef, MatDialog} from '@angular/material/dialog';\nimport {AlertDialogComponent} from '../../shared/ui-components/overlay/alert-dialog/alert-dialog.component';\nimport {NotifierService} from '../../angular-notifier';\nimport {requestFailed} from '@common/core/actions/http.actions';\nimport {addMessage} from '../actions/layout.actions';\n\nconst ERROR_AGGREGATION = 600000;\n\n@Injectable()\nexport class LayoutEffects {\n\n  private alertDialogRef: MatDialogRef<AlertDialogComponent, any>;\n  private errors = {};\n\n  constructor(\n    private actions: Actions,\n    private taskService: ApiTasksService,\n    private modelService: ApiModelsService,\n    private notifierService: NotifierService,\n    private dialog: MatDialog\n  ) {\n  }\n\n  @Effect({dispatch: false})\n  serverErrorMoreInfo = this.actions.pipe(ofType(layoutActions.setServerError),\n    filter(action => !!action.serverError),\n    map(action => this.parseError(get('error.meta.result_msg', action.serverError))),\n    filter(([ids]) => !!ids),\n    switchMap(([ids, entity]) => this.getAllEntity(ids, entity).pipe(\n      filter(res => !!res),\n      map(res => {\n        const moreInfo = {[entity]: res[entity]};\n        if (this.alertDialogRef) {\n          this.alertDialogRef.componentInstance.moreInfo = moreInfo;\n        }\n      })\n    ))\n  );\n\n  popupError = createEffect(() => this.actions.pipe(\n    ofType(layoutActions.setServerError),\n    filter(action => action.serverError?.status !== 401 && action.serverError?.status !== 403 ),\n    map((action) => {\n      if (action.serverError?.status === 502) {\n        console.log('Gateway Error', action.serverError);\n        return;\n      }\n      const customMessage: string = action.customMessage;\n      if (action.aggregateSimilar) {\n        const lastTS = this.errors[customMessage];\n        const now = (new Date()).getTime();\n        if (lastTS && lastTS + ERROR_AGGREGATION > now) {\n          return;\n        }\n        this.errors[customMessage] = now;\n      }\n      let resultMessage: string;\n      const subcode = get('error.meta.result_subcode', action.serverError);\n      if (subcode) {\n        resultMessage = `Error ${subcode} : ${get('error.meta.result_msg', action.serverError)}`;\n      }\n      this.alertDialogRef = this.dialog.open(AlertDialogComponent, {\n        data: {alertMessage: 'Error', alertSubMessage: customMessage, resultMessage}\n      });\n\n      this.alertDialogRef.beforeClosed().pipe(take(1)).subscribe(() => this.dialog.closeAll());\n      this.alertDialogRef.afterClosed().pipe(take(1)).subscribe(() => this.alertDialogRef = null);\n    })\n  ), {dispatch: false});\n\n  @Effect()\n  addMessage: Observable<any> = this.actions.pipe(\n    ofType(layoutActions.addMessage),\n    bufferTime(500),\n    filter(messages => messages.length > 0),\n    mergeMap((messages) => {\n      const message403 = messages.find(message => message.suppressNextMessages);\n      return message403 ? [message403] : messages;\n    }),\n    mergeMap(payload => payload ? this.notifierService.show({type: payload.severity, message: payload.msg, actions: payload.userActions}) : EMPTY),\n    mergeMap(actions => actions.length > 0 ? actions : [new EmptyAction()])\n  );\n\n  requestFailed: Observable<any> = createEffect( () => this.actions.pipe(\n    ofType(requestFailed),\n    filter(action => action.err?.status === 403),\n    map(action => {\n      const errorData = action.err?.error?.meta?.error_data?.access ===  'read_write' ? 'modifying' : 'accessing';\n      return addMessage(MESSAGES_SEVERITY.ERROR,\n        `Insufficient privileges for ${errorData} this ${action.err?.error?.meta?.error_data?.type?.replace('datasetversion', 'dataset version') || 'resource'}.\n    Contact your service admin for information.`, [], true);\n    })\n  ));\n\n  private parseError(errorMessage) {\n    const regexMatch = errorMessage && errorMessage.match(/(\\w*)=\\((.*)\\)/);\n    if (regexMatch) {\n      const entity = regexMatch[1];\n      const ids = regexMatch[2] && regexMatch[2].split(', ');\n      return [ids, entity];\n    } else {\n      return [false, false];\n    }\n  }\n\n  private getAllEntity(ids: string[], entity: string): Observable<any> {\n    switch (entity) {\n      case 'tasks':\n        return this.taskService.tasksGetAllEx({\n          id: ids,\n          only_fields: ['name', 'project', 'system_tags']\n        });\n      case 'models':\n        return this.modelService.modelsGetAllEx({\n          id: ids,\n          only_fields: ['name', 'project']\n        });\n      default:\n        return of(null);\n    }\n  }\n}\n\n\n","<sm-dialog-template iconClass=\"fas fa-tags rotate-right fa-6x\" header=\"TAG COLORS\">\n  <form class=\"filter-form\">\n    <mat-form-field appearance=\"fill\"\n                    hideRequiredMarker=\"true\"\n                    floatLabel=\"never\">\n      <input #nameInput smClickStopPropagation  matInput placeholder=\"Search\" name=\"filter\" [(ngModel)]=\"filterText\" autocomplete=\"off\">\n      <i matSuffix [class]=\"'fa mr2 ' + (filterText? 'fa-times pointer':'fa-search')\" (click)=\"filterText && clearSearch()\"></i>\n    </mat-form-field>\n  </form>\n\n  <mat-menu #colorMenu=\"matMenu\">\n    <ng-template matMenuContent let-tag=\"tag\" let-colors=\"colors\">\n      <button mat-menu-item (click)=\"openColorPicker(tag, colors.background)\">Background</button>\n      <button mat-menu-item [matMenuTriggerFor]=\"subMenu\" [matMenuTriggerData]=\"{tag: tag, color: colors.foreground}\">Foreground</button>\n    </ng-template>\n  </mat-menu>\n\n  <mat-menu #subMenu=\"matMenu\">\n    <ng-template matMenuContent let-tag=\"tag\" let-color=\"color\">\n      <button mat-menu-item (click)=\"setForeground(tag, 'black')\">Black<i *ngIf=\"color==='black'\" class=\"fas fa-check fa-pull-right\"></i></button>\n      <button mat-menu-item (click)=\"setForeground(tag, 'white')\">White<i *ngIf=\"color==='white'\" class=\"fas fa-check fa-pull-right\"></i></button>\n    </ng-template>\n  </mat-menu>\n\n  <div class=\"color-picker-wrapper light-theme\">\n    <div\n      cpPosition=\"right\"\n      [(colorPicker)]=\"defaultColor\"\n      [(cpToggle)]=\"toggle\"\n      [cpOKButton]=\"true\"\n      [cpCancelButton]=\"true\"\n      [cpSaveClickOutside]=\"false\"\n      cpWidth=\"340\"\n      [cpOKButtonClass]=\"'btn btn-neon'\"\n      [cpCancelButtonClass]=\"'btn btn-outline-neon'\"\n      [cpAlphaChannel]=\"'disabled'\"\n      [cpDisableInput]=\"true\"\n      [cpPresetColors]=\"presetColors\"\n      (colorPickerSelect)=\"setBackground(currTag, $event)\">\n    </div>\n  </div>\n\n  <cdk-virtual-scroll-viewport itemSize=\"32\" class=\"tags-list\">\n    <div *cdkVirtualFor=\"let tag of (tags$ | async) | filter:filterText:'caption'\" class=\"tag-line\">\n      <div class=\"caption\">{{tag.caption}}</div>\n      <div\n        *ngIf=\"(tag.colorObservable | async) as colors\"\n        class=\"tag pointer\"\n        [style.backgroundColor]=\"$any(colors)?.background\"\n        [style.color]=\"$any(colors)?.foreground\"\n        mat-icon-button\n        [matMenuTriggerFor]=\"colorMenu\"\n        [matMenuTriggerData]=\"{tag: tag.caption, colors: colors}\"\n      >a</div>\n    </div>\n  </cdk-virtual-scroll-viewport>\n\n\n  <div class=\"btn-row\">\n    <button class=\"btn btn-neon center\" (click)=\"close()\">CLOSE</button>\n  </div>\n</sm-dialog-template>\n","import {Component, ElementRef, OnDestroy, ViewChild} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {Store} from '@ngrx/store';\nimport {selectProjectTags} from '../../../../core/reducers/projects.reducer';\nimport {map} from 'rxjs/operators';\nimport {TagColorService} from '../../../services/tag-color.service';\nimport {Tag} from '../tag-list/tag-list.component';\nimport {MatDialogRef} from '@angular/material/dialog';\nimport {DeactivateEdit} from '../../../../experiments/actions/common-experiments-info.actions';\nimport {CancelModelEdit} from '../../../../models/actions/models-info.actions';\n\n@Component({\n  selector: 'sm-tag-color-menu',\n  templateUrl: './tag-color-menu.component.html',\n  styleUrls: ['./tag-color-menu.component.scss']\n})\nexport class TagColorMenuComponent implements OnDestroy {\n  filterText: string;\n  public tags$: Observable<Tag[]>;\n  defaultColor: string;\n  toggle: boolean;\n  presetColors = TagColorService.predefined.map(color => color.background) as string[];\n  currTag: string;\n\n  @ViewChild('nameInput') nameInput: ElementRef<HTMLInputElement>;\n\n  constructor(\n    private store: Store, private colorService: TagColorService,\n    private matDialogRef: MatDialogRef<TagColorMenuComponent>\n  ) {\n    this.tags$ = this.store.select(selectProjectTags)\n      .pipe(\n        map((tags: string[]) => tags.map(tag => ({caption: tag, colorObservable: this.colorService.getColor(tag)} as Tag))));\n  }\n\n  close() {\n    this.matDialogRef.close();\n  }\n\n  setForeground(tag: string, color: string) {\n    this.colorService.setColor(tag, {foreground: color});\n  }\n\n  setBackground(tag: string, color: string) {\n    this.colorService.setColor(tag, {background: color});\n  }\n\n  openColorPicker(tag: string, color: string) {\n    this.currTag = tag;\n    this.defaultColor = color;\n    this.toggle = true;\n  }\n\n  clearSearch() {\n    this.filterText = '';\n  }\n\n  ngOnDestroy(): void {\n    this.store.dispatch(new DeactivateEdit());\n    this.store.dispatch(new CancelModelEdit());\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {Action, Store} from '@ngrx/store';\nimport {Actions, createEffect, ofType} from '@ngrx/effects';\nimport {ApiProjectsService} from '~/business-logic/api-services/projects.service';\nimport * as actions from '../actions/projects.actions';\nimport {\n  fetchGraphData, getAllSystemProjects,\n  getCompanyTags,\n  getTags,\n  openMoreInfoPopup,\n  openTagColorsMenu,\n  resetProjects, resetProjectSelection,\n  setCompanyTags,\n  setGraphData, setLastUpdate,\n  setTags\n} from '../actions/projects.actions';\n\nimport {catchError, filter, map, mergeMap, switchMap, withLatestFrom} from 'rxjs/operators';\nimport {requestFailed} from '../actions/http.actions';\nimport {activeLoader, deactivateLoader, setServerError} from '../actions/layout.actions';\nimport {setSelectedModels} from '../../models/actions/models-view.actions';\nimport {TagColorMenuComponent} from '../../shared/ui-components/tags/tag-color-menu/tag-color-menu.component';\nimport {MatDialog} from '@angular/material/dialog';\nimport {ApiOrganizationService} from '~/business-logic/api-services/organization.service';\nimport {OrganizationGetTagsResponse} from '~/business-logic/model/organization/organizationGetTagsResponse';\nimport {selectRouterParams} from '../reducers/router-reducer';\nimport {forkJoin} from 'rxjs';\nimport {ProjectsGetTaskTagsResponse} from '~/business-logic/model/projects/projectsGetTaskTagsResponse';\nimport {ProjectsGetModelTagsResponse} from '~/business-logic/model/projects/projectsGetModelTagsResponse';\nimport {selectLastUpdate, selectSelectedMetricVariantForCurrProject, selectSelectedProjectId} from '../reducers/projects.reducer';\nimport {OperationErrorDialogComponent} from '@common/shared/ui-components/overlay/operation-error-dialog/operation-error-dialog.component';\nimport {ApiTasksService} from '~/business-logic/api-services/tasks.service';\nimport {createMetricColumn} from '@common/shared/utils/tableParamEncode';\nimport {get} from 'lodash/fp';\nimport {ITask} from '~/business-logic/model/al-task';\nimport {TasksGetAllExRequest} from '~/business-logic/model/tasks/tasksGetAllExRequest';\nimport {setSelectedExperiments} from '../../experiments/actions/common-experiments-view.actions';\nimport {selectShowHidden} from '~/features/projects/projects.reducer';\nimport {setActiveWorkspace} from '@common/core/actions/users.actions';\nimport {ProjectsGetAllExResponse} from '~/business-logic/model/projects/projectsGetAllExResponse';\nimport {Project} from '~/business-logic/model/projects/project';\n\nexport const ALL_PROJECTS_OBJECT = {id: '*', name: 'All Experiments'};\n\n@Injectable()\nexport class ProjectsEffects {\n  private pageSize: number = 500;\n  private lastUpdateSoFar: string;\n  private scrollId: string = null;\n\n  constructor(\n    private actions$: Actions, private projectsApi: ApiProjectsService, private orgApi: ApiOrganizationService,\n    private store: Store<any>, private dialog: MatDialog, private tasksApi: ApiTasksService\n  ) {\n  }\n\n  activeLoader = createEffect(() => this.actions$.pipe(\n    ofType(actions.setSelectedProjectId),\n    filter((action) => !!action.projectId),\n    map(action => activeLoader(action.type))\n  ));\n\n  getProjects$ = createEffect(() => this.actions$.pipe(\n    ofType(actions.getAllSystemProjects),\n    withLatestFrom(this.store.select(selectShowHidden), this.store.select(selectLastUpdate)),\n    switchMap(([, showHidden, lastUpdate]) => this.projectsApi.projectsGetAllEx({\n        /* eslint-disable @typescript-eslint/naming-convention */\n        size: this.pageSize,\n        scroll_id: this.scrollId,\n        order_by: ['last_update'],\n        last_update: lastUpdate ? [lastUpdate, null] : undefined,\n        only_fields: ['name', 'company', 'parent', 'last_update'], search_hidden: showHidden\n        /* eslint-enable @typescript-eslint/naming-convention */\n      } as any)\n        .pipe(mergeMap((res: ProjectsGetAllExResponse) => {\n            const resultsActions: Action[] = [actions.setAllProjects({projects: res.projects as unknown as Project[], updating: !!lastUpdate})];\n            if (res.projects.length >= this.pageSize) {\n              this.scrollId = res.scroll_id;\n              this.lastUpdateSoFar = res.projects[res.projects.length - 1].last_update;\n              resultsActions.push(getAllSystemProjects());\n            } else {\n              resultsActions.push(setLastUpdate({lastUpdate: res.projects[res.projects.length - 1]?.last_update || this.lastUpdateSoFar || lastUpdate}));\n              this.scrollId = null;\n              this.lastUpdateSoFar = null;\n            }\n            return resultsActions;\n          })\n        )\n    )\n  ));\n\n  resetProjects$ = createEffect(() => this.actions$.pipe(\n    ofType(actions.resetSelectedProject),\n    mergeMap(() => [resetProjectSelection()])\n  ));\n\n  resetProjectSelections$ = createEffect(() => this.actions$.pipe(\n    ofType(resetProjectSelection),\n    mergeMap(() => [setSelectedExperiments({experiments: []}), setSelectedModels({models: []})])\n  ));\n\n  updateProject$ = createEffect(() => this.actions$.pipe(\n    ofType(actions.updateProject),\n    switchMap((action) =>\n      this.projectsApi.projectsUpdate({project: action.id, ...action.changes})\n        .pipe(\n          mergeMap(() => [\n            actions.updateProjectCompleted()\n          ]),\n          catchError(err => [\n            requestFailed(err),\n            setServerError(err, null, 'Update project failed'),\n            actions.setSelectedProjectId({projectId: action.id})\n          ])\n        )\n    )\n  ));\n\n  openTagColor = createEffect(() => this.actions$.pipe(\n    ofType(openTagColorsMenu),\n    map(() => {\n      this.dialog.open(TagColorMenuComponent);\n    })\n  ), {dispatch: false});\n\n  getAllTags = createEffect(() => this.actions$.pipe(\n    ofType(getCompanyTags),\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    switchMap(() => this.orgApi.organizationGetTags({include_system: true})\n      .pipe(\n        map((res: OrganizationGetTagsResponse) => setCompanyTags({tags: res.tags, systemTags: res.system_tags})),\n        catchError(error => [requestFailed(error)])\n      )\n    )\n  ));\n\n  getTagsEffect = createEffect(() => this.actions$.pipe(\n    ofType(getTags),\n    withLatestFrom(this.store.select(selectRouterParams).pipe(\n      map(params => (params === null || params?.projectId === '*') ? [] : [params.projectId]))),\n    switchMap(([action, projects]) => forkJoin([\n      this.projectsApi.projectsGetTaskTags({projects}),\n      this.projectsApi.projectsGetModelTags({projects})]\n    ).pipe(\n      map((res: [ProjectsGetTaskTagsResponse, ProjectsGetModelTagsResponse]) =>\n        Array.from(new Set(res[0].tags.concat(res[1].tags))).sort()),\n      mergeMap((tags: string[]) => [\n        setTags({tags}),\n        deactivateLoader(action.type)\n      ]),\n      catchError(error => [\n        requestFailed(error),\n        deactivateLoader(action.type),\n        setServerError(error, null, 'Fetch tags failed')]\n      )\n    ))\n  ));\n\n  openMoreInfoPopupEffect = createEffect(() => this.actions$.pipe(\n    ofType(openMoreInfoPopup),\n    switchMap(action => this.dialog.open(OperationErrorDialogComponent, {\n        data: {\n          title: `${action.operationName} ${action.entityType}`,\n          action,\n          iconClass: `d-block al-ico-${action.operationName} al-icon w-auto`,\n        }\n      }).afterClosed()\n    )\n  ), {dispatch: false});\n\n  fetchProjectStats = createEffect(() => this.actions$.pipe(\n    ofType(fetchGraphData),\n    withLatestFrom(\n      this.store.select(selectSelectedProjectId),\n      this.store.select(selectSelectedMetricVariantForCurrProject)\n    ),\n    filter(([, , variant]) => !!variant),\n    switchMap(([, projectId, variant]) => {\n      const col = createMetricColumn(variant, projectId);\n      return this.tasksApi.tasksGetAllEx({\n        /* eslint-disable @typescript-eslint/naming-convention */\n        project: [projectId],\n        only_fields: ['started', 'last_iteration', 'user.name', 'type', 'name', 'status', 'active_duration', col.id],\n        [col.id]: [0, null],\n        started: ['2000-01-01T00:00:00', null],\n        status: ['completed', 'published', 'failed', 'stopped', 'closed'],\n        order_by: ['-started'],\n        type: ['__$not', 'annotation_manual', '__$not', 'annotation', '__$not', 'dataset_import'],\n        system_tags: ['-archived'],\n        scroll_id: null,\n        size: 1000\n        /* eslint-enable @typescript-eslint/naming-convention */\n      } as unknown as TasksGetAllExRequest).pipe(\n        map((res) =>\n          setGraphData({\n            stats: res.tasks.map((task: ITask) => {\n              const started = new Date(task.started).getTime();\n              const end = started + (task.active_duration ?? 0) * 1000;\n              return {\n                id: task.id,\n                y: get(col.id, task),\n                x: end,\n                name: task.name,\n                status: task.status,\n                type: task.type,\n                user: task.user.name,\n              };\n            })\n          }))\n      );\n    })\n  ));\n\n  resetRootProjects = createEffect(() => this.actions$.pipe(\n    ofType(setActiveWorkspace),\n    mergeMap(() => [\n      resetProjects(),\n      getAllSystemProjects()\n    ])\n  ));\n}\n\n\n","import {Injectable} from '@angular/core';\nimport {ActivatedRoute, Params, Router} from '@angular/router';\nimport {Actions, createEffect, ofType} from '@ngrx/effects';\nimport {uniq} from 'lodash/fp';\nimport {map, tap} from 'rxjs/operators';\nimport {NAVIGATION_ACTIONS} from '~/app.constants';\nimport {encodeFilters, encodeOrder} from '../../shared/utils/tableParamEncode';\nimport {NavigateTo, NavigationEnd, SetRouterSegments, setURLParams} from '../actions/router.actions';\n\n\n@Injectable()\nexport class RouterEffects {\n\n  constructor(\n    private actions$: Actions, private router: Router,\n    private route: ActivatedRoute\n  ) {\n  }\n\n  // TODO: (itay) remove after delete old pages.\n  activeLoader = createEffect(() => this.actions$.pipe(\n    ofType<NavigateTo>(NAVIGATION_ACTIONS.NAVIGATE_TO),\n    tap(action => {\n      (!action.payload.params || !action.payload.url) ?\n        this.router.navigateByUrl(action.payload.url, /* Removed unsupported properties by Angular migration: queryParams. */ {}) :\n        this.router.navigate([action.payload.url, action.payload.params], {queryParams: {unGuard: action.payload.unGuard}});\n    })\n  ), {dispatch: false});\n\n  routerNavigationEnd = createEffect(() => this.actions$.pipe(\n    ofType<NavigationEnd>(NAVIGATION_ACTIONS.NAVIGATION_END),\n    map(() => new SetRouterSegments({url: this.getRouterUrl(), params: this.getRouterParams(), config: this.getRouterConfig(), queryParams: this.route.snapshot.queryParams}))\n  ));\n\n  setTableParams = createEffect(() => this.actions$.pipe(\n    ofType(setURLParams),\n    map((action) => {\n      const firstUpdate = !this.route.snapshot.queryParams.order;\n      this.router.navigate(\n        [],\n        {\n          relativeTo: this.route,\n          replaceUrl: firstUpdate,\n          queryParamsHandling: action.update ? 'merge' : '',\n          queryParams: {\n            ...(action.columns && {columns: uniq(action.columns)}),\n            ...(action.orders && {order: encodeOrder(action.orders)}),\n            ...(action.filters && {filter: encodeFilters(action.filters)}),\n            ...(action.isArchived && {archive:  true}),\n            ...(action.isDeep && {deep:  true})\n          }\n        });\n    })\n  ), {dispatch: false});\n\n  getRouterParams(): Params {\n    let route = this.route.snapshot.firstChild;\n    let params: Params = {};\n\n    while (route) {\n      params = {...params, ...route.params};\n      route = route.firstChild;\n    }\n    return params;\n  }\n\n  getRouterConfig(): string[] {\n    let route = this.route.snapshot.firstChild;\n    let config = [];\n\n    while (route) {\n      const path = route.routeConfig.path.split('/').filter((item) => !!item);\n      config = config.concat(path);\n      route = route.firstChild;\n    }\n    return config;\n  }\n\n  getRouterUrl(): string {\n    return this.router.url;\n  }\n}\n\n","import {Injectable} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {Actions, createEffect, ofType} from '@ngrx/effects';\nimport {Store} from '@ngrx/store';\nimport {MESSAGES_SEVERITY} from '~/app.constants';\nimport {ApiUsersService} from '~/business-logic/api-services/users.service';\nimport {\n  fetchCurrentUser,\n  getApiVersion,\n  logout,\n  logoutSuccess,\n  setApiVersion, setCurrentUserName,\n  setUserWorkspacesFromUser, updateCurrentUser\n} from '../actions/users.actions';\nimport {catchError, map, mergeMap, switchMap} from 'rxjs/operators';\nimport {requestFailed} from '../actions/http.actions';\nimport {addMessage} from '../actions/layout.actions';\nimport {ApiLoginService} from '~/business-logic/api-services/login.service';\nimport {LoginLogoutResponse} from '~/business-logic/model/login/loginLogoutResponse';\nimport {ErrorService} from '../../shared/services/error.service';\nimport {ApiServerService} from '~/business-logic/api-services/server.service';\nimport {ServerInfoResponse} from '~/business-logic/model/server/serverInfoResponse';\nimport {setCurrentUser} from '~/core/actions/users.action';\nimport {UsersUpdateResponse} from '~/business-logic/model/users/usersUpdateResponse';\n\n\n@Injectable()\nexport class CommonUserEffects {\n\n  constructor(\n    private actions: Actions, private userService: ApiUsersService,\n    private router: Router, private loginApi: ApiLoginService,\n    private serverService: ApiServerService,\n    private store: Store<any>, private errorService: ErrorService\n  ) {\n  }\n\n  fetchUser$ = createEffect(() => this.actions.pipe(\n    ofType(fetchCurrentUser),\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    mergeMap(() => this.userService.usersGetCurrentUser({get_supported_features: true})\n      .pipe(\n        switchMap((res) => [setCurrentUser(res)]),\n        catchError(error => [requestFailed(error)])\n      )\n    )\n  ));\n\n  logoutFlow = createEffect(() => this.actions.pipe(\n    ofType(logout),\n    mergeMap(action => this.loginApi.loginLogout({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      redirect_url: window.location.origin + '/login',\n      ...(action.provider && {provider: action.provider})\n    }).pipe(\n      map((res: LoginLogoutResponse) => {\n        if (res.redirect_url) {\n          window.location.href = res.redirect_url;\n        } else {\n          this.router.navigateByUrl('login');\n        }\n        return logoutSuccess();\n      }),\n      catchError(err => [addMessage(MESSAGES_SEVERITY.ERROR, `Logout Failed\n${this.errorService.getErrorMsg(err?.error)}`)])\n    )),\n  ));\n\n  getApiVersion = createEffect(() => this.actions.pipe(\n    ofType(getApiVersion),\n    mergeMap(() => this.serverService.serverInfo({})),\n    map((res: ServerInfoResponse) =>\n      setApiVersion({serverVersions: {server: `${res.version}-${res.build}`, api: res.api_version}})\n    ),\n    catchError(() => [setUserWorkspacesFromUser()])\n  ));\n\n  updateCurrentUser = createEffect(() => this.actions.pipe(\n    ofType(updateCurrentUser),\n    mergeMap(({user}) => this.userService.usersUpdate({...user}).pipe(\n      mergeMap((res: UsersUpdateResponse) => {\n        if (res.updated) {\n          return [setCurrentUserName({name: user.name})];\n        }\n      })\n    )),\n    catchError(err => [addMessage(MESSAGES_SEVERITY.ERROR, `Update User Failed ${this.errorService.getErrorMsg(err?.error)}`)])\n  ));\n}\n\n","import {ActionReducer, Action} from '@ngrx/store';\nimport {merge, pick} from 'lodash/fp';\nimport {setPreferences} from '../actions/users.actions';\nimport {UserPreferences} from '@common/user-preferences';\n\nconst firstRun = {};\n\nexport function createUserPrefReducer(\n  key: string,\n  syncedKeys: string[],\n  actionsPrefix: string[],\n  userPreferences: UserPreferences,\n  reducer: ActionReducer<any>\n): ActionReducer<any, Action> {\n\n  if (firstRun[key] === undefined) {\n    firstRun[key] = true;\n  }\n  let timeout: number;\n\n  return function (state, action): any {\n    let nextState = reducer(state, action);\n\n    if (firstRun[key] && userPreferences.isReady() && nextState[key]) {\n      firstRun[key]         = false;\n      const savedState = userPreferences.getPreferences(key);\n      return merge(nextState, {[key]: {...savedState, preferencesReady: true}});\n    }\n    if (action.type === setPreferences.type) {\n      const savedState = (action as ReturnType<typeof setPreferences>).payload[key];\n      nextState        = merge(nextState, savedState);\n    }\n\n    // filter unchanged state.\n    if (state === nextState) {\n      return nextState;\n    }\n\n    if (actionsPrefix &&\n      !actionsPrefix.some(ap => action.type.startsWith(ap))) {\n      return nextState;\n    }\n\n    const val = pick(syncedKeys, nextState[key]);\n    clearTimeout(timeout);\n    timeout = window.setTimeout(() => userPreferences.setPreferences(key, val), 2000);\n    return nextState;\n  };\n}\n","import * as actions from '../actions/layout.actions';\n\nconst initialState = {\n  visible: false,\n  severity: null,\n  message: null\n};\n\n\nexport function messagesReducer(state = initialState, action) {\n\n  switch (action.type) {\n    case actions.addMessage:\n      return {\n        visible: true,\n        severity: action.payload.severity,\n        message : action.payload.msg\n      };\n    case actions.removeMessage:\n      return {\n        visible: false\n      };\n    default:\n      return state;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {Actions, createEffect, ofType} from '@ngrx/effects';\nimport * as actions from '../../webapp-common/core/actions/projects.actions';\nimport {Store} from '@ngrx/store';\nimport {selectSelectedProjectId} from '../../webapp-common/core/reducers/projects.reducer';\nimport {catchError, finalize, mergeMap, switchMap, withLatestFrom} from 'rxjs/operators';\nimport {deactivateLoader} from '../../webapp-common/core/actions/layout.actions';\nimport {ALL_PROJECTS_OBJECT} from '../../webapp-common/core/effects/projects.effects';\nimport {requestFailed} from '../../webapp-common/core/actions/http.actions';\nimport {ApiProjectsService} from '../../business-logic/api-services/projects.service';\n\n\n\n@Injectable()\nexport class ProjectsEffects {\n  private fetchingExampleExperiment: string = null;\n\n  constructor(private actions$: Actions, private store: Store, private projectsApi: ApiProjectsService) {}\n\n  getSelectedProject = createEffect(() => this.actions$.pipe(\n    ofType(actions.setSelectedProjectId),\n    withLatestFrom(this.store.select(selectSelectedProjectId)),\n    switchMap(([action, selectedProjectId]) => {\n      if (!action.projectId) {\n        return [actions.setSelectedProject({project: null})];\n      }\n      if (action.projectId === selectedProjectId) {\n        return [deactivateLoader(action.type)];\n      }\n      if (action.projectId === '*') {\n        return [\n          actions.setSelectedProject({project: ALL_PROJECTS_OBJECT}),\n          deactivateLoader(action.type)\n        ];\n      } else {\n        this.fetchingExampleExperiment = action.example && action.projectId;\n        return this.projectsApi.projectsGetAllEx({\n          /* eslint-disable @typescript-eslint/naming-convention */\n          id: [action.projectId],\n          include_stats: true,\n          ...((action.example !== false || this.fetchingExampleExperiment === action.projectId) && {check_own_contents: true})\n          /* eslint-enable @typescript-eslint/naming-convention */\n        })\n          .pipe(\n            finalize(() => this.fetchingExampleExperiment = null),\n            mergeMap(({projects}) => [\n                actions.setSelectedProject({project: projects[0]}),\n                deactivateLoader(action.type),\n              ]\n            ),\n            catchError(error => [\n              requestFailed(error),\n              deactivateLoader(action.type)\n            ])\n          );\n      }\n    })\n  ));\n}\n","import {createAction, props} from '@ngrx/store';\n\nexport const setLoginError = createAction(\n  '[login] set login error',\n  props<{ error: string; }>()\n);\n","import {createReducer, on} from '@ngrx/store';\nimport {initLogin, loginReducers, LoginState as CommonLoginState} from '../../webapp-common/login/login-reducer';\nimport {setLoginError} from '~/features/login/login.actions';\n\n\nexport const login = state => state.login as CommonLoginState;\n\nexport const loginReducer = createReducer(\n  initLogin,\n  on(setLoginError, (state, action) => ({...state,error: action.error})),\n  ...loginReducers\n);\n","import {commonAuthReducer, initAuth} from '@common/core/reducers/common-auth-reducer';\nimport {createReducer} from '@ngrx/store';\n\nexport const authReducer = createReducer(\n  initAuth,\n  ...commonAuthReducer\n);\n","import { Injectable, Inject, PLATFORM_ID, InjectionToken } from '@angular/core';\nimport { DOCUMENT, isPlatformBrowser } from '@angular/common';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CookiesService {\n\n  private readonly documentIsAccessible: boolean;\n\n  constructor(\n\n    @Inject(DOCUMENT) private document: any,\n    @Inject(PLATFORM_ID) private platformId: InjectionToken<Object>,\n  ) {\n    this.documentIsAccessible = isPlatformBrowser(this.platformId);\n  }\n\n  check(name: string): boolean {\n    if (!this.documentIsAccessible) {\n      return false;\n    }\n\n    name = encodeURIComponent(name);\n\n    const regExp: RegExp = this.getCookieRegExp(name);\n    const exists: boolean = regExp.test(this.document.cookie);\n\n    return exists;\n  }\n\n  get(name: string): string {\n    if (this.documentIsAccessible && this.check(name)) {\n      name = encodeURIComponent(name);\n\n      const regExp: RegExp = this.getCookieRegExp(name);\n      const result: RegExpExecArray = regExp.exec(this.document.cookie);\n\n      return decodeURIComponent(result[1]);\n    } else {\n      return '';\n    }\n  }\n\n  getAll(): {} {\n    if (!this.documentIsAccessible) {\n      return {};\n    }\n\n    const cookies: {} = {};\n    const document: any = this.document;\n\n    if (document.cookie && document.cookie !== '') {\n      const split: Array<string> = document.cookie.split(';');\n\n      for (let i = 0; i < split.length; i += 1) {\n        const currentCookie: Array<string> = split[i].split('=');\n\n        currentCookie[0] = currentCookie[0].replace(/^ /, '');\n        cookies[decodeURIComponent(currentCookie[0])] = decodeURIComponent(currentCookie[1]);\n      }\n    }\n\n    return cookies;\n  }\n\n  set(\n    name: string,\n    value: string,\n    expires?: number | Date,\n    path?: string,\n    domain?: string,\n    secure?: boolean,\n    sameSite?: 'Lax' | 'Strict'\n  ): void {\n    if (!this.documentIsAccessible) {\n      return;\n    }\n\n    let cookieString: string = encodeURIComponent(name) + '=' + encodeURIComponent(value) + ';';\n\n    if (expires) {\n      if (typeof expires === 'number') {\n        const dateExpires: Date = new Date(new Date().getTime() + expires * 1000 * 60 * 60 * 24);\n\n        cookieString += 'expires=' + dateExpires.toUTCString() + ';';\n      } else {\n        cookieString += 'expires=' + expires.toUTCString() + ';';\n      }\n    }\n\n    if (path) {\n      cookieString += 'path=' + path + ';';\n    }\n\n    if (domain) {\n      cookieString += 'domain=' + domain + ';';\n    }\n\n    if (secure) {\n      cookieString += 'secure;';\n    }\n\n    if (sameSite) {\n      cookieString += 'sameSite=' + sameSite + ';';\n    }\n\n    this.document.cookie = cookieString;\n  }\n\n  delete(name: string, path?: string, domain?: string): void {\n    if (!this.documentIsAccessible) {\n      return;\n    }\n\n    this.set(name, '', new Date('Thu, 01 Jan 1970 00:00:01 GMT'), path, domain);\n  }\n\n  deleteAll(path?: string, domain?: string): void {\n    if (!this.documentIsAccessible) {\n      return;\n    }\n\n    const cookies: any = this.getAll();\n\n    for (const cookieName in cookies) {\n      if (cookies.hasOwnProperty(cookieName)) {\n        this.delete(cookieName, path, domain);\n      }\n    }\n  }\n  private getCookieRegExp(name: string): RegExp {\n    const escapedName: string = name.replace(/([\\[\\]\\{\\}\\(\\)\\|\\=\\;\\+\\?\\,\\.\\*\\^\\$])/ig, '\\\\$1');\n\n    return new RegExp('(?:^' + escapedName + '|;\\\\s*' + escapedName + ')=(.*?)(?:;|$)', 'g');\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {Actions, Effect, ofType, createEffect} from '@ngrx/effects';\nimport {filter, take, mergeMap, switchMap} from 'rxjs/operators';\nimport {CookiesService} from '../../shared/cookies.service';\nimport {ApiAuthService} from '../../business-logic/api-services/auth.service';\nimport {ApiServerService} from '../../business-logic/api-services/server.service';\nimport {ServerReportStatsOptionResponse} from '../../business-logic/model/server/serverReportStatsOptionResponse';\nimport {setUsageStats, updateUsageStats} from '../actions/usage-stats.actions';\nimport {fetchCurrentUser} from '@common/core/actions/users.actions';\n\n\n@Injectable()\nexport class UserEffects {\n\n  constructor(private actions: Actions, private cookiesService: CookiesService,\n    private authService: ApiAuthService, private serverService: ApiServerService) { }\n\n  setUser$ = createEffect(() => this.actions.pipe(\n    ofType(fetchCurrentUser),\n    filter(user => !!user),\n    take(1),\n    mergeMap(() => this.serverService.serverReportStatsOption({})\n      .pipe(\n        switchMap((options: ServerReportStatsOptionResponse) => [setUsageStats({\n          allowed: options.enabled,\n          currVersion: options.current_version,\n          allowedVersion: options.enabled_version\n        })])\n      )\n    )\n  ));\n\n  setStatsPref$ = createEffect(\n    () => this.actions.pipe(\n      ofType(updateUsageStats),\n      mergeMap(\n        (action) => this.serverService.serverReportStatsOption({enabled: action.allowed})\n          .pipe(\n            switchMap((options: ServerReportStatsOptionResponse) => [setUsageStats({\n              allowed: options.enabled,\n              currVersion: options.current_version,\n              allowedVersion: options.enabled_version\n            })])\n          )\n      )\n    )\n  );\n}\n","import {RECENT_TASKS_ACTIONS} from '../../app.constants';\nimport {SetRecentTasks} from '../../webapp-common/core/actions/recent-tasks.actions';\nimport {Task} from '../../business-logic/model/tasks/task';\n\nconst initTasks = {\n  data : <Array<Partial<Task>>>[],\n};\n\n\nexport function recentTasksReducer(state = initTasks, action: SetRecentTasks) {\n  switch (action.type) {\n    case RECENT_TASKS_ACTIONS.SET_RECENT_TASKS:\n      return {...state, data: action.payload.tasks};\n    default:\n      return state;\n  }\n}\n","import {HttpClientModule} from '@angular/common/http';\nimport {DEFAULT_CURRENCY_CODE, NgModule} from '@angular/core';\nimport {AUTH_PREFIX} from '@common/core/actions/common-auth.actions';\nimport {PROJECTS_PREFIX as ROOT_PROJECTS_PREFIX} from '@common/core/actions/projects.actions';\nimport {CommonAuthEffects} from '@common/core/effects/common-auth.effects';\nimport {LayoutEffects} from '@common/core/effects/layout.effects';\nimport {ProjectsEffects as CommonProjectsEffect} from '@common/core/effects/projects.effects';\nimport {RouterEffects} from '@common/core/effects/router.effects';\nimport {CommonUserEffects} from '@common/core/effects/users.effects';\nimport {createUserPrefReducer} from '@common/core/meta-reducers/user-pref-reducer';\nimport {messagesReducer} from '@common/core/reducers/messages-reducer';\nimport {projectsReducer} from '@common/core/reducers/projects.reducer';\nimport {routerReducer} from '@common/core/reducers/router-reducer';\nimport {SmSyncStateSelectorService} from '@common/core/services/sync-state-selector.service';\nimport {EXPERIMENTS_COMPARE_METRICS_CHARTS_} from '@common/experiments-compare/actions/experiments-compare-charts.actions';\nimport {compareSyncedKeys} from '@common/experiments-compare/experiments-compare.module';\nimport {EXPERIMENTS_OUTPUT_PREFIX} from '@common/experiments/actions/common-experiment-output.actions';\nimport {EXPERIMENTS_INFO_PREFIX} from '@common/experiments/actions/common-experiments-info.actions';\nimport {EXPERIMENTS_PREFIX} from '@common/experiments/actions/common-experiments-view.actions';\nimport {EXPERIMENTS_STORE_KEY} from '@common/experiments/shared/common-experiments.const';\nimport {MODELS_PREFIX_INFO, MODELS_PREFIX_MENU, MODELS_PREFIX_VIEW, MODELS_STORE_KEY} from '@common/models/models.consts';\nimport {modelSyncedKeys} from '@common/models/models.module';\nimport {PROJECTS_PREFIX} from '@common/projects/common-projects.consts';\nimport {CHOOSE_COLOR_PREFIX} from '@common/shared/ui-components/directives/choose-color/choose-color.actions';\nimport {colorSyncedKeys} from '@common/shared/ui-components/directives/choose-color/choose-color.module';\nimport {UserPreferences} from '@common/user-preferences';\nimport {EffectsModule} from '@ngrx/effects';\nimport {ActionReducer, MetaReducer, StoreModule, USER_PROVIDED_META_REDUCERS} from '@ngrx/store';\nimport {StoreDevtoolsModule} from '@ngrx/store-devtools';\nimport {merge, pick} from 'lodash/fp';\nimport {USERS_PREFIX, VIEW_PREFIX} from '~/app.constants';\nimport {ProjectsEffects} from '~/core/effects/projects.effects';\nimport {experimentSyncedKeys} from '~/features/experiments/experiments.module';\nimport {loginReducer} from '~/features/login/login.reducer';\nimport {projectSyncedKeys} from '~/features/projects/projects.module';\nimport {authReducer} from '~/features/settings/containers/admin/auth.reducers';\nimport {AdminService} from '~/shared/services/admin.service';\nimport {UserEffects} from './effects/users.effects';\nimport {recentTasksReducer} from './reducers/recent-tasks-reducer';\nimport {sourcesReducer} from './reducers/sources-reducer';\nimport {usageStatsReducer} from './reducers/usage-stats.reducer';\nimport {usersReducer} from './reducers/users.reducer';\nimport {viewReducer} from './reducers/view.reducer';\nimport {UsageStatsService} from './services/usage-stats.service';\n\nexport const reducers = {\n  auth: authReducer,\n  router: routerReducer,\n  messages: messagesReducer,\n  recentTasks: recentTasksReducer,\n  views: viewReducer,\n  sources: sourcesReducer,\n  users: usersReducer,\n  login: loginReducer,\n  rootProjects: projectsReducer,\n  userStats: usageStatsReducer\n};\n\nconst syncedKeys = [\n  'auth.S3BucketCredentials',\n  'datasets.selectedVersion',\n  'datasets.selected',\n  'projects.selectedProjectId',\n  'projects.selectedProject',\n  'views.availableUpdates',\n  'views.showSurvey',\n  'views.neverShowPopupAgain'\n];\nconst key = '_saved_state_';\n\nconst actionsPrefix = [AUTH_PREFIX, USERS_PREFIX, VIEW_PREFIX, ROOT_PROJECTS_PREFIX];\n\nif (!localStorage.getItem(key)) {\n  localStorage.setItem(key, '{}');\n}\n\nexport const localStorageReducer = (reducer: ActionReducer<any>): ActionReducer<any> =>\n  (state, action) => {\n    let nextState = reducer(state, action);\n    // TODO: lil hack to fix ngrx bug in preload strategy that dispatch store/init multiple times.\n    if (action.type === '@ngrx/store/init') {\n      const savedState = JSON.parse(localStorage.getItem(key));\n      nextState = merge(nextState, savedState);\n   }\n\n    if (state === nextState) {\n      return nextState;\n   }\n\n    if (actionsPrefix && !actionsPrefix.some(ap => action.type.startsWith(ap))) {\n      return nextState;\n   }\n\n    localStorage.setItem(key, JSON.stringify(pick(syncedKeys, nextState)));\n\n    return nextState;\n };\n\nconst userPrefMetaFactory = (userPreferences: UserPreferences): MetaReducer<any>[] => [\n  (reducer: ActionReducer<any>) =>\n    createUserPrefReducer('users', ['activeWorkspace'], [USERS_PREFIX], userPreferences, reducer),\n  (reducer: ActionReducer<any>) =>\n    createUserPrefReducer('rootProjects', ['tagsColors', 'graphVariant'], [ROOT_PROJECTS_PREFIX], userPreferences, reducer),\n  (reducer: ActionReducer<any>) =>\n    createUserPrefReducer('views', ['autoRefresh', 'neverShowPopupAgain'], [VIEW_PREFIX], userPreferences, reducer),\n  localStorageReducer,\n  (reducer: ActionReducer<any>) =>\n    createUserPrefReducer('projects', projectSyncedKeys, [PROJECTS_PREFIX], userPreferences, reducer),\n  (reducer: ActionReducer<any>) =>\n    createUserPrefReducer(EXPERIMENTS_STORE_KEY, experimentSyncedKeys, [EXPERIMENTS_PREFIX, EXPERIMENTS_INFO_PREFIX, EXPERIMENTS_OUTPUT_PREFIX], userPreferences, reducer),\n  (reducer: ActionReducer<any>) =>\n    createUserPrefReducer(MODELS_STORE_KEY, modelSyncedKeys, [MODELS_PREFIX_INFO, MODELS_PREFIX_MENU, MODELS_PREFIX_VIEW], userPreferences, reducer),\n  (reducer: ActionReducer<any>) =>\n    createUserPrefReducer('compare-experiments', compareSyncedKeys, [EXPERIMENTS_COMPARE_METRICS_CHARTS_], userPreferences, reducer),\n  (reducer: ActionReducer<any>) =>\n    createUserPrefReducer('colorsPreference', colorSyncedKeys, [CHOOSE_COLOR_PREFIX], userPreferences, reducer)\n];\n\n@NgModule({\n  imports: [\n    StoreModule.forRoot(reducers, {\n      runtimeChecks: {\n        strictStateImmutability: true,\n        strictActionImmutability: true,\n        strictStateSerializability: true,\n        strictActionSerializability: true\n      }\n    }),\n    EffectsModule.forRoot([\n      CommonAuthEffects,\n      LayoutEffects,\n      CommonUserEffects,\n      UserEffects,\n      RouterEffects,\n      CommonProjectsEffect,\n      ProjectsEffects\n    ]),\n    StoreDevtoolsModule.instrument({\n      maxAge: 25 //  Retains last 25 states\n    }),\n    HttpClientModule,\n  ],\n  providers: [\n    SmSyncStateSelectorService,\n    UsageStatsService,\n    AdminService,\n    {\n      provide: USER_PROVIDED_META_REDUCERS,\n      deps: [UserPreferences],\n      useFactory: userPrefMetaFactory\n    },\n    {provide: DEFAULT_CURRENCY_CODE, useValue: 'USD'},\n  ],\n  declarations: [],\n  exports: []\n})\nexport class SMCoreModule {\n}\n","export function sourcesReducer(sources = {}, action) {\n\n  switch (action.type) {\n    default:\n      return sources;\n  }\n}\n","import {Injectable} from '@angular/core';\nimport { HttpInterceptor, HttpRequest, HttpHandler, HttpEvent, HttpErrorResponse } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { environment } from '../../../../environments/environment';\nimport {catchError} from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport {selectCurrentUser} from '../reducers/users-reducer';\nimport {Store} from '@ngrx/store';\nimport {GetCurrentUserResponseUserObject} from '~/business-logic/model/users/getCurrentUserResponseUserObject';\nimport {setCurrentUser} from '~/core/actions/users.action';\n\n@Injectable()\nexport class WebappInterceptor implements HttpInterceptor {\n  protected user: GetCurrentUserResponseUserObject;\n\n  constructor(protected router: Router, protected store: Store<any>) {\n    this.store.select(selectCurrentUser).subscribe(user => this.user = user);\n  }\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    request = request.clone({\n      setHeaders: {\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        'X-Allegro-Client': 'Webapp-' + environment.version,\n      }\n    });\n\n    return next.handle(request).pipe(\n      catchError((err: HttpErrorResponse) => this.errorHandler(request, err))\n    );\n  }\n\n  protected errorHandler(request: HttpRequest<any>, err: HttpErrorResponse) {\n    const redirectUrl: string = window.location.pathname + window.location.search;\n    if (request.url.endsWith('system.company_info')) {\n      return throwError(err);\n    }\n    // For automatic login don't go to login page (login in APP_INITIALIZER)\n    if (err.status === 401 && (\n      ['/dashboard'].includes(redirectUrl) ||\n      !environment.autoLogin ||\n      (environment.autoLogin && this.user)\n    )) {\n      if (redirectUrl.indexOf('/signup') > -1) {\n      } else if (redirectUrl.indexOf('/login') === -1) {\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        this.store.dispatch(setCurrentUser({user: null, terms_of_use: null}));\n        this.router.navigate(['login'], {queryParams: {redirect: redirectUrl}, replaceUrl: true});\n      }\n      return throwError(err);\n    } else {\n      return throwError(err);\n    }\n  }\n}\n","import {ActivatedRouteSnapshot, RouteReuseStrategy, DetachedRouteHandle} from '@angular/router';\nimport { Injectable } from \"@angular/core\";\n\n@Injectable()\nexport class CustomReuseStrategy implements RouteReuseStrategy {\n\n  handlers: { [key: string]: DetachedRouteHandle } = {};\n\n  /**\n   * Object which will store RouteStorageObjects indexed by keys\n   * The keys will all be a path (as in this.calcKey(route))\n   * This allows us to see if we've got a route stored for the requested path\n   */\n\n  calcKey(route: ActivatedRouteSnapshot) {\n    const url = route.pathFromRoot.map(x => x.url.map(u => u.path).join('/')).join(';');\n    // console.debug('calcKey url: ' + url);\n    if (!url.length) return undefined;\n    return url;\n  }\n\n  /**\n   * Decides when the route should be stored\n   * If the route should be stored, I believe the boolean is indicating to a controller whether or not to fire this.store\n   * _When_ it is called though does not particularly matter, just know that this determines whether or not we store the route\n   * An idea of what to do here: check the this.calcKey(route) to see if it is a path you would like to store\n   * @param route This is, at least as I understand it, the route that the user is currently on, and we would like to know if we want to store it\n   * @returns boolean indicating that we want to (true) or do not want to (false) store that route\n   */\n  shouldDetach(route: ActivatedRouteSnapshot): boolean {\n    // console.debug('CustomReuseStrategy:shouldDetach', route);\n    if (!route.routeConfig) return false;\n    if (route.routeConfig.loadChildren) return false;\n    if (route.routeConfig.data && route.routeConfig.data.reuse) {\n      return true;\n    }\n    return false;\n  }\n\n\n  /**\n   * Constructs object of type `RouteStorageObject` to store, and then stores it for later attachment\n   * @param route This is stored for later comparison to requested routes, see `this.shouldAttach`\n   * @param handle Later to be retrieved by this.retrieve, and offered up to whatever controller is using this class\n   */\n  store(route: ActivatedRouteSnapshot, handle: DetachedRouteHandle): void {\n    // console.debug('CustomReuseStrategy:store', route, handle);\n    if (!route.routeConfig) return;\n    if (route.routeConfig.loadChildren) return;\n    if (route.routeConfig.data && route.routeConfig.data.reuse) {\n      const key = this.calcKey(route);\n      if (key) this.handlers[key] = handle;\n    }\n  }\n\n  /**\n   * Determines whether or not there is a stored route and, if there is, whether or not it should be rendered in place of requested route\n   * @param route The route the user requested\n   * @returns boolean indicating whether or not to render the stored route\n   */\n  shouldAttach(route: ActivatedRouteSnapshot): boolean {\n    // console.debug('CustomReuseStrategy:shouldAttach', route);\n    if (!route.routeConfig) return false;\n    if (route.routeConfig.loadChildren) return false;\n    if (route.routeConfig.data && route.routeConfig.data.reuse) {\n      const key = this.calcKey(route);\n      if (key) return !!this.handlers[key];\n    }\n    return false;\n  }\n\n  /**\n   * Finds the locally stored instance of the requested route, if it exists, and returns it\n   * @param route New route the user has requested\n   * @returns DetachedRouteHandle object which can be used to render the component\n   */\n  retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle {\n    // console.debug('CustomReuseStrategy:retrieve', route);\n    if (!route.routeConfig) return null;\n    if (route.routeConfig.loadChildren) return null;\n    if (route.routeConfig.data && route.routeConfig.data.reuse) {\n      const key = this.calcKey(route);\n      if (key) return this.handlers[key] || null;\n    }\n    return null;\n  }\n\n  /**\n   * Determines whether or not the current route should be reused\n   * @param future The route the user is going to, as triggered by the router\n   * @param curr The route the user is currently on\n   * @returns boolean basically indicating true if the user intends to leave the current route\n   */\n  shouldReuseRoute(future: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot): boolean {\n    // console.debug('CustomReuseStrategy:shouldReuseRoute', future, curr);\n    return future.routeConfig === curr.routeConfig;\n  }\n\n  /**\n   * This nasty bugger finds out whether the objects are _traditionally_ equal to each other, like you might assume someone else would have put this function in vanilla JS already\n   * One thing to note is that it uses coercive comparison (==) on properties which both objects have, not strict comparison (===)\n   * Another important note is that the method only tells you if `compare` has all equal parameters to `base`, not the other way around\n   * @param base The base object which you would like to compare another object to\n   * @param compare The object to compare to base\n   * @returns boolean indicating whether or not the objects have all the same properties and those properties are ==\n   */\n  private compareObjects(base: any, compare: any): boolean {\n\n    // loop through all properties in base object\n    for (const baseProperty in base) {\n\n      // determine if comparrison object has that property, if not: return false\n      if (compare.hasOwnProperty(baseProperty)) {\n        switch (typeof base[baseProperty]) {\n          // if one is object and other is not: return false\n          // if they are both objects, recursively call this comparison function\n          case 'object':\n            if (typeof compare[baseProperty] !== 'object' || !this.compareObjects(base[baseProperty], compare[baseProperty])) {\n              return false;\n            }\n            break;\n          // if one is function and other is not: return false\n          // if both are functions, compare function.toString() results\n          case 'function':\n            if (typeof compare[baseProperty] !== 'function' || base[baseProperty].toString() !== compare[baseProperty].toString()) {\n              return false;\n            }\n            break;\n          // otherwise, see if they are equal using coercive comparison\n          default:\n            if (base[baseProperty] != compare[baseProperty]) {\n              return false;\n            }\n        }\n      } else {\n        return false;\n      }\n    }\n\n    // returns true only after false HAS NOT BEEN returned through all loops\n    return true;\n  }\n}\n","import {APP_INITIALIZER, NgModule} from '@angular/core';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport {PreloadAllModules, RouteReuseStrategy, RouterModule} from '@angular/router';\nimport {BusinessLogicModule} from './business-logic/business-logic.module';\nimport {AppComponent} from './app.component';\nimport {routes} from './app.routes';\nimport {SMCoreModule} from './core/core.module';\nimport {SMSharedModule} from '@common/shared/shared.module';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {CommonLayoutModule} from '@common/layout/layout.module';\nimport {HTTP_INTERCEPTORS} from '@angular/common/http';\nimport {WebappInterceptor} from '@common/core/interceptors/webapp-interceptor';\nimport {CustomReuseStrategy} from '@common/core/router-reuse-strategy';\nimport {loadUserAndPreferences, UserPreferences} from '@common/user-preferences';\nimport {AngularSplitModule} from 'angular-split';\nimport {NotifierModule} from '@common/angular-notifier';\nimport {LayoutModule} from './layout/layout.module';\nimport {ColorHashService} from '@common/shared/services/color-hash/color-hash.service';\nimport {SharedModule} from './shared/shared.module';\nimport {ConfigurationService} from '@common/shared/services/configuration.service';\nimport {ProjectsSharedModule} from './features/projects/shared/projects-shared.module';\nimport {MAT_FORM_FIELD_DEFAULT_OPTIONS} from '@angular/material/form-field';\nimport {LoginService} from '~/shared/services/login.service';\nimport {SettingsModule} from '~/features/settings/settings.module';\n\n@NgModule({\n  declarations   : [AppComponent],\n  imports: [\n    FormsModule,\n    ReactiveFormsModule,\n    BrowserAnimationsModule,\n    ProjectsSharedModule,\n    BrowserModule,\n    SMCoreModule,\n    BusinessLogicModule,\n    SMSharedModule,\n    AngularSplitModule,\n    RouterModule.forRoot(routes, {\n      preloadingStrategy: PreloadAllModules,\n      scrollPositionRestoration: 'top',\n      onSameUrlNavigation: 'reload',\n      relativeLinkResolution: 'legacy'\n}),\n    SettingsModule,\n    NotifierModule.withConfig({\n      theme: 'material',\n      behaviour: {\n        autoHide: {default: 5000, error: false}\n      },\n      position: {\n        vertical: {position: 'top', distance: 12, gap: 10},\n        horizontal: {position: 'right', distance: 12}\n      }\n    }),\n    CommonLayoutModule,\n    LayoutModule,\n    SharedModule,\n  ],\n  providers      : [\n    UserPreferences,\n    {provide: MAT_FORM_FIELD_DEFAULT_OPTIONS, useValue: {floatLabel: 'always'}},\n    {\n      provide   : APP_INITIALIZER,\n      deps: [LoginService, ConfigurationService],\n      useFactory: loadUserAndPreferences,\n      multi     : true,\n    },\n    ColorHashService,\n    {provide: HTTP_INTERCEPTORS, useClass: WebappInterceptor, multi: true},\n    {provide: RouteReuseStrategy, useClass: CustomReuseStrategy},\n    {\n      provide: 'googleTagManagerId',\n      deps: [ConfigurationService],\n      useFactory: (confService: ConfigurationService) =>\n        confService.getStaticEnvironment().GTM_ID\n    }\n  ],\n  bootstrap      : [AppComponent],\n  exports        : []\n})\nexport class AppModule {}\n","import {enableProdMode} from '@angular/core';\nimport {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\n\nimport {AppModule} from './app/app.module';\nimport {ConfigurationService} from './app/webapp-common/shared/services/configuration.service';\nconst environment = ConfigurationService.globalEnvironment;\n\nif (environment.production) {\n  enableProdMode();\n}\n\nif (window.navigator && navigator.serviceWorker) {\n  navigator.serviceWorker.getRegistrations().then(function (registrations) {\n    for (const registration of registrations) {\n      registration.unregister();\n    }\n  });\n}\n\n// Removing currentUser from local storage (login think user logged-in if it exists )\nconst savedData = localStorage.getItem('_saved_state_');\nif (savedData) {\n  try {\n    const savedJson = JSON.parse(savedData);\n    if (savedJson.users) {\n      delete savedJson.users;\n      localStorage.setItem('_saved_state_', JSON.stringify(savedJson));\n    }\n  } catch {\n    localStorage.removeItem('_saved_state_');\n  }\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n"]}